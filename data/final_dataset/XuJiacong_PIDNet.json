{"home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.train": [[21, 76], ["model.train", "utils.utils.AverageMeter", "utils.utils.AverageMeter", "utils.utils.AverageMeter", "utils.utils.AverageMeter", "utils.utils.AverageMeter", "time.time", "enumerate", "writer.add_scalar", "images.cuda.cuda", "labels.long().cuda.long().cuda", "bd_gts.float().cuda.float().cuda", "model", "losses.mean", "acc.mean.mean", "model.zero_grad", "losses.mean.backward", "optimizer.step", "utils.utils.AverageMeter.update", "time.time", "utils.utils.AverageMeter.update", "utils.utils.AverageMeter.update", "utils.utils.AverageMeter.update", "utils.utils.AverageMeter.update", "utils.utils.adjust_learning_rate", "utils.utils.AverageMeter.average", "losses.mean.item", "acc.mean.item", "loss_list[].mean().item", "loss_list[].mean().item", "logging.info", "labels.long().cuda.long", "bd_gts.float().cuda.float", "time.time", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average", "loss_list[].mean", "loss_list[].mean", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.train", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.adjust_learning_rate", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average"], ["def", "train", "(", "config", ",", "epoch", ",", "num_epoch", ",", "epoch_iters", ",", "base_lr", ",", "\n", "num_iters", ",", "trainloader", ",", "optimizer", ",", "model", ",", "writer_dict", ")", ":", "\n", "# Training", "\n", "    ", "model", ".", "train", "(", ")", "\n", "\n", "batch_time", "=", "AverageMeter", "(", ")", "\n", "ave_loss", "=", "AverageMeter", "(", ")", "\n", "ave_acc", "=", "AverageMeter", "(", ")", "\n", "avg_sem_loss", "=", "AverageMeter", "(", ")", "\n", "avg_bce_loss", "=", "AverageMeter", "(", ")", "\n", "tic", "=", "time", ".", "time", "(", ")", "\n", "cur_iters", "=", "epoch", "*", "epoch_iters", "\n", "writer", "=", "writer_dict", "[", "'writer'", "]", "\n", "global_steps", "=", "writer_dict", "[", "'train_global_steps'", "]", "\n", "\n", "for", "i_iter", ",", "batch", "in", "enumerate", "(", "trainloader", ",", "0", ")", ":", "\n", "        ", "images", ",", "labels", ",", "bd_gts", ",", "_", ",", "_", "=", "batch", "\n", "images", "=", "images", ".", "cuda", "(", ")", "\n", "labels", "=", "labels", ".", "long", "(", ")", ".", "cuda", "(", ")", "\n", "bd_gts", "=", "bd_gts", ".", "float", "(", ")", ".", "cuda", "(", ")", "\n", "\n", "\n", "losses", ",", "_", ",", "acc", ",", "loss_list", "=", "model", "(", "images", ",", "labels", ",", "bd_gts", ")", "\n", "loss", "=", "losses", ".", "mean", "(", ")", "\n", "acc", "=", "acc", ".", "mean", "(", ")", "\n", "\n", "model", ".", "zero_grad", "(", ")", "\n", "loss", ".", "backward", "(", ")", "\n", "optimizer", ".", "step", "(", ")", "\n", "\n", "# measure elapsed time", "\n", "batch_time", ".", "update", "(", "time", ".", "time", "(", ")", "-", "tic", ")", "\n", "tic", "=", "time", ".", "time", "(", ")", "\n", "\n", "# update average loss", "\n", "ave_loss", ".", "update", "(", "loss", ".", "item", "(", ")", ")", "\n", "ave_acc", ".", "update", "(", "acc", ".", "item", "(", ")", ")", "\n", "avg_sem_loss", ".", "update", "(", "loss_list", "[", "0", "]", ".", "mean", "(", ")", ".", "item", "(", ")", ")", "\n", "avg_bce_loss", ".", "update", "(", "loss_list", "[", "1", "]", ".", "mean", "(", ")", ".", "item", "(", ")", ")", "\n", "\n", "lr", "=", "adjust_learning_rate", "(", "optimizer", ",", "\n", "base_lr", ",", "\n", "num_iters", ",", "\n", "i_iter", "+", "cur_iters", ")", "\n", "\n", "if", "i_iter", "%", "config", ".", "PRINT_FREQ", "==", "0", ":", "\n", "            ", "msg", "=", "'Epoch: [{}/{}] Iter:[{}/{}], Time: {:.2f}, '", "'lr: {}, Loss: {:.6f}, Acc:{:.6f}, Semantic loss: {:.6f}, BCE loss: {:.6f}, SB loss: {:.6f}'", ".", "format", "(", "\n", "epoch", ",", "num_epoch", ",", "i_iter", ",", "epoch_iters", ",", "\n", "batch_time", ".", "average", "(", ")", ",", "[", "x", "[", "'lr'", "]", "for", "x", "in", "optimizer", ".", "param_groups", "]", ",", "ave_loss", ".", "average", "(", ")", ",", "\n", "ave_acc", ".", "average", "(", ")", ",", "avg_sem_loss", ".", "average", "(", ")", ",", "avg_bce_loss", ".", "average", "(", ")", ",", "ave_loss", ".", "average", "(", ")", "-", "avg_sem_loss", ".", "average", "(", ")", "-", "avg_bce_loss", ".", "average", "(", ")", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "\n", "", "", "writer", ".", "add_scalar", "(", "'train_loss'", ",", "ave_loss", ".", "average", "(", ")", ",", "global_steps", ")", "\n", "writer_dict", "[", "'train_global_steps'", "]", "=", "global_steps", "+", "1", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.validate": [[77, 129], ["model.eval", "utils.utils.AverageMeter", "numpy.zeros", "range", "writer.add_scalar", "writer.add_scalar", "torch.no_grad", "enumerate", "confusion_matrix[].sum", "confusion_matrix[].sum", "numpy.diag", "IoU_array.mean", "logging.info", "utils.utils.AverageMeter.average", "utils.utils.AverageMeter.average", "label.long().cuda.size", "image.cuda.cuda", "label.long().cuda.long().cuda", "bd_gts.float().cuda.float().cuda", "model", "enumerate", "losses.mean", "utils.utils.AverageMeter.update", "numpy.maximum", "isinstance", "torch.nn.functional.interpolate", "utils.utils.get_confusion_matrix", "print", "losses.mean.item", "label.long().cuda.long", "bd_gts.float().cuda.float"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.get_confusion_matrix"], ["", "def", "validate", "(", "config", ",", "testloader", ",", "model", ",", "writer_dict", ")", ":", "\n", "    ", "model", ".", "eval", "(", ")", "\n", "ave_loss", "=", "AverageMeter", "(", ")", "\n", "nums", "=", "config", ".", "MODEL", ".", "NUM_OUTPUTS", "\n", "confusion_matrix", "=", "np", ".", "zeros", "(", "\n", "(", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "nums", ")", ")", "\n", "with", "torch", ".", "no_grad", "(", ")", ":", "\n", "        ", "for", "idx", ",", "batch", "in", "enumerate", "(", "testloader", ")", ":", "\n", "            ", "image", ",", "label", ",", "bd_gts", ",", "_", ",", "_", "=", "batch", "\n", "size", "=", "label", ".", "size", "(", ")", "\n", "image", "=", "image", ".", "cuda", "(", ")", "\n", "label", "=", "label", ".", "long", "(", ")", ".", "cuda", "(", ")", "\n", "bd_gts", "=", "bd_gts", ".", "float", "(", ")", ".", "cuda", "(", ")", "\n", "\n", "losses", ",", "pred", ",", "_", ",", "_", "=", "model", "(", "image", ",", "label", ",", "bd_gts", ")", "\n", "if", "not", "isinstance", "(", "pred", ",", "(", "list", ",", "tuple", ")", ")", ":", "\n", "                ", "pred", "=", "[", "pred", "]", "\n", "", "for", "i", ",", "x", "in", "enumerate", "(", "pred", ")", ":", "\n", "                ", "x", "=", "F", ".", "interpolate", "(", "\n", "input", "=", "x", ",", "size", "=", "size", "[", "-", "2", ":", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "config", ".", "MODEL", ".", "ALIGN_CORNERS", "\n", ")", "\n", "\n", "confusion_matrix", "[", "...", ",", "i", "]", "+=", "get_confusion_matrix", "(", "\n", "label", ",", "\n", "x", ",", "\n", "size", ",", "\n", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "\n", "config", ".", "TRAIN", ".", "IGNORE_LABEL", "\n", ")", "\n", "\n", "", "if", "idx", "%", "10", "==", "0", ":", "\n", "                ", "print", "(", "idx", ")", "\n", "\n", "", "loss", "=", "losses", ".", "mean", "(", ")", "\n", "ave_loss", ".", "update", "(", "loss", ".", "item", "(", ")", ")", "\n", "\n", "", "", "for", "i", "in", "range", "(", "nums", ")", ":", "\n", "        ", "pos", "=", "confusion_matrix", "[", "...", ",", "i", "]", ".", "sum", "(", "1", ")", "\n", "res", "=", "confusion_matrix", "[", "...", ",", "i", "]", ".", "sum", "(", "0", ")", "\n", "tp", "=", "np", ".", "diag", "(", "confusion_matrix", "[", "...", ",", "i", "]", ")", "\n", "IoU_array", "=", "(", "tp", "/", "np", ".", "maximum", "(", "1.0", ",", "pos", "+", "res", "-", "tp", ")", ")", "\n", "mean_IoU", "=", "IoU_array", ".", "mean", "(", ")", "\n", "\n", "logging", ".", "info", "(", "'{} {} {}'", ".", "format", "(", "i", ",", "IoU_array", ",", "mean_IoU", ")", ")", "\n", "\n", "", "writer", "=", "writer_dict", "[", "'writer'", "]", "\n", "global_steps", "=", "writer_dict", "[", "'valid_global_steps'", "]", "\n", "writer", ".", "add_scalar", "(", "'valid_loss'", ",", "ave_loss", ".", "average", "(", ")", ",", "global_steps", ")", "\n", "writer", ".", "add_scalar", "(", "'valid_mIoU'", ",", "mean_IoU", ",", "global_steps", ")", "\n", "writer_dict", "[", "'valid_global_steps'", "]", "=", "global_steps", "+", "1", "\n", "return", "ave_loss", ".", "average", "(", ")", ",", "mean_IoU", ",", "IoU_array", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.testval": [[131, 178], ["model.eval", "numpy.zeros", "np.zeros.sum", "np.zeros.sum", "numpy.diag", "IoU_array.mean", "torch.no_grad", "enumerate", "np.diag.sum", "confusion_matrix.sum.sum", "numpy.maximum", "tqdm.tqdm", "label.size", "test_dataset.single_scale_inference", "utils.utils.get_confusion_matrix", "image.cuda", "torch.nn.functional.interpolate", "os.path.join", "test_dataset.save_pred", "logging.info", "np.zeros.sum", "np.zeros.sum", "numpy.diag", "IoU_array.mean", "logging.info", "numpy.maximum", "os.path.exists", "os.mkdir", "numpy.maximum", "F.interpolate.size", "F.interpolate.size"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.single_scale_inference", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.get_confusion_matrix", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.save_pred"], ["", "def", "testval", "(", "config", ",", "test_dataset", ",", "testloader", ",", "model", ",", "\n", "sv_dir", "=", "'./'", ",", "sv_pred", "=", "False", ")", ":", "\n", "    ", "model", ".", "eval", "(", ")", "\n", "confusion_matrix", "=", "np", ".", "zeros", "(", "(", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "config", ".", "DATASET", ".", "NUM_CLASSES", ")", ")", "\n", "with", "torch", ".", "no_grad", "(", ")", ":", "\n", "        ", "for", "index", ",", "batch", "in", "enumerate", "(", "tqdm", "(", "testloader", ")", ")", ":", "\n", "            ", "image", ",", "label", ",", "_", ",", "_", ",", "name", "=", "batch", "\n", "size", "=", "label", ".", "size", "(", ")", "\n", "pred", "=", "test_dataset", ".", "single_scale_inference", "(", "config", ",", "model", ",", "image", ".", "cuda", "(", ")", ")", "\n", "\n", "if", "pred", ".", "size", "(", ")", "[", "-", "2", "]", "!=", "size", "[", "-", "2", "]", "or", "pred", ".", "size", "(", ")", "[", "-", "1", "]", "!=", "size", "[", "-", "1", "]", ":", "\n", "                ", "pred", "=", "F", ".", "interpolate", "(", "\n", "pred", ",", "size", "[", "-", "2", ":", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "config", ".", "MODEL", ".", "ALIGN_CORNERS", "\n", ")", "\n", "\n", "", "confusion_matrix", "+=", "get_confusion_matrix", "(", "\n", "label", ",", "\n", "pred", ",", "\n", "size", ",", "\n", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "\n", "config", ".", "TRAIN", ".", "IGNORE_LABEL", ")", "\n", "\n", "if", "sv_pred", ":", "\n", "                ", "sv_path", "=", "os", ".", "path", ".", "join", "(", "sv_dir", ",", "'val_results'", ")", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "sv_path", ")", ":", "\n", "                    ", "os", ".", "mkdir", "(", "sv_path", ")", "\n", "", "test_dataset", ".", "save_pred", "(", "pred", ",", "sv_path", ",", "name", ")", "\n", "\n", "", "if", "index", "%", "100", "==", "0", ":", "\n", "                ", "logging", ".", "info", "(", "'processing: %d images'", "%", "index", ")", "\n", "pos", "=", "confusion_matrix", ".", "sum", "(", "1", ")", "\n", "res", "=", "confusion_matrix", ".", "sum", "(", "0", ")", "\n", "tp", "=", "np", ".", "diag", "(", "confusion_matrix", ")", "\n", "IoU_array", "=", "(", "tp", "/", "np", ".", "maximum", "(", "1.0", ",", "pos", "+", "res", "-", "tp", ")", ")", "\n", "mean_IoU", "=", "IoU_array", ".", "mean", "(", ")", "\n", "logging", ".", "info", "(", "'mIoU: %.4f'", "%", "(", "mean_IoU", ")", ")", "\n", "\n", "", "", "", "pos", "=", "confusion_matrix", ".", "sum", "(", "1", ")", "\n", "res", "=", "confusion_matrix", ".", "sum", "(", "0", ")", "\n", "tp", "=", "np", ".", "diag", "(", "confusion_matrix", ")", "\n", "pixel_acc", "=", "tp", ".", "sum", "(", ")", "/", "pos", ".", "sum", "(", ")", "\n", "mean_acc", "=", "(", "tp", "/", "np", ".", "maximum", "(", "1.0", ",", "pos", ")", ")", ".", "mean", "(", ")", "\n", "IoU_array", "=", "(", "tp", "/", "np", ".", "maximum", "(", "1.0", ",", "pos", "+", "res", "-", "tp", ")", ")", "\n", "mean_IoU", "=", "IoU_array", ".", "mean", "(", ")", "\n", "\n", "return", "mean_IoU", ",", "IoU_array", ",", "pixel_acc", ",", "mean_acc", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.test": [[180, 203], ["model.eval", "torch.no_grad", "enumerate", "tqdm.tqdm", "test_dataset.single_scale_inference", "image.cuda", "torch.nn.functional.interpolate", "os.path.join", "test_dataset.save_pred", "os.path.exists", "os.mkdir", "F.interpolate.size", "F.interpolate.size"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.single_scale_inference", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.save_pred"], ["", "def", "test", "(", "config", ",", "test_dataset", ",", "testloader", ",", "model", ",", "\n", "sv_dir", "=", "'./'", ",", "sv_pred", "=", "True", ")", ":", "\n", "    ", "model", ".", "eval", "(", ")", "\n", "with", "torch", ".", "no_grad", "(", ")", ":", "\n", "        ", "for", "_", ",", "batch", "in", "enumerate", "(", "tqdm", "(", "testloader", ")", ")", ":", "\n", "            ", "image", ",", "size", ",", "name", "=", "batch", "\n", "size", "=", "size", "[", "0", "]", "\n", "pred", "=", "test_dataset", ".", "single_scale_inference", "(", "\n", "config", ",", "\n", "model", ",", "\n", "image", ".", "cuda", "(", ")", ")", "\n", "\n", "if", "pred", ".", "size", "(", ")", "[", "-", "2", "]", "!=", "size", "[", "0", "]", "or", "pred", ".", "size", "(", ")", "[", "-", "1", "]", "!=", "size", "[", "1", "]", ":", "\n", "                ", "pred", "=", "F", ".", "interpolate", "(", "\n", "pred", ",", "size", "[", "-", "2", ":", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "config", ".", "MODEL", ".", "ALIGN_CORNERS", "\n", ")", "\n", "\n", "", "if", "sv_pred", ":", "\n", "                ", "sv_path", "=", "os", ".", "path", ".", "join", "(", "sv_dir", ",", "'test_results'", ")", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "sv_path", ")", ":", "\n", "                    ", "os", ".", "mkdir", "(", "sv_path", ")", "\n", "", "test_dataset", ".", "save_pred", "(", "pred", ",", "sv_path", ",", "name", ")", "\n", "", "", "", "", ""]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.FullModel.__init__": [[23, 28], ["torch.Module.__init__"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["  ", "def", "__init__", "(", "self", ",", "model", ",", "sem_loss", ",", "bd_loss", ")", ":", "\n", "    ", "super", "(", "FullModel", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "model", "=", "model", "\n", "self", ".", "sem_loss", "=", "sem_loss", "\n", "self", ".", "bd_loss", "=", "bd_loss", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.FullModel.pixel_acc": [[29, 36], ["torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum.float", "torch.sum.float", "torch.sum.float", "torch.sum.float", "torch.sum.float", "torch.sum.float"], "methods", ["None"], ["", "def", "pixel_acc", "(", "self", ",", "pred", ",", "label", ")", ":", "\n", "    ", "_", ",", "preds", "=", "torch", ".", "max", "(", "pred", ",", "dim", "=", "1", ")", "\n", "valid", "=", "(", "label", ">=", "0", ")", ".", "long", "(", ")", "\n", "acc_sum", "=", "torch", ".", "sum", "(", "valid", "*", "(", "preds", "==", "label", ")", ".", "long", "(", ")", ")", "\n", "pixel_sum", "=", "torch", ".", "sum", "(", "valid", ")", "\n", "acc", "=", "acc_sum", ".", "float", "(", ")", "/", "(", "pixel_sum", ".", "float", "(", ")", "+", "1e-10", ")", "\n", "return", "acc", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.FullModel.forward": [[37, 58], ["utils.FullModel.model", "utils.FullModel.pixel_acc", "utils.FullModel.sem_loss", "utils.FullModel.bd_loss", "torch.where", "torch.where", "torch.where", "torch.where", "torch.where", "torch.where", "torch.where", "torch.where", "torch.where", "utils.FullModel.sem_loss", "labels.size", "labels.size", "outputs[].size", "outputs[].size", "range", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.ones_like", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "torch.unsqueeze", "len", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.FullModel.pixel_acc"], ["", "def", "forward", "(", "self", ",", "inputs", ",", "labels", ",", "bd_gt", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "\n", "    ", "outputs", "=", "self", ".", "model", "(", "inputs", ",", "*", "args", ",", "**", "kwargs", ")", "\n", "\n", "h", ",", "w", "=", "labels", ".", "size", "(", "1", ")", ",", "labels", ".", "size", "(", "2", ")", "\n", "ph", ",", "pw", "=", "outputs", "[", "0", "]", ".", "size", "(", "2", ")", ",", "outputs", "[", "0", "]", ".", "size", "(", "3", ")", "\n", "if", "ph", "!=", "h", "or", "pw", "!=", "w", ":", "\n", "        ", "for", "i", "in", "range", "(", "len", "(", "outputs", ")", ")", ":", "\n", "            ", "outputs", "[", "i", "]", "=", "F", ".", "interpolate", "(", "outputs", "[", "i", "]", ",", "size", "=", "(", "\n", "h", ",", "w", ")", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "config", ".", "MODEL", ".", "ALIGN_CORNERS", ")", "\n", "\n", "", "", "acc", "=", "self", ".", "pixel_acc", "(", "outputs", "[", "-", "2", "]", ",", "labels", ")", "\n", "loss_s", "=", "self", ".", "sem_loss", "(", "outputs", "[", ":", "-", "1", "]", ",", "labels", ")", "\n", "loss_b", "=", "self", ".", "bd_loss", "(", "outputs", "[", "-", "1", "]", ",", "bd_gt", ")", "\n", "\n", "filler", "=", "torch", ".", "ones_like", "(", "labels", ")", "*", "config", ".", "TRAIN", ".", "IGNORE_LABEL", "\n", "bd_label", "=", "torch", ".", "where", "(", "F", ".", "sigmoid", "(", "outputs", "[", "-", "1", "]", "[", ":", ",", "0", ",", ":", ",", ":", "]", ")", ">", "0.8", ",", "labels", ",", "filler", ")", "\n", "loss_sb", "=", "self", ".", "sem_loss", "(", "outputs", "[", "-", "2", "]", ",", "bd_label", ")", "\n", "loss", "=", "loss_s", "+", "loss_b", "+", "loss_sb", "\n", "\n", "return", "torch", ".", "unsqueeze", "(", "loss", ",", "0", ")", ",", "outputs", "[", ":", "-", "1", "]", ",", "acc", ",", "[", "loss_s", ",", "loss_b", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.__init__": [[63, 69], ["None"], "methods", ["None"], ["def", "__init__", "(", "self", ")", ":", "\n", "        ", "self", ".", "initialized", "=", "False", "\n", "self", ".", "val", "=", "None", "\n", "self", ".", "avg", "=", "None", "\n", "self", ".", "sum", "=", "None", "\n", "self", ".", "count", "=", "None", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.initialize": [[70, 76], ["None"], "methods", ["None"], ["", "def", "initialize", "(", "self", ",", "val", ",", "weight", ")", ":", "\n", "        ", "self", ".", "val", "=", "val", "\n", "self", ".", "avg", "=", "val", "\n", "self", ".", "sum", "=", "val", "*", "weight", "\n", "self", ".", "count", "=", "weight", "\n", "self", ".", "initialized", "=", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update": [[77, 82], ["utils.AverageMeter.initialize", "utils.AverageMeter.add"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.initialize", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.add"], ["", "def", "update", "(", "self", ",", "val", ",", "weight", "=", "1", ")", ":", "\n", "        ", "if", "not", "self", ".", "initialized", ":", "\n", "            ", "self", ".", "initialize", "(", "val", ",", "weight", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "add", "(", "val", ",", "weight", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.add": [[83, 88], ["None"], "methods", ["None"], ["", "", "def", "add", "(", "self", ",", "val", ",", "weight", ")", ":", "\n", "        ", "self", ".", "val", "=", "val", "\n", "self", ".", "sum", "+=", "val", "*", "weight", "\n", "self", ".", "count", "+=", "weight", "\n", "self", ".", "avg", "=", "self", ".", "sum", "/", "self", ".", "count", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.value": [[89, 91], ["None"], "methods", ["None"], ["", "def", "value", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "val", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.average": [[92, 94], ["None"], "methods", ["None"], ["", "def", "average", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "avg", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.create_logger": [[95, 128], ["pathlib.Path", "print", "final_output_dir.mkdir", "time.strftime", "logging.basicConfig", "logging.getLogger", "logging.getLogger.setLevel", "logging.StreamHandler", "logging.getLogger().addHandler", "print", "tensorboard_log_dir.mkdir", "pathlib.Path.exists", "print", "pathlib.Path.mkdir", "os.path.basename().split", "str", "str", "str", "logging.getLogger", "os.path.basename", "pathlib.Path"], "function", ["None"], ["", "", "def", "create_logger", "(", "cfg", ",", "cfg_name", ",", "phase", "=", "'train'", ")", ":", "\n", "    ", "root_output_dir", "=", "Path", "(", "cfg", ".", "OUTPUT_DIR", ")", "\n", "# set up logger", "\n", "if", "not", "root_output_dir", ".", "exists", "(", ")", ":", "\n", "        ", "print", "(", "'=> creating {}'", ".", "format", "(", "root_output_dir", ")", ")", "\n", "root_output_dir", ".", "mkdir", "(", ")", "\n", "\n", "", "dataset", "=", "cfg", ".", "DATASET", ".", "DATASET", "\n", "model", "=", "cfg", ".", "MODEL", ".", "NAME", "\n", "cfg_name", "=", "os", ".", "path", ".", "basename", "(", "cfg_name", ")", ".", "split", "(", "'.'", ")", "[", "0", "]", "\n", "\n", "final_output_dir", "=", "root_output_dir", "/", "dataset", "/", "cfg_name", "\n", "\n", "print", "(", "'=> creating {}'", ".", "format", "(", "final_output_dir", ")", ")", "\n", "final_output_dir", ".", "mkdir", "(", "parents", "=", "True", ",", "exist_ok", "=", "True", ")", "\n", "\n", "time_str", "=", "time", ".", "strftime", "(", "'%Y-%m-%d-%H-%M'", ")", "\n", "log_file", "=", "'{}_{}_{}.log'", ".", "format", "(", "cfg_name", ",", "time_str", ",", "phase", ")", "\n", "final_log_file", "=", "final_output_dir", "/", "log_file", "\n", "head", "=", "'%(asctime)-15s %(message)s'", "\n", "logging", ".", "basicConfig", "(", "filename", "=", "str", "(", "final_log_file", ")", ",", "\n", "format", "=", "head", ")", "\n", "logger", "=", "logging", ".", "getLogger", "(", ")", "\n", "logger", ".", "setLevel", "(", "logging", ".", "INFO", ")", "\n", "console", "=", "logging", ".", "StreamHandler", "(", ")", "\n", "logging", ".", "getLogger", "(", "''", ")", ".", "addHandler", "(", "console", ")", "\n", "\n", "tensorboard_log_dir", "=", "Path", "(", "cfg", ".", "LOG_DIR", ")", "/", "dataset", "/", "model", "/", "(", "cfg_name", "+", "'_'", "+", "time_str", ")", "\n", "print", "(", "'=> creating {}'", ".", "format", "(", "tensorboard_log_dir", ")", ")", "\n", "tensorboard_log_dir", ".", "mkdir", "(", "parents", "=", "True", ",", "exist_ok", "=", "True", ")", "\n", "\n", "return", "logger", ",", "str", "(", "final_output_dir", ")", ",", "str", "(", "tensorboard_log_dir", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.get_confusion_matrix": [[129, 153], ["pred.cpu().numpy().transpose", "numpy.asarray", "numpy.asarray", "numpy.bincount", "numpy.zeros", "range", "numpy.argmax", "range", "pred.cpu().numpy", "label.cpu().numpy", "len", "pred.cpu", "label.cpu"], "function", ["None"], ["", "def", "get_confusion_matrix", "(", "label", ",", "pred", ",", "size", ",", "num_class", ",", "ignore", "=", "-", "1", ")", ":", "\n", "    ", "\"\"\"\n    Calcute the confusion matrix by given label and pred\n    \"\"\"", "\n", "output", "=", "pred", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "transpose", "(", "0", ",", "2", ",", "3", ",", "1", ")", "\n", "seg_pred", "=", "np", ".", "asarray", "(", "np", ".", "argmax", "(", "output", ",", "axis", "=", "3", ")", ",", "dtype", "=", "np", ".", "uint8", ")", "\n", "seg_gt", "=", "np", ".", "asarray", "(", "\n", "label", ".", "cpu", "(", ")", ".", "numpy", "(", ")", "[", ":", ",", ":", "size", "[", "-", "2", "]", ",", ":", "size", "[", "-", "1", "]", "]", ",", "dtype", "=", "np", ".", "int", ")", "\n", "\n", "ignore_index", "=", "seg_gt", "!=", "ignore", "\n", "seg_gt", "=", "seg_gt", "[", "ignore_index", "]", "\n", "seg_pred", "=", "seg_pred", "[", "ignore_index", "]", "\n", "\n", "index", "=", "(", "seg_gt", "*", "num_class", "+", "seg_pred", ")", ".", "astype", "(", "'int32'", ")", "\n", "label_count", "=", "np", ".", "bincount", "(", "index", ")", "\n", "confusion_matrix", "=", "np", ".", "zeros", "(", "(", "num_class", ",", "num_class", ")", ")", "\n", "\n", "for", "i_label", "in", "range", "(", "num_class", ")", ":", "\n", "        ", "for", "i_pred", "in", "range", "(", "num_class", ")", ":", "\n", "            ", "cur_index", "=", "i_label", "*", "num_class", "+", "i_pred", "\n", "if", "cur_index", "<", "len", "(", "label_count", ")", ":", "\n", "                ", "confusion_matrix", "[", "i_label", ",", "\n", "i_pred", "]", "=", "label_count", "[", "cur_index", "]", "\n", "", "", "", "return", "confusion_matrix", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.adjust_learning_rate": [[154, 161], ["len", "float"], "function", ["None"], ["", "def", "adjust_learning_rate", "(", "optimizer", ",", "base_lr", ",", "max_iters", ",", "\n", "cur_iters", ",", "power", "=", "0.9", ",", "nbb_mult", "=", "10", ")", ":", "\n", "    ", "lr", "=", "base_lr", "*", "(", "(", "1", "-", "float", "(", "cur_iters", ")", "/", "max_iters", ")", "**", "(", "power", ")", ")", "\n", "optimizer", ".", "param_groups", "[", "0", "]", "[", "'lr'", "]", "=", "lr", "\n", "if", "len", "(", "optimizer", ".", "param_groups", ")", "==", "2", ":", "\n", "        ", "optimizer", ".", "param_groups", "[", "1", "]", "[", "'lr'", "]", "=", "lr", "*", "nbb_mult", "\n", "", "return", "lr", "", "", ""]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.CrossEntropy.__init__": [[11, 17], ["torch.Module.__init__", "torch.CrossEntropyLoss", "torch.CrossEntropyLoss"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "ignore_label", "=", "-", "1", ",", "weight", "=", "None", ")", ":", "\n", "        ", "super", "(", "CrossEntropy", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "ignore_label", "=", "ignore_label", "\n", "self", ".", "criterion", "=", "nn", ".", "CrossEntropyLoss", "(", "\n", "weight", "=", "weight", ",", "\n", "ignore_index", "=", "ignore_label", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.CrossEntropy._forward": [[19, 24], ["criterion.CrossEntropy.criterion"], "methods", ["None"], ["", "def", "_forward", "(", "self", ",", "score", ",", "target", ")", ":", "\n", "\n", "        ", "loss", "=", "self", ".", "criterion", "(", "score", ",", "target", ")", "\n", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.CrossEntropy.forward": [[25, 39], ["len", "len", "sum", "len", "ValueError", "criterion.CrossEntropy._forward", "criterion.CrossEntropy._forward", "zip"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.CrossEntropy._forward", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.CrossEntropy._forward"], ["", "def", "forward", "(", "self", ",", "score", ",", "target", ")", ":", "\n", "\n", "        ", "if", "config", ".", "MODEL", ".", "NUM_OUTPUTS", "==", "1", ":", "\n", "            ", "score", "=", "[", "score", "]", "\n", "\n", "", "balance_weights", "=", "config", ".", "LOSS", ".", "BALANCE_WEIGHTS", "\n", "sb_weights", "=", "config", ".", "LOSS", ".", "SB_WEIGHTS", "\n", "if", "len", "(", "balance_weights", ")", "==", "len", "(", "score", ")", ":", "\n", "            ", "return", "sum", "(", "[", "w", "*", "self", ".", "_forward", "(", "x", ",", "target", ")", "for", "(", "w", ",", "x", ")", "in", "zip", "(", "balance_weights", ",", "score", ")", "]", ")", "\n", "", "elif", "len", "(", "score", ")", "==", "1", ":", "\n", "            ", "return", "sb_weights", "*", "self", ".", "_forward", "(", "score", "[", "0", "]", ",", "target", ")", "\n", "\n", "", "else", ":", "\n", "            ", "raise", "ValueError", "(", "\"lengths of prediction and target are not identical!\"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.OhemCrossEntropy.__init__": [[44, 54], ["torch.Module.__init__", "max", "torch.CrossEntropyLoss", "torch.CrossEntropyLoss"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "ignore_label", "=", "-", "1", ",", "thres", "=", "0.7", ",", "\n", "min_kept", "=", "100000", ",", "weight", "=", "None", ")", ":", "\n", "        ", "super", "(", "OhemCrossEntropy", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "thresh", "=", "thres", "\n", "self", ".", "min_kept", "=", "max", "(", "1", ",", "min_kept", ")", "\n", "self", ".", "ignore_label", "=", "ignore_label", "\n", "self", ".", "criterion", "=", "nn", ".", "CrossEntropyLoss", "(", "\n", "weight", "=", "weight", ",", "\n", "ignore_index", "=", "ignore_label", ",", "\n", "reduction", "=", "'none'", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.OhemCrossEntropy._ce_forward": [[56, 62], ["criterion.OhemCrossEntropy.criterion"], "methods", ["None"], ["", "def", "_ce_forward", "(", "self", ",", "score", ",", "target", ")", ":", "\n", "\n", "\n", "        ", "loss", "=", "self", ".", "criterion", "(", "score", ",", "target", ")", "\n", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.OhemCrossEntropy._ohem_forward": [[63, 79], ["torch.nn.functional.softmax", "torch.nn.functional.softmax", "criterion.OhemCrossEntropy.criterion().contiguous().view", "target.clone", "pred.gather.gather.gather", "[].contiguous().sort", "max", "criterion.OhemCrossEntropy.mean", "target.contiguous().view", "target.clone.unsqueeze", "criterion.OhemCrossEntropy.criterion().contiguous", "[].contiguous", "min", "target.contiguous", "criterion.OhemCrossEntropy.criterion", "pred.gather.gather.numel", "pred.gather.gather.contiguous().view", "pred.gather.gather.contiguous"], "methods", ["None"], ["", "def", "_ohem_forward", "(", "self", ",", "score", ",", "target", ",", "**", "kwargs", ")", ":", "\n", "\n", "        ", "pred", "=", "F", ".", "softmax", "(", "score", ",", "dim", "=", "1", ")", "\n", "pixel_losses", "=", "self", ".", "criterion", "(", "score", ",", "target", ")", ".", "contiguous", "(", ")", ".", "view", "(", "-", "1", ")", "\n", "mask", "=", "target", ".", "contiguous", "(", ")", ".", "view", "(", "-", "1", ")", "!=", "self", ".", "ignore_label", "\n", "\n", "tmp_target", "=", "target", ".", "clone", "(", ")", "\n", "tmp_target", "[", "tmp_target", "==", "self", ".", "ignore_label", "]", "=", "0", "\n", "pred", "=", "pred", ".", "gather", "(", "1", ",", "tmp_target", ".", "unsqueeze", "(", "1", ")", ")", "\n", "pred", ",", "ind", "=", "pred", ".", "contiguous", "(", ")", ".", "view", "(", "-", "1", ",", ")", "[", "mask", "]", ".", "contiguous", "(", ")", ".", "sort", "(", ")", "\n", "min_value", "=", "pred", "[", "min", "(", "self", ".", "min_kept", ",", "pred", ".", "numel", "(", ")", "-", "1", ")", "]", "\n", "threshold", "=", "max", "(", "min_value", ",", "self", ".", "thresh", ")", "\n", "\n", "pixel_losses", "=", "pixel_losses", "[", "mask", "]", "[", "ind", "]", "\n", "pixel_losses", "=", "pixel_losses", "[", "pred", "<", "threshold", "]", "\n", "return", "pixel_losses", ".", "mean", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.OhemCrossEntropy.forward": [[80, 100], ["len", "len", "sum", "isinstance", "isinstance", "len", "ValueError", "criterion.OhemCrossEntropy._ohem_forward", "len", "func", "zip"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.OhemCrossEntropy._ohem_forward"], ["", "def", "forward", "(", "self", ",", "score", ",", "target", ")", ":", "\n", "\n", "        ", "if", "not", "(", "isinstance", "(", "score", ",", "list", ")", "or", "isinstance", "(", "score", ",", "tuple", ")", ")", ":", "\n", "            ", "score", "=", "[", "score", "]", "\n", "\n", "", "balance_weights", "=", "config", ".", "LOSS", ".", "BALANCE_WEIGHTS", "\n", "sb_weights", "=", "config", ".", "LOSS", ".", "SB_WEIGHTS", "\n", "if", "len", "(", "balance_weights", ")", "==", "len", "(", "score", ")", ":", "\n", "            ", "functions", "=", "[", "self", ".", "_ce_forward", "]", "*", "(", "len", "(", "balance_weights", ")", "-", "1", ")", "+", "[", "self", ".", "_ohem_forward", "]", "\n", "return", "sum", "(", "[", "\n", "w", "*", "func", "(", "x", ",", "target", ")", "\n", "for", "(", "w", ",", "x", ",", "func", ")", "in", "zip", "(", "balance_weights", ",", "score", ",", "functions", ")", "\n", "]", ")", "\n", "\n", "", "elif", "len", "(", "score", ")", "==", "1", ":", "\n", "            ", "return", "sb_weights", "*", "self", ".", "_ohem_forward", "(", "score", "[", "0", "]", ",", "target", ")", "\n", "\n", "", "else", ":", "\n", "            ", "raise", "ValueError", "(", "\"lengths of prediction and target are not identical!\"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.BondaryLoss.__init__": [[123, 126], ["torch.Module.__init__"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "coeff_bce", "=", "20.0", ")", ":", "\n", "        ", "super", "(", "BondaryLoss", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "coeff_bce", "=", "coeff_bce", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.BondaryLoss.forward": [[127, 133], ["criterion.weighted_bce"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.weighted_bce"], ["", "def", "forward", "(", "self", ",", "bd_pre", ",", "bd_gt", ")", ":", "\n", "\n", "        ", "bce_loss", "=", "self", ".", "coeff_bce", "*", "weighted_bce", "(", "bd_pre", ",", "bd_gt", ")", "\n", "loss", "=", "bce_loss", "\n", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.criterion.weighted_bce": [[102, 120], ["bd_pre.size", "bd_pre.permute().contiguous().view", "target.view", "torch.zeros_like", "torch.zeros_like", "pos_index.sum", "neg_index.sum", "torch.nn.functional.binary_cross_entropy_with_logits", "bd_pre.permute().contiguous", "bd_pre.permute"], "function", ["None"], ["", "", "", "def", "weighted_bce", "(", "bd_pre", ",", "target", ")", ":", "\n", "    ", "n", ",", "c", ",", "h", ",", "w", "=", "bd_pre", ".", "size", "(", ")", "\n", "log_p", "=", "bd_pre", ".", "permute", "(", "0", ",", "2", ",", "3", ",", "1", ")", ".", "contiguous", "(", ")", ".", "view", "(", "1", ",", "-", "1", ")", "\n", "target_t", "=", "target", ".", "view", "(", "1", ",", "-", "1", ")", "\n", "\n", "pos_index", "=", "(", "target_t", "==", "1", ")", "\n", "neg_index", "=", "(", "target_t", "==", "0", ")", "\n", "\n", "weight", "=", "torch", ".", "zeros_like", "(", "log_p", ")", "\n", "pos_num", "=", "pos_index", ".", "sum", "(", ")", "\n", "neg_num", "=", "neg_index", ".", "sum", "(", ")", "\n", "sum_num", "=", "pos_num", "+", "neg_num", "\n", "weight", "[", "pos_index", "]", "=", "neg_num", "*", "1.0", "/", "sum_num", "\n", "weight", "[", "neg_index", "]", "=", "pos_num", "*", "1.0", "/", "sum_num", "\n", "\n", "loss", "=", "F", ".", "binary_cross_entropy_with_logits", "(", "log_p", ",", "target_t", ",", "weight", ",", "reduction", "=", "'mean'", ")", "\n", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.__init__": [[15, 62], ["base_dataset.BaseDataset.__init__", "cityscapes.Cityscapes.read_files", "torch.FloatTensor().cuda", "line.strip().split", "open", "torch.FloatTensor", "line.strip"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.read_files"], ["    ", "def", "__init__", "(", "self", ",", "\n", "root", ",", "\n", "list_path", ",", "\n", "num_classes", "=", "19", ",", "\n", "multi_scale", "=", "True", ",", "\n", "flip", "=", "True", ",", "\n", "ignore_label", "=", "255", ",", "\n", "base_size", "=", "2048", ",", "\n", "crop_size", "=", "(", "512", ",", "1024", ")", ",", "\n", "scale_factor", "=", "16", ",", "\n", "mean", "=", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "\n", "std", "=", "[", "0.229", ",", "0.224", ",", "0.225", "]", ",", "\n", "bd_dilate_size", "=", "4", ")", ":", "\n", "\n", "        ", "super", "(", "Cityscapes", ",", "self", ")", ".", "__init__", "(", "ignore_label", ",", "base_size", ",", "\n", "crop_size", ",", "scale_factor", ",", "mean", ",", "std", ",", ")", "\n", "\n", "self", ".", "root", "=", "root", "\n", "self", ".", "list_path", "=", "list_path", "\n", "self", ".", "num_classes", "=", "num_classes", "\n", "\n", "self", ".", "multi_scale", "=", "multi_scale", "\n", "self", ".", "flip", "=", "flip", "\n", "\n", "self", ".", "img_list", "=", "[", "line", ".", "strip", "(", ")", ".", "split", "(", ")", "for", "line", "in", "open", "(", "root", "+", "list_path", ")", "]", "\n", "\n", "self", ".", "files", "=", "self", ".", "read_files", "(", ")", "\n", "\n", "self", ".", "label_mapping", "=", "{", "-", "1", ":", "ignore_label", ",", "0", ":", "ignore_label", ",", "\n", "1", ":", "ignore_label", ",", "2", ":", "ignore_label", ",", "\n", "3", ":", "ignore_label", ",", "4", ":", "ignore_label", ",", "\n", "5", ":", "ignore_label", ",", "6", ":", "ignore_label", ",", "\n", "7", ":", "0", ",", "8", ":", "1", ",", "9", ":", "ignore_label", ",", "\n", "10", ":", "ignore_label", ",", "11", ":", "2", ",", "12", ":", "3", ",", "\n", "13", ":", "4", ",", "14", ":", "ignore_label", ",", "15", ":", "ignore_label", ",", "\n", "16", ":", "ignore_label", ",", "17", ":", "5", ",", "18", ":", "ignore_label", ",", "\n", "19", ":", "6", ",", "20", ":", "7", ",", "21", ":", "8", ",", "22", ":", "9", ",", "23", ":", "10", ",", "24", ":", "11", ",", "\n", "25", ":", "12", ",", "26", ":", "13", ",", "27", ":", "14", ",", "28", ":", "15", ",", "\n", "29", ":", "ignore_label", ",", "30", ":", "ignore_label", ",", "\n", "31", ":", "16", ",", "32", ":", "17", ",", "33", ":", "18", "}", "\n", "self", ".", "class_weights", "=", "torch", ".", "FloatTensor", "(", "[", "0.8373", ",", "0.918", ",", "0.866", ",", "1.0345", ",", "\n", "1.0166", ",", "0.9969", ",", "0.9754", ",", "1.0489", ",", "\n", "0.8786", ",", "1.0023", ",", "0.9539", ",", "0.9843", ",", "\n", "1.1116", ",", "0.9037", ",", "1.0865", ",", "1.0955", ",", "\n", "1.0865", ",", "1.1529", ",", "1.0507", "]", ")", ".", "cuda", "(", ")", "\n", "\n", "self", ".", "bd_dilate_size", "=", "bd_dilate_size", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.read_files": [[63, 83], ["files.append", "files.append", "os.path.splitext", "os.path.splitext", "os.path.basename", "os.path.basename"], "methods", ["None"], ["", "def", "read_files", "(", "self", ")", ":", "\n", "        ", "files", "=", "[", "]", "\n", "if", "'test'", "in", "self", ".", "list_path", ":", "\n", "            ", "for", "item", "in", "self", ".", "img_list", ":", "\n", "                ", "image_path", "=", "item", "\n", "name", "=", "os", ".", "path", ".", "splitext", "(", "os", ".", "path", ".", "basename", "(", "image_path", "[", "0", "]", ")", ")", "[", "0", "]", "\n", "files", ".", "append", "(", "{", "\n", "\"img\"", ":", "image_path", "[", "0", "]", ",", "\n", "\"name\"", ":", "name", ",", "\n", "}", ")", "\n", "", "", "else", ":", "\n", "            ", "for", "item", "in", "self", ".", "img_list", ":", "\n", "                ", "image_path", ",", "label_path", "=", "item", "\n", "name", "=", "os", ".", "path", ".", "splitext", "(", "os", ".", "path", ".", "basename", "(", "label_path", ")", ")", "[", "0", "]", "\n", "files", ".", "append", "(", "{", "\n", "\"img\"", ":", "image_path", ",", "\n", "\"label\"", ":", "label_path", ",", "\n", "\"name\"", ":", "name", "\n", "}", ")", "\n", "", "", "return", "files", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.convert_label": [[84, 93], ["label.copy", "cityscapes.Cityscapes.label_mapping.items", "cityscapes.Cityscapes.label_mapping.items"], "methods", ["None"], ["", "def", "convert_label", "(", "self", ",", "label", ",", "inverse", "=", "False", ")", ":", "\n", "        ", "temp", "=", "label", ".", "copy", "(", ")", "\n", "if", "inverse", ":", "\n", "            ", "for", "v", ",", "k", "in", "self", ".", "label_mapping", ".", "items", "(", ")", ":", "\n", "                ", "label", "[", "temp", "==", "k", "]", "=", "v", "\n", "", "", "else", ":", "\n", "            ", "for", "k", ",", "v", "in", "self", ".", "label_mapping", ".", "items", "(", ")", ":", "\n", "                ", "label", "[", "temp", "==", "k", "]", "=", "v", "\n", "", "", "return", "label", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.__getitem__": [[94, 115], ["cv2.imread", "cv2.imread", "cityscapes.Cityscapes.convert_label", "cityscapes.Cityscapes.gen_sample", "os.path.join", "cityscapes.Cityscapes.input_transform", "image.transpose.transpose.transpose", "os.path.join", "image.transpose.transpose.copy", "cityscapes.Cityscapes.copy", "edge.copy", "numpy.array", "image.transpose.transpose.copy", "numpy.array"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.convert_label", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.gen_sample", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.custom.input_transform"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "item", "=", "self", ".", "files", "[", "index", "]", "\n", "name", "=", "item", "[", "\"name\"", "]", "\n", "image", "=", "cv2", ".", "imread", "(", "os", ".", "path", ".", "join", "(", "self", ".", "root", ",", "'cityscapes'", ",", "item", "[", "\"img\"", "]", ")", ",", "\n", "cv2", ".", "IMREAD_COLOR", ")", "\n", "size", "=", "image", ".", "shape", "\n", "\n", "if", "'test'", "in", "self", ".", "list_path", ":", "\n", "            ", "image", "=", "self", ".", "input_transform", "(", "image", ")", "\n", "image", "=", "image", ".", "transpose", "(", "(", "2", ",", "0", ",", "1", ")", ")", "\n", "\n", "return", "image", ".", "copy", "(", ")", ",", "np", ".", "array", "(", "size", ")", ",", "name", "\n", "\n", "", "label", "=", "cv2", ".", "imread", "(", "os", ".", "path", ".", "join", "(", "self", ".", "root", ",", "'cityscapes'", ",", "item", "[", "\"label\"", "]", ")", ",", "\n", "cv2", ".", "IMREAD_GRAYSCALE", ")", "\n", "label", "=", "self", ".", "convert_label", "(", "label", ")", "\n", "\n", "image", ",", "label", ",", "edge", "=", "self", ".", "gen_sample", "(", "image", ",", "label", ",", "\n", "self", ".", "multi_scale", ",", "self", ".", "flip", ",", "edge_size", "=", "self", ".", "bd_dilate_size", ")", "\n", "\n", "return", "image", ".", "copy", "(", ")", ",", "label", ".", "copy", "(", ")", ",", "edge", ".", "copy", "(", ")", ",", "np", ".", "array", "(", "size", ")", ",", "name", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.single_scale_inference": [[117, 120], ["cityscapes.Cityscapes.inference"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.inference"], ["", "def", "single_scale_inference", "(", "self", ",", "config", ",", "model", ",", "image", ")", ":", "\n", "        ", "pred", "=", "self", ".", "inference", "(", "config", ",", "model", ",", "image", ")", "\n", "return", "pred", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.save_pred": [[122, 128], ["numpy.asarray", "range", "numpy.argmax", "cityscapes.Cityscapes.convert_label", "PIL.Image.fromarray", "PIL.Image.fromarray.save", "numpy.asarray.cpu", "os.path.join"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.cityscapes.Cityscapes.convert_label"], ["", "def", "save_pred", "(", "self", ",", "preds", ",", "sv_path", ",", "name", ")", ":", "\n", "        ", "preds", "=", "np", ".", "asarray", "(", "np", ".", "argmax", "(", "preds", ".", "cpu", "(", ")", ",", "axis", "=", "1", ")", ",", "dtype", "=", "np", ".", "uint8", ")", "\n", "for", "i", "in", "range", "(", "preds", ".", "shape", "[", "0", "]", ")", ":", "\n", "            ", "pred", "=", "self", ".", "convert_label", "(", "preds", "[", "i", "]", ",", "inverse", "=", "True", ")", "\n", "save_img", "=", "Image", ".", "fromarray", "(", "pred", ")", "\n", "save_img", ".", "save", "(", "os", ".", "path", ".", "join", "(", "sv_path", ",", "name", "[", "i", "]", "+", "'.png'", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.__init__": [[12, 51], ["base_dataset.BaseDataset.__init__", "camvid.CamVid.read_files", "line.strip().split", "open", "line.strip"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.read_files"], ["    ", "def", "__init__", "(", "self", ",", "\n", "root", ",", "\n", "list_path", ",", "\n", "num_classes", "=", "11", ",", "\n", "multi_scale", "=", "True", ",", "\n", "flip", "=", "True", ",", "\n", "ignore_label", "=", "255", ",", "\n", "base_size", "=", "960", ",", "\n", "crop_size", "=", "(", "720", ",", "960", ")", ",", "\n", "scale_factor", "=", "16", ",", "\n", "mean", "=", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "\n", "std", "=", "[", "0.229", ",", "0.224", ",", "0.225", "]", ",", "\n", "bd_dilate_size", "=", "4", ")", ":", "\n", "\n", "        ", "super", "(", "CamVid", ",", "self", ")", ".", "__init__", "(", "ignore_label", ",", "base_size", ",", "\n", "crop_size", ",", "scale_factor", ",", "mean", ",", "std", ")", "\n", "\n", "self", ".", "root", "=", "root", "\n", "self", ".", "list_path", "=", "list_path", "\n", "self", ".", "num_classes", "=", "num_classes", "\n", "\n", "self", ".", "multi_scale", "=", "multi_scale", "\n", "self", ".", "flip", "=", "flip", "\n", "\n", "self", ".", "img_list", "=", "[", "line", ".", "strip", "(", ")", ".", "split", "(", ")", "for", "line", "in", "open", "(", "root", "+", "list_path", ")", "]", "\n", "\n", "self", ".", "files", "=", "self", ".", "read_files", "(", ")", "\n", "\n", "\n", "self", ".", "ignore_label", "=", "ignore_label", "\n", "\n", "self", ".", "color_list", "=", "[", "[", "0", ",", "128", ",", "192", "]", ",", "[", "128", ",", "0", ",", "0", "]", ",", "[", "64", ",", "0", ",", "128", "]", ",", "\n", "[", "192", ",", "192", ",", "128", "]", ",", "[", "64", ",", "64", ",", "128", "]", ",", "[", "64", ",", "64", ",", "0", "]", ",", "\n", "[", "128", ",", "64", ",", "128", "]", ",", "[", "0", ",", "0", ",", "192", "]", ",", "[", "192", ",", "128", ",", "128", "]", ",", "\n", "[", "128", ",", "128", ",", "128", "]", ",", "[", "128", ",", "128", ",", "0", "]", "]", "\n", "\n", "self", ".", "class_weights", "=", "None", "\n", "\n", "self", ".", "bd_dilate_size", "=", "bd_dilate_size", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.read_files": [[52, 65], ["files.append", "os.path.splitext", "os.path.basename"], "methods", ["None"], ["", "def", "read_files", "(", "self", ")", ":", "\n", "        ", "files", "=", "[", "]", "\n", "\n", "for", "item", "in", "self", ".", "img_list", ":", "\n", "            ", "image_path", ",", "label_path", "=", "item", "\n", "name", "=", "os", ".", "path", ".", "splitext", "(", "os", ".", "path", ".", "basename", "(", "label_path", ")", ")", "[", "0", "]", "\n", "files", ".", "append", "(", "{", "\n", "\"img\"", ":", "image_path", ",", "\n", "\"label\"", ":", "label_path", ",", "\n", "\"name\"", ":", "name", "\n", "}", ")", "\n", "\n", "", "return", "files", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.color2label": [[66, 72], ["enumerate", "label.astype", "numpy.ones"], "methods", ["None"], ["", "def", "color2label", "(", "self", ",", "color_map", ")", ":", "\n", "        ", "label", "=", "np", ".", "ones", "(", "color_map", ".", "shape", "[", ":", "2", "]", ")", "*", "self", ".", "ignore_label", "\n", "for", "i", ",", "v", "in", "enumerate", "(", "self", ".", "color_list", ")", ":", "\n", "            ", "label", "[", "(", "color_map", "==", "v", ")", ".", "sum", "(", "2", ")", "==", "3", "]", "=", "i", "\n", "\n", "", "return", "label", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.label2color": [[73, 79], ["numpy.zeros", "enumerate", "numpy.zeros.astype"], "methods", ["None"], ["", "def", "label2color", "(", "self", ",", "label", ")", ":", "\n", "        ", "color_map", "=", "np", ".", "zeros", "(", "label", ".", "shape", "+", "(", "3", ",", ")", ")", "\n", "for", "i", ",", "v", "in", "enumerate", "(", "self", ".", "color_list", ")", ":", "\n", "            ", "color_map", "[", "label", "==", "i", "]", "=", "self", ".", "color_list", "[", "i", "]", "\n", "\n", "", "return", "color_map", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.__getitem__": [[80, 96], ["PIL.Image.open().convert", "numpy.array", "PIL.Image.open().convert", "numpy.array", "camvid.CamVid.color2label", "camvid.CamVid.gen_sample", "numpy.array.copy", "camvid.CamVid.copy", "edge.copy", "numpy.array", "PIL.Image.open", "PIL.Image.open", "os.path.join", "os.path.join"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.color2label", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.gen_sample"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "item", "=", "self", ".", "files", "[", "index", "]", "\n", "name", "=", "item", "[", "\"name\"", "]", "\n", "image", "=", "Image", ".", "open", "(", "os", ".", "path", ".", "join", "(", "self", ".", "root", ",", "'camvid'", ",", "item", "[", "\"img\"", "]", ")", ")", ".", "convert", "(", "'RGB'", ")", "\n", "image", "=", "np", ".", "array", "(", "image", ")", "\n", "size", "=", "image", ".", "shape", "\n", "\n", "color_map", "=", "Image", ".", "open", "(", "os", ".", "path", ".", "join", "(", "self", ".", "root", ",", "'camvid'", ",", "item", "[", "\"label\"", "]", ")", ")", ".", "convert", "(", "'RGB'", ")", "\n", "color_map", "=", "np", ".", "array", "(", "color_map", ")", "\n", "label", "=", "self", ".", "color2label", "(", "color_map", ")", "\n", "\n", "image", ",", "label", ",", "edge", "=", "self", ".", "gen_sample", "(", "image", ",", "label", ",", "\n", "self", ".", "multi_scale", ",", "self", ".", "flip", ",", "edge_pad", "=", "False", ",", "\n", "edge_size", "=", "self", ".", "bd_dilate_size", ",", "city", "=", "False", ")", "\n", "\n", "return", "image", ".", "copy", "(", ")", ",", "label", ".", "copy", "(", ")", ",", "edge", ".", "copy", "(", ")", ",", "np", ".", "array", "(", "size", ")", ",", "name", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.single_scale_inference": [[97, 100], ["camvid.CamVid.inference"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.inference"], ["", "def", "single_scale_inference", "(", "self", ",", "config", ",", "model", ",", "image", ")", ":", "\n", "        ", "pred", "=", "self", ".", "inference", "(", "config", ",", "model", ",", "image", ")", "\n", "return", "pred", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.save_pred": [[101, 107], ["numpy.asarray", "range", "numpy.argmax", "camvid.CamVid.label2color", "PIL.Image.fromarray", "PIL.Image.fromarray.save", "numpy.asarray.cpu", "os.path.join"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.camvid.CamVid.label2color"], ["", "def", "save_pred", "(", "self", ",", "preds", ",", "sv_path", ",", "name", ")", ":", "\n", "        ", "preds", "=", "np", ".", "asarray", "(", "np", ".", "argmax", "(", "preds", ".", "cpu", "(", ")", ",", "axis", "=", "1", ")", ",", "dtype", "=", "np", ".", "uint8", ")", "\n", "for", "i", "in", "range", "(", "preds", ".", "shape", "[", "0", "]", ")", ":", "\n", "            ", "pred", "=", "self", ".", "label2color", "(", "preds", "[", "i", "]", ")", "\n", "save_img", "=", "Image", ".", "fromarray", "(", "pred", ")", "\n", "save_img", ".", "save", "(", "os", ".", "path", ".", "join", "(", "sv_path", ",", "name", "[", "i", "]", "+", "'.png'", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.__init__": [[15, 32], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "\n", "ignore_label", "=", "255", ",", "\n", "base_size", "=", "2048", ",", "\n", "crop_size", "=", "(", "512", ",", "1024", ")", ",", "\n", "scale_factor", "=", "16", ",", "\n", "mean", "=", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "\n", "std", "=", "[", "0.229", ",", "0.224", ",", "0.225", "]", ")", ":", "\n", "\n", "        ", "self", ".", "base_size", "=", "base_size", "\n", "self", ".", "crop_size", "=", "crop_size", "\n", "self", ".", "ignore_label", "=", "ignore_label", "\n", "\n", "self", ".", "mean", "=", "mean", "\n", "self", ".", "std", "=", "std", "\n", "self", ".", "scale_factor", "=", "scale_factor", "\n", "\n", "self", ".", "files", "=", "[", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.__len__": [[33, 35], ["len"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "len", "(", "self", ".", "files", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.input_transform": [[36, 45], ["image.astype.astype.astype", "image.astype.astype.astype"], "methods", ["None"], ["", "def", "input_transform", "(", "self", ",", "image", ",", "city", "=", "True", ")", ":", "\n", "        ", "if", "city", ":", "\n", "            ", "image", "=", "image", ".", "astype", "(", "np", ".", "float32", ")", "[", ":", ",", ":", ",", ":", ":", "-", "1", "]", "\n", "", "else", ":", "\n", "            ", "image", "=", "image", ".", "astype", "(", "np", ".", "float32", ")", "\n", "", "image", "=", "image", "/", "255.0", "\n", "image", "-=", "self", ".", "mean", "\n", "image", "/=", "self", ".", "std", "\n", "return", "image", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.label_transform": [[46, 48], ["numpy.array().astype", "numpy.array"], "methods", ["None"], ["", "def", "label_transform", "(", "self", ",", "label", ")", ":", "\n", "        ", "return", "np", ".", "array", "(", "label", ")", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.pad_image": [[49, 59], ["image.copy", "max", "max", "cv2.copyMakeBorder"], "methods", ["None"], ["", "def", "pad_image", "(", "self", ",", "image", ",", "h", ",", "w", ",", "size", ",", "padvalue", ")", ":", "\n", "        ", "pad_image", "=", "image", ".", "copy", "(", ")", "\n", "pad_h", "=", "max", "(", "size", "[", "0", "]", "-", "h", ",", "0", ")", "\n", "pad_w", "=", "max", "(", "size", "[", "1", "]", "-", "w", ",", "0", ")", "\n", "if", "pad_h", ">", "0", "or", "pad_w", ">", "0", ":", "\n", "            ", "pad_image", "=", "cv2", ".", "copyMakeBorder", "(", "image", ",", "0", ",", "pad_h", ",", "0", ",", "\n", "pad_w", ",", "cv2", ".", "BORDER_CONSTANT", ",", "\n", "value", "=", "padvalue", ")", "\n", "\n", "", "return", "pad_image", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.rand_crop": [[60, 77], ["base_dataset.BaseDataset.pad_image", "base_dataset.BaseDataset.pad_image", "base_dataset.BaseDataset.pad_image", "random.randint", "random.randint"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.pad_image", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.pad_image", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.pad_image"], ["", "def", "rand_crop", "(", "self", ",", "image", ",", "label", ",", "edge", ")", ":", "\n", "        ", "h", ",", "w", "=", "image", ".", "shape", "[", ":", "-", "1", "]", "\n", "image", "=", "self", ".", "pad_image", "(", "image", ",", "h", ",", "w", ",", "self", ".", "crop_size", ",", "\n", "(", "0.0", ",", "0.0", ",", "0.0", ")", ")", "\n", "label", "=", "self", ".", "pad_image", "(", "label", ",", "h", ",", "w", ",", "self", ".", "crop_size", ",", "\n", "(", "self", ".", "ignore_label", ",", ")", ")", "\n", "edge", "=", "self", ".", "pad_image", "(", "edge", ",", "h", ",", "w", ",", "self", ".", "crop_size", ",", "\n", "(", "0.0", ",", ")", ")", "\n", "\n", "new_h", ",", "new_w", "=", "label", ".", "shape", "\n", "x", "=", "random", ".", "randint", "(", "0", ",", "new_w", "-", "self", ".", "crop_size", "[", "1", "]", ")", "\n", "y", "=", "random", ".", "randint", "(", "0", ",", "new_h", "-", "self", ".", "crop_size", "[", "0", "]", ")", "\n", "image", "=", "image", "[", "y", ":", "y", "+", "self", ".", "crop_size", "[", "0", "]", ",", "x", ":", "x", "+", "self", ".", "crop_size", "[", "1", "]", "]", "\n", "label", "=", "label", "[", "y", ":", "y", "+", "self", ".", "crop_size", "[", "0", "]", ",", "x", ":", "x", "+", "self", ".", "crop_size", "[", "1", "]", "]", "\n", "edge", "=", "edge", "[", "y", ":", "y", "+", "self", ".", "crop_size", "[", "0", "]", ",", "x", ":", "x", "+", "self", ".", "crop_size", "[", "1", "]", "]", "\n", "\n", "return", "image", ",", "label", ",", "edge", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.multi_scale_aug": [[78, 104], ["numpy.int", "cv2.resize", "numpy.int", "numpy.int", "cv2.resize", "base_dataset.BaseDataset.rand_crop", "cv2.resize"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.rand_crop"], ["", "def", "multi_scale_aug", "(", "self", ",", "image", ",", "label", "=", "None", ",", "edge", "=", "None", ",", "\n", "rand_scale", "=", "1", ",", "rand_crop", "=", "True", ")", ":", "\n", "        ", "long_size", "=", "np", ".", "int", "(", "self", ".", "base_size", "*", "rand_scale", "+", "0.5", ")", "\n", "h", ",", "w", "=", "image", ".", "shape", "[", ":", "2", "]", "\n", "if", "h", ">", "w", ":", "\n", "            ", "new_h", "=", "long_size", "\n", "new_w", "=", "np", ".", "int", "(", "w", "*", "long_size", "/", "h", "+", "0.5", ")", "\n", "", "else", ":", "\n", "            ", "new_w", "=", "long_size", "\n", "new_h", "=", "np", ".", "int", "(", "h", "*", "long_size", "/", "w", "+", "0.5", ")", "\n", "\n", "", "image", "=", "cv2", ".", "resize", "(", "image", ",", "(", "new_w", ",", "new_h", ")", ",", "\n", "interpolation", "=", "cv2", ".", "INTER_LINEAR", ")", "\n", "if", "label", "is", "not", "None", ":", "\n", "            ", "label", "=", "cv2", ".", "resize", "(", "label", ",", "(", "new_w", ",", "new_h", ")", ",", "\n", "interpolation", "=", "cv2", ".", "INTER_NEAREST", ")", "\n", "if", "edge", "is", "not", "None", ":", "\n", "                ", "edge", "=", "cv2", ".", "resize", "(", "edge", ",", "(", "new_w", ",", "new_h", ")", ",", "\n", "interpolation", "=", "cv2", ".", "INTER_NEAREST", ")", "\n", "", "", "else", ":", "\n", "            ", "return", "image", "\n", "\n", "", "if", "rand_crop", ":", "\n", "            ", "image", ",", "label", ",", "edge", "=", "self", ".", "rand_crop", "(", "image", ",", "label", ",", "edge", ")", "\n", "\n", "", "return", "image", ",", "label", ",", "edge", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.gen_sample": [[106, 134], ["cv2.Canny", "numpy.ones", "base_dataset.BaseDataset.input_transform", "base_dataset.BaseDataset.label_transform", "image.transpose.transpose.transpose", "numpy.pad", "base_dataset.BaseDataset.multi_scale_aug", "cv2.dilate", "random.randint", "numpy.random.choice"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.custom.input_transform", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.label_transform", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.multi_scale_aug"], ["", "def", "gen_sample", "(", "self", ",", "image", ",", "label", ",", "\n", "multi_scale", "=", "True", ",", "is_flip", "=", "True", ",", "edge_pad", "=", "True", ",", "edge_size", "=", "4", ",", "city", "=", "True", ")", ":", "\n", "\n", "        ", "edge", "=", "cv2", ".", "Canny", "(", "label", ",", "0.1", ",", "0.2", ")", "\n", "kernel", "=", "np", ".", "ones", "(", "(", "edge_size", ",", "edge_size", ")", ",", "np", ".", "uint8", ")", "\n", "if", "edge_pad", ":", "\n", "            ", "edge", "=", "edge", "[", "y_k_size", ":", "-", "y_k_size", ",", "x_k_size", ":", "-", "x_k_size", "]", "\n", "edge", "=", "np", ".", "pad", "(", "edge", ",", "(", "(", "y_k_size", ",", "y_k_size", ")", ",", "(", "x_k_size", ",", "x_k_size", ")", ")", ",", "mode", "=", "'constant'", ")", "\n", "", "edge", "=", "(", "cv2", ".", "dilate", "(", "edge", ",", "kernel", ",", "iterations", "=", "1", ")", ">", "50", ")", "*", "1.0", "\n", "\n", "if", "multi_scale", ":", "\n", "            ", "rand_scale", "=", "0.5", "+", "random", ".", "randint", "(", "0", ",", "self", ".", "scale_factor", ")", "/", "10.0", "\n", "image", ",", "label", ",", "edge", "=", "self", ".", "multi_scale_aug", "(", "image", ",", "label", ",", "edge", ",", "\n", "rand_scale", "=", "rand_scale", ")", "\n", "\n", "", "image", "=", "self", ".", "input_transform", "(", "image", ",", "city", "=", "city", ")", "\n", "label", "=", "self", ".", "label_transform", "(", "label", ")", "\n", "\n", "\n", "image", "=", "image", ".", "transpose", "(", "(", "2", ",", "0", ",", "1", ")", ")", "\n", "\n", "if", "is_flip", ":", "\n", "            ", "flip", "=", "np", ".", "random", ".", "choice", "(", "2", ")", "*", "2", "-", "1", "\n", "image", "=", "image", "[", ":", ",", ":", ",", ":", ":", "flip", "]", "\n", "label", "=", "label", "[", ":", ",", ":", ":", "flip", "]", "\n", "edge", "=", "edge", "[", ":", ",", ":", ":", "flip", "]", "\n", "\n", "", "return", "image", ",", "label", ",", "edge", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.inference": [[136, 151], ["image.size", "model", "torch.nn.functional.interpolate", "torch.nn.functional.interpolate.exp"], "methods", ["None"], ["", "def", "inference", "(", "self", ",", "config", ",", "model", ",", "image", ")", ":", "\n", "        ", "size", "=", "image", ".", "size", "(", ")", "\n", "pred", "=", "model", "(", "image", ")", "\n", "\n", "if", "config", ".", "MODEL", ".", "NUM_OUTPUTS", ">", "1", ":", "\n", "            ", "pred", "=", "pred", "[", "config", ".", "TEST", ".", "OUTPUT_INDEX", "]", "\n", "\n", "\n", "", "pred", "=", "F", ".", "interpolate", "(", "\n", "input", "=", "pred", ",", "size", "=", "size", "[", "-", "2", ":", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "config", ".", "MODEL", ".", "ALIGN_CORNERS", "\n", ")", "\n", "\n", "\n", "return", "pred", ".", "exp", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.custom.parse_args": [[39, 51], ["argparse.ArgumentParser", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.parse_args"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args"], ["def", "parse_args", "(", ")", ":", "\n", "    ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "description", "=", "'Custom Input'", ")", "\n", "\n", "parser", ".", "add_argument", "(", "'--a'", ",", "help", "=", "'pidnet-s, pidnet-m or pidnet-l'", ",", "default", "=", "'pidnet-l'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--c'", ",", "help", "=", "'cityscapes pretrained or not'", ",", "type", "=", "bool", ",", "default", "=", "True", ")", "\n", "parser", ".", "add_argument", "(", "'--p'", ",", "help", "=", "'dir for pretrained model'", ",", "default", "=", "'../pretrained_models/cityscapes/PIDNet_L_Cityscapes_test.pt'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--r'", ",", "help", "=", "'root or dir for input images'", ",", "default", "=", "'../samples/'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--t'", ",", "help", "=", "'the format of input images (.jpg, .png, ...)'", ",", "default", "=", "'.png'", ",", "type", "=", "str", ")", "\n", "\n", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "\n", "return", "args", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.custom.input_transform": [[52, 58], ["image.astype"], "function", ["None"], ["", "def", "input_transform", "(", "image", ")", ":", "\n", "    ", "image", "=", "image", ".", "astype", "(", "np", ".", "float32", ")", "[", ":", ",", ":", ",", ":", ":", "-", "1", "]", "\n", "image", "=", "image", "/", "255.0", "\n", "image", "-=", "mean", "\n", "image", "/=", "std", "\n", "return", "image", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.custom.load_pretrained": [[59, 73], ["torch.load", "torch.load", "model.state_dict", "print", "print", "print", "model.state_dict.update", "model.load_state_dict", "len", "torch.load.items"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update"], ["", "def", "load_pretrained", "(", "model", ",", "pretrained", ")", ":", "\n", "    ", "pretrained_dict", "=", "torch", ".", "load", "(", "pretrained", ",", "map_location", "=", "'cpu'", ")", "\n", "if", "'state_dict'", "in", "pretrained_dict", ":", "\n", "        ", "pretrained_dict", "=", "pretrained_dict", "[", "'state_dict'", "]", "\n", "", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "pretrained_dict", "=", "{", "k", "[", "6", ":", "]", ":", "v", "for", "k", ",", "v", "in", "pretrained_dict", ".", "items", "(", ")", "if", "(", "k", "[", "6", ":", "]", "in", "model_dict", "and", "v", ".", "shape", "==", "model_dict", "[", "k", "[", "6", ":", "]", "]", ".", "shape", ")", "}", "\n", "msg", "=", "'Loaded {} parameters!'", ".", "format", "(", "len", "(", "pretrained_dict", ")", ")", "\n", "print", "(", "'Attention!!!'", ")", "\n", "print", "(", "msg", ")", "\n", "print", "(", "'Over!!!'", ")", "\n", "model_dict", ".", "update", "(", "pretrained_dict", ")", "\n", "model", ".", "load_state_dict", "(", "model_dict", ",", "strict", "=", "False", ")", "\n", "\n", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.eval.parse_args": [[27, 43], ["argparse.ArgumentParser", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.parse_args", "configs.update_config"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.configs.default.update_config"], ["def", "parse_args", "(", ")", ":", "\n", "    ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "description", "=", "'Train segmentation network'", ")", "\n", "\n", "parser", ".", "add_argument", "(", "'--cfg'", ",", "\n", "help", "=", "'experiment configure file name'", ",", "\n", "default", "=", "\"experiments/cityscapes/pidnet_small_cityscapes.yaml\"", ",", "\n", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'opts'", ",", "\n", "help", "=", "\"Modify config options using the command-line\"", ",", "\n", "default", "=", "None", ",", "\n", "nargs", "=", "argparse", ".", "REMAINDER", ")", "\n", "\n", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "update_config", "(", "config", ",", "args", ")", "\n", "\n", "return", "args", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.eval.main": [[44, 127], ["eval.parse_args", "utils.utils.create_logger", "logger.info", "logger.info", "models.pidnet.get_seg_model", "logger.info", "torch.load", "torch.load", "torch.load", "model.cuda.state_dict", "torch.load.items", "model.state_dict.update", "model.cuda.load_state_dict", "model.cuda.cuda", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "timeit.default_timer", "timeit.default_timer", "logger.info", "logger.info", "pprint.pformat", "pprint.pformat", "os.path.join", "logger.info", "eval", "utils.function.test", "utils.function.testval", "logging.info", "logging.info", "torch.load.items", "numpy.int", "model.state_dict.keys"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.create_logger", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.get_seg_model", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.test", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.testval"], ["", "def", "main", "(", ")", ":", "\n", "    ", "args", "=", "parse_args", "(", ")", "\n", "\n", "logger", ",", "final_output_dir", ",", "_", "=", "create_logger", "(", "\n", "config", ",", "args", ".", "cfg", ",", "'test'", ")", "\n", "\n", "logger", ".", "info", "(", "pprint", ".", "pformat", "(", "args", ")", ")", "\n", "logger", ".", "info", "(", "pprint", ".", "pformat", "(", "config", ")", ")", "\n", "\n", "# cudnn related setting", "\n", "cudnn", ".", "benchmark", "=", "config", ".", "CUDNN", ".", "BENCHMARK", "\n", "cudnn", ".", "deterministic", "=", "config", ".", "CUDNN", ".", "DETERMINISTIC", "\n", "cudnn", ".", "enabled", "=", "config", ".", "CUDNN", ".", "ENABLED", "\n", "\n", "# build model", "\n", "model", "=", "model", "=", "models", ".", "pidnet", ".", "get_seg_model", "(", "config", ",", "imgnet_pretrained", "=", "True", ")", "\n", "\n", "if", "config", ".", "TEST", ".", "MODEL_FILE", ":", "\n", "        ", "model_state_file", "=", "config", ".", "TEST", ".", "MODEL_FILE", "\n", "", "else", ":", "\n", "        ", "model_state_file", "=", "os", ".", "path", ".", "join", "(", "final_output_dir", ",", "'best.pt'", ")", "\n", "\n", "", "logger", ".", "info", "(", "'=> loading model from {}'", ".", "format", "(", "model_state_file", ")", ")", "\n", "\n", "pretrained_dict", "=", "torch", ".", "load", "(", "model_state_file", ")", "\n", "if", "'state_dict'", "in", "pretrained_dict", ":", "\n", "        ", "pretrained_dict", "=", "pretrained_dict", "[", "'state_dict'", "]", "\n", "", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "pretrained_dict", "=", "{", "k", "[", "6", ":", "]", ":", "v", "for", "k", ",", "v", "in", "pretrained_dict", ".", "items", "(", ")", "\n", "if", "k", "[", "6", ":", "]", "in", "model_dict", ".", "keys", "(", ")", "}", "\n", "for", "k", ",", "_", "in", "pretrained_dict", ".", "items", "(", ")", ":", "\n", "        ", "logger", ".", "info", "(", "\n", "'=> loading {} from pretrained model'", ".", "format", "(", "k", ")", ")", "\n", "", "model_dict", ".", "update", "(", "pretrained_dict", ")", "\n", "model", ".", "load_state_dict", "(", "model_dict", ")", "\n", "\n", "model", "=", "model", ".", "cuda", "(", ")", "\n", "\n", "# prepare data", "\n", "test_size", "=", "(", "config", ".", "TEST", ".", "IMAGE_SIZE", "[", "1", "]", ",", "config", ".", "TEST", ".", "IMAGE_SIZE", "[", "0", "]", ")", "\n", "test_dataset", "=", "eval", "(", "'datasets.'", "+", "config", ".", "DATASET", ".", "DATASET", ")", "(", "\n", "root", "=", "config", ".", "DATASET", ".", "ROOT", ",", "\n", "list_path", "=", "config", ".", "DATASET", ".", "TEST_SET", ",", "\n", "num_classes", "=", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "\n", "multi_scale", "=", "False", ",", "\n", "flip", "=", "False", ",", "\n", "ignore_label", "=", "config", ".", "TRAIN", ".", "IGNORE_LABEL", ",", "\n", "base_size", "=", "config", ".", "TEST", ".", "BASE_SIZE", ",", "\n", "crop_size", "=", "test_size", ")", "\n", "\n", "testloader", "=", "torch", ".", "utils", ".", "data", ".", "DataLoader", "(", "\n", "test_dataset", ",", "\n", "batch_size", "=", "1", ",", "\n", "shuffle", "=", "False", ",", "\n", "num_workers", "=", "0", ",", "\n", "pin_memory", "=", "True", ")", "\n", "\n", "start", "=", "timeit", ".", "default_timer", "(", ")", "\n", "\n", "\n", "if", "(", "'test'", "in", "config", ".", "DATASET", ".", "TEST_SET", ")", "and", "(", "'city'", "in", "config", ".", "DATASET", ".", "DATASET", ")", ":", "\n", "        ", "test", "(", "config", ",", "\n", "test_dataset", ",", "\n", "testloader", ",", "\n", "model", ",", "\n", "sv_dir", "=", "final_output_dir", ")", "\n", "\n", "", "else", ":", "\n", "        ", "mean_IoU", ",", "IoU_array", ",", "pixel_acc", ",", "mean_acc", "=", "testval", "(", "config", ",", "\n", "test_dataset", ",", "\n", "testloader", ",", "\n", "model", ")", "\n", "\n", "msg", "=", "'MeanIU: {: 4.4f}, Pixel_Acc: {: 4.4f}, \\\n            Mean_Acc: {: 4.4f}, Class IoU: '", ".", "format", "(", "mean_IoU", ",", "\n", "pixel_acc", ",", "mean_acc", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "logging", ".", "info", "(", "IoU_array", ")", "\n", "\n", "\n", "", "end", "=", "timeit", ".", "default_timer", "(", ")", "\n", "logger", ".", "info", "(", "'Mins: %d'", "%", "np", ".", "int", "(", "(", "end", "-", "start", ")", "/", "60", ")", ")", "\n", "logger", ".", "info", "(", "'Done'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.train.parse_args": [[30, 47], ["argparse.ArgumentParser", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.parse_args", "configs.update_config"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.configs.default.update_config"], ["def", "parse_args", "(", ")", ":", "\n", "    ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "description", "=", "'Train segmentation network'", ")", "\n", "\n", "parser", ".", "add_argument", "(", "'--cfg'", ",", "\n", "help", "=", "'experiment configure file name'", ",", "\n", "default", "=", "\"configs/cityscapes/pidnet_small_cityscapes.yaml\"", ",", "\n", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--seed'", ",", "type", "=", "int", ",", "default", "=", "304", ")", "\n", "parser", ".", "add_argument", "(", "'opts'", ",", "\n", "help", "=", "\"Modify config options using the command-line\"", ",", "\n", "default", "=", "None", ",", "\n", "nargs", "=", "argparse", ".", "REMAINDER", ")", "\n", "\n", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "update_config", "(", "config", ",", "args", ")", "\n", "\n", "return", "args", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools.train.main": [[49, 216], ["train.parse_args", "utils.utils.create_logger", "logger.info", "logger.info", "list", "models.pidnet.get_seg_model", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "torch.utils.data.DataLoader", "utils.criterion.BondaryLoss", "utils.utils.FullModel", "torch.DataParallel().cuda", "int", "timeit.default_timer", "range", "torch.save", "torch.save", "torch.save", "torch.save", "writer_dict[].close", "timeit.default_timer", "logger.info", "logger.info", "print", "random.seed", "torch.manual_seed", "torch.manual_seed", "torch.manual_seed", "torch.manual_seed", "pprint.pformat", "tensorboardX.SummaryWriter", "torch.cuda.device_count", "torch.cuda.device_count", "torch.cuda.device_count", "torch.cuda.device_count", "len", "print", "len", "eval", "eval", "utils.criterion.OhemCrossEntropy", "utils.criterion.CrossEntropy", "dict", "torch.optim.SGD", "torch.optim.SGD", "torch.optim.SGD", "torch.optim.SGD", "ValueError", "os.path.join", "os.path.isfile", "utils.function.train", "logger.info", "torch.save", "torch.save", "torch.save", "torch.save", "logging.info", "logging.info", "nn.DataParallel().cuda.module.state_dict", "os.path.join", "torch.DataParallel", "nn.DataParallel().cuda.named_parameters", "len", "torch.load", "torch.load", "torch.load", "torch.load", "nn.DataParallel().cuda.module.model.load_state_dict", "torch.optim.SGD.load_state_dict", "logger.info", "hasattr", "current_trainloader.sampler.set_epoch", "utils.function.validate", "os.path.join", "torch.save", "torch.save", "torch.save", "torch.save", "numpy.int", "len", "list", "train_dataset.__len__", "nn.DataParallel().cuda.module.state_dict", "torch.optim.SGD.state_dict", "nn.DataParallel().cuda.module.state_dict", "os.path.join", "dict.values", "k.replace", "dct.items", "k.startswith"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.create_logger", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.get_seg_model", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.train", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.function.validate", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.datasets.base_dataset.BaseDataset.__len__"], ["", "def", "main", "(", ")", ":", "\n", "    ", "args", "=", "parse_args", "(", ")", "\n", "\n", "if", "args", ".", "seed", ">", "0", ":", "\n", "        ", "import", "random", "\n", "print", "(", "'Seeding with'", ",", "args", ".", "seed", ")", "\n", "random", ".", "seed", "(", "args", ".", "seed", ")", "\n", "torch", ".", "manual_seed", "(", "args", ".", "seed", ")", "\n", "\n", "", "logger", ",", "final_output_dir", ",", "tb_log_dir", "=", "create_logger", "(", "\n", "config", ",", "args", ".", "cfg", ",", "'train'", ")", "\n", "\n", "logger", ".", "info", "(", "pprint", ".", "pformat", "(", "args", ")", ")", "\n", "logger", ".", "info", "(", "config", ")", "\n", "\n", "writer_dict", "=", "{", "\n", "'writer'", ":", "SummaryWriter", "(", "tb_log_dir", ")", ",", "\n", "'train_global_steps'", ":", "0", ",", "\n", "'valid_global_steps'", ":", "0", ",", "\n", "}", "\n", "\n", "# cudnn related setting", "\n", "cudnn", ".", "benchmark", "=", "config", ".", "CUDNN", ".", "BENCHMARK", "\n", "cudnn", ".", "deterministic", "=", "config", ".", "CUDNN", ".", "DETERMINISTIC", "\n", "cudnn", ".", "enabled", "=", "config", ".", "CUDNN", ".", "ENABLED", "\n", "gpus", "=", "list", "(", "config", ".", "GPUS", ")", "\n", "if", "torch", ".", "cuda", ".", "device_count", "(", ")", "!=", "len", "(", "gpus", ")", ":", "\n", "        ", "print", "(", "\"The gpu numbers do not match!\"", ")", "\n", "return", "0", "\n", "\n", "", "imgnet", "=", "'imagenet'", "in", "config", ".", "MODEL", ".", "PRETRAINED", "\n", "model", "=", "models", ".", "pidnet", ".", "get_seg_model", "(", "config", ",", "imgnet_pretrained", "=", "imgnet", ")", "\n", "\n", "batch_size", "=", "config", ".", "TRAIN", ".", "BATCH_SIZE_PER_GPU", "*", "len", "(", "gpus", ")", "\n", "# prepare data", "\n", "crop_size", "=", "(", "config", ".", "TRAIN", ".", "IMAGE_SIZE", "[", "1", "]", ",", "config", ".", "TRAIN", ".", "IMAGE_SIZE", "[", "0", "]", ")", "\n", "train_dataset", "=", "eval", "(", "'datasets.'", "+", "config", ".", "DATASET", ".", "DATASET", ")", "(", "\n", "root", "=", "config", ".", "DATASET", ".", "ROOT", ",", "\n", "list_path", "=", "config", ".", "DATASET", ".", "TRAIN_SET", ",", "\n", "num_classes", "=", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "\n", "multi_scale", "=", "config", ".", "TRAIN", ".", "MULTI_SCALE", ",", "\n", "flip", "=", "config", ".", "TRAIN", ".", "FLIP", ",", "\n", "ignore_label", "=", "config", ".", "TRAIN", ".", "IGNORE_LABEL", ",", "\n", "base_size", "=", "config", ".", "TRAIN", ".", "BASE_SIZE", ",", "\n", "crop_size", "=", "crop_size", ",", "\n", "scale_factor", "=", "config", ".", "TRAIN", ".", "SCALE_FACTOR", ")", "\n", "\n", "trainloader", "=", "torch", ".", "utils", ".", "data", ".", "DataLoader", "(", "\n", "train_dataset", ",", "\n", "batch_size", "=", "batch_size", ",", "\n", "shuffle", "=", "config", ".", "TRAIN", ".", "SHUFFLE", ",", "\n", "num_workers", "=", "config", ".", "WORKERS", ",", "\n", "pin_memory", "=", "False", ",", "\n", "drop_last", "=", "True", ")", "\n", "\n", "\n", "test_size", "=", "(", "config", ".", "TEST", ".", "IMAGE_SIZE", "[", "1", "]", ",", "config", ".", "TEST", ".", "IMAGE_SIZE", "[", "0", "]", ")", "\n", "test_dataset", "=", "eval", "(", "'datasets.'", "+", "config", ".", "DATASET", ".", "DATASET", ")", "(", "\n", "root", "=", "config", ".", "DATASET", ".", "ROOT", ",", "\n", "list_path", "=", "config", ".", "DATASET", ".", "TEST_SET", ",", "\n", "num_classes", "=", "config", ".", "DATASET", ".", "NUM_CLASSES", ",", "\n", "multi_scale", "=", "False", ",", "\n", "flip", "=", "False", ",", "\n", "ignore_label", "=", "config", ".", "TRAIN", ".", "IGNORE_LABEL", ",", "\n", "base_size", "=", "config", ".", "TEST", ".", "BASE_SIZE", ",", "\n", "crop_size", "=", "test_size", ")", "\n", "\n", "testloader", "=", "torch", ".", "utils", ".", "data", ".", "DataLoader", "(", "\n", "test_dataset", ",", "\n", "batch_size", "=", "config", ".", "TEST", ".", "BATCH_SIZE_PER_GPU", "*", "len", "(", "gpus", ")", ",", "\n", "shuffle", "=", "False", ",", "\n", "num_workers", "=", "config", ".", "WORKERS", ",", "\n", "pin_memory", "=", "False", ")", "\n", "\n", "# criterion", "\n", "if", "config", ".", "LOSS", ".", "USE_OHEM", ":", "\n", "        ", "sem_criterion", "=", "OhemCrossEntropy", "(", "ignore_label", "=", "config", ".", "TRAIN", ".", "IGNORE_LABEL", ",", "\n", "thres", "=", "config", ".", "LOSS", ".", "OHEMTHRES", ",", "\n", "min_kept", "=", "config", ".", "LOSS", ".", "OHEMKEEP", ",", "\n", "weight", "=", "train_dataset", ".", "class_weights", ")", "\n", "", "else", ":", "\n", "        ", "sem_criterion", "=", "CrossEntropy", "(", "ignore_label", "=", "config", ".", "TRAIN", ".", "IGNORE_LABEL", ",", "\n", "weight", "=", "train_dataset", ".", "class_weights", ")", "\n", "\n", "", "bd_criterion", "=", "BondaryLoss", "(", ")", "\n", "\n", "model", "=", "FullModel", "(", "model", ",", "sem_criterion", ",", "bd_criterion", ")", "\n", "model", "=", "nn", ".", "DataParallel", "(", "model", ",", "device_ids", "=", "gpus", ")", ".", "cuda", "(", ")", "\n", "\n", "# optimizer", "\n", "if", "config", ".", "TRAIN", ".", "OPTIMIZER", "==", "'sgd'", ":", "\n", "        ", "params_dict", "=", "dict", "(", "model", ".", "named_parameters", "(", ")", ")", "\n", "params", "=", "[", "{", "'params'", ":", "list", "(", "params_dict", ".", "values", "(", ")", ")", ",", "'lr'", ":", "config", ".", "TRAIN", ".", "LR", "}", "]", "\n", "\n", "optimizer", "=", "torch", ".", "optim", ".", "SGD", "(", "params", ",", "\n", "lr", "=", "config", ".", "TRAIN", ".", "LR", ",", "\n", "momentum", "=", "config", ".", "TRAIN", ".", "MOMENTUM", ",", "\n", "weight_decay", "=", "config", ".", "TRAIN", ".", "WD", ",", "\n", "nesterov", "=", "config", ".", "TRAIN", ".", "NESTEROV", ",", "\n", ")", "\n", "", "else", ":", "\n", "        ", "raise", "ValueError", "(", "'Only Support SGD optimizer'", ")", "\n", "\n", "", "epoch_iters", "=", "int", "(", "train_dataset", ".", "__len__", "(", ")", "/", "config", ".", "TRAIN", ".", "BATCH_SIZE_PER_GPU", "/", "len", "(", "gpus", ")", ")", "\n", "\n", "best_mIoU", "=", "0", "\n", "last_epoch", "=", "0", "\n", "flag_rm", "=", "config", ".", "TRAIN", ".", "RESUME", "\n", "if", "config", ".", "TRAIN", ".", "RESUME", ":", "\n", "        ", "model_state_file", "=", "os", ".", "path", ".", "join", "(", "final_output_dir", ",", "'checkpoint.pth.tar'", ")", "\n", "if", "os", ".", "path", ".", "isfile", "(", "model_state_file", ")", ":", "\n", "            ", "checkpoint", "=", "torch", ".", "load", "(", "model_state_file", ",", "map_location", "=", "{", "'cuda:0'", ":", "'cpu'", "}", ")", "\n", "best_mIoU", "=", "checkpoint", "[", "'best_mIoU'", "]", "\n", "last_epoch", "=", "checkpoint", "[", "'epoch'", "]", "\n", "dct", "=", "checkpoint", "[", "'state_dict'", "]", "\n", "\n", "model", ".", "module", ".", "model", ".", "load_state_dict", "(", "{", "k", ".", "replace", "(", "'model.'", ",", "''", ")", ":", "v", "for", "k", ",", "v", "in", "dct", ".", "items", "(", ")", "if", "k", ".", "startswith", "(", "'model.'", ")", "}", ")", "\n", "optimizer", ".", "load_state_dict", "(", "checkpoint", "[", "'optimizer'", "]", ")", "\n", "logger", ".", "info", "(", "\"=> loaded checkpoint (epoch {})\"", ".", "format", "(", "checkpoint", "[", "'epoch'", "]", ")", ")", "\n", "\n", "", "", "start", "=", "timeit", ".", "default_timer", "(", ")", "\n", "end_epoch", "=", "config", ".", "TRAIN", ".", "END_EPOCH", "\n", "num_iters", "=", "config", ".", "TRAIN", ".", "END_EPOCH", "*", "epoch_iters", "\n", "real_end", "=", "120", "+", "1", "if", "'camvid'", "in", "config", ".", "DATASET", ".", "TRAIN_SET", "else", "end_epoch", "\n", "\n", "for", "epoch", "in", "range", "(", "last_epoch", ",", "real_end", ")", ":", "\n", "\n", "        ", "current_trainloader", "=", "trainloader", "\n", "if", "current_trainloader", ".", "sampler", "is", "not", "None", "and", "hasattr", "(", "current_trainloader", ".", "sampler", ",", "'set_epoch'", ")", ":", "\n", "            ", "current_trainloader", ".", "sampler", ".", "set_epoch", "(", "epoch", ")", "\n", "\n", "", "train", "(", "config", ",", "epoch", ",", "config", ".", "TRAIN", ".", "END_EPOCH", ",", "\n", "epoch_iters", ",", "config", ".", "TRAIN", ".", "LR", ",", "num_iters", ",", "\n", "trainloader", ",", "optimizer", ",", "model", ",", "writer_dict", ")", "\n", "\n", "if", "flag_rm", "==", "1", "or", "(", "epoch", "%", "5", "==", "0", "and", "epoch", "<", "real_end", "-", "100", ")", "or", "(", "epoch", ">=", "real_end", "-", "100", ")", ":", "\n", "            ", "valid_loss", ",", "mean_IoU", ",", "IoU_array", "=", "validate", "(", "config", ",", "\n", "testloader", ",", "model", ",", "writer_dict", ")", "\n", "", "if", "flag_rm", "==", "1", ":", "\n", "            ", "flag_rm", "=", "0", "\n", "\n", "", "logger", ".", "info", "(", "'=> saving checkpoint to {}'", ".", "format", "(", "\n", "final_output_dir", "+", "'checkpoint.pth.tar'", ")", ")", "\n", "torch", ".", "save", "(", "{", "\n", "'epoch'", ":", "epoch", "+", "1", ",", "\n", "'best_mIoU'", ":", "best_mIoU", ",", "\n", "'state_dict'", ":", "model", ".", "module", ".", "state_dict", "(", ")", ",", "\n", "'optimizer'", ":", "optimizer", ".", "state_dict", "(", ")", ",", "\n", "}", ",", "os", ".", "path", ".", "join", "(", "final_output_dir", ",", "'checkpoint.pth.tar'", ")", ")", "\n", "if", "mean_IoU", ">", "best_mIoU", ":", "\n", "            ", "best_mIoU", "=", "mean_IoU", "\n", "torch", ".", "save", "(", "model", ".", "module", ".", "state_dict", "(", ")", ",", "\n", "os", ".", "path", ".", "join", "(", "final_output_dir", ",", "'best.pt'", ")", ")", "\n", "", "msg", "=", "'Loss: {:.3f}, MeanIU: {: 4.4f}, Best_mIoU: {: 4.4f}'", ".", "format", "(", "\n", "valid_loss", ",", "mean_IoU", ",", "best_mIoU", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "logging", ".", "info", "(", "IoU_array", ")", "\n", "\n", "\n", "\n", "", "torch", ".", "save", "(", "model", ".", "module", ".", "state_dict", "(", ")", ",", "\n", "os", ".", "path", ".", "join", "(", "final_output_dir", ",", "'final_state.pt'", ")", ")", "\n", "\n", "writer_dict", "[", "'writer'", "]", ".", "close", "(", ")", "\n", "end", "=", "timeit", ".", "default_timer", "(", ")", "\n", "logger", ".", "info", "(", "'Hours: %d'", "%", "np", ".", "int", "(", "(", "end", "-", "start", ")", "/", "3600", ")", ")", "\n", "logger", ".", "info", "(", "'Done'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.tools._init_paths.add_path": [[15, 18], ["sys.path.insert"], "function", ["None"], ["def", "add_path", "(", "path", ")", ":", "\n", "    ", "if", "path", "not", "in", "sys", ".", "path", ":", "\n", "        ", "sys", ".", "path", ".", "insert", "(", "0", ",", "path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.BasicBlock.__init__": [[15, 27], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "False", ")", ":", "\n", "        ", "super", "(", "BasicBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.BasicBlock.forward": [[28, 47], ["model_utils.BasicBlock.conv1", "model_utils.BasicBlock.bn1", "model_utils.BasicBlock.relu", "model_utils.BasicBlock.conv2", "model_utils.BasicBlock.bn2", "model_utils.BasicBlock.downsample", "model_utils.BasicBlock.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.Bottleneck.__init__": [[51, 65], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "True", ")", ":", "\n", "        ", "super", "(", "Bottleneck", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv3", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", "*", "self", ".", "expansion", ",", "kernel_size", "=", "1", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn3", "=", "BatchNorm2d", "(", "planes", "*", "self", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.Bottleneck.forward": [[66, 88], ["model_utils.Bottleneck.conv1", "model_utils.Bottleneck.bn1", "model_utils.Bottleneck.relu", "model_utils.Bottleneck.conv2", "model_utils.Bottleneck.bn2", "model_utils.Bottleneck.relu", "model_utils.Bottleneck.conv3", "model_utils.Bottleneck.bn3", "model_utils.Bottleneck.downsample", "model_utils.Bottleneck.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv3", "(", "out", ")", "\n", "out", "=", "self", ".", "bn3", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.segmenthead.__init__": [[91, 99], ["torch.Module.__init__", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "interplanes", ",", "outplanes", ",", "scale_factor", "=", "None", ")", ":", "\n", "        ", "super", "(", "segmenthead", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "interplanes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "interplanes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "interplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", "\n", "self", ".", "scale_factor", "=", "scale_factor", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.segmenthead.forward": [[100, 113], ["model_utils.segmenthead.conv1", "model_utils.segmenthead.conv2", "model_utils.segmenthead.relu", "model_utils.segmenthead.relu", "torch.interpolate", "torch.interpolate", "torch.interpolate", "model_utils.segmenthead.bn1", "model_utils.segmenthead.bn2"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "x", "=", "self", ".", "conv1", "(", "self", ".", "relu", "(", "self", ".", "bn1", "(", "x", ")", ")", ")", "\n", "out", "=", "self", ".", "conv2", "(", "self", ".", "relu", "(", "self", ".", "bn2", "(", "x", ")", ")", ")", "\n", "\n", "if", "self", ".", "scale_factor", "is", "not", "None", ":", "\n", "            ", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "*", "self", ".", "scale_factor", "\n", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "*", "self", ".", "scale_factor", "\n", "out", "=", "F", ".", "interpolate", "(", "out", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.DAPPM.__init__": [[115, 172], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "branch_planes", ",", "outplanes", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "DAPPM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "bn_mom", "=", "0.1", "\n", "self", ".", "scale1", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "5", ",", "stride", "=", "2", ",", "padding", "=", "2", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale2", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "9", ",", "stride", "=", "4", ",", "padding", "=", "4", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale3", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "17", ",", "stride", "=", "8", ",", "padding", "=", "8", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale4", "=", "nn", ".", "Sequential", "(", "nn", ".", "AdaptiveAvgPool2d", "(", "(", "1", ",", "1", ")", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale0", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process1", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process2", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process3", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process4", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "compression", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", "*", "5", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "5", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.DAPPM.forward": [[174, 195], ["x_list.append", "x_list.append", "x_list.append", "x_list.append", "x_list.append", "model_utils.DAPPM.scale0", "model_utils.DAPPM.process1", "model_utils.DAPPM.process2", "model_utils.DAPPM.process3", "model_utils.DAPPM.process4", "model_utils.DAPPM.compression", "model_utils.DAPPM.shortcut", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "model_utils.DAPPM.scale1", "model_utils.DAPPM.scale2", "model_utils.DAPPM.scale3", "model_utils.DAPPM.scale4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "\n", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "\n", "x_list", "=", "[", "]", "\n", "\n", "x_list", ".", "append", "(", "self", ".", "scale0", "(", "x", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process1", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale1", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "0", "]", ")", ")", ")", "\n", "x_list", ".", "append", "(", "(", "self", ".", "process2", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale2", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "1", "]", ")", ")", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process3", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale3", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "2", "]", ")", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process4", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale4", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "3", "]", ")", ")", ")", "\n", "\n", "out", "=", "self", ".", "compression", "(", "torch", ".", "cat", "(", "x_list", ",", "1", ")", ")", "+", "self", ".", "shortcut", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.PAPPM.__init__": [[197, 244], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "branch_planes", ",", "outplanes", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "PAPPM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "bn_mom", "=", "0.1", "\n", "self", ".", "scale1", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "5", ",", "stride", "=", "2", ",", "padding", "=", "2", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale2", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "9", ",", "stride", "=", "4", ",", "padding", "=", "4", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale3", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "17", ",", "stride", "=", "8", ",", "padding", "=", "8", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale4", "=", "nn", ".", "Sequential", "(", "nn", ".", "AdaptiveAvgPool2d", "(", "(", "1", ",", "1", ")", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "self", ".", "scale0", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "self", ".", "scale_process", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", "*", "4", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "4", ",", "branch_planes", "*", "4", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "groups", "=", "4", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "\n", "self", ".", "compression", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", "*", "5", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "5", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.PAPPM.forward": [[247, 266], ["model_utils.PAPPM.scale0", "scale_list.append", "scale_list.append", "scale_list.append", "scale_list.append", "model_utils.PAPPM.scale_process", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "model_utils.PAPPM.compression", "model_utils.PAPPM.shortcut", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "model_utils.PAPPM.scale1", "model_utils.PAPPM.scale2", "model_utils.PAPPM.scale3", "model_utils.PAPPM.scale4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "\n", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "\n", "scale_list", "=", "[", "]", "\n", "\n", "x_", "=", "self", ".", "scale0", "(", "x", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale1", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale2", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale3", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale4", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "\n", "scale_out", "=", "self", ".", "scale_process", "(", "torch", ".", "cat", "(", "scale_list", ",", "1", ")", ")", "\n", "\n", "out", "=", "self", ".", "compression", "(", "torch", ".", "cat", "(", "[", "x_", ",", "scale_out", "]", ",", "1", ")", ")", "+", "self", ".", "shortcut", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.PagFM.__init__": [[269, 291], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "mid_channels", ",", "after_relu", "=", "False", ",", "with_channel", "=", "False", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "PagFM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "with_channel", "=", "with_channel", "\n", "self", ".", "after_relu", "=", "after_relu", "\n", "self", ".", "f_x", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "mid_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "mid_channels", ")", "\n", ")", "\n", "self", ".", "f_y", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "mid_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "mid_channels", ")", "\n", ")", "\n", "if", "with_channel", ":", "\n", "            ", "self", ".", "up", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "mid_channels", ",", "in_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "in_channels", ")", "\n", ")", "\n", "", "if", "after_relu", ":", "\n", "            ", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.PagFM.forward": [[292, 313], ["model_utils.PagFM.size", "model_utils.PagFM.f_y", "torch.interpolate", "torch.interpolate", "torch.interpolate", "model_utils.PagFM.f_x", "torch.interpolate", "torch.interpolate", "torch.interpolate", "model_utils.PagFM.relu", "model_utils.PagFM.relu", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils.PagFM.up", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ",", "x", ",", "y", ")", ":", "\n", "        ", "input_size", "=", "x", ".", "size", "(", ")", "\n", "if", "self", ".", "after_relu", ":", "\n", "            ", "y", "=", "self", ".", "relu", "(", "y", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "\n", "", "y_q", "=", "self", ".", "f_y", "(", "y", ")", "\n", "y_q", "=", "F", ".", "interpolate", "(", "y_q", ",", "size", "=", "[", "input_size", "[", "2", "]", ",", "input_size", "[", "3", "]", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "x_k", "=", "self", ".", "f_x", "(", "x", ")", "\n", "\n", "if", "self", ".", "with_channel", ":", "\n", "            ", "sim_map", "=", "torch", ".", "sigmoid", "(", "self", ".", "up", "(", "x_k", "*", "y_q", ")", ")", "\n", "", "else", ":", "\n", "            ", "sim_map", "=", "torch", ".", "sigmoid", "(", "torch", ".", "sum", "(", "x_k", "*", "y_q", ",", "dim", "=", "1", ")", ".", "unsqueeze", "(", "1", ")", ")", "\n", "\n", "", "y", "=", "F", ".", "interpolate", "(", "y", ",", "size", "=", "[", "input_size", "[", "2", "]", ",", "input_size", "[", "3", "]", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "x", "=", "(", "1", "-", "sim_map", ")", "*", "x", "+", "sim_map", "*", "y", "\n", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.Light_Bag.__init__": [[315, 326], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "out_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "Light_Bag", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv_p", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "out_channels", ")", "\n", ")", "\n", "self", ".", "conv_i", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "out_channels", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.Light_Bag.forward": [[328, 335], ["torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils.Light_Bag.conv_p", "model_utils.Light_Bag.conv_i"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "p", ",", "i", ",", "d", ")", ":", "\n", "        ", "edge_att", "=", "torch", ".", "sigmoid", "(", "d", ")", "\n", "\n", "p_add", "=", "self", ".", "conv_p", "(", "(", "1", "-", "edge_att", ")", "*", "i", "+", "p", ")", "\n", "i_add", "=", "self", ".", "conv_i", "(", "i", "+", "edge_att", "*", "p", ")", "\n", "\n", "return", "p_add", "+", "i_add", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.DDFMv2.__init__": [[338, 353], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "out_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "DDFMv2", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv_p", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "in_channels", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "out_channels", ")", "\n", ")", "\n", "self", ".", "conv_i", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "in_channels", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm", "(", "out_channels", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.DDFMv2.forward": [[355, 362], ["torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils.DDFMv2.conv_p", "model_utils.DDFMv2.conv_i"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "p", ",", "i", ",", "d", ")", ":", "\n", "        ", "edge_att", "=", "torch", ".", "sigmoid", "(", "d", ")", "\n", "\n", "p_add", "=", "self", ".", "conv_p", "(", "(", "1", "-", "edge_att", ")", "*", "i", "+", "p", ")", "\n", "i_add", "=", "self", ".", "conv_i", "(", "i", "+", "edge_att", "*", "p", ")", "\n", "\n", "return", "p_add", "+", "i_add", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.Bag.__init__": [[364, 372], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "out_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "Bag", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "conv", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "in_channels", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.model_utils.Bag.forward": [[375, 378], ["torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils.Bag.conv"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "p", ",", "i", ",", "d", ")", ":", "\n", "        ", "edge_att", "=", "torch", ".", "sigmoid", "(", "d", ")", "\n", "return", "self", ".", "conv", "(", "edge_att", "*", "p", "+", "(", "1", "-", "edge_att", ")", "*", "i", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.pidnet.PIDNet.__init__": [[19, 101], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReLU", "torch.ReLU", "torch.ReLU", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "model_utils.PagFM", "model_utils.PagFM", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "pidnet.PIDNet._make_layer", "model_utils.segmenthead", "pidnet.PIDNet.modules", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "pidnet.PIDNet._make_single_layer", "pidnet.PIDNet._make_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "model_utils.PAPPM", "model_utils.Light_Bag", "pidnet.PIDNet._make_single_layer", "pidnet.PIDNet._make_single_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "model_utils.DAPPM", "model_utils.Bag", "model_utils.segmenthead", "model_utils.segmenthead", "isinstance", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "isinstance", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer"], ["    ", "def", "__init__", "(", "self", ",", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "19", ",", "planes", "=", "64", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", ":", "\n", "        ", "super", "(", "PIDNet", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "augment", "=", "augment", "\n", "\n", "# I Branch", "\n", "self", ".", "conv1", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "3", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", ")", "\n", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "layer1", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", ",", "planes", ",", "m", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", ",", "planes", "*", "2", ",", "m", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "4", ",", "n", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "4", ",", "planes", "*", "8", ",", "n", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer5", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "8", ",", "planes", "*", "8", ",", "2", ",", "stride", "=", "2", ")", "\n", "\n", "# P Branch", "\n", "self", ".", "compression3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", "*", "2", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "2", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "self", ".", "compression4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "planes", "*", "2", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "2", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "pag3", "=", "PagFM", "(", "planes", "*", "2", ",", "planes", ")", "\n", "self", ".", "pag4", "=", "PagFM", "(", "planes", "*", "2", ",", "planes", ")", "\n", "\n", "self", ".", "layer3_", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "m", ")", "\n", "self", ".", "layer4_", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "m", ")", "\n", "self", ".", "layer5_", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "1", ")", "\n", "\n", "# D Branch", "\n", "if", "m", "==", "2", ":", "\n", "            ", "self", ".", "layer3_d", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", ")", "\n", "self", ".", "layer4_d", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", ",", "planes", ",", "1", ")", "\n", "self", ".", "diff3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "diff4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "planes", "*", "2", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "2", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "spp", "=", "PAPPM", "(", "planes", "*", "16", ",", "ppm_planes", ",", "planes", "*", "4", ")", "\n", "self", ".", "dfm", "=", "Light_Bag", "(", "planes", "*", "4", ",", "planes", "*", "4", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "layer3_d", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ")", "\n", "self", ".", "layer4_d", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ")", "\n", "self", ".", "diff3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", "*", "2", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "2", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "diff4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "planes", "*", "2", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "2", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "spp", "=", "DAPPM", "(", "planes", "*", "16", ",", "ppm_planes", ",", "planes", "*", "4", ")", "\n", "self", ".", "dfm", "=", "Bag", "(", "planes", "*", "4", ",", "planes", "*", "4", ")", "\n", "\n", "", "self", ".", "layer5_d", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "1", ")", "\n", "\n", "# Prediction Head", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "self", ".", "seghead_p", "=", "segmenthead", "(", "planes", "*", "2", ",", "head_planes", ",", "num_classes", ")", "\n", "self", ".", "seghead_d", "=", "segmenthead", "(", "planes", "*", "2", ",", "planes", ",", "1", ")", "\n", "\n", "", "self", ".", "final_layer", "=", "segmenthead", "(", "planes", "*", "4", ",", "head_planes", ",", "num_classes", ")", "\n", "\n", "\n", "for", "m", "in", "self", ".", "modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "m", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "m", ".", "weight", ",", "mode", "=", "'fan_out'", ",", "nonlinearity", "=", "'relu'", ")", "\n", "", "elif", "isinstance", "(", "m", ",", "BatchNorm2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "constant_", "(", "m", ".", "weight", ",", "1", ")", "\n", "nn", ".", "init", ".", "constant_", "(", "m", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.pidnet.PIDNet._make_layer": [[103, 122], ["layers.append", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "block", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "layers.append", "layers.append", "block", "block"], "methods", ["None"], ["", "", "", "def", "_make_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "", "layers", "=", "[", "]", "\n", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ")", ")", "\n", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "for", "i", "in", "range", "(", "1", ",", "blocks", ")", ":", "\n", "            ", "if", "i", "==", "(", "blocks", "-", "1", ")", ":", "\n", "                ", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "no_relu", "=", "True", ")", ")", "\n", "", "else", ":", "\n", "                ", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "no_relu", "=", "False", ")", ")", "\n", "\n", "", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.pidnet.PIDNet._make_single_layer": [[123, 135], ["block", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["None"], ["", "def", "_make_single_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "", "layer", "=", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ",", "no_relu", "=", "True", ")", "\n", "\n", "return", "layer", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.pidnet.PIDNet.forward": [[136, 183], ["pidnet.PIDNet.conv1", "pidnet.PIDNet.layer1", "pidnet.PIDNet.relu", "pidnet.PIDNet.layer3_", "pidnet.PIDNet.layer3_d", "pidnet.PIDNet.relu", "pidnet.PIDNet.pag3", "pidnet.PIDNet.relu", "pidnet.PIDNet.layer4_", "pidnet.PIDNet.layer4_d", "pidnet.PIDNet.pag4", "pidnet.PIDNet.layer5_", "pidnet.PIDNet.layer5_d", "torch.interpolate", "torch.interpolate", "torch.interpolate", "pidnet.PIDNet.final_layer", "pidnet.PIDNet.layer2", "pidnet.PIDNet.layer3", "pidnet.PIDNet.compression3", "torch.interpolate", "torch.interpolate", "torch.interpolate", "pidnet.PIDNet.layer4", "pidnet.PIDNet.relu", "pidnet.PIDNet.relu", "pidnet.PIDNet.compression4", "torch.interpolate", "torch.interpolate", "torch.interpolate", "pidnet.PIDNet.relu", "pidnet.PIDNet.relu", "pidnet.PIDNet.spp", "pidnet.PIDNet.dfm", "pidnet.PIDNet.seghead_p", "pidnet.PIDNet.seghead_d", "pidnet.PIDNet.relu", "pidnet.PIDNet.diff3", "pidnet.PIDNet.diff4", "pidnet.PIDNet.layer5"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "width_output", "=", "x", ".", "shape", "[", "-", "1", "]", "//", "8", "\n", "height_output", "=", "x", ".", "shape", "[", "-", "2", "]", "//", "8", "\n", "\n", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "layer1", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "self", ".", "layer2", "(", "self", ".", "relu", "(", "x", ")", ")", ")", "\n", "x_", "=", "self", ".", "layer3_", "(", "x", ")", "\n", "x_d", "=", "self", ".", "layer3_d", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "relu", "(", "self", ".", "layer3", "(", "x", ")", ")", "\n", "x_", "=", "self", ".", "pag3", "(", "x_", ",", "self", ".", "compression3", "(", "x", ")", ")", "\n", "x_d", "=", "x_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff3", "(", "x", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "temp_p", "=", "x_", "\n", "\n", "", "x", "=", "self", ".", "relu", "(", "self", ".", "layer4", "(", "x", ")", ")", "\n", "x_", "=", "self", ".", "layer4_", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_d", "=", "self", ".", "layer4_d", "(", "self", ".", "relu", "(", "x_d", ")", ")", "\n", "\n", "x_", "=", "self", ".", "pag4", "(", "x_", ",", "self", ".", "compression4", "(", "x", ")", ")", "\n", "x_d", "=", "x_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff4", "(", "x", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "temp_d", "=", "x_d", "\n", "\n", "", "x_", "=", "self", ".", "layer5_", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_d", "=", "self", ".", "layer5_d", "(", "self", ".", "relu", "(", "x_d", ")", ")", "\n", "x", "=", "F", ".", "interpolate", "(", "\n", "self", ".", "spp", "(", "self", ".", "layer5", "(", "x", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "\n", "x_", "=", "self", ".", "final_layer", "(", "self", ".", "dfm", "(", "x_", ",", "x", ",", "x_d", ")", ")", "\n", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "x_extra_p", "=", "self", ".", "seghead_p", "(", "temp_p", ")", "\n", "x_extra_d", "=", "self", ".", "seghead_d", "(", "temp_d", ")", "\n", "return", "[", "x_extra_p", ",", "x_", ",", "x_extra_d", "]", "\n", "", "else", ":", "\n", "            ", "return", "x_", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.pidnet.get_seg_model": [[184, 217], ["pidnet.PIDNet", "PIDNet.state_dict", "model.state_dict.update", "logging.info", "logging.info", "logging.info", "PIDNet.load_state_dict", "torch.load", "torch.load", "torch.load", "PIDNet.state_dict", "logging.info", "logging.info", "logging.info", "model.state_dict.update", "PIDNet.load_state_dict", "pidnet.PIDNet", "pidnet.PIDNet", "torch.load", "torch.load", "torch.load", "len", "len", "pretrained_state.items", "torch.load.items"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update"], ["", "", "", "def", "get_seg_model", "(", "cfg", ",", "imgnet_pretrained", ")", ":", "\n", "\n", "    ", "if", "'s'", "in", "cfg", ".", "MODEL", ".", "NAME", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "cfg", ".", "DATASET", ".", "NUM_CLASSES", ",", "planes", "=", "32", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", "\n", "", "elif", "'m'", "in", "cfg", ".", "MODEL", ".", "NAME", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "cfg", ".", "DATASET", ".", "NUM_CLASSES", ",", "planes", "=", "64", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", "\n", "", "else", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "3", ",", "n", "=", "4", ",", "num_classes", "=", "cfg", ".", "DATASET", ".", "NUM_CLASSES", ",", "planes", "=", "64", ",", "ppm_planes", "=", "112", ",", "head_planes", "=", "256", ",", "augment", "=", "True", ")", "\n", "\n", "", "if", "imgnet_pretrained", ":", "\n", "        ", "pretrained_state", "=", "torch", ".", "load", "(", "cfg", ".", "MODEL", ".", "PRETRAINED", ",", "map_location", "=", "'cpu'", ")", "[", "'state_dict'", "]", "\n", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "pretrained_state", "=", "{", "k", ":", "v", "for", "k", ",", "v", "in", "pretrained_state", ".", "items", "(", ")", "if", "(", "k", "in", "model_dict", "and", "v", ".", "shape", "==", "model_dict", "[", "k", "]", ".", "shape", ")", "}", "\n", "model_dict", ".", "update", "(", "pretrained_state", ")", "\n", "msg", "=", "'Loaded {} parameters!'", ".", "format", "(", "len", "(", "pretrained_state", ")", ")", "\n", "logging", ".", "info", "(", "'Attention!!!'", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "logging", ".", "info", "(", "'Over!!!'", ")", "\n", "model", ".", "load_state_dict", "(", "model_dict", ",", "strict", "=", "False", ")", "\n", "", "else", ":", "\n", "        ", "pretrained_dict", "=", "torch", ".", "load", "(", "cfg", ".", "MODEL", ".", "PRETRAINED", ",", "map_location", "=", "'cpu'", ")", "\n", "if", "'state_dict'", "in", "pretrained_dict", ":", "\n", "            ", "pretrained_dict", "=", "pretrained_dict", "[", "'state_dict'", "]", "\n", "", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "pretrained_dict", "=", "{", "k", "[", "6", ":", "]", ":", "v", "for", "k", ",", "v", "in", "pretrained_dict", ".", "items", "(", ")", "if", "(", "k", "[", "6", ":", "]", "in", "model_dict", "and", "v", ".", "shape", "==", "model_dict", "[", "k", "[", "6", ":", "]", "]", ".", "shape", ")", "}", "\n", "msg", "=", "'Loaded {} parameters!'", ".", "format", "(", "len", "(", "pretrained_dict", ")", ")", "\n", "logging", ".", "info", "(", "'Attention!!!'", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "logging", ".", "info", "(", "'Over!!!'", ")", "\n", "model_dict", ".", "update", "(", "pretrained_dict", ")", "\n", "model", ".", "load_state_dict", "(", "model_dict", ",", "strict", "=", "False", ")", "\n", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.models.pidnet.get_pred_model": [[218, 228], ["pidnet.PIDNet", "pidnet.PIDNet", "pidnet.PIDNet"], "function", ["None"], ["", "def", "get_pred_model", "(", "name", ",", "num_classes", ")", ":", "\n", "\n", "    ", "if", "'s'", "in", "name", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "num_classes", ",", "planes", "=", "32", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "False", ")", "\n", "", "elif", "'m'", "in", "name", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "num_classes", ",", "planes", "=", "64", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "False", ")", "\n", "", "else", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "3", ",", "n", "=", "4", ",", "num_classes", "=", "num_classes", ",", "planes", "=", "64", ",", "ppm_planes", "=", "112", ",", "head_planes", "=", "256", ",", "augment", "=", "False", ")", "\n", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.BasicBlock.__init__": [[28, 38], ["torch.Module.__init__", "ddrnet_23_adb_bag.conv3x3", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "ddrnet_23_adb_bag.conv3x3", "BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "False", ")", ":", "\n", "        ", "super", "(", "BasicBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "conv3x3", "(", "inplanes", ",", "planes", ",", "stride", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "conv3x3", "(", "planes", ",", "planes", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.BasicBlock.forward": [[39, 58], ["ddrnet_23_adb_bag.BasicBlock.conv1", "ddrnet_23_adb_bag.BasicBlock.bn1", "ddrnet_23_adb_bag.BasicBlock.relu", "ddrnet_23_adb_bag.BasicBlock.conv2", "ddrnet_23_adb_bag.BasicBlock.bn2", "ddrnet_23_adb_bag.BasicBlock.downsample", "ddrnet_23_adb_bag.BasicBlock.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.Bottleneck.__init__": [[62, 76], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "True", ")", ":", "\n", "        ", "super", "(", "Bottleneck", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv3", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", "*", "self", ".", "expansion", ",", "kernel_size", "=", "1", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn3", "=", "BatchNorm2d", "(", "planes", "*", "self", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.Bottleneck.forward": [[77, 99], ["ddrnet_23_adb_bag.Bottleneck.conv1", "ddrnet_23_adb_bag.Bottleneck.bn1", "ddrnet_23_adb_bag.Bottleneck.relu", "ddrnet_23_adb_bag.Bottleneck.conv2", "ddrnet_23_adb_bag.Bottleneck.bn2", "ddrnet_23_adb_bag.Bottleneck.relu", "ddrnet_23_adb_bag.Bottleneck.conv3", "ddrnet_23_adb_bag.Bottleneck.bn3", "ddrnet_23_adb_bag.Bottleneck.downsample", "ddrnet_23_adb_bag.Bottleneck.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv3", "(", "out", ")", "\n", "out", "=", "self", ".", "bn3", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DAPPM.__init__": [[101, 157], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "branch_planes", ",", "outplanes", ")", ":", "\n", "        ", "super", "(", "DAPPM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "scale1", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "5", ",", "stride", "=", "2", ",", "padding", "=", "2", ")", ",", "\n", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale2", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "9", ",", "stride", "=", "4", ",", "padding", "=", "4", ")", ",", "\n", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale3", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "17", ",", "stride", "=", "8", ",", "padding", "=", "8", ")", ",", "\n", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale4", "=", "nn", ".", "Sequential", "(", "nn", ".", "AdaptiveAvgPool2d", "(", "(", "1", ",", "1", ")", ")", ",", "\n", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale0", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process1", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process2", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process3", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process4", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "compression", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "branch_planes", "*", "5", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "5", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DAPPM.forward": [[159, 182], ["x_list.append", "x_list.append", "x_list.append", "x_list.append", "x_list.append", "ddrnet_23_adb_bag.DAPPM.scale0", "ddrnet_23_adb_bag.DAPPM.process1", "ddrnet_23_adb_bag.DAPPM.process2", "ddrnet_23_adb_bag.DAPPM.process3", "ddrnet_23_adb_bag.DAPPM.process4", "ddrnet_23_adb_bag.DAPPM.compression", "ddrnet_23_adb_bag.DAPPM.shortcut", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "ddrnet_23_adb_bag.DAPPM.scale1", "ddrnet_23_adb_bag.DAPPM.scale2", "ddrnet_23_adb_bag.DAPPM.scale3", "ddrnet_23_adb_bag.DAPPM.scale4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "#x = self.downsample(x)", "\n", "        ", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "\n", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "\n", "x_list", "=", "[", "]", "\n", "\n", "x_list", ".", "append", "(", "self", ".", "scale0", "(", "x", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process1", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale1", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "0", "]", ")", ")", ")", "\n", "x_list", ".", "append", "(", "(", "self", ".", "process2", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale2", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "1", "]", ")", ")", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process3", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale3", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "2", "]", ")", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process4", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale4", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "3", "]", ")", ")", ")", "\n", "\n", "out", "=", "self", ".", "compression", "(", "torch", ".", "cat", "(", "x_list", ",", "1", ")", ")", "+", "self", ".", "shortcut", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.segmenthead.__init__": [[186, 194], ["torch.Module.__init__", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "interplanes", ",", "outplanes", ",", "scale_factor", "=", "None", ")", ":", "\n", "        ", "super", "(", "segmenthead", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "interplanes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "interplanes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "interplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", "\n", "self", ".", "scale_factor", "=", "scale_factor", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.segmenthead.forward": [[195, 208], ["ddrnet_23_adb_bag.segmenthead.conv1", "ddrnet_23_adb_bag.segmenthead.conv2", "ddrnet_23_adb_bag.segmenthead.relu", "ddrnet_23_adb_bag.segmenthead.relu", "torch.interpolate", "torch.interpolate", "torch.interpolate", "ddrnet_23_adb_bag.segmenthead.bn1", "ddrnet_23_adb_bag.segmenthead.bn2"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "x", "=", "self", ".", "conv1", "(", "self", ".", "relu", "(", "self", ".", "bn1", "(", "x", ")", ")", ")", "\n", "out", "=", "self", ".", "conv2", "(", "self", ".", "relu", "(", "self", ".", "bn2", "(", "x", ")", ")", ")", "\n", "\n", "if", "self", ".", "scale_factor", "is", "not", "None", ":", "\n", "            ", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "*", "self", ".", "scale_factor", "\n", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "*", "self", ".", "scale_factor", "\n", "out", "=", "F", ".", "interpolate", "(", "out", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DualResNet.__init__": [[211, 293], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReLU", "torch.ReLU", "torch.ReLU", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_single_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_single_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DualResNet._make_layer", "ddrnet_23_adb_bag.DAPPM", "model_utils.DFM3", "ddrnet_23_adb_bag.segmenthead", "ddrnet_23_adb_bag.DualResNet.modules", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "ddrnet_23_adb_bag.segmenthead", "ddrnet_23_adb_bag.segmenthead", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "isinstance", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer"], ["    ", "def", "__init__", "(", "self", ",", "block", ",", "layers", ",", "num_classes", "=", "19", ",", "planes", "=", "64", ",", "spp_planes", "=", "128", ",", "head_planes", "=", "128", ",", "augment", "=", "False", ")", ":", "\n", "        ", "super", "(", "DualResNet", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "highres_planes", "=", "planes", "*", "2", "\n", "self", ".", "augment", "=", "augment", "\n", "\n", "self", ".", "conv1", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "3", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", ")", "\n", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "False", ")", "\n", "self", ".", "layer1", "=", "self", ".", "_make_layer", "(", "block", ",", "planes", ",", "planes", ",", "layers", "[", "0", "]", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer", "(", "block", ",", "planes", ",", "planes", "*", "2", ",", "layers", "[", "1", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer", "(", "block", ",", "planes", "*", "2", ",", "planes", "*", "4", ",", "layers", "[", "2", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer", "(", "block", ",", "planes", "*", "4", ",", "planes", "*", "8", ",", "layers", "[", "3", "]", ",", "stride", "=", "2", ")", "\n", "\n", "self", ".", "compression3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "highres_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "highres_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "self", ".", "compression4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "highres_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "highres_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "self", ".", "down3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "highres_planes", ",", "planes", "*", "4", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "4", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "self", ".", "down4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "highres_planes", ",", "planes", "*", "4", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "4", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", "*", "8", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "planes", "*", "8", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "self", ".", "diff3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "highres_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "highres_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "diff4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "highres_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "highres_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "\n", "self", ".", "layer3_", "=", "self", ".", "_make_layer", "(", "block", ",", "planes", "*", "2", ",", "highres_planes", ",", "2", ")", "\n", "self", ".", "layer3_d", "=", "self", ".", "_make_single_layer", "(", "block", ",", "planes", "*", "2", ",", "highres_planes", ")", "\n", "\n", "self", ".", "layer4_", "=", "self", ".", "_make_layer", "(", "block", ",", "highres_planes", ",", "highres_planes", ",", "2", ")", "\n", "self", ".", "layer4_d", "=", "self", ".", "_make_single_layer", "(", "block", ",", "highres_planes", ",", "highres_planes", ")", "\n", "\n", "self", ".", "layer5_", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "highres_planes", ",", "highres_planes", ",", "1", ")", "\n", "self", ".", "layer5_d", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "highres_planes", ",", "highres_planes", ",", "1", ")", "\n", "\n", "self", ".", "layer5", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "8", ",", "planes", "*", "8", ",", "1", ",", "stride", "=", "2", ")", "\n", "\n", "self", ".", "spp", "=", "DAPPM", "(", "planes", "*", "16", ",", "spp_planes", ",", "planes", "*", "4", ")", "\n", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "self", ".", "seghead_extra", "=", "segmenthead", "(", "highres_planes", ",", "head_planes", ",", "num_classes", ")", "\n", "self", ".", "seghead_bd", "=", "segmenthead", "(", "highres_planes", ",", "highres_planes", "//", "2", ",", "1", ")", "\n", "\n", "#self.bag = model_utils.BagFM(planes * 4, planes * 2, planes * 4)   ", "\n", "", "self", ".", "dfm", "=", "model_utils", ".", "DFM3", "(", "planes", "*", "4", ",", "planes", "*", "4", ")", "\n", "self", ".", "final_layer", "=", "segmenthead", "(", "planes", "*", "4", ",", "head_planes", ",", "num_classes", ")", "\n", "\n", "\n", "for", "m", "in", "self", ".", "modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "m", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "m", ".", "weight", ",", "mode", "=", "'fan_out'", ",", "nonlinearity", "=", "'relu'", ")", "\n", "", "elif", "isinstance", "(", "m", ",", "BatchNorm2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "constant_", "(", "m", ".", "weight", ",", "1", ")", "\n", "nn", ".", "init", ".", "constant_", "(", "m", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DualResNet._make_layer": [[295, 314], ["layers.append", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "block", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "layers.append", "layers.append", "block", "block"], "methods", ["None"], ["", "", "", "def", "_make_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "", "layers", "=", "[", "]", "\n", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ")", ")", "\n", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "for", "i", "in", "range", "(", "1", ",", "blocks", ")", ":", "\n", "            ", "if", "i", "==", "(", "blocks", "-", "1", ")", ":", "\n", "                ", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "no_relu", "=", "True", ")", ")", "\n", "", "else", ":", "\n", "                ", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "no_relu", "=", "False", ")", ")", "\n", "\n", "", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DualResNet._make_single_layer": [[315, 327], ["block", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["None"], ["", "def", "_make_single_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "", "layer", "=", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ",", "no_relu", "=", "True", ")", "\n", "\n", "return", "layer", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DualResNet.forward": [[328, 391], ["ddrnet_23_adb_bag.DualResNet.conv1", "ddrnet_23_adb_bag.DualResNet.layer1", "layers.append", "ddrnet_23_adb_bag.DualResNet.layer2", "layers.append", "ddrnet_23_adb_bag.DualResNet.layer3", "layers.append", "ddrnet_23_adb_bag.DualResNet.layer3_", "ddrnet_23_adb_bag.DualResNet.layer3_d", "ddrnet_23_adb_bag.DualResNet.layer4", "layers.append", "ddrnet_23_adb_bag.DualResNet.layer4_", "ddrnet_23_adb_bag.DualResNet.layer4_d", "ddrnet_23_adb_bag.DualResNet.layer5_", "ddrnet_23_adb_bag.DualResNet.layer5_d", "torch.interpolate", "torch.interpolate", "torch.interpolate", "ddrnet_23_adb_bag.DualResNet.final_layer", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.down3", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.down4", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.spp", "ddrnet_23_adb_bag.DualResNet.dfm", "ddrnet_23_adb_bag.DualResNet.seghead_extra", "ddrnet_23_adb_bag.DualResNet.seghead_bd", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.compression3", "ddrnet_23_adb_bag.DualResNet.diff3", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.compression4", "ddrnet_23_adb_bag.DualResNet.diff4", "ddrnet_23_adb_bag.DualResNet.layer5", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu", "ddrnet_23_adb_bag.DualResNet.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "width_output", "=", "x", ".", "shape", "[", "-", "1", "]", "//", "8", "\n", "height_output", "=", "x", ".", "shape", "[", "-", "2", "]", "//", "8", "\n", "layers", "=", "[", "]", "\n", "\n", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "layer1", "(", "x", ")", "\n", "layers", ".", "append", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "layer2", "(", "self", ".", "relu", "(", "x", ")", ")", "\n", "layers", ".", "append", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "layer3", "(", "self", ".", "relu", "(", "x", ")", ")", "\n", "layers", ".", "append", "(", "x", ")", "\n", "x_", "=", "self", ".", "layer3_", "(", "self", ".", "relu", "(", "layers", "[", "1", "]", ")", ")", "\n", "x_d", "=", "self", ".", "layer3_d", "(", "self", ".", "relu", "(", "layers", "[", "1", "]", ")", ")", "\n", "\n", "x", "=", "x", "+", "self", ".", "down3", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_", "=", "x_", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "compression3", "(", "self", ".", "relu", "(", "layers", "[", "2", "]", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "x_d", "=", "x_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff3", "(", "self", ".", "relu", "(", "layers", "[", "2", "]", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "temp_p", "=", "x_", "\n", "\n", "", "x", "=", "self", ".", "layer4", "(", "self", ".", "relu", "(", "x", ")", ")", "\n", "layers", ".", "append", "(", "x", ")", "\n", "x_", "=", "self", ".", "layer4_", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_d", "=", "self", ".", "layer4_d", "(", "self", ".", "relu", "(", "x_d", ")", ")", "\n", "\n", "x", "=", "x", "+", "self", ".", "down4", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_", "=", "x_", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "compression4", "(", "self", ".", "relu", "(", "layers", "[", "3", "]", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "x_d", "=", "x_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff4", "(", "self", ".", "relu", "(", "layers", "[", "3", "]", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "temp_d", "=", "x_d", "\n", "\n", "", "x_", "=", "self", ".", "layer5_", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_d", "=", "self", ".", "layer5_d", "(", "self", ".", "relu", "(", "x_d", ")", ")", "\n", "x", "=", "F", ".", "interpolate", "(", "\n", "self", ".", "spp", "(", "self", ".", "layer5", "(", "self", ".", "relu", "(", "x", ")", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "\n", "x_", "=", "self", ".", "final_layer", "(", "self", ".", "dfm", "(", "x_", ",", "x", ",", "x_d", ")", ")", "\n", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "x_extra", "=", "self", ".", "seghead_extra", "(", "temp_p", ")", "\n", "x_bd", "=", "self", ".", "seghead_bd", "(", "temp_d", ")", "\n", "return", "[", "x_extra", ",", "x_", ",", "x_bd", "]", "\n", "", "else", ":", "\n", "            ", "return", "x_", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.conv3x3": [[19, 23], ["torch.Conv2d"], "function", ["None"], ["def", "conv3x3", "(", "in_planes", ",", "out_planes", ",", "stride", "=", "1", ")", ":", "\n", "    ", "\"\"\"3x3 convolution with padding\"\"\"", "\n", "return", "nn", ".", "Conv2d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DualResNet_imagenet": [[392, 405], ["ddrnet_23_adb_bag.DualResNet", "torch.load", "torch.load", "torch.load", "DualResNet.state_dict", "model.state_dict.update", "logging.info", "logging.info", "logging.info", "DualResNet.load_state_dict", "len", "torch.load.items"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update"], ["", "", "", "def", "DualResNet_imagenet", "(", "cfg", ",", "pretrained", "=", "True", ")", ":", "\n", "    ", "model", "=", "DualResNet", "(", "BasicBlock", ",", "[", "2", ",", "2", ",", "2", ",", "2", "]", ",", "num_classes", "=", "19", ",", "planes", "=", "64", ",", "spp_planes", "=", "128", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", "\n", "if", "pretrained", ":", "\n", "        ", "pretrained_state", "=", "torch", ".", "load", "(", "cfg", ".", "MODEL", ".", "PRETRAINED", ",", "map_location", "=", "'cpu'", ")", "\n", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "pretrained_state", "=", "{", "k", ":", "v", "for", "k", ",", "v", "in", "pretrained_state", ".", "items", "(", ")", "if", "(", "k", "in", "model_dict", "and", "v", ".", "shape", "==", "model_dict", "[", "k", "]", ".", "shape", ")", "}", "\n", "model_dict", ".", "update", "(", "pretrained_state", ")", "\n", "msg", "=", "'Loaded {} parameters!'", ".", "format", "(", "len", "(", "pretrained_state", ")", ")", "\n", "logging", ".", "info", "(", "'Attention!!!'", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "logging", ".", "info", "(", "'Over!!!'", ")", "\n", "model", ".", "load_state_dict", "(", "model_dict", ",", "strict", "=", "False", ")", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.get_seg_model": [[406, 410], ["ddrnet_23_adb_bag.DualResNet_imagenet"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.DualResNet_imagenet"], ["", "def", "get_seg_model", "(", "cfg", ",", "**", "kwargs", ")", ":", "\n", "\n", "    ", "model", "=", "DualResNet_imagenet", "(", "cfg", ",", "pretrained", "=", "True", ")", "\n", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.ddrnet_23_adb_bag.get_pred_model": [[411, 414], ["ddrnet_23_adb_bag.DualResNet"], "function", ["None"], ["", "def", "get_pred_model", "(", ")", ":", "\n", "    ", "model", "=", "DualResNet", "(", "BasicBlock", ",", "[", "2", ",", "2", ",", "2", ",", "2", "]", ",", "num_classes", "=", "19", ",", "planes", "=", "64", ",", "spp_planes", "=", "128", ",", "head_planes", "=", "128", ",", "augment", "=", "False", ")", "\n", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BasicBlock.__init__": [[23, 33], ["torch.Module.__init__", "bisenet_adb_bag.conv3x3", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "bisenet_adb_bag.conv3x3", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "False", ")", ":", "\n", "        ", "super", "(", "BasicBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "conv3x3", "(", "inplanes", ",", "planes", ",", "stride", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "conv3x3", "(", "planes", ",", "planes", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BasicBlock.forward": [[34, 53], ["bisenet_adb_bag.BasicBlock.conv1", "bisenet_adb_bag.BasicBlock.bn1", "bisenet_adb_bag.BasicBlock.relu", "bisenet_adb_bag.BasicBlock.conv2", "bisenet_adb_bag.BasicBlock.bn2", "bisenet_adb_bag.BasicBlock.downsample", "bisenet_adb_bag.BasicBlock.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.Bottleneck.__init__": [[57, 71], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "True", ")", ":", "\n", "        ", "super", "(", "Bottleneck", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv3", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", "*", "self", ".", "expansion", ",", "kernel_size", "=", "1", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn3", "=", "BatchNorm2d", "(", "planes", "*", "self", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.Bottleneck.forward": [[72, 94], ["bisenet_adb_bag.Bottleneck.conv1", "bisenet_adb_bag.Bottleneck.bn1", "bisenet_adb_bag.Bottleneck.relu", "bisenet_adb_bag.Bottleneck.conv2", "bisenet_adb_bag.Bottleneck.bn2", "bisenet_adb_bag.Bottleneck.relu", "bisenet_adb_bag.Bottleneck.conv3", "bisenet_adb_bag.Bottleneck.bn3", "bisenet_adb_bag.Bottleneck.downsample", "bisenet_adb_bag.Bottleneck.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv3", "(", "out", ")", "\n", "out", "=", "self", ".", "bn3", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ConvBNReLU.__init__": [[97, 108], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "bisenet_adb_bag.ConvBNReLU.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "in_chan", ",", "out_chan", ",", "ks", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "ConvBNReLU", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv", "=", "nn", ".", "Conv2d", "(", "in_chan", ",", "\n", "out_chan", ",", "\n", "kernel_size", "=", "ks", ",", "\n", "stride", "=", "stride", ",", "\n", "padding", "=", "padding", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn", "=", "BatchNorm2d", "(", "out_chan", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ConvBNReLU.forward": [[109, 114], ["bisenet_adb_bag.ConvBNReLU.conv", "bisenet_adb_bag.ConvBNReLU.bn", "bisenet_adb_bag.ConvBNReLU.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "conv", "(", "x", ")", "\n", "x", "=", "self", ".", "bn", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ConvBNReLU.init_weight": [[115, 120], ["bisenet_adb_bag.ConvBNReLU.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.UpSample.__init__": [[124, 130], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.PixelShuffle", "torch.PixelShuffle", "torch.PixelShuffle", "bisenet_adb_bag.UpSample.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "n_chan", ",", "factor", "=", "2", ")", ":", "\n", "        ", "super", "(", "UpSample", ",", "self", ")", ".", "__init__", "(", ")", "\n", "out_chan", "=", "n_chan", "*", "factor", "*", "factor", "\n", "self", ".", "proj", "=", "nn", ".", "Conv2d", "(", "n_chan", ",", "out_chan", ",", "1", ",", "1", ",", "0", ")", "\n", "self", ".", "up", "=", "nn", ".", "PixelShuffle", "(", "factor", ")", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.UpSample.forward": [[131, 135], ["bisenet_adb_bag.UpSample.proj", "bisenet_adb_bag.UpSample.up"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "feat", "=", "self", ".", "proj", "(", "x", ")", "\n", "feat", "=", "self", ".", "up", "(", "feat", ")", "\n", "return", "feat", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.UpSample.init_weight": [[136, 138], ["torch.init.xavier_normal_", "torch.init.xavier_normal_", "torch.init.xavier_normal_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "nn", ".", "init", ".", "xavier_normal_", "(", "self", ".", "proj", ".", "weight", ",", "gain", "=", "1.", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetOutput.__init__": [[142, 151], ["torch.Module.__init__", "bisenet_adb_bag.ConvBNReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "bisenet_adb_bag.BiSeNetOutput.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "in_chan", ",", "mid_chan", ",", "n_classes", ",", "up_factor", "=", "32", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "BiSeNetOutput", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "up_factor", "=", "up_factor", "\n", "out_chan", "=", "n_classes", "\n", "self", ".", "conv", "=", "ConvBNReLU", "(", "in_chan", ",", "mid_chan", ",", "ks", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv_out", "=", "nn", ".", "Conv2d", "(", "mid_chan", ",", "out_chan", ",", "kernel_size", "=", "1", ",", "bias", "=", "True", ")", "\n", "self", ".", "up", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "up_factor", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetOutput.forward": [[152, 157], ["bisenet_adb_bag.BiSeNetOutput.conv", "bisenet_adb_bag.BiSeNetOutput.conv_out", "bisenet_adb_bag.BiSeNetOutput.up"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "conv", "(", "x", ")", "\n", "x", "=", "self", ".", "conv_out", "(", "x", ")", "\n", "x", "=", "self", ".", "up", "(", "x", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetOutput.init_weight": [[158, 163], ["bisenet_adb_bag.BiSeNetOutput.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetOutput.get_params": [[164, 174], ["bisenet_adb_bag.BiSeNetOutput.named_modules", "isinstance", "wd_params.append", "isinstance", "nowd_params.append", "list", "module.parameters"], "methods", ["None"], ["", "", "", "def", "get_params", "(", "self", ")", ":", "\n", "        ", "wd_params", ",", "nowd_params", "=", "[", "]", ",", "[", "]", "\n", "for", "name", ",", "module", "in", "self", ".", "named_modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "module", ",", "(", "nn", ".", "Linear", ",", "nn", ".", "Conv2d", ")", ")", ":", "\n", "                ", "wd_params", ".", "append", "(", "module", ".", "weight", ")", "\n", "if", "not", "module", ".", "bias", "is", "None", ":", "\n", "                    ", "nowd_params", ".", "append", "(", "module", ".", "bias", ")", "\n", "", "", "elif", "isinstance", "(", "module", ",", "nn", ".", "modules", ".", "batchnorm", ".", "_BatchNorm", ")", ":", "\n", "                ", "nowd_params", "+=", "list", "(", "module", ".", "parameters", "(", ")", ")", "\n", "", "", "return", "wd_params", ",", "nowd_params", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.AttentionRefinementModule.__init__": [[177, 184], ["torch.Module.__init__", "bisenet_adb_bag.ConvBNReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "bisenet_adb_bag.AttentionRefinementModule.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "in_chan", ",", "out_chan", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "AttentionRefinementModule", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv", "=", "ConvBNReLU", "(", "in_chan", ",", "out_chan", ",", "ks", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv_atten", "=", "nn", ".", "Conv2d", "(", "out_chan", ",", "out_chan", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn_atten", "=", "BatchNorm2d", "(", "out_chan", ")", "\n", "#  self.sigmoid_atten = nn.Sigmoid()", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.AttentionRefinementModule.forward": [[185, 194], ["bisenet_adb_bag.AttentionRefinementModule.conv", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "bisenet_adb_bag.AttentionRefinementModule.conv_atten", "bisenet_adb_bag.AttentionRefinementModule.bn_atten", "atten.sigmoid.sigmoid.sigmoid", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "feat", "=", "self", ".", "conv", "(", "x", ")", "\n", "atten", "=", "torch", ".", "mean", "(", "feat", ",", "dim", "=", "(", "2", ",", "3", ")", ",", "keepdim", "=", "True", ")", "\n", "atten", "=", "self", ".", "conv_atten", "(", "atten", ")", "\n", "atten", "=", "self", ".", "bn_atten", "(", "atten", ")", "\n", "#  atten = self.sigmoid_atten(atten)", "\n", "atten", "=", "atten", ".", "sigmoid", "(", ")", "\n", "out", "=", "torch", ".", "mul", "(", "feat", ",", "atten", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.AttentionRefinementModule.init_weight": [[195, 200], ["bisenet_adb_bag.AttentionRefinementModule.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ContextPath.__init__": [[203, 230], ["torch.Module.__init__", "resnet.Resnet18", "bisenet_adb_bag.AttentionRefinementModule", "bisenet_adb_bag.AttentionRefinementModule", "bisenet_adb_bag.ConvBNReLU", "bisenet_adb_bag.ConvBNReLU", "bisenet_adb_bag.ConvBNReLU", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "bisenet_adb_bag.ContextPath._make_single_layer", "bisenet_adb_bag.ContextPath._make_single_layer", "bisenet_adb_bag.ContextPath._make_single_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "bisenet_adb_bag.ContextPath.init_weight", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "res_path", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "ContextPath", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "resnet", "=", "Resnet18", "(", "res_path", ")", "\n", "self", ".", "arm16", "=", "AttentionRefinementModule", "(", "256", ",", "128", ")", "\n", "self", ".", "arm32", "=", "AttentionRefinementModule", "(", "512", ",", "128", ")", "\n", "self", ".", "conv_head32", "=", "ConvBNReLU", "(", "128", ",", "128", ",", "ks", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv_head16", "=", "ConvBNReLU", "(", "128", ",", "128", ",", "ks", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv_avg", "=", "ConvBNReLU", "(", "512", ",", "128", ",", "ks", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "up32", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2.", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "self", ".", "up16", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2.", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "\n", "self", ".", "diff3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "256", ",", "64", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "64", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "self", ".", "diff4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "512", ",", "64", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "64", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "self", ".", "convD1", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "128", ",", "64", ")", "\n", "self", ".", "convD2", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "64", ",", "64", ")", "\n", "self", ".", "convD3", "=", "self", ".", "_make_single_layer", "(", "Bottleneck", ",", "64", ",", "64", ")", "\n", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ContextPath.forward": [[231, 263], ["bisenet_adb_bag.ContextPath.resnet", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "bisenet_adb_bag.ContextPath.conv_avg", "bisenet_adb_bag.ContextPath.arm32", "bisenet_adb_bag.ContextPath.up32", "bisenet_adb_bag.ContextPath.conv_head32", "bisenet_adb_bag.ContextPath.arm16", "bisenet_adb_bag.ContextPath.up16", "bisenet_adb_bag.ContextPath.conv_head16", "bisenet_adb_bag.ContextPath.convD1", "bisenet_adb_bag.ContextPath.convD2", "bisenet_adb_bag.ContextPath.convD3", "torch.interpolate", "torch.interpolate", "torch.interpolate", "bisenet_adb_bag.ContextPath.relu", "torch.interpolate", "torch.interpolate", "torch.interpolate", "bisenet_adb_bag.ContextPath.relu", "bisenet_adb_bag.ContextPath.diff3", "bisenet_adb_bag.ContextPath.diff4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "feat8", ",", "feat16", ",", "feat32", "=", "self", ".", "resnet", "(", "x", ")", "\n", "width_output", "=", "feat8", ".", "shape", "[", "-", "1", "]", "\n", "height_output", "=", "feat8", ".", "shape", "[", "-", "2", "]", "\n", "\n", "avg", "=", "torch", ".", "mean", "(", "feat32", ",", "dim", "=", "(", "2", ",", "3", ")", ",", "keepdim", "=", "True", ")", "\n", "avg", "=", "self", ".", "conv_avg", "(", "avg", ")", "\n", "\n", "feat32_arm", "=", "self", ".", "arm32", "(", "feat32", ")", "\n", "feat32_sum", "=", "feat32_arm", "+", "avg", "\n", "feat32_up", "=", "self", ".", "up32", "(", "feat32_sum", ")", "\n", "feat32_up", "=", "self", ".", "conv_head32", "(", "feat32_up", ")", "\n", "\n", "feat16_arm", "=", "self", ".", "arm16", "(", "feat16", ")", "\n", "feat16_sum", "=", "feat16_arm", "+", "feat32_up", "\n", "feat16_up", "=", "self", ".", "up16", "(", "feat16_sum", ")", "\n", "feat16_up", "=", "self", ".", "conv_head16", "(", "feat16_up", ")", "\n", "\n", "feat_d", "=", "self", ".", "convD1", "(", "feat8", ")", "\n", "feat_d", "=", "feat_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff3", "(", "feat16", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "feat_d", "=", "self", ".", "convD2", "(", "self", ".", "relu", "(", "feat_d", ")", ")", "\n", "feat_d", "=", "feat_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff4", "(", "feat32", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "feat_d_out", "=", "self", ".", "convD3", "(", "self", ".", "relu", "(", "feat_d", ")", ")", "\n", "\n", "\n", "return", "feat16_up", ",", "feat32_up", ",", "feat_d_out", ",", "feat_d", "# x8, x16", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ContextPath.init_weight": [[264, 269], ["bisenet_adb_bag.ContextPath.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ContextPath.get_params": [[270, 280], ["bisenet_adb_bag.ContextPath.named_modules", "isinstance", "wd_params.append", "isinstance", "nowd_params.append", "list", "module.parameters"], "methods", ["None"], ["", "", "", "def", "get_params", "(", "self", ")", ":", "\n", "        ", "wd_params", ",", "nowd_params", "=", "[", "]", ",", "[", "]", "\n", "for", "name", ",", "module", "in", "self", ".", "named_modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "module", ",", "(", "nn", ".", "Linear", ",", "nn", ".", "Conv2d", ")", ")", ":", "\n", "                ", "wd_params", ".", "append", "(", "module", ".", "weight", ")", "\n", "if", "not", "module", ".", "bias", "is", "None", ":", "\n", "                    ", "nowd_params", ".", "append", "(", "module", ".", "bias", ")", "\n", "", "", "elif", "isinstance", "(", "module", ",", "nn", ".", "modules", ".", "batchnorm", ".", "_BatchNorm", ")", ":", "\n", "                ", "nowd_params", "+=", "list", "(", "module", ".", "parameters", "(", ")", ")", "\n", "", "", "return", "wd_params", ",", "nowd_params", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.ContextPath._make_single_layer": [[281, 293], ["block", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["None"], ["", "def", "_make_single_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", ",", "\n", ")", "\n", "\n", "", "layer", "=", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ",", "no_relu", "=", "True", ")", "\n", "\n", "return", "layer", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.SpatialPath.__init__": [[296, 303], ["torch.Module.__init__", "bisenet_adb_bag.ConvBNReLU", "bisenet_adb_bag.ConvBNReLU", "bisenet_adb_bag.ConvBNReLU", "bisenet_adb_bag.ConvBNReLU", "bisenet_adb_bag.SpatialPath.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "SpatialPath", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "ConvBNReLU", "(", "3", ",", "64", ",", "ks", "=", "7", ",", "stride", "=", "2", ",", "padding", "=", "3", ")", "\n", "self", ".", "conv2", "=", "ConvBNReLU", "(", "64", ",", "64", ",", "ks", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv3", "=", "ConvBNReLU", "(", "64", ",", "64", ",", "ks", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv_out", "=", "ConvBNReLU", "(", "64", ",", "128", ",", "ks", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.SpatialPath.forward": [[304, 310], ["bisenet_adb_bag.SpatialPath.conv1", "bisenet_adb_bag.SpatialPath.conv2", "bisenet_adb_bag.SpatialPath.conv3", "bisenet_adb_bag.SpatialPath.conv_out"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "feat", "=", "self", ".", "conv1", "(", "x", ")", "\n", "feat", "=", "self", ".", "conv2", "(", "feat", ")", "\n", "feat", "=", "self", ".", "conv3", "(", "feat", ")", "\n", "feat", "=", "self", ".", "conv_out", "(", "feat", ")", "\n", "return", "feat", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.SpatialPath.init_weight": [[311, 316], ["bisenet_adb_bag.SpatialPath.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.SpatialPath.get_params": [[317, 327], ["bisenet_adb_bag.SpatialPath.named_modules", "isinstance", "isinstance", "wd_params.append", "isinstance", "nowd_params.append", "list", "module.parameters"], "methods", ["None"], ["", "", "", "def", "get_params", "(", "self", ")", ":", "\n", "        ", "wd_params", ",", "nowd_params", "=", "[", "]", ",", "[", "]", "\n", "for", "name", ",", "module", "in", "self", ".", "named_modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "module", ",", "nn", ".", "Linear", ")", "or", "isinstance", "(", "module", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "wd_params", ".", "append", "(", "module", ".", "weight", ")", "\n", "if", "not", "module", ".", "bias", "is", "None", ":", "\n", "                    ", "nowd_params", ".", "append", "(", "module", ".", "bias", ")", "\n", "", "", "elif", "isinstance", "(", "module", ",", "nn", ".", "modules", ".", "batchnorm", ".", "_BatchNorm", ")", ":", "\n", "                ", "nowd_params", "+=", "list", "(", "module", ".", "parameters", "(", ")", ")", "\n", "", "", "return", "wd_params", ",", "nowd_params", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.FeatureFusionModule.__init__": [[330, 341], ["torch.Module.__init__", "bisenet_adb_bag.ConvBNReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "bisenet_adb_bag.FeatureFusionModule.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "in_chan", ",", "out_chan", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "FeatureFusionModule", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "convblk", "=", "ConvBNReLU", "(", "in_chan", ",", "out_chan", ",", "ks", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "conv", "=", "nn", ".", "Conv2d", "(", "out_chan", ",", "\n", "out_chan", ",", "\n", "kernel_size", "=", "1", ",", "\n", "stride", "=", "1", ",", "\n", "padding", "=", "0", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn", "=", "nn", ".", "BatchNorm2d", "(", "out_chan", ")", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.FeatureFusionModule.forward": [[342, 352], ["bisenet_adb_bag.FeatureFusionModule.convblk", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "bisenet_adb_bag.FeatureFusionModule.conv", "bisenet_adb_bag.FeatureFusionModule.bn", "atten.sigmoid.sigmoid.sigmoid", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "fsp", ")", ":", "\n", "        ", "fcat", "=", "fsp", "\n", "feat", "=", "self", ".", "convblk", "(", "fcat", ")", "\n", "atten", "=", "torch", ".", "mean", "(", "feat", ",", "dim", "=", "(", "2", ",", "3", ")", ",", "keepdim", "=", "True", ")", "\n", "atten", "=", "self", ".", "conv", "(", "atten", ")", "\n", "atten", "=", "self", ".", "bn", "(", "atten", ")", "\n", "atten", "=", "atten", ".", "sigmoid", "(", ")", "\n", "feat_atten", "=", "torch", ".", "mul", "(", "feat", ",", "atten", ")", "\n", "feat_out", "=", "feat_atten", "+", "feat", "\n", "return", "feat_out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.FeatureFusionModule.init_weight": [[353, 358], ["bisenet_adb_bag.FeatureFusionModule.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.FeatureFusionModule.get_params": [[359, 369], ["bisenet_adb_bag.FeatureFusionModule.named_modules", "isinstance", "wd_params.append", "isinstance", "nowd_params.append", "list", "module.parameters"], "methods", ["None"], ["", "", "", "def", "get_params", "(", "self", ")", ":", "\n", "        ", "wd_params", ",", "nowd_params", "=", "[", "]", ",", "[", "]", "\n", "for", "name", ",", "module", "in", "self", ".", "named_modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "module", ",", "(", "nn", ".", "Linear", ",", "nn", ".", "Conv2d", ")", ")", ":", "\n", "                ", "wd_params", ".", "append", "(", "module", ".", "weight", ")", "\n", "if", "not", "module", ".", "bias", "is", "None", ":", "\n", "                    ", "nowd_params", ".", "append", "(", "module", ".", "bias", ")", "\n", "", "", "elif", "isinstance", "(", "module", ",", "nn", ".", "modules", ".", "batchnorm", ".", "_BatchNorm", ")", ":", "\n", "                ", "nowd_params", "+=", "list", "(", "module", ".", "parameters", "(", ")", ")", "\n", "", "", "return", "wd_params", ",", "nowd_params", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetV1.__init__": [[373, 386], ["torch.Module.__init__", "bisenet_adb_bag.ContextPath", "bisenet_adb_bag.SpatialPath", "bisenet_adb_bag.FeatureFusionModule", "bisenet_adb_bag.BiSeNetOutput", "model_utils.Light_Bag", "bisenet_adb_bag.BiSeNetV1.init_weight", "bisenet_adb_bag.BiSeNetOutput", "bisenet_adb_bag.BiSeNetOutput", "bisenet_adb_bag.BiSeNetOutput"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "n_classes", ",", "res_path", ",", "aux_mode", "=", "True", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "BiSeNetV1", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "cp", "=", "ContextPath", "(", "res_path", ")", "\n", "self", ".", "sp", "=", "SpatialPath", "(", ")", "\n", "self", ".", "ffm", "=", "FeatureFusionModule", "(", "256", ",", "256", ")", "\n", "self", ".", "conv_out", "=", "BiSeNetOutput", "(", "256", ",", "256", ",", "n_classes", ",", "up_factor", "=", "8", ")", "\n", "self", ".", "dfm", "=", "model_utils", ".", "Light_Bag", "(", "128", ",", "256", ")", "\n", "self", ".", "aux_mode", "=", "aux_mode", "\n", "if", "self", ".", "aux_mode", ":", "\n", "            ", "self", ".", "conv_out16", "=", "BiSeNetOutput", "(", "128", ",", "64", ",", "n_classes", ",", "up_factor", "=", "8", ")", "\n", "self", ".", "conv_out32", "=", "BiSeNetOutput", "(", "128", ",", "64", ",", "n_classes", ",", "up_factor", "=", "16", ")", "\n", "self", ".", "conv_outd", "=", "BiSeNetOutput", "(", "64", ",", "64", ",", "1", ",", "up_factor", "=", "8", ")", "\n", "", "self", ".", "init_weight", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetV1.forward": [[387, 402], ["bisenet_adb_bag.BiSeNetV1.cp", "bisenet_adb_bag.BiSeNetV1.sp", "bisenet_adb_bag.BiSeNetV1.dfm", "bisenet_adb_bag.BiSeNetV1.ffm", "bisenet_adb_bag.BiSeNetV1.conv_out", "x.size", "bisenet_adb_bag.BiSeNetV1.conv_out16", "bisenet_adb_bag.BiSeNetV1.conv_out32", "bisenet_adb_bag.BiSeNetV1.conv_outd"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "H", ",", "W", "=", "x", ".", "size", "(", ")", "[", "2", ":", "]", "\n", "feat_cp8", ",", "feat_cp16", ",", "feat_d_out", ",", "feat_d", "=", "self", ".", "cp", "(", "x", ")", "\n", "feat_sp", "=", "self", ".", "sp", "(", "x", ")", "\n", "feat_bg", "=", "self", ".", "dfm", "(", "feat_sp", ",", "feat_cp8", ",", "feat_d_out", ")", "\n", "feat_fuse", "=", "self", ".", "ffm", "(", "feat_bg", ")", "\n", "\n", "feat_out", "=", "self", ".", "conv_out", "(", "feat_fuse", ")", "\n", "if", "self", ".", "aux_mode", ":", "\n", "            ", "feat_out16", "=", "self", ".", "conv_out16", "(", "feat_cp8", ")", "\n", "feat_out32", "=", "self", ".", "conv_out32", "(", "feat_cp16", ")", "\n", "feat_outd", "=", "self", ".", "conv_outd", "(", "feat_d", ")", "\n", "return", "[", "feat_out16", ",", "feat_out32", ",", "feat_out", ",", "feat_outd", "]", "\n", "", "else", ":", "\n", "            ", "return", "feat_out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetV1.init_weight": [[403, 408], ["bisenet_adb_bag.BiSeNetV1.children", "isinstance", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["None"], ["", "", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "for", "ly", "in", "self", ".", "children", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "ly", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "ly", ".", "weight", ",", "a", "=", "1", ")", "\n", "if", "not", "ly", ".", "bias", "is", "None", ":", "nn", ".", "init", ".", "constant_", "(", "ly", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.BiSeNetV1.get_params": [[409, 420], ["bisenet_adb_bag.BiSeNetV1.named_children", "child.get_params", "isinstance"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.get_params"], ["", "", "", "def", "get_params", "(", "self", ")", ":", "\n", "        ", "wd_params", ",", "nowd_params", ",", "lr_mul_wd_params", ",", "lr_mul_nowd_params", "=", "[", "]", ",", "[", "]", ",", "[", "]", ",", "[", "]", "\n", "for", "name", ",", "child", "in", "self", ".", "named_children", "(", ")", ":", "\n", "            ", "child_wd_params", ",", "child_nowd_params", "=", "child", ".", "get_params", "(", ")", "\n", "if", "isinstance", "(", "child", ",", "(", "FeatureFusionModule", ",", "BiSeNetOutput", ")", ")", ":", "\n", "                ", "lr_mul_wd_params", "+=", "child_wd_params", "\n", "lr_mul_nowd_params", "+=", "child_nowd_params", "\n", "", "else", ":", "\n", "                ", "wd_params", "+=", "child_wd_params", "\n", "nowd_params", "+=", "child_nowd_params", "\n", "", "", "return", "wd_params", ",", "nowd_params", ",", "lr_mul_wd_params", ",", "lr_mul_nowd_params", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.conv3x3": [[15, 19], ["torch.Conv2d"], "function", ["None"], ["def", "conv3x3", "(", "in_planes", ",", "out_planes", ",", "stride", "=", "1", ")", ":", "\n", "    ", "\"\"\"3x3 convolution with padding\"\"\"", "\n", "return", "nn", ".", "Conv2d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.Bisenet_Adb_Bag": [[421, 424], ["bisenet_adb_bag.BiSeNetV1"], "function", ["None"], ["", "", "def", "Bisenet_Adb_Bag", "(", "cfg", ",", "pretrained", "=", "True", ")", ":", "\n", "    ", "model", "=", "BiSeNetV1", "(", "19", ",", "cfg", ".", "MODEL", ".", "PRETRAINED", ",", "aux_mode", "=", "pretrained", ")", "\n", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.get_seg_model": [[425, 429], ["bisenet_adb_bag.Bisenet_Adb_Bag"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.bisenet_adb_bag.Bisenet_Adb_Bag"], ["", "def", "get_seg_model", "(", "cfg", ",", "**", "kwargs", ")", ":", "\n", "\n", "    ", "model", "=", "Bisenet_Adb_Bag", "(", "cfg", ",", "pretrained", "=", "True", ")", "\n", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.BasicBlock.__init__": [[16, 29], ["torch.Module.__init__", "resnet.conv3x3", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "resnet.conv3x3", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3"], ["    ", "def", "__init__", "(", "self", ",", "in_chan", ",", "out_chan", ",", "stride", "=", "1", ")", ":", "\n", "        ", "super", "(", "BasicBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "conv3x3", "(", "in_chan", ",", "out_chan", ",", "stride", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "out_chan", ")", "\n", "self", ".", "conv2", "=", "conv3x3", "(", "out_chan", ",", "out_chan", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "out_chan", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "downsample", "=", "None", "\n", "if", "in_chan", "!=", "out_chan", "or", "stride", "!=", "1", ":", "\n", "            ", "self", ".", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_chan", ",", "out_chan", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "BatchNorm2d", "(", "out_chan", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.BasicBlock.forward": [[31, 45], ["resnet.BasicBlock.conv1", "resnet.BasicBlock.bn1", "resnet.BasicBlock.relu", "resnet.BasicBlock.conv2", "resnet.BasicBlock.bn2", "resnet.BasicBlock.relu", "resnet.BasicBlock.downsample"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "self", ".", "conv1", "(", "x", ")", "\n", "residual", "=", "self", ".", "bn1", "(", "residual", ")", "\n", "residual", "=", "self", ".", "relu", "(", "residual", ")", "\n", "residual", "=", "self", ".", "conv2", "(", "residual", ")", "\n", "residual", "=", "self", ".", "bn2", "(", "residual", ")", "\n", "\n", "shortcut", "=", "x", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "shortcut", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "=", "shortcut", "+", "residual", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.__init__": [[55, 67], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.nn.BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.MaxPool2d", "torch.MaxPool2d", "torch.MaxPool2d", "resnet.create_layer_basic", "resnet.create_layer_basic", "resnet.create_layer_basic", "resnet.create_layer_basic", "resnet.Resnet18.init_weight"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.create_layer_basic", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.create_layer_basic", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.create_layer_basic", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.create_layer_basic", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "path", ")", ":", "\n", "        ", "super", "(", "Resnet18", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "3", ",", "64", ",", "kernel_size", "=", "7", ",", "stride", "=", "2", ",", "padding", "=", "3", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "64", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "maxpool", "=", "nn", ".", "MaxPool2d", "(", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", "\n", "self", ".", "layer1", "=", "create_layer_basic", "(", "64", ",", "64", ",", "bnum", "=", "2", ",", "stride", "=", "1", ")", "\n", "self", ".", "layer2", "=", "create_layer_basic", "(", "64", ",", "128", ",", "bnum", "=", "2", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "create_layer_basic", "(", "128", ",", "256", ",", "bnum", "=", "2", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "create_layer_basic", "(", "256", ",", "512", ",", "bnum", "=", "2", ",", "stride", "=", "2", ")", "\n", "self", ".", "init_weight", "(", "path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.forward": [[68, 79], ["resnet.Resnet18.conv1", "resnet.Resnet18.bn1", "resnet.Resnet18.relu", "resnet.Resnet18.maxpool", "resnet.Resnet18.layer1", "resnet.Resnet18.layer2", "resnet.Resnet18.layer3", "resnet.Resnet18.layer4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "bn1", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "x", "=", "self", ".", "maxpool", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "layer1", "(", "x", ")", "\n", "feat8", "=", "self", ".", "layer2", "(", "x", ")", "# 1/8", "\n", "feat16", "=", "self", ".", "layer3", "(", "feat8", ")", "# 1/16", "\n", "feat32", "=", "self", ".", "layer4", "(", "feat16", ")", "# 1/32", "\n", "return", "feat8", ",", "feat16", ",", "feat32", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.init_weight": [[80, 87], ["torch.load", "torch.load", "torch.load", "torch.load", "torch.load", "torch.load", "torch.load", "torch.load", "torch.load", "resnet.Resnet18.state_dict", "torch.load.items", "torch.load.items", "torch.load.items", "resnet.Resnet18.load_state_dict", "resnet.Resnet18.update"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update"], ["", "def", "init_weight", "(", "self", ",", "path", ")", ":", "\n", "        ", "state_dict", "=", "torch", ".", "load", "(", "path", ")", "\n", "self_state_dict", "=", "self", ".", "state_dict", "(", ")", "\n", "for", "k", ",", "v", "in", "state_dict", ".", "items", "(", ")", ":", "\n", "            ", "if", "'fc'", "in", "k", ":", "continue", "\n", "self_state_dict", ".", "update", "(", "{", "k", ":", "v", "}", ")", "\n", "", "self", ".", "load_state_dict", "(", "self_state_dict", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.Resnet18.get_params": [[88, 98], ["resnet.Resnet18.named_modules", "isinstance", "wd_params.append", "isinstance", "nowd_params.append", "list", "module.parameters"], "methods", ["None"], ["", "def", "get_params", "(", "self", ")", ":", "\n", "        ", "wd_params", ",", "nowd_params", "=", "[", "]", ",", "[", "]", "\n", "for", "name", ",", "module", "in", "self", ".", "named_modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "module", ",", "(", "nn", ".", "Linear", ",", "nn", ".", "Conv2d", ")", ")", ":", "\n", "                ", "wd_params", ".", "append", "(", "module", ".", "weight", ")", "\n", "if", "not", "module", ".", "bias", "is", "None", ":", "\n", "                    ", "nowd_params", ".", "append", "(", "module", ".", "bias", ")", "\n", "", "", "elif", "isinstance", "(", "module", ",", "nn", ".", "modules", ".", "batchnorm", ".", "_BatchNorm", ")", ":", "\n", "                ", "nowd_params", "+=", "list", "(", "module", ".", "parameters", "(", ")", ")", "\n", "", "", "return", "wd_params", ",", "nowd_params", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.conv3x3": [[9, 13], ["torch.Conv2d"], "function", ["None"], ["def", "conv3x3", "(", "in_planes", ",", "out_planes", ",", "stride", "=", "1", ")", ":", "\n", "    ", "\"\"\"3x3 convolution with padding\"\"\"", "\n", "return", "nn", ".", "Conv2d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.others.resnet.create_layer_basic": [[47, 52], ["range", "torch.Sequential", "resnet.BasicBlock", "layers.append", "resnet.BasicBlock"], "function", ["None"], ["", "", "def", "create_layer_basic", "(", "in_chan", ",", "out_chan", ",", "bnum", ",", "stride", "=", "1", ")", ":", "\n", "    ", "layers", "=", "[", "BasicBlock", "(", "in_chan", ",", "out_chan", ",", "stride", "=", "stride", ")", "]", "\n", "for", "i", "in", "range", "(", "bnum", "-", "1", ")", ":", "\n", "        ", "layers", ".", "append", "(", "BasicBlock", "(", "out_chan", ",", "out_chan", ",", "stride", "=", "1", ")", ")", "\n", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet.__init__": [[30, 112], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReLU", "torch.ReLU", "torch.ReLU", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "model_utils_speed.PagFM", "model_utils_speed.PagFM", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "pidnet_speed.PIDNet._make_layer", "model_utils_speed.segmenthead", "pidnet_speed.PIDNet.modules", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "pidnet_speed.PIDNet._make_single_layer", "pidnet_speed.PIDNet._make_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "model_utils_speed.PAPPM", "model_utils_speed.Light_Bag", "pidnet_speed.PIDNet._make_single_layer", "pidnet_speed.PIDNet._make_single_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "model_utils_speed.DAPPM", "model_utils_speed.Bag", "model_utils_speed.segmenthead", "model_utils_speed.segmenthead", "isinstance", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "torch.init.kaiming_normal_", "isinstance", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_", "torch.init.constant_"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer", "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer"], ["    ", "def", "__init__", "(", "self", ",", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "19", ",", "planes", "=", "64", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", ":", "\n", "        ", "super", "(", "PIDNet", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "augment", "=", "augment", "\n", "\n", "# I Branch", "\n", "self", ".", "conv1", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "3", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "#BatchNorm2d(planes, momentum=bn_mom),", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "#BatchNorm2d(planes, momentum=bn_mom),", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", ")", "\n", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "layer1", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", ",", "planes", ",", "m", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", ",", "planes", "*", "2", ",", "m", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "4", ",", "n", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "4", ",", "planes", "*", "8", ",", "n", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer5", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "8", ",", "planes", "*", "8", ",", "2", ",", "stride", "=", "2", ")", "\n", "\n", "# P Branch", "\n", "self", ".", "compression3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", "*", "2", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm2d(planes * 2, momentum=bn_mom),", "\n", ")", "\n", "\n", "self", ".", "compression4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "planes", "*", "2", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm2d(planes * 2, momentum=bn_mom),", "\n", ")", "\n", "self", ".", "pag3", "=", "PagFM", "(", "planes", "*", "2", ",", "planes", ")", "\n", "self", ".", "pag4", "=", "PagFM", "(", "planes", "*", "2", ",", "planes", ")", "\n", "\n", "self", ".", "layer3_", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "m", ")", "\n", "self", ".", "layer4_", "=", "self", ".", "_make_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "m", ")", "\n", "self", ".", "layer5_", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "1", ")", "\n", "\n", "# D Branch", "\n", "if", "m", "==", "2", ":", "\n", "            ", "self", ".", "layer3_d", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", ")", "\n", "self", ".", "layer4_d", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", ",", "planes", ",", "1", ")", "\n", "self", ".", "diff3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm2d(planes, momentum=bn_mom),", "\n", ")", "\n", "self", ".", "diff4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "planes", "*", "2", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm2d(planes * 2, momentum=bn_mom),", "\n", ")", "\n", "self", ".", "spp", "=", "PAPPM", "(", "planes", "*", "16", ",", "ppm_planes", ",", "planes", "*", "4", ")", "\n", "self", ".", "dfm", "=", "Light_Bag", "(", "planes", "*", "4", ",", "planes", "*", "4", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "layer3_d", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ")", "\n", "self", ".", "layer4_d", "=", "self", ".", "_make_single_layer", "(", "BasicBlock", ",", "planes", "*", "2", ",", "planes", "*", "2", ")", "\n", "self", ".", "diff3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "4", ",", "planes", "*", "2", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm2d(planes * 2, momentum=bn_mom),", "\n", ")", "\n", "self", ".", "diff4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "8", ",", "planes", "*", "2", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm2d(planes * 2, momentum=bn_mom),", "\n", ")", "\n", "self", ".", "spp", "=", "DAPPM", "(", "planes", "*", "16", ",", "ppm_planes", ",", "planes", "*", "4", ")", "\n", "self", ".", "dfm", "=", "Bag", "(", "planes", "*", "4", ",", "planes", "*", "4", ")", "\n", "\n", "", "self", ".", "layer5_d", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "planes", "*", "2", ",", "planes", "*", "2", ",", "1", ")", "\n", "\n", "# Prediction Head", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "self", ".", "seghead_p", "=", "segmenthead", "(", "planes", "*", "2", ",", "head_planes", ",", "num_classes", ")", "\n", "self", ".", "seghead_d", "=", "segmenthead", "(", "planes", "*", "2", ",", "planes", ",", "1", ")", "\n", "\n", "", "self", ".", "final_layer", "=", "segmenthead", "(", "planes", "*", "4", ",", "head_planes", ",", "num_classes", ")", "\n", "\n", "\n", "for", "m", "in", "self", ".", "modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "m", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "kaiming_normal_", "(", "m", ".", "weight", ",", "mode", "=", "'fan_out'", ",", "nonlinearity", "=", "'relu'", ")", "\n", "", "elif", "isinstance", "(", "m", ",", "BatchNorm2d", ")", ":", "\n", "                ", "nn", ".", "init", ".", "constant_", "(", "m", ".", "weight", ",", "1", ")", "\n", "nn", ".", "init", ".", "constant_", "(", "m", ".", "bias", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_layer": [[114, 133], ["layers.append", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "block", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "layers.append", "layers.append", "block", "block"], "methods", ["None"], ["", "", "", "def", "_make_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "#nn.BatchNorm2d(planes * block.expansion, momentum=bn_mom),", "\n", ")", "\n", "\n", "", "layers", "=", "[", "]", "\n", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ")", ")", "\n", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "for", "i", "in", "range", "(", "1", ",", "blocks", ")", ":", "\n", "            ", "if", "i", "==", "(", "blocks", "-", "1", ")", ":", "\n", "                ", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "no_relu", "=", "True", ")", ")", "\n", "", "else", ":", "\n", "                ", "layers", ".", "append", "(", "block", "(", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "no_relu", "=", "False", ")", ")", "\n", "\n", "", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet._make_single_layer": [[134, 146], ["block", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["None"], ["", "def", "_make_single_layer", "(", "self", ",", "block", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "#nn.BatchNorm2d(planes * block.expansion, momentum=bn_mom),", "\n", ")", "\n", "\n", "", "layer", "=", "block", "(", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ",", "no_relu", "=", "True", ")", "\n", "\n", "return", "layer", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.PIDNet.forward": [[147, 194], ["pidnet_speed.PIDNet.conv1", "pidnet_speed.PIDNet.layer1", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.layer3_", "pidnet_speed.PIDNet.layer3_d", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.pag3", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.layer4_", "pidnet_speed.PIDNet.layer4_d", "pidnet_speed.PIDNet.pag4", "pidnet_speed.PIDNet.layer5_", "pidnet_speed.PIDNet.layer5_d", "torch.interpolate", "torch.interpolate", "torch.interpolate", "pidnet_speed.PIDNet.final_layer", "pidnet_speed.PIDNet.layer2", "pidnet_speed.PIDNet.layer3", "pidnet_speed.PIDNet.compression3", "torch.interpolate", "torch.interpolate", "torch.interpolate", "pidnet_speed.PIDNet.layer4", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.compression4", "torch.interpolate", "torch.interpolate", "torch.interpolate", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.spp", "pidnet_speed.PIDNet.dfm", "pidnet_speed.PIDNet.seghead_p", "pidnet_speed.PIDNet.seghead_d", "pidnet_speed.PIDNet.relu", "pidnet_speed.PIDNet.diff3", "pidnet_speed.PIDNet.diff4", "pidnet_speed.PIDNet.layer5"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "width_output", "=", "x", ".", "shape", "[", "-", "1", "]", "//", "8", "\n", "height_output", "=", "x", ".", "shape", "[", "-", "2", "]", "//", "8", "\n", "\n", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "layer1", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "self", ".", "layer2", "(", "self", ".", "relu", "(", "x", ")", ")", ")", "\n", "x_", "=", "self", ".", "layer3_", "(", "x", ")", "\n", "x_d", "=", "self", ".", "layer3_d", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "relu", "(", "self", ".", "layer3", "(", "x", ")", ")", "\n", "x_", "=", "self", ".", "pag3", "(", "x_", ",", "self", ".", "compression3", "(", "x", ")", ")", "\n", "x_d", "=", "x_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff3", "(", "x", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "temp_p", "=", "x_", "\n", "\n", "", "x", "=", "self", ".", "relu", "(", "self", ".", "layer4", "(", "x", ")", ")", "\n", "x_", "=", "self", ".", "layer4_", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_d", "=", "self", ".", "layer4_d", "(", "self", ".", "relu", "(", "x_d", ")", ")", "\n", "\n", "x_", "=", "self", ".", "pag4", "(", "x_", ",", "self", ".", "compression4", "(", "x", ")", ")", "\n", "x_d", "=", "x_d", "+", "F", ".", "interpolate", "(", "\n", "self", ".", "diff4", "(", "x", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "temp_d", "=", "x_d", "\n", "\n", "", "x_", "=", "self", ".", "layer5_", "(", "self", ".", "relu", "(", "x_", ")", ")", "\n", "x_d", "=", "self", ".", "layer5_d", "(", "self", ".", "relu", "(", "x_d", ")", ")", "\n", "x", "=", "F", ".", "interpolate", "(", "\n", "self", ".", "spp", "(", "self", ".", "layer5", "(", "x", ")", ")", ",", "\n", "size", "=", "[", "height_output", ",", "width_output", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "\n", "x_", "=", "self", ".", "final_layer", "(", "self", ".", "dfm", "(", "x_", ",", "x", ",", "x_d", ")", ")", "\n", "\n", "if", "self", ".", "augment", ":", "\n", "            ", "x_extra_p", "=", "self", ".", "seghead_p", "(", "temp_p", ")", "\n", "x_extra_d", "=", "self", ".", "seghead_d", "(", "temp_d", ")", "\n", "return", "[", "x_extra_p", ",", "x_", ",", "x_extra_d", "]", "\n", "", "else", ":", "\n", "            ", "return", "x_", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args": [[16, 27], ["argparse.ArgumentParser", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.parse_args"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.parse_args"], ["def", "parse_args", "(", ")", ":", "\n", "    ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "description", "=", "'Speed Measurement'", ")", "\n", "\n", "parser", ".", "add_argument", "(", "'--a'", ",", "help", "=", "'pidnet-s, pidnet-m or pidnet-l'", ",", "default", "=", "'pidnet-s'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--c'", ",", "help", "=", "'number of classes'", ",", "type", "=", "int", ",", "default", "=", "19", ")", "\n", "parser", ".", "add_argument", "(", "'--r'", ",", "help", "=", "'input resolution'", ",", "type", "=", "int", ",", "nargs", "=", "'+'", ",", "default", "=", "(", "1024", ",", "2048", ")", ")", "\n", "\n", "\n", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "\n", "return", "args", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.get_seg_model": [[195, 216], ["pidnet_speed.PIDNet", "PIDNet.state_dict", "model.state_dict.update", "logging.info", "logging.info", "logging.info", "PIDNet.load_state_dict", "pidnet_speed.PIDNet", "pidnet_speed.PIDNet", "torch.load", "torch.load", "torch.load", "len", "pretrained_state.items"], "function", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.utils.utils.AverageMeter.update"], ["", "", "", "def", "get_seg_model", "(", "cfg", ",", "imgnet_pretrained", ")", ":", "\n", "\n", "    ", "if", "'s'", "in", "cfg", ".", "MODEL", ".", "NAME", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "cfg", ".", "DATASET", ".", "NUM_CLASSES", ",", "planes", "=", "32", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", "\n", "", "elif", "'m'", "in", "cfg", ".", "MODEL", ".", "NAME", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "cfg", ".", "DATASET", ".", "NUM_CLASSES", ",", "planes", "=", "64", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "True", ")", "\n", "", "else", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "3", ",", "n", "=", "4", ",", "num_classes", "=", "cfg", ".", "DATASET", ".", "NUM_CLASSES", ",", "planes", "=", "64", ",", "ppm_planes", "=", "112", ",", "head_planes", "=", "256", ",", "augment", "=", "True", ")", "\n", "\n", "", "if", "imgnet_pretrained", ":", "\n", "        ", "pretrained_state", "=", "torch", ".", "load", "(", "cfg", ".", "MODEL", ".", "PRETRAINED", ",", "map_location", "=", "'cpu'", ")", "[", "'state_dict'", "]", "\n", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "pretrained_state", "=", "{", "k", ":", "v", "for", "k", ",", "v", "in", "pretrained_state", ".", "items", "(", ")", "if", "(", "k", "in", "model_dict", "and", "v", ".", "shape", "==", "model_dict", "[", "k", "]", ".", "shape", ")", "}", "\n", "model_dict", ".", "update", "(", "pretrained_state", ")", "\n", "msg", "=", "'Loaded {} parameters!'", ".", "format", "(", "len", "(", "pretrained_state", ")", ")", "\n", "logging", ".", "info", "(", "'Attention!!!'", ")", "\n", "logging", ".", "info", "(", "msg", ")", "\n", "logging", ".", "info", "(", "'Over!!!'", ")", "\n", "model", ".", "load_state_dict", "(", "model_dict", ",", "strict", "=", "False", ")", "\n", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.pidnet_speed.get_pred_model": [[217, 227], ["pidnet_speed.PIDNet", "pidnet_speed.PIDNet", "pidnet_speed.PIDNet"], "function", ["None"], ["", "def", "get_pred_model", "(", "name", ",", "num_classes", ")", ":", "\n", "\n", "    ", "if", "'s'", "in", "name", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "num_classes", ",", "planes", "=", "32", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "False", ")", "\n", "", "elif", "'m'", "in", "name", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "2", ",", "n", "=", "3", ",", "num_classes", "=", "num_classes", ",", "planes", "=", "64", ",", "ppm_planes", "=", "96", ",", "head_planes", "=", "128", ",", "augment", "=", "False", ")", "\n", "", "else", ":", "\n", "        ", "model", "=", "PIDNet", "(", "m", "=", "3", ",", "n", "=", "4", ",", "num_classes", "=", "num_classes", ",", "planes", "=", "64", ",", "ppm_planes", "=", "112", ",", "head_planes", "=", "256", ",", "augment", "=", "False", ")", "\n", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.BasicBlock.__init__": [[15, 27], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "False", ")", ":", "\n", "        ", "super", "(", "BasicBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.BasicBlock.forward": [[28, 47], ["model_utils_speed.BasicBlock.conv1", "model_utils_speed.BasicBlock.relu", "model_utils_speed.BasicBlock.conv2", "model_utils_speed.BasicBlock.downsample", "model_utils_speed.BasicBlock.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "#out = self.bn1(out)", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "#out = self.bn2(out)", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bottleneck.__init__": [[51, 65], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ",", "no_relu", "=", "True", ")", ":", "\n", "        ", "super", "(", "Bottleneck", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "planes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv3", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", "*", "self", ".", "expansion", ",", "kernel_size", "=", "1", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn3", "=", "BatchNorm2d", "(", "planes", "*", "self", ".", "expansion", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "no_relu", "=", "no_relu", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bottleneck.forward": [[66, 88], ["model_utils_speed.Bottleneck.conv1", "model_utils_speed.Bottleneck.relu", "model_utils_speed.Bottleneck.conv2", "model_utils_speed.Bottleneck.relu", "model_utils_speed.Bottleneck.conv3", "model_utils_speed.Bottleneck.downsample", "model_utils_speed.Bottleneck.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "#out = self.bn1(out)", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "#out = self.bn2(out)", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv3", "(", "out", ")", "\n", "#out = self.bn3(out)", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "if", "self", ".", "no_relu", ":", "\n", "            ", "return", "out", "\n", "", "else", ":", "\n", "            ", "return", "self", ".", "relu", "(", "out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.segmenthead.__init__": [[91, 99], ["torch.Module.__init__", "BatchNorm2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "interplanes", ",", "outplanes", ",", "scale_factor", "=", "None", ")", ":", "\n", "        ", "super", "(", "segmenthead", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "bn1", "=", "BatchNorm2d", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "interplanes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "BatchNorm2d", "(", "interplanes", ",", "momentum", "=", "bn_mom", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "interplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", "\n", "self", ".", "scale_factor", "=", "scale_factor", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.segmenthead.forward": [[100, 113], ["model_utils_speed.segmenthead.conv1", "model_utils_speed.segmenthead.conv2", "model_utils_speed.segmenthead.relu", "model_utils_speed.segmenthead.relu", "torch.interpolate", "torch.interpolate", "torch.interpolate"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "x", "=", "self", ".", "conv1", "(", "self", ".", "relu", "(", "x", ")", ")", "\n", "out", "=", "self", ".", "conv2", "(", "self", ".", "relu", "(", "x", ")", ")", "\n", "\n", "if", "self", ".", "scale_factor", "is", "not", "None", ":", "\n", "            ", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "*", "self", ".", "scale_factor", "\n", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "*", "self", ".", "scale_factor", "\n", "out", "=", "F", ".", "interpolate", "(", "out", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.DAPPM.__init__": [[115, 172], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "branch_planes", ",", "outplanes", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "DAPPM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "bn_mom", "=", "0.1", "\n", "self", ".", "scale1", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "5", ",", "stride", "=", "2", ",", "padding", "=", "2", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale2", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "9", ",", "stride", "=", "4", ",", "padding", "=", "4", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale3", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "17", ",", "stride", "=", "8", ",", "padding", "=", "8", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale4", "=", "nn", ".", "Sequential", "(", "nn", ".", "AdaptiveAvgPool2d", "(", "(", "1", ",", "1", ")", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale0", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process1", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process2", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process3", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "process4", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", ",", "branch_planes", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "compression", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", "*", "5", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "5", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.DAPPM.forward": [[174, 195], ["x_list.append", "x_list.append", "x_list.append", "x_list.append", "x_list.append", "model_utils_speed.DAPPM.scale0", "model_utils_speed.DAPPM.process1", "model_utils_speed.DAPPM.process2", "model_utils_speed.DAPPM.process3", "model_utils_speed.DAPPM.process4", "model_utils_speed.DAPPM.compression", "model_utils_speed.DAPPM.shortcut", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "model_utils_speed.DAPPM.scale1", "model_utils_speed.DAPPM.scale2", "model_utils_speed.DAPPM.scale3", "model_utils_speed.DAPPM.scale4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "\n", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "\n", "x_list", "=", "[", "]", "\n", "\n", "x_list", ".", "append", "(", "self", ".", "scale0", "(", "x", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process1", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale1", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "0", "]", ")", ")", ")", "\n", "x_list", ".", "append", "(", "(", "self", ".", "process2", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale2", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "1", "]", ")", ")", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process3", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale3", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "2", "]", ")", ")", ")", "\n", "x_list", ".", "append", "(", "self", ".", "process4", "(", "(", "F", ".", "interpolate", "(", "self", ".", "scale4", "(", "x", ")", ",", "\n", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_list", "[", "3", "]", ")", ")", ")", "\n", "\n", "out", "=", "self", ".", "compression", "(", "torch", ".", "cat", "(", "x_list", ",", "1", ")", ")", "+", "self", ".", "shortcut", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.PAPPM.__init__": [[197, 244], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AvgPool2d", "torch.AvgPool2d", "torch.AvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "BatchNorm", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "inplanes", ",", "branch_planes", ",", "outplanes", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "PAPPM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "bn_mom", "=", "0.1", "\n", "self", ".", "scale1", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "5", ",", "stride", "=", "2", ",", "padding", "=", "2", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale2", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "9", ",", "stride", "=", "4", ",", "padding", "=", "4", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale3", "=", "nn", ".", "Sequential", "(", "nn", ".", "AvgPool2d", "(", "kernel_size", "=", "17", ",", "stride", "=", "8", ",", "padding", "=", "8", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "self", ".", "scale4", "=", "nn", ".", "Sequential", "(", "nn", ".", "AdaptiveAvgPool2d", "(", "(", "1", ",", "1", ")", ")", ",", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "self", ".", "scale0", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "branch_planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "self", ".", "scale_process", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", "*", "4", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "4", ",", "branch_planes", "*", "4", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "groups", "=", "4", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "\n", "self", ".", "compression", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "branch_planes", "*", "5", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "branch_planes", "*", "5", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n", "\n", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", "\n", "BatchNorm", "(", "inplanes", ",", "momentum", "=", "bn_mom", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "inplanes", ",", "outplanes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.PAPPM.forward": [[247, 266], ["model_utils_speed.PAPPM.scale0", "scale_list.append", "scale_list.append", "scale_list.append", "scale_list.append", "model_utils_speed.PAPPM.scale_process", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "model_utils_speed.PAPPM.compression", "model_utils_speed.PAPPM.shortcut", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "model_utils_speed.PAPPM.scale1", "model_utils_speed.PAPPM.scale2", "model_utils_speed.PAPPM.scale3", "model_utils_speed.PAPPM.scale4"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "width", "=", "x", ".", "shape", "[", "-", "1", "]", "\n", "height", "=", "x", ".", "shape", "[", "-", "2", "]", "\n", "scale_list", "=", "[", "]", "\n", "\n", "x_", "=", "self", ".", "scale0", "(", "x", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale1", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale2", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale3", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "scale_list", ".", "append", "(", "F", ".", "interpolate", "(", "self", ".", "scale4", "(", "x", ")", ",", "size", "=", "[", "height", ",", "width", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "algc", ")", "+", "x_", ")", "\n", "\n", "scale_out", "=", "self", ".", "scale_process", "(", "torch", ".", "cat", "(", "scale_list", ",", "1", ")", ")", "\n", "\n", "out", "=", "self", ".", "compression", "(", "torch", ".", "cat", "(", "[", "x_", ",", "scale_out", "]", ",", "1", ")", ")", "+", "self", ".", "shortcut", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.PagFM.__init__": [[269, 279], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "mid_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "PagFM", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "f_x", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "mid_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm(mid_channels)", "\n", ")", "\n", "self", ".", "f_y", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "mid_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm(mid_channels)", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.PagFM.forward": [[282, 298], ["x.size", "model_utils_speed.PagFM.f_y", "torch.interpolate", "torch.interpolate", "torch.interpolate", "model_utils_speed.PagFM.f_x", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.interpolate", "torch.interpolate", "torch.interpolate", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum().unsqueeze", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ",", "y", ")", ":", "\n", "        ", "input_size", "=", "x", ".", "size", "(", ")", "\n", "\n", "y_q", "=", "self", ".", "f_y", "(", "y", ")", "\n", "y_q", "=", "F", ".", "interpolate", "(", "y_q", ",", "size", "=", "[", "input_size", "[", "2", "]", ",", "input_size", "[", "3", "]", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "x_k", "=", "self", ".", "f_x", "(", "x", ")", "\n", "\n", "\n", "sim_map", "=", "torch", ".", "sigmoid", "(", "torch", ".", "sum", "(", "x_k", "*", "y_q", ",", "dim", "=", "1", ")", ".", "unsqueeze", "(", "1", ")", ")", "\n", "\n", "y", "=", "F", ".", "interpolate", "(", "y", ",", "size", "=", "[", "input_size", "[", "2", "]", ",", "input_size", "[", "3", "]", "]", ",", "\n", "mode", "=", "'bilinear'", ",", "align_corners", "=", "False", ")", "\n", "x", "=", "(", "1", "-", "sim_map", ")", "*", "x", "+", "sim_map", "*", "y", "\n", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Light_Bag.__init__": [[300, 310], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "out_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "Light_Bag", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv_p", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm(out_channels)", "\n", ")", "\n", "self", ".", "conv_i", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm(out_channels)", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Light_Bag.forward": [[313, 320], ["torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils_speed.Light_Bag.conv_p", "model_utils_speed.Light_Bag.conv_i"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "p", ",", "i", ",", "d", ")", ":", "\n", "        ", "edge_att", "=", "torch", ".", "sigmoid", "(", "d", ")", "\n", "\n", "p_add", "=", "self", ".", "conv_p", "(", "(", "1", "-", "edge_att", ")", "*", "i", "+", "p", ")", "\n", "i_add", "=", "self", ".", "conv_i", "(", "i", "+", "edge_att", "*", "p", ")", "\n", "\n", "return", "p_add", "+", "i_add", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.DDFMv2.__init__": [[323, 337], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "out_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "DDFMv2", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv_p", "=", "nn", ".", "Sequential", "(", "\n", "#BatchNorm(in_channels),", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm(out_channels)", "\n", ")", "\n", "self", ".", "conv_i", "=", "nn", ".", "Sequential", "(", "\n", "#BatchNorm(in_channels),", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "#BatchNorm(out_channels)", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.DDFMv2.forward": [[340, 347], ["torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils_speed.DDFMv2.conv_p", "model_utils_speed.DDFMv2.conv_i"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "p", ",", "i", ",", "d", ")", ":", "\n", "        ", "edge_att", "=", "torch", ".", "sigmoid", "(", "d", ")", "\n", "\n", "p_add", "=", "self", ".", "conv_p", "(", "(", "1", "-", "edge_att", ")", "*", "i", "+", "p", ")", "\n", "i_add", "=", "self", ".", "conv_i", "(", "i", "+", "edge_att", "*", "p", ")", "\n", "\n", "return", "p_add", "+", "i_add", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__": [[349, 357], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channels", ",", "out_channels", ",", "BatchNorm", "=", "nn", ".", "BatchNorm2d", ")", ":", "\n", "        ", "super", "(", "Bag", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "conv", "=", "nn", ".", "Sequential", "(", "\n", "#BatchNorm(in_channels),", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "\n", "kernel_size", "=", "3", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.speed.model_utils_speed.Bag.forward": [[360, 363], ["torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "torch.sigmoid", "model_utils_speed.Bag.conv"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "p", ",", "i", ",", "d", ")", ":", "\n", "        ", "edge_att", "=", "torch", ".", "sigmoid", "(", "d", ")", "\n", "return", "self", ".", "conv", "(", "edge_att", "*", "p", "+", "(", "1", "-", "edge_att", ")", "*", "i", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.XuJiacong_PIDNet.configs.default.update_config": [[91, 98], ["cfg.defrost", "cfg.merge_from_file", "cfg.merge_from_list", "cfg.freeze"], "function", ["None"], ["def", "update_config", "(", "cfg", ",", "args", ")", ":", "\n", "    ", "cfg", ".", "defrost", "(", ")", "\n", "\n", "cfg", ".", "merge_from_file", "(", "args", ".", "cfg", ")", "\n", "cfg", ".", "merge_from_list", "(", "args", ".", "opts", ")", "\n", "\n", "cfg", ".", "freeze", "(", ")", "\n", "\n"]]}