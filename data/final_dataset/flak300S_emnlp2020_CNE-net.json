{"home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_sentihood_incremental.parse_file": [[25, 35], ["open", "json.loads", "f.read", "results.append", "item[].strip"], "function", ["None"], ["def", "parse_file", "(", "in_path", ")", ":", "\n", "    ", "results", "=", "[", "]", "\n", "with", "open", "(", "in_path", ",", "encoding", "=", "\"utf-8\"", ")", "as", "f", ":", "\n", "        ", "data", "=", "json", ".", "loads", "(", "f", ".", "read", "(", ")", ")", "\n", "for", "item", "in", "data", ":", "\n", "            ", "results", ".", "append", "(", "{", "\n", "\"text\"", ":", "item", "[", "\"text\"", "]", ".", "strip", "(", ")", ",", "\n", "\"opinions\"", ":", "item", "[", "\"opinions\"", "]", "\n", "}", ")", "\n", "", "", "return", "results", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_sentihood_incremental.output": [[37, 41], ["open", "f.writelines", "json.dumps"], "function", ["None"], ["", "def", "output", "(", "data", ",", "path", ")", ":", "\n", "    ", "with", "open", "(", "path", ",", "\"w\"", ",", "encoding", "=", "\"utf-8\"", ")", "as", "f", ":", "\n", "        ", "for", "item", "in", "data", ":", "\n", "            ", "f", ".", "writelines", "(", "\"{}\\n\"", ".", "format", "(", "json", ".", "dumps", "(", "item", ",", "ensure_ascii", "=", "False", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_sentihood_incremental.split_by_category": [[43, 108], ["enumerate", "random.shuffle", "print", "print", "new_train_data.append", "origin_train_data.append", "new_test_data1.append", "new_test_data2.append", "new_valid_data1.append", "new_valid_data2.append", "int", "current_origin_train_data[].append", "current_train_data[].append", "current_test_data1[].append", "current_test_data2[].append", "current_valid_data1[].append", "current_valid_data2[].append", "len"], "function", ["None"], ["", "", "", "def", "split_by_category", "(", "train_data", ",", "valid_data", ",", "test_data", ")", ":", "\n", "    ", "origin_train_data", "=", "[", "]", "\n", "new_train_data", "=", "[", "]", "\n", "new_test_data1", "=", "[", "]", "\n", "new_test_data2", "=", "[", "]", "\n", "new_valid_data1", "=", "[", "]", "\n", "new_valid_data2", "=", "[", "]", "\n", "\n", "positive", "=", "0", "\n", "negative", "=", "0", "\n", "\n", "for", "i", ",", "data", "in", "enumerate", "(", "train_data", ")", ":", "\n", "        ", "current_train_data", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "current_origin_train_data", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "for", "opinion", "in", "data", "[", "\"opinions\"", "]", ":", "\n", "            ", "if", "opinion", "[", "\"aspect\"", "]", "not", "in", "category_list", ":", "\n", "                ", "continue", "\n", "", "if", "opinion", "[", "\"aspect\"", "]", "!=", "cold_start_category", ":", "\n", "                ", "current_origin_train_data", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "", "else", ":", "\n", "                ", "current_train_data", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "", "", "new_train_data", ".", "append", "(", "current_train_data", ")", "\n", "origin_train_data", ".", "append", "(", "current_origin_train_data", ")", "\n", "\n", "", "random", ".", "shuffle", "(", "new_train_data", ")", "\n", "new_train_data", "=", "new_train_data", "[", ":", "int", "(", "len", "(", "new_train_data", ")", "*", "cold_start_ratio", ")", "]", "\n", "\n", "for", "data", "in", "test_data", ":", "\n", "        ", "current_test_data1", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "current_test_data2", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "for", "opinion", "in", "data", "[", "\"opinions\"", "]", ":", "\n", "            ", "if", "opinion", "[", "\"aspect\"", "]", "not", "in", "category_list", ":", "\n", "                ", "continue", "\n", "", "if", "opinion", "[", "\"aspect\"", "]", "==", "cold_start_category", ":", "\n", "                ", "current_test_data1", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "if", "opinion", "[", "\"sentiment\"", "]", "==", "\"Positive\"", ":", "\n", "                    ", "positive", "+=", "1", "\n", "", "elif", "opinion", "[", "\"sentiment\"", "]", "==", "\"Negative\"", ":", "\n", "                    ", "negative", "+=", "1", "\n", "", "", "else", ":", "\n", "                ", "current_test_data2", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "if", "opinion", "[", "\"sentiment\"", "]", "==", "\"Positive\"", ":", "\n", "                    ", "positive", "+=", "1", "\n", "", "elif", "opinion", "[", "\"sentiment\"", "]", "==", "\"Negative\"", ":", "\n", "                    ", "negative", "+=", "1", "\n", "\n", "", "", "", "new_test_data1", ".", "append", "(", "current_test_data1", ")", "\n", "new_test_data2", ".", "append", "(", "current_test_data2", ")", "\n", "\n", "", "for", "data", "in", "valid_data", ":", "\n", "        ", "current_valid_data1", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "current_valid_data2", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "for", "opinion", "in", "data", "[", "\"opinions\"", "]", ":", "\n", "            ", "if", "opinion", "[", "\"aspect\"", "]", "not", "in", "category_list", ":", "\n", "                ", "continue", "\n", "", "if", "opinion", "[", "\"aspect\"", "]", "==", "cold_start_category", ":", "\n", "                ", "current_valid_data1", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "", "else", ":", "\n", "                ", "current_valid_data2", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "", "", "new_valid_data1", ".", "append", "(", "current_valid_data1", ")", "\n", "new_valid_data2", ".", "append", "(", "current_valid_data2", ")", "\n", "\n", "", "print", "(", "positive", ")", "\n", "print", "(", "negative", ")", "\n", "return", "origin_train_data", ",", "new_train_data", ",", "new_valid_data1", ",", "new_valid_data2", ",", "new_test_data1", ",", "new_test_data2", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_sentihood.transfer": [[11, 23], ["open", "json.loads", "open", "f.read", "results.append", "f.writelines", "item[].strip", "json.dumps"], "function", ["None"], ["def", "transfer", "(", "in_path", ",", "out_path", ")", ":", "\n", "    ", "results", "=", "[", "]", "\n", "with", "open", "(", "in_path", ",", "encoding", "=", "\"utf-8\"", ")", "as", "f", ":", "\n", "        ", "data", "=", "json", ".", "loads", "(", "f", ".", "read", "(", ")", ")", "\n", "for", "item", "in", "data", ":", "\n", "            ", "results", ".", "append", "(", "{", "\n", "\"text\"", ":", "item", "[", "\"text\"", "]", ".", "strip", "(", ")", ",", "\n", "\"opinions\"", ":", "item", "[", "\"opinions\"", "]", "\n", "}", ")", "\n", "", "", "with", "open", "(", "out_path", ",", "\"w\"", ",", "encoding", "=", "\"utf-8\"", ")", "as", "f", ":", "\n", "        ", "for", "result", "in", "results", ":", "\n", "            ", "f", ".", "writelines", "(", "\"{}\\n\"", ".", "format", "(", "json", ".", "dumps", "(", "result", ",", "ensure_ascii", "=", "False", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_semeval14.parse_file": [[10, 35], ["xml.dom.minidom.parse", "minidom.parse.getElementsByTagName", "print", "sentence.getElementsByTagName", "opinion.getAttribute", "opinion.getAttribute", "len", "results.append", "labels.append", "sentence.getElementsByTagName"], "function", ["None"], ["def", "parse_file", "(", "path", ")", ":", "\n", "    ", "dom_", "=", "minidom", ".", "parse", "(", "path", ")", "\n", "sentences", "=", "dom_", ".", "getElementsByTagName", "(", "'sentence'", ")", "\n", "results", "=", "[", "]", "\n", "count", "=", "{", "\"food\"", ":", "0", ",", "\"service\"", ":", "0", ",", "\"price\"", ":", "0", ",", "\"ambience\"", ":", "0", ",", "\"anecdotes/miscellaneous\"", ":", "0", "}", "\n", "for", "sentence", "in", "sentences", ":", "\n", "        ", "text", "=", "sentence", ".", "getElementsByTagName", "(", "\"text\"", ")", "[", "0", "]", ".", "childNodes", "[", "0", "]", ".", "data", "\n", "opinions", "=", "sentence", ".", "getElementsByTagName", "(", "\"aspectCategory\"", ")", "\n", "labels", "=", "[", "]", "\n", "for", "opinion", "in", "opinions", ":", "\n", "            ", "polarity", "=", "opinion", ".", "getAttribute", "(", "\"polarity\"", ")", "\n", "category", "=", "opinion", ".", "getAttribute", "(", "\"category\"", ")", "\n", "if", "category", "in", "[", "\"food\"", ",", "\"service\"", ",", "\"price\"", ",", "\"ambience\"", ",", "\"anecdotes/miscellaneous\"", "]", ":", "\n", "                ", "labels", ".", "append", "(", "{", "\n", "\"sentiment\"", ":", "polarity", ",", "\n", "\"aspect\"", ":", "category", ",", "\n", "}", ")", "\n", "count", "[", "category", "]", "+=", "1", "\n", "", "", "if", "len", "(", "labels", ")", ">", "0", ":", "\n", "            ", "results", ".", "append", "(", "{", "\n", "\"text\"", ":", "text", ",", "\n", "\"opinions\"", ":", "labels", "\n", "}", ")", "\n", "", "", "print", "(", "count", ")", "\n", "return", "results", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_semeval14.output": [[37, 41], ["open", "f.writelines", "json.dumps"], "function", ["None"], ["", "def", "output", "(", "data", ",", "path", ")", ":", "\n", "    ", "with", "open", "(", "path", ",", "\"w\"", ",", "encoding", "=", "\"utf-8\"", ")", "as", "f", ":", "\n", "        ", "for", "item", "in", "data", ":", "\n", "            ", "f", ".", "writelines", "(", "\"{}\\n\"", ".", "format", "(", "json", ".", "dumps", "(", "item", ",", "ensure_ascii", "=", "False", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_semeval14_incremental.parse_file": [[20, 42], ["xml.dom.minidom.parse", "minidom.parse.getElementsByTagName", "sentence.getElementsByTagName", "opinion.getAttribute", "opinion.getAttribute", "len", "results.append", "labels.append", "sentence.getElementsByTagName"], "function", ["None"], ["def", "parse_file", "(", "path", ")", ":", "\n", "    ", "dom_", "=", "minidom", ".", "parse", "(", "path", ")", "\n", "sentences", "=", "dom_", ".", "getElementsByTagName", "(", "'sentence'", ")", "\n", "results", "=", "[", "]", "\n", "for", "sentence", "in", "sentences", ":", "\n", "        ", "text", "=", "sentence", ".", "getElementsByTagName", "(", "\"text\"", ")", "[", "0", "]", ".", "childNodes", "[", "0", "]", ".", "data", "\n", "opinions", "=", "sentence", ".", "getElementsByTagName", "(", "\"aspectCategory\"", ")", "\n", "labels", "=", "[", "]", "\n", "for", "opinion", "in", "opinions", ":", "\n", "            ", "polarity", "=", "opinion", ".", "getAttribute", "(", "\"polarity\"", ")", "\n", "category", "=", "opinion", ".", "getAttribute", "(", "\"category\"", ")", "\n", "if", "category", "in", "[", "\"food\"", ",", "\"service\"", ",", "\"price\"", ",", "\"ambience\"", ",", "\"anecdotes/miscellaneous\"", "]", ":", "\n", "                ", "labels", ".", "append", "(", "{", "\n", "\"sentiment\"", ":", "polarity", ",", "\n", "\"aspect\"", ":", "category", ",", "\n", "}", ")", "\n", "", "", "if", "len", "(", "labels", ")", ">", "0", ":", "\n", "            ", "results", ".", "append", "(", "{", "\n", "\"text\"", ":", "text", ",", "\n", "\"opinions\"", ":", "labels", "\n", "}", ")", "\n", "", "", "return", "results", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_semeval14_incremental.output": [[44, 48], ["open", "f.writelines", "json.dumps"], "function", ["None"], ["", "def", "output", "(", "data", ",", "path", ")", ":", "\n", "    ", "with", "open", "(", "path", ",", "\"w\"", ",", "encoding", "=", "\"utf-8\"", ")", "as", "f", ":", "\n", "        ", "for", "item", "in", "data", ":", "\n", "            ", "f", ".", "writelines", "(", "\"{}\\n\"", ".", "format", "(", "json", ".", "dumps", "(", "item", ",", "ensure_ascii", "=", "False", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.flak300S_emnlp2020_CNE-net.preprocess.preprocess_semeval14_incremental.split_by_category": [[50, 107], ["enumerate", "random.shuffle", "print", "print", "print", "print", "new_train_data.append", "origin_train_data.append", "new_test_data1.append", "new_test_data2.append", "int", "current_origin_train_data[].append", "current_train_data[].append", "current_test_data2[].append", "current_test_data1[].append", "len"], "function", ["None"], ["", "", "", "def", "split_by_category", "(", "train_data", ",", "test_data", ",", "category", ")", ":", "\n", "    ", "origin_train_data", "=", "[", "]", "\n", "new_train_data", "=", "[", "]", "\n", "new_test_data1", "=", "[", "]", "\n", "new_test_data2", "=", "[", "]", "\n", "positive", "=", "0", "\n", "neutual", "=", "0", "\n", "negative", "=", "0", "\n", "conflict", "=", "0", "\n", "\n", "for", "i", ",", "data", "in", "enumerate", "(", "train_data", ")", ":", "\n", "        ", "current_train_data", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "current_origin_train_data", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "for", "opinion", "in", "data", "[", "\"opinions\"", "]", ":", "\n", "            ", "if", "opinion", "[", "\"aspect\"", "]", "not", "in", "category_list", ":", "\n", "                ", "continue", "\n", "", "if", "opinion", "[", "\"aspect\"", "]", "!=", "category", ":", "\n", "                ", "current_origin_train_data", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "", "else", ":", "\n", "                ", "current_train_data", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "", "", "new_train_data", ".", "append", "(", "current_train_data", ")", "\n", "origin_train_data", ".", "append", "(", "current_origin_train_data", ")", "\n", "\n", "", "random", ".", "shuffle", "(", "new_train_data", ")", "\n", "new_train_data", "=", "new_train_data", "[", ":", "int", "(", "len", "(", "new_train_data", ")", "*", "cold_start_ratio", ")", "]", "\n", "\n", "for", "data", "in", "test_data", ":", "\n", "        ", "current_test_data1", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "current_test_data2", "=", "{", "\"text\"", ":", "data", "[", "\"text\"", "]", ",", "\"opinions\"", ":", "[", "]", "}", "\n", "for", "opinion", "in", "data", "[", "\"opinions\"", "]", ":", "\n", "            ", "if", "opinion", "[", "\"aspect\"", "]", "in", "category_list", "and", "opinion", "[", "\"aspect\"", "]", "!=", "category", ":", "\n", "                ", "current_test_data2", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "if", "opinion", "[", "\"sentiment\"", "]", "==", "\"positive\"", ":", "\n", "                    ", "positive", "+=", "1", "\n", "", "elif", "opinion", "[", "\"sentiment\"", "]", "==", "\"neutral\"", ":", "\n", "                    ", "neutual", "+=", "1", "\n", "", "elif", "opinion", "[", "\"sentiment\"", "]", "==", "\"negative\"", ":", "\n", "                    ", "negative", "+=", "1", "\n", "", "else", ":", "\n", "                    ", "conflict", "+=", "1", "\n", "", "", "if", "opinion", "[", "\"aspect\"", "]", "==", "category", ":", "\n", "                ", "current_test_data1", "[", "\"opinions\"", "]", ".", "append", "(", "opinion", ")", "\n", "if", "opinion", "[", "\"sentiment\"", "]", "==", "\"positive\"", ":", "\n", "                    ", "positive", "+=", "1", "\n", "", "elif", "opinion", "[", "\"sentiment\"", "]", "==", "\"neutral\"", ":", "\n", "                    ", "neutual", "+=", "1", "\n", "", "elif", "opinion", "[", "\"sentiment\"", "]", "==", "\"negative\"", ":", "\n", "                    ", "negative", "+=", "1", "\n", "", "else", ":", "\n", "                    ", "conflict", "+=", "1", "\n", "", "", "", "new_test_data1", ".", "append", "(", "current_test_data1", ")", "\n", "new_test_data2", ".", "append", "(", "current_test_data2", ")", "\n", "", "print", "(", "positive", ")", "\n", "print", "(", "neutual", ")", "\n", "print", "(", "negative", ")", "\n", "print", "(", "conflict", ")", "\n", "return", "origin_train_data", ",", "new_train_data", ",", "new_test_data1", ",", "new_test_data2", "\n", "\n"]]}