{"home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_train.main": [[13, 115], ["os.path.join", "model.TASED_v2", "os.path.isfile", "dict().items", "torch.optim.SGD", "loss.KLDLoss", "torch.nn.DataParallel.cuda", "torch.nn.DataParallel", "torch.nn.DataParallel.train", "dataset.InfiniteDataLoader", "time.time", "itertools.islice", "len", "time.strftime", "os.path.isdir", "os.makedirs", "print", "torch.load", "torch.nn.DataParallel.state_dict", "torch.load.items", "print", "print", "dataset.DHF1KDataset", "criterion.detach().item", "criterion.backward", "len", "dict", "range", "torch.set_grad_enabled", "torch.nn.DataParallel.", "loss.KLDLoss.", "torch.optim.SGD.step", "torch.optim.SGD.zero_grad", "print", "int", "print", "torch.nn.DataParallel.named_parameters", "clip.cuda", "annt.cuda", "criterion.detach", "torch.save", "param.size", "model_dict[].size", "model_dict[].copy_", "print", "torch.nn.DataParallel.state_dict", "os.path.join", "name.split", "name.split", "name.split", "param.size", "model_dict[].size", "datetime.timedelta", "sn_list.index", "int", "time.time"], "function", ["None"], ["def", "main", "(", ")", ":", "\n", "    ", "''' concise script for training '''", "\n", "# optional two command-line arguments", "\n", "path_indata", "=", "'./DHF1K'", "\n", "path_output", "=", "'./output'", "\n", "if", "len", "(", "sys", ".", "argv", ")", ">", "1", ":", "\n", "        ", "path_indata", "=", "sys", ".", "argv", "[", "1", "]", "\n", "if", "len", "(", "sys", ".", "argv", ")", ">", "2", ":", "\n", "            ", "path_output", "=", "sys", ".", "argv", "[", "2", "]", "\n", "\n", "# we checked that using only 2 gpus is enough to produce similar results", "\n", "", "", "num_gpu", "=", "2", "\n", "pile", "=", "5", "\n", "batch_size", "=", "8", "\n", "num_iters", "=", "1000", "\n", "len_temporal", "=", "32", "\n", "file_weight", "=", "'./S3D_kinetics400.pt'", "\n", "path_output", "=", "os", ".", "path", ".", "join", "(", "path_output", ",", "time", ".", "strftime", "(", "\"%m-%d_%H-%M-%S\"", ")", ")", "\n", "if", "not", "os", ".", "path", ".", "isdir", "(", "path_output", ")", ":", "\n", "        ", "os", ".", "makedirs", "(", "path_output", ")", "\n", "\n", "", "model", "=", "TASED_v2", "(", ")", "\n", "\n", "# load the weight file and copy the parameters", "\n", "if", "os", ".", "path", ".", "isfile", "(", "file_weight", ")", ":", "\n", "        ", "print", "(", "'loading weight file'", ")", "\n", "weight_dict", "=", "torch", ".", "load", "(", "file_weight", ")", "\n", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "for", "name", ",", "param", "in", "weight_dict", ".", "items", "(", ")", ":", "\n", "            ", "if", "'module'", "in", "name", ":", "\n", "                ", "name", "=", "'.'", ".", "join", "(", "name", ".", "split", "(", "'.'", ")", "[", "1", ":", "]", ")", "\n", "", "if", "'base.'", "in", "name", ":", "\n", "                ", "bn", "=", "int", "(", "name", ".", "split", "(", "'.'", ")", "[", "1", "]", ")", "\n", "sn_list", "=", "[", "0", ",", "5", ",", "8", ",", "14", "]", "\n", "sn", "=", "sn_list", "[", "0", "]", "\n", "if", "bn", ">=", "sn_list", "[", "1", "]", "and", "bn", "<", "sn_list", "[", "2", "]", ":", "\n", "                    ", "sn", "=", "sn_list", "[", "1", "]", "\n", "", "elif", "bn", ">=", "sn_list", "[", "2", "]", "and", "bn", "<", "sn_list", "[", "3", "]", ":", "\n", "                    ", "sn", "=", "sn_list", "[", "2", "]", "\n", "", "elif", "bn", ">=", "sn_list", "[", "3", "]", ":", "\n", "                    ", "sn", "=", "sn_list", "[", "3", "]", "\n", "", "name", "=", "'.'", ".", "join", "(", "name", ".", "split", "(", "'.'", ")", "[", "2", ":", "]", ")", "\n", "name", "=", "'base%d.%d.'", "%", "(", "sn_list", ".", "index", "(", "sn", ")", "+", "1", ",", "bn", "-", "sn", ")", "+", "name", "\n", "", "if", "name", "in", "model_dict", ":", "\n", "                ", "if", "param", ".", "size", "(", ")", "==", "model_dict", "[", "name", "]", ".", "size", "(", ")", ":", "\n", "                    ", "model_dict", "[", "name", "]", ".", "copy_", "(", "param", ")", "\n", "", "else", ":", "\n", "                    ", "print", "(", "' size? '", "+", "name", ",", "param", ".", "size", "(", ")", ",", "model_dict", "[", "name", "]", ".", "size", "(", ")", ")", "\n", "", "", "else", ":", "\n", "                ", "print", "(", "' name? '", "+", "name", ")", "\n", "\n", "", "", "print", "(", "' loaded'", ")", "\n", "", "else", ":", "\n", "        ", "print", "(", "'weight file?'", ")", "\n", "\n", "# parameter setting for fine-tuning", "\n", "", "params", "=", "[", "]", "\n", "for", "key", ",", "value", "in", "dict", "(", "model", ".", "named_parameters", "(", ")", ")", ".", "items", "(", ")", ":", "\n", "        ", "if", "'convtsp'", "in", "key", ":", "\n", "            ", "params", "+=", "[", "{", "'params'", ":", "[", "value", "]", ",", "'key'", ":", "key", "+", "'(new)'", "}", "]", "\n", "", "else", ":", "\n", "            ", "params", "+=", "[", "{", "'params'", ":", "[", "value", "]", ",", "'lr'", ":", "0.001", ",", "'key'", ":", "key", "}", "]", "\n", "\n", "", "", "optimizer", "=", "torch", ".", "optim", ".", "SGD", "(", "params", ",", "lr", "=", "0.1", ",", "momentum", "=", "0.9", ",", "weight_decay", "=", "2e-7", ")", "\n", "criterion", "=", "KLDLoss", "(", ")", "\n", "\n", "model", "=", "model", ".", "cuda", "(", ")", "\n", "model", "=", "torch", ".", "nn", ".", "DataParallel", "(", "model", ",", "device_ids", "=", "range", "(", "num_gpu", ")", ")", "\n", "torch", ".", "backends", ".", "cudnn", ".", "benchmark", "=", "False", "\n", "model", ".", "train", "(", ")", "\n", "\n", "train_loader", "=", "InfiniteDataLoader", "(", "DHF1KDataset", "(", "path_indata", ",", "len_temporal", ")", ",", "batch_size", "=", "batch_size", ",", "shuffle", "=", "True", ",", "num_workers", "=", "8", ")", "\n", "\n", "i", ",", "step", "=", "0", ",", "0", "\n", "loss_sum", "=", "0", "\n", "start_time", "=", "time", ".", "time", "(", ")", "\n", "for", "clip", ",", "annt", "in", "islice", "(", "train_loader", ",", "num_iters", "*", "pile", ")", ":", "\n", "        ", "with", "torch", ".", "set_grad_enabled", "(", "True", ")", ":", "\n", "            ", "output", "=", "model", "(", "clip", ".", "cuda", "(", ")", ")", "\n", "loss", "=", "criterion", "(", "output", ",", "annt", ".", "cuda", "(", ")", ")", "\n", "\n", "", "loss_sum", "+=", "loss", ".", "detach", "(", ")", ".", "item", "(", ")", "\n", "loss", ".", "backward", "(", ")", "\n", "if", "(", "i", "+", "1", ")", "%", "pile", "==", "0", ":", "\n", "            ", "optimizer", ".", "step", "(", ")", "\n", "optimizer", ".", "zero_grad", "(", ")", "\n", "step", "+=", "1", "\n", "\n", "# whole process takes less than 3 hours", "\n", "print", "(", "'iteration: [%4d/%4d], loss: %.4f, %s'", "%", "(", "step", ",", "num_iters", ",", "loss_sum", "/", "pile", ",", "timedelta", "(", "seconds", "=", "int", "(", "time", ".", "time", "(", ")", "-", "start_time", ")", ")", ")", ",", "flush", "=", "True", ")", "\n", "loss_sum", "=", "0", "\n", "\n", "# adjust learning rate", "\n", "if", "step", "in", "[", "750", ",", "950", "]", ":", "\n", "                ", "for", "opt", "in", "optimizer", ".", "param_groups", ":", "\n", "                    ", "if", "'new'", "in", "opt", "[", "'key'", "]", ":", "\n", "                        ", "opt", "[", "'lr'", "]", "*=", "0.1", "\n", "\n", "", "", "", "if", "step", "%", "25", "==", "0", ":", "\n", "                ", "torch", ".", "save", "(", "model", ".", "state_dict", "(", ")", ",", "os", ".", "path", ".", "join", "(", "path_output", ",", "'iter_%04d.pt'", "%", "step", ")", ")", "\n", "\n", "", "", "i", "+=", "1", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.DHF1KDataset.__init__": [[17, 21], ["int", "csv.reader", "open"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "path_data", ",", "len_snippet", ")", ":", "\n", "         ", "self", ".", "path_data", "=", "path_data", "\n", "self", ".", "len_snippet", "=", "len_snippet", "\n", "self", ".", "list_num_frame", "=", "[", "int", "(", "row", "[", "0", "]", ")", "for", "row", "in", "csv", ".", "reader", "(", "open", "(", "'DHF1K_num_frame_train.csv'", ",", "'r'", ")", ")", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.DHF1KDataset.__len__": [[22, 24], ["len"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "len", "(", "self", ".", "list_num_frame", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.DHF1KDataset.__getitem__": [[25, 48], ["os.path.join", "os.path.join", "numpy.random.randint", "numpy.random.random", "range", "cv2.imread", "cv2.resize", "cv2.imread", "cv2.resize", "clip.append", "os.path.join", "dataset.transform", "torch.from_numpy().contiguous().float", "os.path.join", "torch.from_numpy().contiguous", "torch.from_numpy", "cv2.resize.copy"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.transform"], ["", "def", "__getitem__", "(", "self", ",", "idx", ")", ":", "\n", "        ", "file_name", "=", "'%04d'", "%", "(", "idx", "+", "1", ")", "\n", "path_clip", "=", "os", ".", "path", ".", "join", "(", "self", ".", "path_data", ",", "'video'", ",", "file_name", ")", "\n", "path_annt", "=", "os", ".", "path", ".", "join", "(", "self", ".", "path_data", ",", "'annotation'", ",", "file_name", ",", "'maps'", ")", "\n", "\n", "start_idx", "=", "np", ".", "random", ".", "randint", "(", "0", ",", "self", ".", "list_num_frame", "[", "idx", "]", "-", "self", ".", "len_snippet", "+", "1", ")", "\n", "\n", "v", "=", "np", ".", "random", ".", "random", "(", ")", "\n", "clip", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "self", ".", "len_snippet", ")", ":", "\n", "            ", "img", "=", "cv2", ".", "imread", "(", "os", ".", "path", ".", "join", "(", "path_clip", ",", "'%04d.png'", "%", "(", "start_idx", "+", "i", "+", "1", ")", ")", ")", "\n", "img", "=", "cv2", ".", "resize", "(", "img", ",", "(", "384", ",", "224", ")", ")", "\n", "img", "=", "img", "[", "...", ",", ":", ":", "-", "1", "]", "\n", "if", "v", "<", "0.5", ":", "\n", "                ", "img", "=", "img", "[", ":", ",", ":", ":", "-", "1", ",", "...", "]", "\n", "", "clip", ".", "append", "(", "img", ")", "\n", "\n", "", "annt", "=", "cv2", ".", "imread", "(", "os", ".", "path", ".", "join", "(", "path_annt", ",", "'%04d.png'", "%", "(", "start_idx", "+", "self", ".", "len_snippet", ")", ")", ",", "0", ")", "\n", "annt", "=", "cv2", ".", "resize", "(", "annt", ",", "(", "384", ",", "224", ")", ")", "\n", "if", "v", "<", "0.5", ":", "\n", "            ", "annt", "=", "annt", "[", ":", ",", ":", ":", "-", "1", "]", "\n", "\n", "", "return", "transform", "(", "clip", ")", ",", "torch", ".", "from_numpy", "(", "annt", ".", "copy", "(", ")", ")", ".", "contiguous", "(", ")", ".", "float", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.InfiniteDataLoader.__init__": [[51, 54], ["torch.utils.data.DataLoader.__init__", "torch.utils.data.DataLoader.__iter__"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__", "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.trainingSampler.__iter__"], ["    ", "def", "__init__", "(", "self", ",", "*", "args", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", "*", "args", ",", "**", "kwargs", ")", "\n", "self", ".", "dataset_iterator", "=", "super", "(", ")", ".", "__iter__", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.InfiniteDataLoader.__iter__": [[55, 57], ["None"], "methods", ["None"], ["", "def", "__iter__", "(", "self", ")", ":", "\n", "        ", "return", "self", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.InfiniteDataLoader.__next__": [[58, 65], ["next", "torch.utils.data.DataLoader.__iter__", "next"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.trainingSampler.__iter__"], ["", "def", "__next__", "(", "self", ")", ":", "\n", "        ", "try", ":", "\n", "            ", "batch", "=", "next", "(", "self", ".", "dataset_iterator", ")", "\n", "", "except", "StopIteration", ":", "\n", "            ", "self", ".", "dataset_iterator", "=", "super", "(", ")", ".", "__iter__", "(", ")", "\n", "batch", "=", "next", "(", "self", ".", "dataset_iterator", ")", "\n", "", "return", "batch", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.trainingSampler.__init__": [[71, 73], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "size", ")", ":", "\n", "        ", "self", ".", "size", "=", "size", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.trainingSampler._infinite_indices": [[74, 78], ["torch.Generator", "torch.randperm"], "methods", ["None"], ["", "def", "_infinite_indices", "(", "self", ")", ":", "\n", "        ", "g", "=", "torch", ".", "Generator", "(", ")", "\n", "while", "True", ":", "\n", "            ", "yield", "from", "torch", ".", "randperm", "(", "self", ".", "size", ",", "generator", "=", "g", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.trainingSampler.__iter__": [[79, 81], ["itertools.islice", "dataset.trainingSampler._infinite_indices"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.trainingSampler._infinite_indices"], ["", "", "def", "__iter__", "(", "self", ")", ":", "\n", "        ", "yield", "from", "itertools", ".", "islice", "(", "self", ".", "_infinite_indices", "(", ")", ",", "0", ",", "None", ",", "1", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.dataset.transform": [[8, 15], ["numpy.concatenate", "torch.from_numpy().permute().contiguous().float", "snippet.view().permute.mul_().sub_().div", "snippet.view().permute.view().permute", "torch.from_numpy().permute().contiguous", "snippet.view().permute.mul_().sub_", "snippet.view().permute.view", "snippet.view().permute.size", "snippet.view().permute.size", "torch.from_numpy().permute", "snippet.view().permute.mul_", "torch.from_numpy"], "function", ["None"], ["def", "transform", "(", "snippet", ")", ":", "\n", "    ", "''' stack & noralization '''", "\n", "snippet", "=", "np", ".", "concatenate", "(", "snippet", ",", "axis", "=", "-", "1", ")", "\n", "snippet", "=", "torch", ".", "from_numpy", "(", "snippet", ")", ".", "permute", "(", "2", ",", "0", ",", "1", ")", ".", "contiguous", "(", ")", ".", "float", "(", ")", "\n", "snippet", "=", "snippet", ".", "mul_", "(", "2.", ")", ".", "sub_", "(", "255", ")", ".", "div", "(", "255", ")", "\n", "snippet", "=", "snippet", ".", "view", "(", "-", "1", ",", "3", ",", "snippet", ".", "size", "(", "1", ")", ",", "snippet", ".", "size", "(", "2", ")", ")", ".", "permute", "(", "1", ",", "0", ",", "2", ",", "3", ")", "\n", "return", "snippet", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.loss.KLDLoss.__init__": [[12, 14], ["torch.nn.Module.__init__"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "KLDLoss", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.loss.KLDLoss.KLD": [[15, 21], ["torch.sum", "torch.sum", "torch.sum", "torch.log", "torch.div"], "methods", ["None"], ["", "def", "KLD", "(", "self", ",", "inp", ",", "trg", ")", ":", "\n", "        ", "inp", "=", "inp", "/", "torch", ".", "sum", "(", "inp", ")", "\n", "trg", "=", "trg", "/", "torch", ".", "sum", "(", "trg", ")", "\n", "eps", "=", "sys", ".", "float_info", ".", "epsilon", "\n", "\n", "return", "torch", ".", "sum", "(", "trg", "*", "torch", ".", "log", "(", "eps", "+", "torch", ".", "div", "(", "trg", ",", "(", "inp", "+", "eps", ")", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.loss.KLDLoss.forward": [[22, 24], ["loss._pointwise_loss", "loss.KLDLoss.KLD"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.loss._pointwise_loss", "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.loss.KLDLoss.KLD"], ["", "def", "forward", "(", "self", ",", "inp", ",", "trg", ")", ":", "\n", "        ", "return", "_pointwise_loss", "(", "lambda", "a", ",", "b", ":", "self", ".", "KLD", "(", "a", ",", "b", ")", ",", "inp", ",", "trg", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.loss._pointwise_loss": [[5, 10], ["lambd", "torch.mean", "torch.sum"], "function", ["None"], ["def", "_pointwise_loss", "(", "lambd", ",", "input", ",", "target", ",", "size_average", "=", "True", ",", "reduce", "=", "True", ")", ":", "\n", "    ", "d", "=", "lambd", "(", "input", ",", "target", ")", "\n", "if", "not", "reduce", ":", "\n", "        ", "return", "d", "\n", "", "return", "torch", ".", "mean", "(", "d", ")", "if", "size_average", "else", "torch", ".", "sum", "(", "d", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.TASED_v2.__init__": [[5, 78], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.MaxPool3d", "torch.nn.MaxPool3d", "torch.nn.MaxPool3d", "torch.nn.Sequential", "torch.nn.MaxPool3d", "torch.nn.MaxPool3d", "torch.nn.MaxPool3d", "torch.nn.Sequential", "torch.nn.MaxPool3d", "torch.nn.MaxPool3d", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.MaxUnpool3d", "torch.nn.Sequential", "torch.nn.MaxUnpool3d", "torch.nn.Sequential", "torch.nn.MaxUnpool3d", "torch.nn.Sequential", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d", "model.SepConv3d", "model.Mixed_3b", "model.Mixed_3c", "model.Mixed_4b", "model.Mixed_4c", "model.Mixed_4d", "model.Mixed_4e", "model.Mixed_4f", "model.Mixed_5b", "model.Mixed_5c", "torch.nn.Conv3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.ConvTranspose3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.ConvTranspose3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.ConvTranspose3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.ConvTranspose3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.Conv3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.ConvTranspose3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.Conv3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.ConvTranspose3d", "torch.nn.Conv3d", "torch.nn.Sigmoid"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "TASED_v2", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "base1", "=", "nn", ".", "Sequential", "(", "\n", "SepConv3d", "(", "3", ",", "64", ",", "kernel_size", "=", "7", ",", "stride", "=", "2", ",", "padding", "=", "3", ")", ",", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ")", ",", "\n", "BasicConv3d", "(", "64", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "64", ",", "192", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "maxp2", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ")", "\n", "self", ".", "maxm2", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "4", ",", "1", ",", "1", ")", ",", "stride", "=", "(", "4", ",", "1", ",", "1", ")", ",", "padding", "=", "(", "0", ",", "0", ",", "0", ")", ")", "\n", "self", ".", "maxt2", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "return_indices", "=", "True", ")", "\n", "self", ".", "base2", "=", "nn", ".", "Sequential", "(", "\n", "Mixed_3b", "(", ")", ",", "\n", "Mixed_3c", "(", ")", ",", "\n", ")", "\n", "self", ".", "maxp3", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "2", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "1", ",", "1", ",", "1", ")", ")", "\n", "self", ".", "maxm3", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "4", ",", "1", ",", "1", ")", ",", "stride", "=", "(", "4", ",", "1", ",", "1", ")", ",", "padding", "=", "(", "0", ",", "0", ",", "0", ")", ")", "\n", "self", ".", "maxt3", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "return_indices", "=", "True", ")", "\n", "self", ".", "base3", "=", "nn", ".", "Sequential", "(", "\n", "Mixed_4b", "(", ")", ",", "\n", "Mixed_4c", "(", ")", ",", "\n", "Mixed_4d", "(", ")", ",", "\n", "Mixed_4e", "(", ")", ",", "\n", "Mixed_4f", "(", ")", ",", "\n", ")", "\n", "self", ".", "maxt4", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "2", ",", "1", ",", "1", ")", ",", "stride", "=", "(", "2", ",", "1", ",", "1", ")", ",", "padding", "=", "(", "0", ",", "0", ",", "0", ")", ")", "\n", "self", ".", "maxp4", "=", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "1", ",", "2", ",", "2", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "0", ",", "0", ")", ",", "return_indices", "=", "True", ")", "\n", "self", ".", "base4", "=", "nn", ".", "Sequential", "(", "\n", "Mixed_5b", "(", ")", ",", "\n", "Mixed_5c", "(", ")", ",", "\n", ")", "\n", "self", ".", "convtsp1", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv3d", "(", "1024", ",", "1024", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "1024", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", "\n", "nn", ".", "ConvTranspose3d", "(", "1024", ",", "832", ",", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "832", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", ")", "\n", "self", ".", "unpool1", "=", "nn", ".", "MaxUnpool3d", "(", "kernel_size", "=", "(", "1", ",", "2", ",", "2", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "0", ",", "0", ")", ")", "\n", "self", ".", "convtsp2", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "ConvTranspose3d", "(", "832", ",", "480", ",", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "480", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", ")", "\n", "self", ".", "unpool2", "=", "nn", ".", "MaxUnpool3d", "(", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ")", "\n", "self", ".", "convtsp3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "ConvTranspose3d", "(", "480", ",", "192", ",", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "192", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", ")", "\n", "self", ".", "unpool3", "=", "nn", ".", "MaxUnpool3d", "(", "kernel_size", "=", "(", "1", ",", "3", ",", "3", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ")", "\n", "self", ".", "convtsp4", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "ConvTranspose3d", "(", "192", ",", "64", ",", "kernel_size", "=", "(", "1", ",", "4", ",", "4", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "64", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", "\n", "nn", ".", "Conv3d", "(", "64", ",", "64", ",", "kernel_size", "=", "(", "2", ",", "1", ",", "1", ")", ",", "stride", "=", "(", "2", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "64", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", "\n", "nn", ".", "ConvTranspose3d", "(", "64", ",", "4", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "4", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", "\n", "nn", ".", "Conv3d", "(", "4", ",", "4", ",", "kernel_size", "=", "(", "2", ",", "1", ",", "1", ")", ",", "stride", "=", "(", "2", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm3d", "(", "4", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", ")", ",", "\n", "\n", "nn", ".", "ConvTranspose3d", "(", "4", ",", "4", ",", "kernel_size", "=", "(", "1", ",", "4", ",", "4", ")", ",", "stride", "=", "(", "1", ",", "2", ",", "2", ")", ",", "padding", "=", "(", "0", ",", "1", ",", "1", ")", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "Conv3d", "(", "4", ",", "1", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "Sigmoid", "(", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.TASED_v2.forward": [[80, 104], ["model.TASED_v2.base1", "model.TASED_v2.maxp2", "model.TASED_v2.maxm2", "model.TASED_v2.maxt2", "model.TASED_v2.base2", "model.TASED_v2.maxp3", "model.TASED_v2.maxm3", "model.TASED_v2.maxt3", "model.TASED_v2.base3", "model.TASED_v2.maxt4", "model.TASED_v2.maxp4", "model.TASED_v2.base4", "model.TASED_v2.convtsp1", "model.TASED_v2.unpool1", "model.TASED_v2.convtsp2", "model.TASED_v2.unpool2", "model.TASED_v2.convtsp3", "model.TASED_v2.unpool3", "model.TASED_v2.convtsp4", "z.view.view.view", "model.TASED_v2.size", "model.TASED_v2.size", "z.view.view.size", "z.view.view.size", "z.view.view.size"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "y3", "=", "self", ".", "base1", "(", "x", ")", "\n", "y", "=", "self", ".", "maxp2", "(", "y3", ")", "\n", "y3", "=", "self", ".", "maxm2", "(", "y3", ")", "\n", "_", ",", "i2", "=", "self", ".", "maxt2", "(", "y3", ")", "\n", "y2", "=", "self", ".", "base2", "(", "y", ")", "\n", "y", "=", "self", ".", "maxp3", "(", "y2", ")", "\n", "y2", "=", "self", ".", "maxm3", "(", "y2", ")", "\n", "_", ",", "i1", "=", "self", ".", "maxt3", "(", "y2", ")", "\n", "y1", "=", "self", ".", "base3", "(", "y", ")", "\n", "y", "=", "self", ".", "maxt4", "(", "y1", ")", "\n", "y", ",", "i0", "=", "self", ".", "maxp4", "(", "y", ")", "\n", "y0", "=", "self", ".", "base4", "(", "y", ")", "\n", "\n", "z", "=", "self", ".", "convtsp1", "(", "y0", ")", "\n", "z", "=", "self", ".", "unpool1", "(", "z", ",", "i0", ")", "\n", "z", "=", "self", ".", "convtsp2", "(", "z", ")", "\n", "z", "=", "self", ".", "unpool2", "(", "z", ",", "i1", ",", "y2", ".", "size", "(", ")", ")", "\n", "z", "=", "self", ".", "convtsp3", "(", "z", ")", "\n", "z", "=", "self", ".", "unpool3", "(", "z", ",", "i2", ",", "y3", ".", "size", "(", ")", ")", "\n", "z", "=", "self", ".", "convtsp4", "(", "z", ")", "\n", "z", "=", "z", ".", "view", "(", "z", ".", "size", "(", "0", ")", ",", "z", ".", "size", "(", "3", ")", ",", "z", ".", "size", "(", "4", ")", ")", "\n", "\n", "return", "z", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.BasicConv3d.__init__": [[106, 111], ["torch.nn.Module.__init__", "torch.nn.Conv3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_planes", ",", "out_planes", ",", "kernel_size", ",", "stride", ",", "padding", "=", "0", ")", ":", "\n", "        ", "super", "(", "BasicConv3d", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv", "=", "nn", ".", "Conv3d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "kernel_size", ",", "stride", "=", "stride", ",", "padding", "=", "padding", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn", "=", "nn", ".", "BatchNorm3d", "(", "out_planes", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.BasicConv3d.forward": [[112, 117], ["model.BasicConv3d.conv", "model.BasicConv3d.bn", "model.BasicConv3d.relu"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "conv", "(", "x", ")", "\n", "x", "=", "self", ".", "bn", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.SepConv3d.__init__": [[119, 128], ["torch.nn.Module.__init__", "torch.nn.Conv3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU", "torch.nn.Conv3d", "torch.nn.BatchNorm3d", "torch.nn.ReLU"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_planes", ",", "out_planes", ",", "kernel_size", ",", "stride", ",", "padding", "=", "0", ")", ":", "\n", "        ", "super", "(", "SepConv3d", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv_s", "=", "nn", ".", "Conv3d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "(", "1", ",", "kernel_size", ",", "kernel_size", ")", ",", "stride", "=", "(", "1", ",", "stride", ",", "stride", ")", ",", "padding", "=", "(", "0", ",", "padding", ",", "padding", ")", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn_s", "=", "nn", ".", "BatchNorm3d", "(", "out_planes", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", "\n", "self", ".", "relu_s", "=", "nn", ".", "ReLU", "(", ")", "\n", "\n", "self", ".", "conv_t", "=", "nn", ".", "Conv3d", "(", "out_planes", ",", "out_planes", ",", "kernel_size", "=", "(", "kernel_size", ",", "1", ",", "1", ")", ",", "stride", "=", "(", "stride", ",", "1", ",", "1", ")", ",", "padding", "=", "(", "padding", ",", "0", ",", "0", ")", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn_t", "=", "nn", ".", "BatchNorm3d", "(", "out_planes", ",", "eps", "=", "1e-3", ",", "momentum", "=", "0.001", ",", "affine", "=", "True", ")", "\n", "self", ".", "relu_t", "=", "nn", ".", "ReLU", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.SepConv3d.forward": [[129, 138], ["model.SepConv3d.conv_s", "model.SepConv3d.bn_s", "model.SepConv3d.relu_s", "model.SepConv3d.conv_t", "model.SepConv3d.bn_t", "model.SepConv3d.relu_t"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "conv_s", "(", "x", ")", "\n", "x", "=", "self", ".", "bn_s", "(", "x", ")", "\n", "x", "=", "self", ".", "relu_s", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "conv_t", "(", "x", ")", "\n", "x", "=", "self", ".", "bn_t", "(", "x", ")", "\n", "x", "=", "self", ".", "relu_t", "(", "x", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_3b.__init__": [[140, 157], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_3b", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "192", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "192", ",", "96", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "96", ",", "128", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "192", ",", "16", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "16", ",", "32", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "192", ",", "32", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_3b.forward": [[159, 167], ["model.Mixed_3b.branch0", "model.Mixed_3b.branch1", "model.Mixed_3b.branch2", "model.Mixed_3b.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_3c.__init__": [[170, 186], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_3c", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "256", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "256", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "128", ",", "192", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "256", ",", "32", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "32", ",", "96", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "256", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_3c.forward": [[188, 195], ["model.Mixed_3c.branch0", "model.Mixed_3c.branch1", "model.Mixed_3c.branch2", "model.Mixed_3c.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4b.__init__": [[198, 215], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_4b", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "480", ",", "192", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "480", ",", "96", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "96", ",", "208", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "480", ",", "16", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "16", ",", "48", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "480", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4b.forward": [[217, 224], ["model.Mixed_4b.branch0", "model.Mixed_4b.branch1", "model.Mixed_4b.branch2", "model.Mixed_4b.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4c.__init__": [[227, 244], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_4c", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "160", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "112", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "112", ",", "224", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "24", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "24", ",", "64", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "512", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4c.forward": [[246, 253], ["model.Mixed_4c.branch0", "model.Mixed_4c.branch1", "model.Mixed_4c.branch2", "model.Mixed_4c.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4d.__init__": [[256, 273], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_4d", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "128", ",", "256", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "24", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "24", ",", "64", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "512", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4d.forward": [[275, 282], ["model.Mixed_4d.branch0", "model.Mixed_4d.branch1", "model.Mixed_4d.branch2", "model.Mixed_4d.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4e.__init__": [[285, 302], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_4e", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "112", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "144", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "144", ",", "288", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "512", ",", "32", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "32", ",", "64", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "512", ",", "64", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4e.forward": [[304, 311], ["model.Mixed_4e.branch0", "model.Mixed_4e.branch1", "model.Mixed_4e.branch2", "model.Mixed_4e.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4f.__init__": [[314, 331], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_4f", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "528", ",", "256", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "528", ",", "160", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "160", ",", "320", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "528", ",", "32", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "32", ",", "128", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "528", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_4f.forward": [[333, 340], ["model.Mixed_4f.branch0", "model.Mixed_4f.branch1", "model.Mixed_4f.branch2", "model.Mixed_4f.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5b.__init__": [[343, 360], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_5b", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "832", ",", "256", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "832", ",", "160", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "160", ",", "320", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "832", ",", "32", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "32", ",", "128", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "832", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5b.forward": [[362, 369], ["model.Mixed_5b.branch0", "model.Mixed_5b.branch1", "model.Mixed_5b.branch2", "model.Mixed_5b.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__": [[372, 389], ["torch.nn.Module.__init__", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "torch.nn.Sequential", "model.BasicConv3d", "model.BasicConv3d", "model.SepConv3d", "model.BasicConv3d", "model.SepConv3d", "torch.nn.MaxPool3d", "model.BasicConv3d"], "methods", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "Mixed_5c", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "branch0", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "832", ",", "384", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch1", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "832", ",", "192", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "192", ",", "384", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch2", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv3d", "(", "832", ",", "48", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", "SepConv3d", "(", "48", ",", "128", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", ")", "\n", "self", ".", "branch3", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "MaxPool3d", "(", "kernel_size", "=", "(", "3", ",", "3", ",", "3", ")", ",", "stride", "=", "1", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv3d", "(", "832", ",", "128", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ")", ",", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.model.Mixed_5c.forward": [[391, 398], ["model.Mixed_5c.branch0", "model.Mixed_5c.branch1", "model.Mixed_5c.branch2", "model.Mixed_5c.branch3", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x0", "=", "self", ".", "branch0", "(", "x", ")", "\n", "x1", "=", "self", ".", "branch1", "(", "x", ")", "\n", "x2", "=", "self", ".", "branch2", "(", "x", ")", "\n", "x3", "=", "self", ".", "branch3", "(", "x", ")", "\n", "out", "=", "torch", ".", "cat", "(", "(", "x0", ",", "x1", ",", "x2", ",", "x3", ")", ",", "1", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.main": [[9, 84], ["model.TASED_v2", "os.path.isfile", "model.cuda.cuda", "model.cuda.eval", "list_indata.sort", "len", "os.path.isdir", "os.makedirs", "print", "torch.load", "model.cuda.state_dict", "torch.load.items", "print", "print", "print", "list_frames.sort", "len", "os.listdir", "os.path.isdir", "len", "os.path.join", "range", "print", "print", "os.path.join", "os.listdir", "os.path.isfile", "os.path.isdir", "os.makedirs", "len", "cv2.imread", "cv2.resize", "snippet.append", "param.size", "model_dict[].size", "model_dict[].copy_", "print", "os.path.join", "os.path.join", "os.path.join", "run_example.transform", "run_example.process", "name.split", "param.size", "model_dict[].size", "run_example.process", "torch.flip"], "function", ["home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.transform", "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.process", "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.process"], ["def", "main", "(", ")", ":", "\n", "    ", "''' read frames in path_indata and generate frame-wise saliency maps in path_output '''", "\n", "# optional two command-line arguments", "\n", "path_indata", "=", "'./example'", "\n", "path_output", "=", "'./output'", "\n", "if", "len", "(", "sys", ".", "argv", ")", ">", "1", ":", "\n", "        ", "path_indata", "=", "sys", ".", "argv", "[", "1", "]", "\n", "if", "len", "(", "sys", ".", "argv", ")", ">", "2", ":", "\n", "            ", "path_output", "=", "sys", ".", "argv", "[", "2", "]", "\n", "", "", "if", "not", "os", ".", "path", ".", "isdir", "(", "path_output", ")", ":", "\n", "        ", "os", ".", "makedirs", "(", "path_output", ")", "\n", "\n", "", "len_temporal", "=", "32", "\n", "file_weight", "=", "'./TASED_updated.pt'", "\n", "\n", "model", "=", "TASED_v2", "(", ")", "\n", "\n", "# load the weight file and copy the parameters", "\n", "if", "os", ".", "path", ".", "isfile", "(", "file_weight", ")", ":", "\n", "        ", "print", "(", "'loading weight file'", ")", "\n", "weight_dict", "=", "torch", ".", "load", "(", "file_weight", ")", "\n", "model_dict", "=", "model", ".", "state_dict", "(", ")", "\n", "for", "name", ",", "param", "in", "weight_dict", ".", "items", "(", ")", ":", "\n", "            ", "if", "'module'", "in", "name", ":", "\n", "                ", "name", "=", "'.'", ".", "join", "(", "name", ".", "split", "(", "'.'", ")", "[", "1", ":", "]", ")", "\n", "", "if", "name", "in", "model_dict", ":", "\n", "                ", "if", "param", ".", "size", "(", ")", "==", "model_dict", "[", "name", "]", ".", "size", "(", ")", ":", "\n", "                    ", "model_dict", "[", "name", "]", ".", "copy_", "(", "param", ")", "\n", "", "else", ":", "\n", "                    ", "print", "(", "' size? '", "+", "name", ",", "param", ".", "size", "(", ")", ",", "model_dict", "[", "name", "]", ".", "size", "(", ")", ")", "\n", "", "", "else", ":", "\n", "                ", "print", "(", "' name? '", "+", "name", ")", "\n", "\n", "", "", "print", "(", "' loaded'", ")", "\n", "", "else", ":", "\n", "        ", "print", "(", "'weight file?'", ")", "\n", "\n", "", "model", "=", "model", ".", "cuda", "(", ")", "\n", "torch", ".", "backends", ".", "cudnn", ".", "benchmark", "=", "False", "\n", "model", ".", "eval", "(", ")", "\n", "\n", "# iterate over the path_indata directory", "\n", "list_indata", "=", "[", "d", "for", "d", "in", "os", ".", "listdir", "(", "path_indata", ")", "if", "os", ".", "path", ".", "isdir", "(", "os", ".", "path", ".", "join", "(", "path_indata", ",", "d", ")", ")", "]", "\n", "list_indata", ".", "sort", "(", ")", "\n", "for", "dname", "in", "list_indata", ":", "\n", "        ", "print", "(", "'processing '", "+", "dname", ")", "\n", "list_frames", "=", "[", "f", "for", "f", "in", "os", ".", "listdir", "(", "os", ".", "path", ".", "join", "(", "path_indata", ",", "dname", ")", ")", "if", "os", ".", "path", ".", "isfile", "(", "os", ".", "path", ".", "join", "(", "path_indata", ",", "dname", ",", "f", ")", ")", "]", "\n", "list_frames", ".", "sort", "(", ")", "\n", "\n", "# process in a sliding window fashion", "\n", "if", "len", "(", "list_frames", ")", ">=", "2", "*", "len_temporal", "-", "1", ":", "\n", "            ", "path_outdata", "=", "os", ".", "path", ".", "join", "(", "path_output", ",", "dname", ")", "\n", "if", "not", "os", ".", "path", ".", "isdir", "(", "path_outdata", ")", ":", "\n", "                ", "os", ".", "makedirs", "(", "path_outdata", ")", "\n", "\n", "", "snippet", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "len", "(", "list_frames", ")", ")", ":", "\n", "                ", "img", "=", "cv2", ".", "imread", "(", "os", ".", "path", ".", "join", "(", "path_indata", ",", "dname", ",", "list_frames", "[", "i", "]", ")", ")", "\n", "img", "=", "cv2", ".", "resize", "(", "img", ",", "(", "384", ",", "224", ")", ")", "\n", "img", "=", "img", "[", "...", ",", ":", ":", "-", "1", "]", "\n", "snippet", ".", "append", "(", "img", ")", "\n", "\n", "if", "i", ">=", "len_temporal", "-", "1", ":", "\n", "                    ", "clip", "=", "transform", "(", "snippet", ")", "\n", "\n", "process", "(", "model", ",", "clip", ",", "path_outdata", ",", "i", ")", "\n", "\n", "# process first (len_temporal-1) frames", "\n", "if", "i", "<", "2", "*", "len_temporal", "-", "2", ":", "\n", "                        ", "process", "(", "model", ",", "torch", ".", "flip", "(", "clip", ",", "[", "2", "]", ")", ",", "path_outdata", ",", "i", "-", "len_temporal", "+", "1", ")", "\n", "\n", "", "del", "snippet", "[", "0", "]", "\n", "\n", "", "", "", "else", ":", "\n", "            ", "print", "(", "' more frames are needed'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.transform": [[86, 93], ["numpy.concatenate", "torch.from_numpy().permute().contiguous().float", "snippet.mul_().sub_().div.mul_().sub_().div", "snippet.mul_().sub_().div.view().permute", "torch.from_numpy().permute().contiguous", "snippet.mul_().sub_().div.mul_().sub_", "snippet.mul_().sub_().div.view", "snippet.mul_().sub_().div.size", "snippet.mul_().sub_().div.size", "torch.from_numpy().permute", "snippet.mul_().sub_().div.mul_", "torch.from_numpy"], "function", ["None"], ["", "", "", "def", "transform", "(", "snippet", ")", ":", "\n", "    ", "''' stack & noralization '''", "\n", "snippet", "=", "np", ".", "concatenate", "(", "snippet", ",", "axis", "=", "-", "1", ")", "\n", "snippet", "=", "torch", ".", "from_numpy", "(", "snippet", ")", ".", "permute", "(", "2", ",", "0", ",", "1", ")", ".", "contiguous", "(", ")", ".", "float", "(", ")", "\n", "snippet", "=", "snippet", ".", "mul_", "(", "2.", ")", ".", "sub_", "(", "255", ")", ".", "div", "(", "255", ")", "\n", "\n", "return", "snippet", ".", "view", "(", "1", ",", "-", "1", ",", "3", ",", "snippet", ".", "size", "(", "1", ")", ",", "snippet", ".", "size", "(", "2", ")", ")", ".", "permute", "(", "0", ",", "2", ",", "1", ",", "3", ",", "4", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MichiganCOG_TASED-Net.None.run_example.process": [[95, 103], ["scipy.ndimage.filters.gaussian_filter", "cv2.imwrite", "torch.no_grad", "os.path.join", "model().cpu", "scipy.ndimage.filters.gaussian_filter.numpy", "model", "numpy.max", "clip.cuda"], "function", ["None"], ["", "def", "process", "(", "model", ",", "clip", ",", "path_outdata", ",", "idx", ")", ":", "\n", "    ", "''' process one clip and save the predicted saliency map '''", "\n", "with", "torch", ".", "no_grad", "(", ")", ":", "\n", "        ", "smap", "=", "model", "(", "clip", ".", "cuda", "(", ")", ")", ".", "cpu", "(", ")", ".", "data", "[", "0", "]", "\n", "\n", "", "smap", "=", "(", "smap", ".", "numpy", "(", ")", "*", "255.", ")", ".", "astype", "(", "np", ".", "int", ")", "/", "255.", "\n", "smap", "=", "gaussian_filter", "(", "smap", ",", "sigma", "=", "7", ")", "\n", "cv2", ".", "imwrite", "(", "os", ".", "path", ".", "join", "(", "path_outdata", ",", "'%04d.png'", "%", "(", "idx", "+", "1", ")", ")", ",", "(", "smap", "/", "np", ".", "max", "(", "smap", ")", "*", "255.", ")", ".", "astype", "(", "np", ".", "uint8", ")", ")", "\n", "\n"]]}