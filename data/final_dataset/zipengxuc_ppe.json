{"home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.latent_mappers.Mapper.__init__": [[9, 20], ["paddle.Layer.__init__", "range", "paddle.Sequential", "paddle.Sequential", "paddle.Sequential", "stylegan.PixelNorm", "latent_mappers.Mapper.mapping.append", "stylegan.EqualLinear"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "self", ".", "mapping", "=", "[", "PixelNorm", "(", ")", "]", "\n", "\n", "for", "_", "in", "range", "(", "4", ")", ":", "\n", "            ", "self", ".", "mapping", ".", "append", "(", "\n", "EqualLinear", "(", "\n", "512", ",", "512", ",", "lr_mul", "=", "0.01", ",", "activation", "=", "'fused_lrelu'", "\n", ")", "\n", ")", "\n", "", "self", ".", "mapping", "=", "nn", ".", "Sequential", "(", "*", "self", ".", "mapping", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.latent_mappers.Mapper.forward": [[21, 24], ["latent_mappers.Mapper.mapping"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "mapping", "(", "x", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.latent_mappers.SingleMapper.__init__": [[27, 30], ["paddle.Layer.__init__", "latent_mappers.Mapper"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "self", ".", "mapping", "=", "Mapper", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.latent_mappers.SingleMapper.forward": [[31, 34], ["latent_mappers.SingleMapper.mapping"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "out", "=", "self", ".", "mapping", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.latent_mappers.LevelsMapper.__init__": [[38, 44], ["paddle.Layer.__init__", "latent_mappers.Mapper", "latent_mappers.Mapper", "latent_mappers.Mapper"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "course_mapping", "=", "Mapper", "(", ")", "\n", "self", ".", "medium_mapping", "=", "Mapper", "(", ")", "\n", "self", ".", "fine_mapping", "=", "Mapper", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.latent_mappers.LevelsMapper.forward": [[45, 56], ["latent_mappers.LevelsMapper.course_mapping", "latent_mappers.LevelsMapper.medium_mapping", "latent_mappers.LevelsMapper.fine_mapping", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x_coarse", "=", "x", "[", ":", ",", ":", "4", ",", ":", "]", "\n", "x_medium", "=", "x", "[", ":", ",", "4", ":", "8", ",", ":", "]", "\n", "x_fine", "=", "x", "[", ":", ",", "8", ":", ",", ":", "]", "\n", "\n", "x_coarse", "=", "self", ".", "course_mapping", "(", "x_coarse", ")", "\n", "x_medium", "=", "self", ".", "medium_mapping", "(", "x_medium", ")", "\n", "x_fine", "=", "self", ".", "fine_mapping", "(", "x_fine", ")", "\n", "\n", "out", "=", "paddle", ".", "concat", "(", "[", "x_coarse", ",", "x_medium", ",", "x_fine", "]", ",", "axis", "=", "1", ")", "\n", "return", "out", "", "", "", ""]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.__init__": [[10, 19], ["latent_mappers.LevelsMapper", "stylegan.StyleGANv2Generator", "coach.Coach.init_weight", "numpy.load"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.init_weight"], ["    ", "def", "__init__", "(", "self", ",", "opts", ")", ":", "\n", "        ", "self", ".", "opts", "=", "opts", "\n", "# Initialize network", "\n", "self", ".", "mapper", "=", "LevelsMapper", "(", ")", "\n", "self", ".", "decoder", "=", "StyleGANv2Generator", "(", "1024", ",", "512", ",", "8", ")", "\n", "self", ".", "init_weight", "(", ")", "\n", "\n", "# Initialize dataset", "\n", "self", ".", "test_face_data", "=", "np", ".", "load", "(", "self", ".", "opts", ".", "data_path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.init_weight": [[20, 27], ["paddle.load", "coach.Coach.decoder.set_state_dict", "coach.Coach.decoder.eval", "paddle.load", "coach.Coach.mapper.set_state_dict", "coach.Coach.mapper.eval"], "methods", ["None"], ["", "def", "init_weight", "(", "self", ")", ":", "\n", "        ", "checkpoint", "=", "paddle", ".", "load", "(", "self", ".", "opts", ".", "decoder_path", ")", "\n", "self", ".", "decoder", ".", "set_state_dict", "(", "checkpoint", ")", "\n", "self", ".", "decoder", ".", "eval", "(", ")", "\n", "checkpoint", "=", "paddle", ".", "load", "(", "self", ".", "opts", ".", "mapper_path", ")", "\n", "self", ".", "mapper", ".", "set_state_dict", "(", "checkpoint", ")", "\n", "self", ".", "mapper", ".", "eval", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.validate": [[29, 46], ["range", "paddle.to_tensor", "x.numpy", "paddle.no_grad", "coach.Coach.decoder", "coach.Coach.decoder", "coach.Coach.parse_and_log_images", "coach.Coach.mapper"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.parse_and_log_images"], ["", "def", "validate", "(", "self", ",", "eF", "=", "1.0", ",", "save", "=", "True", ")", ":", "\n", "        ", "for", "idx", "in", "range", "(", "100", ")", ":", "\n", "            ", "w", "=", "self", ".", "test_face_data", "[", "idx", ":", "idx", "+", "1", "]", "\n", "w", "=", "paddle", ".", "to_tensor", "(", "w", ")", "\n", "\n", "with", "paddle", ".", "no_grad", "(", ")", ":", "\n", "                ", "x", ",", "_", "=", "self", ".", "decoder", "(", "[", "w", "]", ",", "input_is_latent", "=", "True", ",", "randomize_noise", "=", "True", ",", "truncation", "=", "1", ")", "\n", "w_hat", "=", "w", "+", "0.1", "*", "self", ".", "mapper", "(", "w", ")", "*", "eF", "\n", "x_hat", ",", "_", "=", "self", ".", "decoder", "(", "[", "w_hat", "]", ",", "input_is_latent", "=", "True", ",", "randomize_noise", "=", "True", ",", "truncation", "=", "1", ")", "\n", "\n", "", "x_out", "=", "x", ".", "numpy", "(", ")", "\n", "\n", "if", "save", ":", "\n", "                ", "self", ".", "parse_and_log_images", "(", "x", ",", "x_hat", ",", "title", "=", "'images_val'", ",", "index", "=", "idx", ",", "eF", "=", "eF", ")", "\n", "", "break", "\n", "\n", "", "return", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.parse_and_log_images": [[48, 58], ["paddle.concat", "os.path.join", "print", "os.makedirs", "cv2.imwrite", "paddle.concat.numpy", "os.path.dirname", "paddle.transpose", "str", "str().zfill", "str"], "methods", ["None"], ["", "def", "parse_and_log_images", "(", "self", ",", "x", ",", "x_hat", ",", "title", ",", "index", "=", "None", ",", "eF", "=", "1.0", ")", ":", "\n", "        ", "x_out", "=", "paddle", ".", "concat", "(", "[", "x", ",", "x_hat", "]", ",", "axis", "=", "3", ")", "\n", "x_out", "=", "paddle", ".", "transpose", "(", "x_out", "[", "0", "]", ",", "[", "1", ",", "2", ",", "0", "]", ")", "*", "0.5", "+", "0.5", "\n", "x_out", "=", "x_out", ".", "numpy", "(", ")", "[", ":", ",", ":", ",", ":", ":", "-", "1", "]", "\n", "\n", "\n", "path", "=", "os", ".", "path", ".", "join", "(", "self", ".", "opts", ".", "exp_dir", ",", "title", ",", "f'res_{str(eF)}__{str(index).zfill(5)}.jpg'", ")", "\n", "print", "(", "path", ")", "\n", "os", ".", "makedirs", "(", "os", ".", "path", ".", "dirname", "(", "path", ")", ",", "exist_ok", "=", "True", ")", "\n", "cv2", ".", "imwrite", "(", "path", ",", "x_out", "*", "255", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.evaluate.Options.__init__": [[18, 21], ["argparse.ArgumentParser", "evaluate.Options.initialize"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.evaluate.Options.initialize"], ["\t", "def", "__init__", "(", "self", ")", ":", "\n", "\t\t", "self", ".", "parser", "=", "ArgumentParser", "(", ")", "\n", "self", ".", "initialize", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.evaluate.Options.initialize": [[22, 27], ["evaluate.Options.parser.add_argument", "evaluate.Options.parser.add_argument", "evaluate.Options.parser.add_argument", "evaluate.Options.parser.add_argument"], "methods", ["None"], ["", "def", "initialize", "(", "self", ")", ":", "\n", "\t\t", "self", ".", "parser", ".", "add_argument", "(", "'--exp_dir'", ",", "default", "=", "'output'", ",", "type", "=", "str", ",", "help", "=", "'Path to experiment output directory'", ")", "\n", "self", ".", "parser", ".", "add_argument", "(", "'--decoder_path'", ",", "default", "=", "\"./ckpt/stylegan2-ffhq-config-f.pdparams\"", ",", "type", "=", "str", ",", "help", "=", "''", ")", "\n", "self", ".", "parser", ".", "add_argument", "(", "'--data_path'", ",", "default", "=", "\"./ckpt/test_faces.npy\"", ",", "type", "=", "str", ",", "help", "=", "''", ")", "\n", "self", ".", "parser", ".", "add_argument", "(", "'--mapper_path'", ",", "default", "=", "\"./ckpt/mapper_bangs.pdparams\"", ",", "type", "=", "str", ",", "help", "=", "''", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.evaluate.Options.parse": [[29, 32], ["evaluate.Options.parser.parse_args"], "methods", ["None"], ["", "def", "parse", "(", "self", ")", ":", "\n", "\t\t", "opts", "=", "self", ".", "parser", ".", "parse_args", "(", ")", "\n", "return", "opts", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.evaluate.main": [[34, 44], ["vars", "pprint.pprint", "mapper.coach.Coach", "mapper.coach.Coach.validate", "os.path.exists", "os.makedirs"], "function", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.coach.Coach.validate"], ["", "", "def", "main", "(", "opts", ")", ":", "\n", "\t", "if", "not", "os", ".", "path", ".", "exists", "(", "opts", ".", "exp_dir", ")", ":", "\n", "# raise Exception('Oops... {} already exists'.format(opts.exp_dir))", "\n", "\t\t", "os", ".", "makedirs", "(", "opts", ".", "exp_dir", ",", "exist_ok", "=", "True", ")", "\n", "\n", "", "opts_dict", "=", "vars", "(", "opts", ")", "\n", "pprint", ".", "pprint", "(", "opts_dict", ")", "\n", "\n", "coach", "=", "Coach", "(", "opts", ")", "\n", "_", "=", "coach", ".", "validate", "(", "eF", "=", "3.0", ",", "save", "=", "True", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.Upfirdn2dUpsample.__init__": [[71, 84], ["paddle.Layer.__init__", "stylegan.Upfirdn2dUpsample.register_buffer", "stylegan.make_kernel"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__", "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.make_kernel"], ["    ", "def", "__init__", "(", "self", ",", "kernel", ",", "factor", "=", "2", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "factor", "=", "factor", "\n", "kernel", "=", "make_kernel", "(", "kernel", ")", "*", "(", "factor", "*", "factor", ")", "\n", "self", ".", "register_buffer", "(", "\"kernel\"", ",", "kernel", ")", "\n", "\n", "p", "=", "kernel", ".", "shape", "[", "0", "]", "-", "factor", "\n", "\n", "pad0", "=", "(", "p", "+", "1", ")", "//", "2", "+", "factor", "-", "1", "\n", "pad1", "=", "p", "//", "2", "\n", "\n", "self", ".", "pad", "=", "(", "pad0", ",", "pad1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.Upfirdn2dUpsample.forward": [[85, 93], ["stylegan.upfirdn2d"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.upfirdn2d"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "out", "=", "upfirdn2d", "(", "input", ",", "\n", "self", ".", "kernel", ",", "\n", "up", "=", "self", ".", "factor", ",", "\n", "down", "=", "1", ",", "\n", "pad", "=", "self", ".", "pad", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.Upfirdn2dDownsample.__init__": [[96, 109], ["paddle.Layer.__init__", "stylegan.make_kernel", "stylegan.Upfirdn2dDownsample.register_buffer"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__", "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.make_kernel"], ["    ", "def", "__init__", "(", "self", ",", "kernel", ",", "factor", "=", "2", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "factor", "=", "factor", "\n", "kernel", "=", "make_kernel", "(", "kernel", ")", "\n", "self", ".", "register_buffer", "(", "\"kernel\"", ",", "kernel", ")", "\n", "\n", "p", "=", "kernel", ".", "shape", "[", "0", "]", "-", "factor", "\n", "\n", "pad0", "=", "(", "p", "+", "1", ")", "//", "2", "\n", "pad1", "=", "p", "//", "2", "\n", "\n", "self", ".", "pad", "=", "(", "pad0", ",", "pad1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.Upfirdn2dDownsample.forward": [[110, 118], ["stylegan.upfirdn2d"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.upfirdn2d"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "out", "=", "upfirdn2d", "(", "input", ",", "\n", "self", ".", "kernel", ",", "\n", "up", "=", "1", ",", "\n", "down", "=", "self", ".", "factor", ",", "\n", "pad", "=", "self", ".", "pad", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.Upfirdn2dBlur.__init__": [[121, 132], ["paddle.Layer.__init__", "stylegan.make_kernel", "stylegan.Upfirdn2dBlur.register_buffer"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__", "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.make_kernel"], ["    ", "def", "__init__", "(", "self", ",", "kernel", ",", "pad", ",", "upsample_factor", "=", "1", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "kernel", "=", "make_kernel", "(", "kernel", ")", "\n", "\n", "if", "upsample_factor", ">", "1", ":", "\n", "            ", "kernel", "=", "kernel", "*", "(", "upsample_factor", "*", "upsample_factor", ")", "\n", "\n", "", "self", ".", "register_buffer", "(", "\"kernel\"", ",", "kernel", ",", "persistable", "=", "False", ")", "\n", "\n", "self", ".", "pad", "=", "pad", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.Upfirdn2dBlur.forward": [[133, 137], ["stylegan.upfirdn2d"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.upfirdn2d"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "out", "=", "upfirdn2d", "(", "input", ",", "self", ".", "kernel", ",", "pad", "=", "self", ".", "pad", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.FusedLeakyReLU.__init__": [[139, 151], ["paddle.Layer.__init__", "stylegan.FusedLeakyReLU.create_parameter", "paddle.initializer.Constant", "paddle.initializer.Constant", "paddle.initializer.Constant"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ",", "channel", ",", "bias", "=", "True", ",", "negative_slope", "=", "0.2", ",", "scale", "=", "2", "**", "0.5", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "if", "bias", ":", "\n", "            ", "self", ".", "bias", "=", "self", ".", "create_parameter", "(", "\n", "(", "channel", ",", ")", ",", "default_initializer", "=", "nn", ".", "initializer", ".", "Constant", "(", "0.0", ")", ")", "\n", "\n", "", "else", ":", "\n", "            ", "self", ".", "bias", "=", "None", "\n", "\n", "", "self", ".", "negative_slope", "=", "negative_slope", "\n", "self", ".", "scale", "=", "scale", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.FusedLeakyReLU.forward": [[152, 155], ["stylegan.fused_leaky_relu"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.fused_leaky_relu"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "return", "fused_leaky_relu", "(", "input", ",", "self", ".", "bias", ",", "self", ".", "negative_slope", ",", "\n", "self", ".", "scale", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.EqualConv2D.__init__": [[177, 200], ["paddle.Layer.__init__", "stylegan.EqualConv2D.create_parameter", "math.sqrt", "stylegan.EqualConv2D.create_parameter", "paddle.initializer.Normal", "paddle.initializer.Normal", "paddle.initializer.Normal", "paddle.initializer.Constant", "paddle.initializer.Constant", "paddle.initializer.Constant"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["def", "__init__", "(", "self", ",", "\n", "in_channel", ",", "\n", "out_channel", ",", "\n", "kernel_size", ",", "\n", "stride", "=", "1", ",", "\n", "padding", "=", "0", ",", "\n", "bias", "=", "True", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "weight", "=", "self", ".", "create_parameter", "(", "\n", "(", "out_channel", ",", "in_channel", ",", "kernel_size", ",", "kernel_size", ")", ",", "\n", "default_initializer", "=", "nn", ".", "initializer", ".", "Normal", "(", ")", ")", "\n", "self", ".", "scale", "=", "1", "/", "math", ".", "sqrt", "(", "in_channel", "*", "(", "kernel_size", "*", "kernel_size", ")", ")", "\n", "\n", "self", ".", "stride", "=", "stride", "\n", "self", ".", "padding", "=", "padding", "\n", "\n", "if", "bias", ":", "\n", "            ", "self", ".", "bias", "=", "self", ".", "create_parameter", "(", "(", "out_channel", ",", ")", ",", "\n", "nn", ".", "initializer", ".", "Constant", "(", "0.0", ")", ")", "\n", "\n", "", "else", ":", "\n", "            ", "self", ".", "bias", "=", "None", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.EqualConv2D.forward": [[201, 211], ["paddle.conv2d", "paddle.conv2d", "paddle.conv2d"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "out", "=", "F", ".", "conv2d", "(", "\n", "input", ",", "\n", "self", ".", "weight", "*", "self", ".", "scale", ",", "\n", "bias", "=", "self", ".", "bias", ",", "\n", "stride", "=", "self", ".", "stride", ",", "\n", "padding", "=", "self", ".", "padding", ",", "\n", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.EqualConv2D.__repr__": [[212, 215], ["None"], "methods", ["None"], ["", "def", "__repr__", "(", "self", ")", ":", "\n", "        ", "return", "(", "\n", "f\"{self.__class__.__name__}({self.weight.shape[1]}, {self.weight.shape[0]},\"", "\n", "f\" {self.weight.shape[2]}, stride={self.stride}, padding={self.padding})\"", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.EqualLinear.__init__": [[223, 247], ["paddle.Layer.__init__", "stylegan.EqualLinear.create_parameter", "stylegan.EqualLinear.weight.set_value", "stylegan.EqualLinear.create_parameter", "paddle.initializer.Normal", "paddle.initializer.Normal", "paddle.initializer.Normal", "paddle.initializer.Constant", "paddle.initializer.Constant", "paddle.initializer.Constant", "math.sqrt"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["def", "__init__", "(", "self", ",", "\n", "in_dim", ",", "\n", "out_dim", ",", "\n", "bias", "=", "True", ",", "\n", "bias_init", "=", "0", ",", "\n", "lr_mul", "=", "1", ",", "\n", "activation", "=", "None", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "weight", "=", "self", ".", "create_parameter", "(", "\n", "(", "in_dim", ",", "out_dim", ")", ",", "default_initializer", "=", "nn", ".", "initializer", ".", "Normal", "(", ")", ")", "\n", "self", ".", "weight", ".", "set_value", "(", "(", "self", ".", "weight", "/", "lr_mul", ")", ")", "\n", "\n", "if", "bias", ":", "\n", "            ", "self", ".", "bias", "=", "self", ".", "create_parameter", "(", "\n", "(", "out_dim", ",", ")", ",", "nn", ".", "initializer", ".", "Constant", "(", "bias_init", ")", ")", "\n", "\n", "", "else", ":", "\n", "            ", "self", ".", "bias", "=", "None", "\n", "\n", "", "self", ".", "activation", "=", "activation", "\n", "\n", "self", ".", "scale", "=", "(", "1", "/", "math", ".", "sqrt", "(", "in_dim", ")", ")", "*", "lr_mul", "\n", "self", ".", "lr_mul", "=", "lr_mul", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.EqualLinear.forward": [[248, 260], ["paddle.linear", "paddle.linear", "paddle.linear", "stylegan.fused_leaky_relu", "paddle.linear", "paddle.linear", "paddle.linear"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.fused_leaky_relu"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "if", "self", ".", "activation", ":", "\n", "            ", "out", "=", "F", ".", "linear", "(", "input", ",", "self", ".", "weight", "*", "self", ".", "scale", ")", "\n", "#print(\"linear mode\", out.shape, self.bias.shape)", "\n", "out", "=", "fused_leaky_relu", "(", "out", ",", "self", ".", "bias", "*", "self", ".", "lr_mul", ")", "\n", "\n", "", "else", ":", "\n", "            ", "out", "=", "F", ".", "linear", "(", "input", ",", "\n", "self", ".", "weight", "*", "self", ".", "scale", ",", "\n", "bias", "=", "self", ".", "bias", "*", "self", ".", "lr_mul", ")", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.EqualLinear.__repr__": [[261, 264], ["None"], "methods", ["None"], ["", "def", "__repr__", "(", "self", ")", ":", "\n", "        ", "return", "(", "\n", "f\"{self.__class__.__name__}({self.weight.shape[0]}, {self.weight.shape[1]})\"", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.PixelNorm.__init__": [[267, 269], ["paddle.Layer.__init__"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.PixelNorm.forward": [[270, 273], ["paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.mean", "paddle.mean", "paddle.mean", "paddle.mean", "paddle.mean", "paddle.mean", "paddle.mean", "paddle.mean", "paddle.mean"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "return", "input", "*", "paddle", ".", "rsqrt", "(", "\n", "paddle", ".", "mean", "(", "input", "*", "input", ",", "1", ",", "keepdim", "=", "True", ")", "+", "1e-8", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ModulatedConv2D.__init__": [[276, 325], ["paddle.Layer.__init__", "stylegan.ModulatedConv2D.create_parameter", "stylegan.EqualLinear", "stylegan.Upfirdn2dBlur", "stylegan.Upfirdn2dBlur", "math.sqrt", "paddle.initializer.Normal", "paddle.initializer.Normal", "paddle.initializer.Normal", "len", "len"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "\n", "self", ",", "\n", "in_channel", ",", "\n", "out_channel", ",", "\n", "kernel_size", ",", "\n", "style_dim", ",", "\n", "demodulate", "=", "True", ",", "\n", "upsample", "=", "False", ",", "\n", "downsample", "=", "False", ",", "\n", "blur_kernel", "=", "[", "1", ",", "3", ",", "3", ",", "1", "]", ",", "\n", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "eps", "=", "1e-8", "\n", "self", ".", "kernel_size", "=", "kernel_size", "\n", "self", ".", "in_channel", "=", "in_channel", "\n", "self", ".", "out_channel", "=", "out_channel", "\n", "self", ".", "upsample", "=", "upsample", "\n", "self", ".", "downsample", "=", "downsample", "\n", "\n", "if", "upsample", ":", "\n", "            ", "factor", "=", "2", "\n", "p", "=", "(", "len", "(", "blur_kernel", ")", "-", "factor", ")", "-", "(", "kernel_size", "-", "1", ")", "\n", "pad0", "=", "(", "p", "+", "1", ")", "//", "2", "+", "factor", "-", "1", "\n", "pad1", "=", "p", "//", "2", "+", "1", "\n", "\n", "self", ".", "blur", "=", "Upfirdn2dBlur", "(", "blur_kernel", ",", "\n", "pad", "=", "(", "pad0", ",", "pad1", ")", ",", "\n", "upsample_factor", "=", "factor", ")", "\n", "\n", "", "if", "downsample", ":", "\n", "            ", "factor", "=", "2", "\n", "p", "=", "(", "len", "(", "blur_kernel", ")", "-", "factor", ")", "+", "(", "kernel_size", "-", "1", ")", "\n", "pad0", "=", "(", "p", "+", "1", ")", "//", "2", "\n", "pad1", "=", "p", "//", "2", "\n", "\n", "self", ".", "blur", "=", "Upfirdn2dBlur", "(", "blur_kernel", ",", "pad", "=", "(", "pad0", ",", "pad1", ")", ")", "\n", "\n", "", "fan_in", "=", "in_channel", "*", "(", "kernel_size", "*", "kernel_size", ")", "\n", "self", ".", "scale", "=", "1", "/", "math", ".", "sqrt", "(", "fan_in", ")", "\n", "self", ".", "padding", "=", "kernel_size", "//", "2", "\n", "\n", "self", ".", "weight", "=", "self", ".", "create_parameter", "(", "\n", "(", "1", ",", "out_channel", ",", "in_channel", ",", "kernel_size", ",", "kernel_size", ")", ",", "\n", "default_initializer", "=", "nn", ".", "initializer", ".", "Normal", "(", ")", ")", "\n", "\n", "self", ".", "modulation", "=", "EqualLinear", "(", "style_dim", ",", "in_channel", ",", "bias_init", "=", "1", ")", "\n", "\n", "self", ".", "demodulate", "=", "demodulate", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ModulatedConv2D.__repr__": [[326, 329], ["None"], "methods", ["None"], ["", "def", "__repr__", "(", "self", ")", ":", "\n", "        ", "return", "(", "\n", "f\"{self.__class__.__name__}({self.in_channel}, {self.out_channel}, {self.kernel_size}, \"", "\n", "f\"upsample={self.upsample}, downsample={self.downsample})\"", ")", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ModulatedConv2D.forward": [[331, 375], ["stylegan.ModulatedConv2D.modulation().reshape", "weight.transpose().reshape.transpose().reshape.reshape", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "paddle.rsqrt", "input.reshape.reshape.reshape", "weight.transpose().reshape.transpose().reshape.reshape", "weight.transpose().reshape.transpose().reshape.transpose().reshape", "paddle.conv2d_transpose", "paddle.conv2d_transpose", "paddle.conv2d_transpose", "out.reshape.reshape.reshape", "stylegan.ModulatedConv2D.blur", "stylegan.ModulatedConv2D.modulation", "paddle.rsqrt.reshape", "paddle.rsqrt.reshape", "paddle.rsqrt.reshape", "stylegan.ModulatedConv2D.blur", "input.reshape.reshape.reshape", "paddle.conv2d", "paddle.conv2d", "paddle.conv2d", "out.reshape.reshape.reshape", "input.reshape.reshape.reshape", "paddle.conv2d", "paddle.conv2d", "paddle.conv2d", "out.reshape.reshape.reshape", "weight.transpose().reshape.transpose().reshape.transpose"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ",", "style", ")", ":", "\n", "        ", "batch", ",", "in_channel", ",", "height", ",", "width", "=", "input", ".", "shape", "\n", "\n", "style", "=", "self", ".", "modulation", "(", "style", ")", ".", "reshape", "(", "(", "batch", ",", "1", ",", "in_channel", ",", "1", ",", "1", ")", ")", "\n", "weight", "=", "self", ".", "scale", "*", "self", ".", "weight", "*", "style", "\n", "\n", "if", "self", ".", "demodulate", ":", "\n", "            ", "demod", "=", "paddle", ".", "rsqrt", "(", "(", "weight", "*", "weight", ")", ".", "sum", "(", "[", "2", ",", "3", ",", "4", "]", ")", "+", "1e-8", ")", "\n", "weight", "=", "weight", "*", "demod", ".", "reshape", "(", "(", "batch", ",", "self", ".", "out_channel", ",", "1", ",", "1", ",", "1", ")", ")", "\n", "\n", "", "weight", "=", "weight", ".", "reshape", "(", "(", "batch", "*", "self", ".", "out_channel", ",", "in_channel", ",", "\n", "self", ".", "kernel_size", ",", "self", ".", "kernel_size", ")", ")", "\n", "\n", "if", "self", ".", "upsample", ":", "\n", "            ", "input", "=", "input", ".", "reshape", "(", "(", "1", ",", "batch", "*", "in_channel", ",", "height", ",", "width", ")", ")", "\n", "weight", "=", "weight", ".", "reshape", "(", "(", "batch", ",", "self", ".", "out_channel", ",", "in_channel", ",", "\n", "self", ".", "kernel_size", ",", "self", ".", "kernel_size", ")", ")", "\n", "weight", "=", "weight", ".", "transpose", "(", "(", "0", ",", "2", ",", "1", ",", "3", ",", "4", ")", ")", ".", "reshape", "(", "\n", "(", "batch", "*", "in_channel", ",", "self", ".", "out_channel", ",", "self", ".", "kernel_size", ",", "\n", "self", ".", "kernel_size", ")", ")", "\n", "out", "=", "F", ".", "conv2d_transpose", "(", "input", ",", "\n", "weight", ",", "\n", "padding", "=", "0", ",", "\n", "stride", "=", "2", ",", "\n", "groups", "=", "batch", ")", "\n", "_", ",", "_", ",", "height", ",", "width", "=", "out", ".", "shape", "\n", "out", "=", "out", ".", "reshape", "(", "(", "batch", ",", "self", ".", "out_channel", ",", "height", ",", "width", ")", ")", "\n", "out", "=", "self", ".", "blur", "(", "out", ")", "\n", "\n", "", "elif", "self", ".", "downsample", ":", "\n", "            ", "input", "=", "self", ".", "blur", "(", "input", ")", "\n", "_", ",", "_", ",", "height", ",", "width", "=", "input", ".", "shape", "\n", "input", "=", "input", ".", "reshape", "(", "(", "1", ",", "batch", "*", "in_channel", ",", "height", ",", "width", ")", ")", "\n", "out", "=", "F", ".", "conv2d", "(", "input", ",", "weight", ",", "padding", "=", "0", ",", "stride", "=", "2", ",", "groups", "=", "batch", ")", "\n", "_", ",", "_", ",", "height", ",", "width", "=", "out", ".", "shape", "\n", "out", "=", "out", ".", "reshape", "(", "(", "batch", ",", "self", ".", "out_channel", ",", "height", ",", "width", ")", ")", "\n", "\n", "", "else", ":", "\n", "            ", "input", "=", "input", ".", "reshape", "(", "(", "1", ",", "batch", "*", "in_channel", ",", "height", ",", "width", ")", ")", "\n", "out", "=", "F", ".", "conv2d", "(", "input", ",", "weight", ",", "padding", "=", "self", ".", "padding", ",", "groups", "=", "batch", ")", "\n", "_", ",", "_", ",", "height", ",", "width", "=", "out", ".", "shape", "\n", "out", "=", "out", ".", "reshape", "(", "(", "batch", ",", "self", ".", "out_channel", ",", "height", ",", "width", ")", ")", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.NoiseInjection.__init__": [[378, 384], ["paddle.Layer.__init__", "stylegan.NoiseInjection.create_parameter", "paddle.initializer.Constant", "paddle.initializer.Constant", "paddle.initializer.Constant"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ",", "is_concat", "=", "False", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "weight", "=", "self", ".", "create_parameter", "(", "\n", "(", "1", ",", ")", ",", "default_initializer", "=", "nn", ".", "initializer", ".", "Constant", "(", "0.0", ")", ")", "\n", "self", ".", "is_concat", "=", "is_concat", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.NoiseInjection.forward": [[385, 393], ["paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "image", ",", "noise", "=", "None", ")", ":", "\n", "        ", "if", "noise", "is", "None", ":", "\n", "            ", "batch", ",", "_", ",", "height", ",", "width", "=", "image", ".", "shape", "\n", "noise", "=", "paddle", ".", "randn", "(", "(", "batch", ",", "1", ",", "height", ",", "width", ")", ")", "\n", "", "if", "self", ".", "is_concat", ":", "\n", "            ", "return", "paddle", ".", "concat", "(", "[", "image", ",", "self", ".", "weight", "*", "noise", "]", ",", "axis", "=", "1", ")", "\n", "", "else", ":", "\n", "            ", "return", "image", "+", "self", ".", "weight", "*", "noise", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ConstantInput.__init__": [[396, 402], ["paddle.Layer.__init__", "stylegan.ConstantInput.create_parameter", "paddle.initializer.Normal", "paddle.initializer.Normal", "paddle.initializer.Normal"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ",", "channel", ",", "size", "=", "4", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "input", "=", "self", ".", "create_parameter", "(", "\n", "(", "1", ",", "channel", ",", "size", ",", "size", ")", ",", "\n", "default_initializer", "=", "nn", ".", "initializer", ".", "Normal", "(", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ConstantInput.forward": [[403, 408], ["stylegan.ConstantInput.input.tile"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "batch", "=", "input", ".", "shape", "[", "0", "]", "\n", "out", "=", "self", ".", "input", ".", "tile", "(", "(", "batch", ",", "1", ",", "1", ",", "1", ")", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyledConv.__init__": [[411, 435], ["paddle.Layer.__init__", "stylegan.ModulatedConv2D", "stylegan.NoiseInjection", "stylegan.FusedLeakyReLU"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ",", "\n", "in_channel", ",", "\n", "out_channel", ",", "\n", "kernel_size", ",", "\n", "style_dim", ",", "\n", "upsample", "=", "False", ",", "\n", "blur_kernel", "=", "[", "1", ",", "3", ",", "3", ",", "1", "]", ",", "\n", "demodulate", "=", "True", ",", "\n", "is_concat", "=", "False", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "conv", "=", "ModulatedConv2D", "(", "\n", "in_channel", ",", "\n", "out_channel", ",", "\n", "kernel_size", ",", "\n", "style_dim", ",", "\n", "upsample", "=", "upsample", ",", "\n", "blur_kernel", "=", "blur_kernel", ",", "\n", "demodulate", "=", "demodulate", ",", "\n", ")", "\n", "\n", "self", ".", "noise", "=", "NoiseInjection", "(", "is_concat", "=", "is_concat", ")", "\n", "self", ".", "activate", "=", "FusedLeakyReLU", "(", "out_channel", "*", "\n", "2", "if", "is_concat", "else", "out_channel", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyledConv.forward": [[436, 442], ["stylegan.StyledConv.conv", "stylegan.StyledConv.noise", "stylegan.StyledConv.activate"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ",", "style", ",", "noise", "=", "None", ")", ":", "\n", "        ", "out", "=", "self", ".", "conv", "(", "input", ",", "style", ")", "\n", "out", "=", "self", ".", "noise", "(", "out", ",", "noise", "=", "noise", ")", "\n", "out", "=", "self", ".", "activate", "(", "out", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ToRGB.__init__": [[445, 462], ["paddle.Layer.__init__", "stylegan.ModulatedConv2D", "stylegan.ToRGB.create_parameter", "stylegan.Upfirdn2dUpsample", "paddle.initializer.Constant", "paddle.initializer.Constant", "paddle.initializer.Constant"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ",", "\n", "in_channel", ",", "\n", "style_dim", ",", "\n", "upsample", "=", "True", ",", "\n", "blur_kernel", "=", "[", "1", ",", "3", ",", "3", ",", "1", "]", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "if", "upsample", ":", "\n", "            ", "self", ".", "upsample", "=", "Upfirdn2dUpsample", "(", "blur_kernel", ")", "\n", "\n", "", "self", ".", "conv", "=", "ModulatedConv2D", "(", "in_channel", ",", "\n", "3", ",", "\n", "1", ",", "\n", "style_dim", ",", "\n", "demodulate", "=", "False", ")", "\n", "self", ".", "bias", "=", "self", ".", "create_parameter", "(", "(", "1", ",", "3", ",", "1", ",", "1", ")", ",", "\n", "nn", ".", "initializer", ".", "Constant", "(", "0.0", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.ToRGB.forward": [[463, 473], ["stylegan.ToRGB.conv", "stylegan.ToRGB.upsample"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ",", "style", ",", "skip", "=", "None", ")", ":", "\n", "        ", "out", "=", "self", ".", "conv", "(", "input", ",", "style", ")", "\n", "out", "=", "out", "+", "self", ".", "bias", "\n", "\n", "if", "skip", "is", "not", "None", ":", "\n", "            ", "skip", "=", "self", ".", "upsample", "(", "skip", ")", "\n", "\n", "out", "=", "out", "+", "skip", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__": [[476, 570], ["paddle.Layer.__init__", "range", "paddle.Sequential", "paddle.Sequential", "paddle.Sequential", "stylegan.ConstantInput", "stylegan.StyledConv", "stylegan.ToRGB", "int", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.LayerList", "paddle.Layer", "paddle.Layer", "paddle.Layer", "range", "range", "stylegan.PixelNorm", "layers.append", "math.log", "stylegan.StyleGANv2Generator.noises.register_buffer", "stylegan.StyleGANv2Generator.convs.append", "stylegan.StyleGANv2Generator.convs.append", "stylegan.StyleGANv2Generator.to_rgbs.append", "stylegan.EqualLinear", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "stylegan.StyledConv", "stylegan.StyledConv", "stylegan.ToRGB"], "methods", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.__init__"], ["    ", "def", "__init__", "(", "self", ",", "\n", "size", ",", "\n", "style_dim", ",", "\n", "n_mlp", ",", "\n", "channel_multiplier", "=", "2", ",", "\n", "blur_kernel", "=", "[", "1", ",", "3", ",", "3", ",", "1", "]", ",", "\n", "lr_mlp", "=", "0.01", ",", "\n", "is_concat", "=", "False", ")", ":", "\n", "        ", "super", "(", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "size", "=", "size", "\n", "\n", "self", ".", "style_dim", "=", "style_dim", "\n", "\n", "layers", "=", "[", "PixelNorm", "(", ")", "]", "\n", "\n", "for", "i", "in", "range", "(", "n_mlp", ")", ":", "\n", "            ", "layers", ".", "append", "(", "\n", "EqualLinear", "(", "style_dim", ",", "\n", "style_dim", ",", "\n", "lr_mul", "=", "lr_mlp", ",", "\n", "activation", "=", "\"fused_lrelu\"", ")", ")", "\n", "\n", "", "self", ".", "style", "=", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n", "self", ".", "channels", "=", "{", "\n", "4", ":", "512", ",", "\n", "8", ":", "512", ",", "\n", "16", ":", "512", ",", "\n", "32", ":", "512", ",", "\n", "64", ":", "256", "*", "channel_multiplier", ",", "\n", "128", ":", "128", "*", "channel_multiplier", ",", "\n", "256", ":", "64", "*", "channel_multiplier", ",", "\n", "512", ":", "32", "*", "channel_multiplier", ",", "\n", "1024", ":", "16", "*", "channel_multiplier", ",", "\n", "}", "\n", "\n", "self", ".", "input", "=", "ConstantInput", "(", "self", ".", "channels", "[", "4", "]", ")", "\n", "self", ".", "conv1", "=", "StyledConv", "(", "self", ".", "channels", "[", "4", "]", ",", "\n", "self", ".", "channels", "[", "4", "]", ",", "\n", "3", ",", "\n", "style_dim", ",", "\n", "blur_kernel", "=", "blur_kernel", ",", "\n", "is_concat", "=", "is_concat", ")", "\n", "self", ".", "to_rgb1", "=", "ToRGB", "(", "self", ".", "channels", "[", "4", "]", "*", "\n", "2", "if", "is_concat", "else", "self", ".", "channels", "[", "4", "]", ",", "\n", "style_dim", ",", "\n", "upsample", "=", "False", ")", "\n", "\n", "self", ".", "log_size", "=", "int", "(", "math", ".", "log", "(", "size", ",", "2", ")", ")", "\n", "self", ".", "num_layers", "=", "(", "self", ".", "log_size", "-", "2", ")", "*", "2", "+", "1", "\n", "\n", "self", ".", "convs", "=", "nn", ".", "LayerList", "(", ")", "\n", "self", ".", "upsamples", "=", "nn", ".", "LayerList", "(", ")", "\n", "self", ".", "to_rgbs", "=", "nn", ".", "LayerList", "(", ")", "\n", "self", ".", "noises", "=", "nn", ".", "Layer", "(", ")", "\n", "\n", "in_channel", "=", "self", ".", "channels", "[", "4", "]", "\n", "\n", "for", "layer_idx", "in", "range", "(", "self", ".", "num_layers", ")", ":", "\n", "            ", "res", "=", "(", "layer_idx", "+", "5", ")", "//", "2", "\n", "shape", "=", "[", "1", ",", "1", ",", "2", "**", "res", ",", "2", "**", "res", "]", "\n", "self", ".", "noises", ".", "register_buffer", "(", "f\"noise_{layer_idx}\"", ",", "\n", "paddle", ".", "randn", "(", "shape", ")", ")", "\n", "\n", "", "for", "i", "in", "range", "(", "3", ",", "self", ".", "log_size", "+", "1", ")", ":", "\n", "            ", "out_channel", "=", "self", ".", "channels", "[", "2", "**", "i", "]", "\n", "\n", "self", ".", "convs", ".", "append", "(", "\n", "StyledConv", "(", "\n", "in_channel", "*", "2", "if", "is_concat", "else", "in_channel", ",", "\n", "out_channel", ",", "\n", "3", ",", "\n", "style_dim", ",", "\n", "upsample", "=", "True", ",", "\n", "blur_kernel", "=", "blur_kernel", ",", "\n", "is_concat", "=", "is_concat", ",", "\n", ")", ")", "\n", "\n", "self", ".", "convs", ".", "append", "(", "\n", "StyledConv", "(", "out_channel", "*", "2", "if", "is_concat", "else", "out_channel", ",", "\n", "out_channel", ",", "\n", "3", ",", "\n", "style_dim", ",", "\n", "blur_kernel", "=", "blur_kernel", ",", "\n", "is_concat", "=", "is_concat", ")", ")", "\n", "\n", "self", ".", "to_rgbs", ".", "append", "(", "\n", "ToRGB", "(", "out_channel", "*", "2", "if", "is_concat", "else", "out_channel", ",", "style_dim", ")", ")", "\n", "\n", "in_channel", "=", "out_channel", "\n", "\n", "", "self", ".", "n_latent", "=", "self", ".", "log_size", "*", "2", "-", "2", "\n", "self", ".", "is_concat", "=", "is_concat", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.make_noise": [[571, 579], ["range", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "range", "noises.append", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn"], "methods", ["None"], ["", "def", "make_noise", "(", "self", ")", ":", "\n", "        ", "noises", "=", "[", "paddle", ".", "randn", "(", "(", "1", ",", "1", ",", "2", "**", "2", ",", "2", "**", "2", ")", ")", "]", "\n", "\n", "for", "i", "in", "range", "(", "3", ",", "self", ".", "log_size", "+", "1", ")", ":", "\n", "            ", "for", "_", "in", "range", "(", "2", ")", ":", "\n", "                ", "noises", ".", "append", "(", "paddle", ".", "randn", "(", "(", "1", ",", "1", ",", "2", "**", "i", ",", "2", "**", "i", ")", ")", ")", "\n", "\n", "", "", "return", "noises", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.mean_latent": [[580, 585], ["paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "paddle.randn", "stylegan.StyleGANv2Generator.style().mean", "stylegan.StyleGANv2Generator.style"], "methods", ["None"], ["", "def", "mean_latent", "(", "self", ",", "n_latent", ")", ":", "\n", "        ", "latent_in", "=", "paddle", ".", "randn", "(", "(", "n_latent", ",", "self", ".", "style_dim", ")", ")", "\n", "latent", "=", "self", ".", "style", "(", "latent_in", ")", ".", "mean", "(", "0", ",", "keepdim", "=", "True", ")", "\n", "\n", "return", "latent", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.get_latent": [[586, 588], ["stylegan.StyleGANv2Generator.style"], "methods", ["None"], ["", "def", "get_latent", "(", "self", ",", "input", ")", ":", "\n", "        ", "return", "self", ".", "style", "(", "input", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.StyleGANv2Generator.forward": [[589, 678], ["stylegan.StyleGANv2Generator.input", "stylegan.StyleGANv2Generator.conv1", "stylegan.StyleGANv2Generator.to_rgb1", "len", "styles[].unsqueeze().tile", "styles[].unsqueeze().tile", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "paddle.concat", "zip", "zip", "stylegan.StyleGANv2Generator.style", "style_t.append", "styles[].unsqueeze().tile", "random.randint", "conv1", "conv2", "to_rgb", "conv1", "conv2", "to_rgb", "getattr", "styles[].unsqueeze", "styles[].unsqueeze", "range", "styles[].unsqueeze"], "methods", ["None"], ["", "def", "forward", "(", "\n", "self", ",", "\n", "styles", ",", "\n", "return_latents", "=", "False", ",", "\n", "inject_index", "=", "None", ",", "\n", "truncation", "=", "1", ",", "\n", "truncation_latent", "=", "None", ",", "\n", "input_is_latent", "=", "False", ",", "\n", "noise", "=", "None", ",", "\n", "randomize_noise", "=", "True", ",", "\n", ")", ":", "\n", "        ", "if", "not", "input_is_latent", ":", "\n", "            ", "styles", "=", "[", "self", ".", "style", "(", "s", ")", "for", "s", "in", "styles", "]", "\n", "\n", "", "if", "noise", "is", "None", ":", "\n", "            ", "if", "randomize_noise", ":", "\n", "                ", "noise", "=", "[", "None", "]", "*", "self", ".", "num_layers", "\n", "", "else", ":", "\n", "                ", "noise", "=", "[", "\n", "getattr", "(", "self", ".", "noises", ",", "f\"noise_{i}\"", ")", "\n", "for", "i", "in", "range", "(", "self", ".", "num_layers", ")", "\n", "]", "\n", "\n", "", "", "if", "truncation", "<", "1", ":", "\n", "            ", "style_t", "=", "[", "]", "\n", "\n", "for", "style", "in", "styles", ":", "\n", "                ", "style_t", ".", "append", "(", "truncation_latent", "+", "truncation", "*", "\n", "(", "style", "-", "truncation_latent", ")", ")", "\n", "\n", "", "styles", "=", "style_t", "\n", "\n", "", "if", "len", "(", "styles", ")", "<", "2", ":", "\n", "            ", "inject_index", "=", "self", ".", "n_latent", "\n", "\n", "if", "styles", "[", "0", "]", ".", "ndim", "<", "3", ":", "\n", "                ", "latent", "=", "styles", "[", "0", "]", ".", "unsqueeze", "(", "1", ")", ".", "tile", "(", "(", "1", ",", "inject_index", ",", "1", ")", ")", "\n", "\n", "", "else", ":", "\n", "                ", "latent", "=", "styles", "[", "0", "]", "\n", "\n", "", "", "else", ":", "\n", "            ", "if", "inject_index", "is", "None", ":", "\n", "                ", "inject_index", "=", "random", ".", "randint", "(", "1", ",", "self", ".", "n_latent", "-", "1", ")", "\n", "\n", "", "latent", "=", "styles", "[", "0", "]", ".", "unsqueeze", "(", "1", ")", ".", "tile", "(", "(", "1", ",", "inject_index", ",", "1", ")", ")", "\n", "latent2", "=", "styles", "[", "1", "]", ".", "unsqueeze", "(", "1", ")", ".", "tile", "(", "\n", "(", "1", ",", "self", ".", "n_latent", "-", "inject_index", ",", "1", ")", ")", "\n", "\n", "latent", "=", "paddle", ".", "concat", "(", "[", "latent", ",", "latent2", "]", ",", "1", ")", "\n", "\n", "", "out", "=", "self", ".", "input", "(", "latent", ")", "\n", "out", "=", "self", ".", "conv1", "(", "out", ",", "latent", "[", ":", ",", "0", "]", ",", "noise", "=", "noise", "[", "0", "]", ")", "\n", "\n", "skip", "=", "self", ".", "to_rgb1", "(", "out", ",", "latent", "[", ":", ",", "1", "]", ")", "\n", "\n", "i", "=", "1", "\n", "if", "self", ".", "is_concat", ":", "\n", "            ", "noise_i", "=", "1", "\n", "\n", "outs", "=", "[", "]", "\n", "for", "conv1", ",", "conv2", ",", "to_rgb", "in", "zip", "(", "self", ".", "convs", "[", ":", ":", "2", "]", ",", "self", ".", "convs", "[", "1", ":", ":", "2", "]", ",", "\n", "self", ".", "to_rgbs", ")", ":", "\n", "                ", "out", "=", "conv1", "(", "out", ",", "latent", "[", ":", ",", "i", "]", ",", "\n", "noise", "=", "noise", "[", "(", "noise_i", "+", "1", ")", "//", "2", "]", ")", "### 1 for 2", "\n", "out", "=", "conv2", "(", "out", ",", "\n", "latent", "[", ":", ",", "i", "+", "1", "]", ",", "\n", "noise", "=", "noise", "[", "(", "noise_i", "+", "2", ")", "//", "2", "]", ")", "### 1 for 2", "\n", "skip", "=", "to_rgb", "(", "out", ",", "latent", "[", ":", ",", "i", "+", "2", "]", ",", "skip", ")", "\n", "\n", "i", "+=", "2", "\n", "noise_i", "+=", "2", "\n", "", "", "else", ":", "\n", "            ", "for", "conv1", ",", "conv2", ",", "noise1", ",", "noise2", ",", "to_rgb", "in", "zip", "(", "\n", "self", ".", "convs", "[", ":", ":", "2", "]", ",", "self", ".", "convs", "[", "1", ":", ":", "2", "]", ",", "noise", "[", "1", ":", ":", "2", "]", ",", "noise", "[", "2", ":", ":", "2", "]", ",", "\n", "self", ".", "to_rgbs", ")", ":", "\n", "                ", "out", "=", "conv1", "(", "out", ",", "latent", "[", ":", ",", "i", "]", ",", "noise", "=", "noise1", ")", "\n", "out", "=", "conv2", "(", "out", ",", "latent", "[", ":", ",", "i", "+", "1", "]", ",", "noise", "=", "noise2", ")", "\n", "skip", "=", "to_rgb", "(", "out", ",", "latent", "[", ":", ",", "i", "+", "2", "]", ",", "skip", ")", "\n", "\n", "i", "+=", "2", "\n", "\n", "", "", "image", "=", "skip", "\n", "\n", "if", "return_latents", ":", "\n", "            ", "return", "image", ",", "latent", "\n", "\n", "", "else", ":", "\n", "            ", "return", "image", ",", "None", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.upfirdn2d_native": [[8, 50], ["input.reshape.reshape", "input.reshape.reshape", "out.transpose.transpose", "out.transpose.reshape", "paddle.pad", "out.transpose.reshape", "out.transpose.transpose", "out.transpose.reshape", "paddle.pad", "out.transpose.reshape", "paddle.flip().reshape", "paddle.flip().reshape", "paddle.flip().reshape", "paddle.conv2d", "out.transpose.reshape", "out.transpose.transpose", "out.transpose.reshape", "max", "max", "max", "max", "paddle.flip", "paddle.flip", "paddle.flip", "max", "max", "max", "max"], "function", ["None"], ["def", "upfirdn2d_native", "(", "input", ",", "kernel", ",", "up_x", ",", "up_y", ",", "down_x", ",", "down_y", ",", "pad_x0", ",", "pad_x1", ",", "\n", "pad_y0", ",", "pad_y1", ")", ":", "\n", "    ", "_", ",", "channel", ",", "in_h", ",", "in_w", "=", "input", ".", "shape", "\n", "input", "=", "input", ".", "reshape", "(", "(", "-", "1", ",", "in_h", ",", "in_w", ",", "1", ")", ")", "\n", "\n", "_", ",", "in_h", ",", "in_w", ",", "minor", "=", "input", ".", "shape", "\n", "kernel_h", ",", "kernel_w", "=", "kernel", ".", "shape", "\n", "\n", "out", "=", "input", ".", "reshape", "(", "(", "-", "1", ",", "in_h", ",", "1", ",", "in_w", ",", "1", ",", "minor", ")", ")", "\n", "out", "=", "out", ".", "transpose", "(", "(", "0", ",", "1", ",", "3", ",", "5", ",", "2", ",", "4", ")", ")", "\n", "out", "=", "out", ".", "reshape", "(", "(", "-", "1", ",", "1", ",", "1", ",", "1", ")", ")", "\n", "out", "=", "F", ".", "pad", "(", "out", ",", "[", "0", ",", "up_x", "-", "1", ",", "0", ",", "up_y", "-", "1", "]", ")", "\n", "out", "=", "out", ".", "reshape", "(", "(", "-", "1", ",", "in_h", ",", "in_w", ",", "minor", ",", "up_y", ",", "up_x", ")", ")", "\n", "out", "=", "out", ".", "transpose", "(", "(", "0", ",", "3", ",", "1", ",", "4", ",", "2", ",", "5", ")", ")", "\n", "out", "=", "out", ".", "reshape", "(", "(", "-", "1", ",", "minor", ",", "in_h", "*", "up_y", ",", "in_w", "*", "up_x", ")", ")", "\n", "\n", "out", "=", "F", ".", "pad", "(", "\n", "out", ",", "[", "max", "(", "pad_x0", ",", "0", ")", ",", "\n", "max", "(", "pad_x1", ",", "0", ")", ",", "\n", "max", "(", "pad_y0", ",", "0", ")", ",", "\n", "max", "(", "pad_y1", ",", "0", ")", "]", ")", "\n", "out", "=", "out", "[", ":", ",", ":", ",", "\n", "max", "(", "-", "pad_y0", ",", "0", ")", ":", "out", ".", "shape", "[", "2", "]", "-", "max", "(", "-", "pad_y1", ",", "0", ")", ",", "\n", "max", "(", "-", "pad_x0", ",", "0", ")", ":", "out", ".", "shape", "[", "3", "]", "-", "max", "(", "-", "pad_x1", ",", "0", ")", ",", "]", "\n", "\n", "out", "=", "out", ".", "reshape", "(", "\n", "(", "[", "-", "1", ",", "1", ",", "in_h", "*", "up_y", "+", "pad_y0", "+", "pad_y1", ",", "in_w", "*", "up_x", "+", "pad_x0", "+", "pad_x1", "]", ")", ")", "\n", "w", "=", "paddle", ".", "flip", "(", "kernel", ",", "[", "0", ",", "1", "]", ")", ".", "reshape", "(", "(", "1", ",", "1", ",", "kernel_h", ",", "kernel_w", ")", ")", "\n", "out", "=", "F", ".", "conv2d", "(", "out", ",", "w", ")", "\n", "out", "=", "out", ".", "reshape", "(", "(", "\n", "-", "1", ",", "\n", "minor", ",", "\n", "in_h", "*", "up_y", "+", "pad_y0", "+", "pad_y1", "-", "kernel_h", "+", "1", ",", "\n", "in_w", "*", "up_x", "+", "pad_x0", "+", "pad_x1", "-", "kernel_w", "+", "1", ",", "\n", ")", ")", "\n", "out", "=", "out", ".", "transpose", "(", "(", "0", ",", "2", ",", "3", ",", "1", ")", ")", "\n", "out", "=", "out", "[", ":", ",", ":", ":", "down_y", ",", ":", ":", "down_x", ",", ":", "]", "\n", "\n", "out_h", "=", "(", "in_h", "*", "up_y", "+", "pad_y0", "+", "pad_y1", "-", "kernel_h", ")", "//", "down_y", "+", "1", "\n", "out_w", "=", "(", "in_w", "*", "up_x", "+", "pad_x0", "+", "pad_x1", "-", "kernel_w", ")", "//", "down_x", "+", "1", "\n", "\n", "return", "out", ".", "reshape", "(", "(", "-", "1", ",", "channel", ",", "out_h", ",", "out_w", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.upfirdn2d": [[52, 57], ["stylegan.upfirdn2d_native"], "function", ["home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.upfirdn2d_native"], ["", "def", "upfirdn2d", "(", "input", ",", "kernel", ",", "up", "=", "1", ",", "down", "=", "1", ",", "pad", "=", "(", "0", ",", "0", ")", ")", ":", "\n", "    ", "out", "=", "upfirdn2d_native", "(", "input", ",", "kernel", ",", "up", ",", "up", ",", "down", ",", "down", ",", "pad", "[", "0", "]", ",", "pad", "[", "1", "]", ",", "\n", "pad", "[", "0", "]", ",", "pad", "[", "1", "]", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.make_kernel": [[59, 68], ["paddle.to_tensor", "paddle.to_tensor", "paddle.to_tensor", "paddle.to_tensor.sum", "paddle.to_tensor.unsqueeze", "paddle.to_tensor.unsqueeze"], "function", ["None"], ["", "def", "make_kernel", "(", "k", ")", ":", "\n", "    ", "k", "=", "paddle", ".", "to_tensor", "(", "k", ",", "dtype", "=", "'float32'", ")", "\n", "\n", "if", "k", ".", "ndim", "==", "1", ":", "\n", "        ", "k", "=", "k", ".", "unsqueeze", "(", "0", ")", "*", "k", ".", "unsqueeze", "(", "1", ")", "\n", "\n", "", "k", "/=", "k", ".", "sum", "(", ")", "\n", "\n", "return", "k", "\n", "\n"]], "home.repos.pwc.inspect_result.zipengxuc_ppe.mapper.stylegan.fused_leaky_relu": [[157, 172], ["len", "paddle.leaky_relu", "paddle.leaky_relu", "paddle.leaky_relu", "len", "len", "bias.reshape", "len", "len", "bias.reshape"], "function", ["None"], ["", "", "def", "fused_leaky_relu", "(", "input", ",", "bias", "=", "None", ",", "negative_slope", "=", "0.2", ",", "scale", "=", "2", "**", "0.5", ")", ":", "\n", "    ", "if", "bias", "is", "not", "None", ":", "\n", "        ", "if", "len", "(", "input", ".", "shape", ")", "!=", "3", ":", "\n", "            ", "rest_dim", "=", "[", "1", "]", "*", "(", "len", "(", "input", ".", "shape", ")", "-", "len", "(", "bias", ".", "shape", ")", "-", "1", ")", "\n", "#print(input.shape, bias.shape, rest_dim)", "\n", "return", "(", "F", ".", "leaky_relu", "(", "input", "+", "bias", ".", "reshape", "(", "\n", "(", "1", ",", "bias", ".", "shape", "[", "0", "]", ",", "*", "rest_dim", ")", ")", ",", "negative_slope", "=", "0.2", ")", "*", "scale", ")", "\n", "", "else", ":", "\n", "            ", "rest_dim", "=", "[", "1", "]", "*", "(", "len", "(", "input", ".", "shape", ")", "-", "len", "(", "bias", ".", "shape", ")", "-", "1", ")", "\n", "#print(input.shape, bias.shape, rest_dim)", "\n", "return", "(", "F", ".", "leaky_relu", "(", "input", "+", "bias", ".", "reshape", "(", "\n", "(", "1", ",", "-", "1", ",", "bias", ".", "shape", "[", "0", "]", ")", ")", ",", "negative_slope", "=", "0.2", ")", "*", "scale", ")", "\n", "\n", "", "", "else", ":", "\n", "        ", "return", "F", ".", "leaky_relu", "(", "input", ",", "negative_slope", "=", "0.2", ")", "*", "scale", "\n", "\n"]]}