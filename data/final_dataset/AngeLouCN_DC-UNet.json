{"home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.dice_coef": [[71, 77], ["keras.backend.flatten", "keras.backend.flatten", "keras.backend.sum", "keras.backend.sum", "keras.backend.sum"], "function", ["None"], ["def", "dice_coef", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "smooth", "=", "1.0", "#0.0", "\n", "y_true_f", "=", "K", ".", "flatten", "(", "y_true", ")", "\n", "y_pred_f", "=", "K", ".", "flatten", "(", "y_pred", ")", "\n", "intersection", "=", "K", ".", "sum", "(", "y_true_f", "*", "y_pred_f", ")", "\n", "return", "(", "2.", "*", "intersection", "+", "smooth", ")", "/", "(", "K", ".", "sum", "(", "y_true_f", ")", "+", "K", ".", "sum", "(", "y_pred_f", ")", "+", "smooth", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.jacard": [[78, 86], ["keras.backend.flatten", "keras.backend.flatten", "keras.backend.sum", "keras.backend.sum"], "function", ["None"], ["", "def", "jacard", "(", "y_true", ",", "y_pred", ")", ":", "\n", "\n", "    ", "y_true_f", "=", "K", ".", "flatten", "(", "y_true", ")", "\n", "y_pred_f", "=", "K", ".", "flatten", "(", "y_pred", ")", "\n", "intersection", "=", "K", ".", "sum", "(", "y_true_f", "*", "y_pred_f", ")", "\n", "union", "=", "K", ".", "sum", "(", "y_true_f", "+", "y_pred_f", "-", "y_true_f", "*", "y_pred_f", ")", "\n", "\n", "return", "intersection", "/", "union", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.dice_coef_loss": [[87, 89], ["main.dice_coef"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.dice_coef"], ["", "def", "dice_coef_loss", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "return", "1", "-", "dice_coef", "(", "y_true", ",", "y_pred", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.iou_loss": [[90, 92], ["main.jacard"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.jacard"], ["", "def", "iou_loss", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "return", "1", "-", "jacard", "(", "y_true", ",", "y_pred", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.tversky": [[93, 102], ["keras.backend.flatten", "keras.backend.flatten", "keras.backend.sum", "keras.backend.sum", "keras.backend.sum"], "function", ["None"], ["", "def", "tversky", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "y_true_pos", "=", "K", ".", "flatten", "(", "y_true", ")", "\n", "y_pred_pos", "=", "K", ".", "flatten", "(", "y_pred", ")", "\n", "true_pos", "=", "K", ".", "sum", "(", "y_true_pos", "*", "y_pred_pos", ")", "\n", "false_neg", "=", "K", ".", "sum", "(", "y_true_pos", "*", "(", "1", "-", "y_pred_pos", ")", ")", "\n", "false_pos", "=", "K", ".", "sum", "(", "(", "1", "-", "y_true_pos", ")", "*", "y_pred_pos", ")", "\n", "alpha", "=", "0.75", "\n", "smooth", "=", "1", "\n", "return", "(", "true_pos", "+", "smooth", ")", "/", "(", "true_pos", "+", "alpha", "*", "false_neg", "+", "(", "1", "-", "alpha", ")", "*", "false_pos", "+", "smooth", ")", "\n", "", "def", "tversky_loss", "(", "y_true", ",", "y_pred", ")", ":", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.tversky_loss": [[102, 104], ["main.tversky"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.tversky"], ["", "def", "tversky_loss", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "return", "1", "-", "tversky", "(", "y_true", ",", "y_pred", ")", "\n", "", "def", "focal_tversky", "(", "y_true", ",", "y_pred", ")", ":", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.focal_tversky": [[104, 108], ["main.tversky", "keras.backend.pow"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.tversky"], ["", "def", "focal_tversky", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "pt_1", "=", "tversky", "(", "y_true", ",", "y_pred", ")", "\n", "gamma", "=", "0.75", "\n", "return", "K", ".", "pow", "(", "(", "1", "-", "pt_1", ")", ",", "gamma", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.saveModel": [[111, 123], ["model.to_json", "open", "open.write", "model.save", "os.makedirs"], "function", ["None"], ["", "def", "saveModel", "(", "model", ")", ":", "\n", "\n", "    ", "model_json", "=", "model", ".", "to_json", "(", ")", "\n", "\n", "try", ":", "\n", "        ", "os", ".", "makedirs", "(", "'models'", ")", "\n", "", "except", ":", "\n", "        ", "pass", "\n", "\n", "", "fp", "=", "open", "(", "'models/modelP.json'", ",", "'w'", ")", "\n", "fp", ".", "write", "(", "model_json", ")", "\n", "model", ".", "save", "(", "'models/modelW.h5'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.evaluateModel": [[125, 199], ["model.predict", "numpy.round", "range", "range", "len", "len", "print", "print", "open", "open.write", "open.close", "open", "open.read", "open.close", "os.makedirs", "matplotlib.figure", "matplotlib.subplot", "matplotlib.imshow", "matplotlib.title", "matplotlib.subplot", "matplotlib.imshow", "matplotlib.title", "matplotlib.subplot", "matplotlib.imshow", "matplotlib.title", "matplotlib.suptitle", "matplotlib.savefig", "matplotlib.close", "len", "yp[].ravel", "Y_test[].ravel", "float", "print", "print", "print", "open", "open.write", "open.close", "main.saveModel", "Y_test[].reshape", "yp[].reshape", "yp[].ravel", "Y_test[].ravel", "numpy.sum", "numpy.sum", "numpy.sum", "numpy.sum", "str", "str", "str", "str", "yp[].ravel", "Y_test[].ravel", "str", "numpy.sum", "numpy.sum", "numpy.sum", "str", "str", "str", "str", "numpy.sum", "str", "numpy.sum"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.saveModel"], ["", "def", "evaluateModel", "(", "model", ",", "X_test", ",", "Y_test", ",", "batchSize", ")", ":", "\n", "\n", "    ", "try", ":", "\n", "        ", "os", ".", "makedirs", "(", "'results'", ")", "\n", "", "except", ":", "\n", "        ", "pass", "\n", "\n", "", "yp", "=", "model", ".", "predict", "(", "x", "=", "X_test", ",", "batch_size", "=", "batchSize", ",", "verbose", "=", "1", ")", "\n", "yp", "=", "np", ".", "round", "(", "yp", ",", "0", ")", "\n", "\n", "for", "i", "in", "range", "(", "10", ")", ":", "\n", "\n", "        ", "plt", ".", "figure", "(", "figsize", "=", "(", "20", ",", "10", ")", ")", "\n", "plt", ".", "subplot", "(", "1", ",", "3", ",", "1", ")", "\n", "plt", ".", "imshow", "(", "X_test", "[", "i", "]", ")", "\n", "plt", ".", "title", "(", "'Input'", ")", "\n", "plt", ".", "subplot", "(", "1", ",", "3", ",", "2", ")", "\n", "plt", ".", "imshow", "(", "Y_test", "[", "i", "]", ".", "reshape", "(", "Y_test", "[", "i", "]", ".", "shape", "[", "0", "]", ",", "Y_test", "[", "i", "]", ".", "shape", "[", "1", "]", ")", ")", "\n", "plt", ".", "title", "(", "'Ground Truth'", ")", "\n", "plt", ".", "subplot", "(", "1", ",", "3", ",", "3", ")", "\n", "plt", ".", "imshow", "(", "yp", "[", "i", "]", ".", "reshape", "(", "yp", "[", "i", "]", ".", "shape", "[", "0", "]", ",", "yp", "[", "i", "]", ".", "shape", "[", "1", "]", ")", ")", "\n", "plt", ".", "title", "(", "'Prediction'", ")", "\n", "\n", "intersection", "=", "yp", "[", "i", "]", ".", "ravel", "(", ")", "*", "Y_test", "[", "i", "]", ".", "ravel", "(", ")", "\n", "union", "=", "yp", "[", "i", "]", ".", "ravel", "(", ")", "+", "Y_test", "[", "i", "]", ".", "ravel", "(", ")", "-", "intersection", "\n", "\n", "jacard", "=", "(", "np", ".", "sum", "(", "intersection", ")", "/", "np", ".", "sum", "(", "union", ")", ")", "\n", "plt", ".", "suptitle", "(", "'Jacard Index'", "+", "str", "(", "np", ".", "sum", "(", "intersection", ")", ")", "+", "'/'", "+", "str", "(", "np", ".", "sum", "(", "union", ")", ")", "+", "'='", "+", "str", "(", "jacard", ")", ")", "\n", "\n", "plt", ".", "savefig", "(", "'results/'", "+", "str", "(", "i", ")", "+", "'.png'", ",", "format", "=", "'png'", ")", "\n", "plt", ".", "close", "(", ")", "\n", "\n", "", "jacard", "=", "0", "\n", "dice", "=", "0", "\n", "\n", "\n", "for", "i", "in", "range", "(", "len", "(", "Y_test", ")", ")", ":", "\n", "        ", "yp_2", "=", "yp", "[", "i", "]", ".", "ravel", "(", ")", "\n", "y2", "=", "Y_test", "[", "i", "]", ".", "ravel", "(", ")", "\n", "\n", "intersection", "=", "yp_2", "*", "y2", "\n", "union", "=", "yp_2", "+", "y2", "-", "intersection", "\n", "\n", "jacard", "+=", "(", "np", ".", "sum", "(", "intersection", ")", "/", "np", ".", "sum", "(", "union", ")", ")", "\n", "\n", "dice", "+=", "(", "2.", "*", "np", ".", "sum", "(", "intersection", ")", ")", "/", "(", "np", ".", "sum", "(", "yp_2", ")", "+", "np", ".", "sum", "(", "y2", ")", ")", "\n", "\n", "\n", "", "jacard", "/=", "len", "(", "Y_test", ")", "\n", "dice", "/=", "len", "(", "Y_test", ")", "\n", "\n", "\n", "\n", "print", "(", "'Jacard Index : '", "+", "str", "(", "jacard", ")", ")", "\n", "print", "(", "'Dice Coefficient : '", "+", "str", "(", "dice", ")", ")", "\n", "\n", "\n", "fp", "=", "open", "(", "'models/log.txt'", ",", "'a'", ")", "\n", "fp", ".", "write", "(", "str", "(", "jacard", ")", "+", "'\\n'", ")", "\n", "fp", ".", "close", "(", ")", "\n", "\n", "fp", "=", "open", "(", "'models/best.txt'", ",", "'r'", ")", "\n", "best", "=", "fp", ".", "read", "(", ")", "\n", "fp", ".", "close", "(", ")", "\n", "\n", "if", "(", "jacard", ">", "float", "(", "best", ")", ")", ":", "\n", "        ", "print", "(", "'***********************************************'", ")", "\n", "print", "(", "'Jacard Index improved from '", "+", "str", "(", "best", ")", "+", "' to '", "+", "str", "(", "jacard", ")", ")", "\n", "print", "(", "'***********************************************'", ")", "\n", "fp", "=", "open", "(", "'models/best.txt'", ",", "'w'", ")", "\n", "fp", ".", "write", "(", "str", "(", "jacard", ")", ")", "\n", "fp", ".", "close", "(", ")", "\n", "\n", "saveModel", "(", "model", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.trainStep": [[201, 211], ["range", "print", "model.fit", "main.evaluateModel"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.main.evaluateModel"], ["", "", "def", "trainStep", "(", "model", ",", "X_train", ",", "Y_train", ",", "X_test", ",", "Y_test", ",", "epochs", ",", "batchSize", ")", ":", "\n", "\n", "\n", "    ", "for", "epoch", "in", "range", "(", "epochs", ")", ":", "\n", "        ", "print", "(", "'Epoch : {}'", ".", "format", "(", "epoch", "+", "1", ")", ")", "\n", "model", ".", "fit", "(", "x", "=", "X_train", ",", "y", "=", "Y_train", ",", "batch_size", "=", "batchSize", ",", "epochs", "=", "1", ",", "verbose", "=", "1", ")", "\n", "\n", "evaluateModel", "(", "model", ",", "X_test", ",", "Y_test", ",", "batchSize", ")", "\n", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn": [[27, 56], ["keras.layers.Conv2D", "keras.layers.BatchNormalization", "keras.layers.Activation"], "function", ["None"], ["def", "conv2d_bn", "(", "x", ",", "filters", ",", "num_row", ",", "num_col", ",", "padding", "=", "'same'", ",", "strides", "=", "(", "1", ",", "1", ")", ",", "activation", "=", "'relu'", ",", "name", "=", "None", ")", ":", "\n", "    ", "'''\n    2D Convolutional layers\n    \n    Arguments:\n        x {keras layer} -- input layer \n        filters {int} -- number of filters\n        num_row {int} -- number of rows in filters\n        num_col {int} -- number of columns in filters\n    \n    Keyword Arguments:\n        padding {str} -- mode of padding (default: {'same'})\n        strides {tuple} -- stride of convolution operation (default: {(1, 1)})\n        activation {str} -- activation function (default: {'relu'})\n        name {str} -- name of the layer (default: {None})\n    \n    Returns:\n        [keras layer] -- [output layer]\n    '''", "\n", "\n", "x", "=", "Conv2D", "(", "filters", ",", "(", "num_row", ",", "num_col", ")", ",", "strides", "=", "strides", ",", "padding", "=", "padding", ",", "use_bias", "=", "False", ")", "(", "x", ")", "\n", "x", "=", "BatchNormalization", "(", "axis", "=", "3", ",", "scale", "=", "False", ")", "(", "x", ")", "\n", "\n", "if", "(", "activation", "==", "None", ")", ":", "\n", "        ", "return", "x", "\n", "\n", "", "x", "=", "Activation", "(", "activation", ",", "name", "=", "name", ")", "(", "x", ")", "\n", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.trans_conv2d_bn": [[58, 81], ["keras.layers.Conv2DTranspose", "keras.layers.BatchNormalization"], "function", ["None"], ["", "def", "trans_conv2d_bn", "(", "x", ",", "filters", ",", "num_row", ",", "num_col", ",", "padding", "=", "'same'", ",", "strides", "=", "(", "2", ",", "2", ")", ",", "name", "=", "None", ")", ":", "\n", "    ", "'''\n    2D Transposed Convolutional layers\n    \n    Arguments:\n        x {keras layer} -- input layer \n        filters {int} -- number of filters\n        num_row {int} -- number of rows in filters\n        num_col {int} -- number of columns in filters\n    \n    Keyword Arguments:\n        padding {str} -- mode of padding (default: {'same'})\n        strides {tuple} -- stride of convolution operation (default: {(2, 2)})\n        name {str} -- name of the layer (default: {None})\n    \n    Returns:\n        [keras layer] -- [output layer]\n    '''", "\n", "\n", "x", "=", "Conv2DTranspose", "(", "filters", ",", "(", "num_row", ",", "num_col", ")", ",", "strides", "=", "strides", ",", "padding", "=", "padding", ")", "(", "x", ")", "\n", "x", "=", "BatchNormalization", "(", "axis", "=", "3", ",", "scale", "=", "False", ")", "(", "x", ")", "\n", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock": [[83, 130], ["model.conv2d_bn", "model.conv2d_bn", "model.conv2d_bn", "keras.layers.concatenate", "model.conv2d_bn", "model.conv2d_bn", "model.conv2d_bn", "keras.layers.concatenate", "keras.layers.add", "int", "int", "int", "keras.layers.BatchNormalization", "int", "int", "int", "keras.layers.BatchNormalization", "keras.layers.Activation", "keras.layers.BatchNormalization"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn"], ["", "def", "DCBlock", "(", "U", ",", "inp", ",", "alpha", "=", "1.67", ")", ":", "\n", "    ", "'''\n    DC Block\n    \n    Arguments:\n        U {int} -- Number of filters in a corrsponding UNet stage\n        inp {keras layer} -- input layer \n    \n    Returns:\n        [keras layer] -- [output layer]\n    '''", "\n", "\n", "W", "=", "alpha", "*", "U", "\n", "\n", "#shortcut = inp", "\n", "\n", "#shortcut = conv2d_bn(shortcut, int(W*0.167) + int(W*0.333) +", "\n", "#                      int(W*0.5), 1, 1, activation=None, padding='same')", "\n", "\n", "conv3x3_1", "=", "conv2d_bn", "(", "inp", ",", "int", "(", "W", "*", "0.167", ")", ",", "3", ",", "3", ",", "\n", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "conv5x5_1", "=", "conv2d_bn", "(", "conv3x3_1", ",", "int", "(", "W", "*", "0.333", ")", ",", "3", ",", "3", ",", "\n", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "conv7x7_1", "=", "conv2d_bn", "(", "conv5x5_1", ",", "int", "(", "W", "*", "0.5", ")", ",", "3", ",", "3", ",", "\n", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "out1", "=", "concatenate", "(", "[", "conv3x3_1", ",", "conv5x5_1", ",", "conv7x7_1", "]", ",", "axis", "=", "3", ")", "\n", "out1", "=", "BatchNormalization", "(", "axis", "=", "3", ")", "(", "out1", ")", "\n", "\n", "conv3x3_2", "=", "conv2d_bn", "(", "inp", ",", "int", "(", "W", "*", "0.167", ")", ",", "3", ",", "3", ",", "\n", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "conv5x5_2", "=", "conv2d_bn", "(", "conv3x3_2", ",", "int", "(", "W", "*", "0.333", ")", ",", "3", ",", "3", ",", "\n", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "conv7x7_2", "=", "conv2d_bn", "(", "conv5x5_2", ",", "int", "(", "W", "*", "0.5", ")", ",", "3", ",", "3", ",", "\n", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "out2", "=", "concatenate", "(", "[", "conv3x3_2", ",", "conv5x5_2", ",", "conv7x7_2", "]", ",", "axis", "=", "3", ")", "\n", "out2", "=", "BatchNormalization", "(", "axis", "=", "3", ")", "(", "out2", ")", "\n", "\n", "out", "=", "add", "(", "[", "out1", ",", "out2", "]", ")", "\n", "out", "=", "Activation", "(", "'relu'", ")", "(", "out", ")", "\n", "out", "=", "BatchNormalization", "(", "axis", "=", "3", ")", "(", "out", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.ResPath": [[131, 167], ["model.conv2d_bn", "model.conv2d_bn", "keras.layers.add", "range", "keras.layers.Activation", "keras.layers.BatchNormalization", "model.conv2d_bn", "model.conv2d_bn", "keras.layers.add", "keras.layers.Activation", "keras.layers.BatchNormalization"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn"], ["", "def", "ResPath", "(", "filters", ",", "length", ",", "inp", ")", ":", "\n", "    ", "'''\n    ResPath\n    \n    Arguments:\n        filters {int} -- [description]\n        length {int} -- length of ResPath\n        inp {keras layer} -- input layer \n    \n    Returns:\n        [keras layer] -- [output layer]\n    '''", "\n", "\n", "shortcut", "=", "inp", "\n", "shortcut", "=", "conv2d_bn", "(", "shortcut", ",", "filters", ",", "1", ",", "1", ",", "\n", "activation", "=", "None", ",", "padding", "=", "'same'", ")", "\n", "\n", "out", "=", "conv2d_bn", "(", "inp", ",", "filters", ",", "3", ",", "3", ",", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "out", "=", "add", "(", "[", "shortcut", ",", "out", "]", ")", "\n", "out", "=", "Activation", "(", "'relu'", ")", "(", "out", ")", "\n", "out", "=", "BatchNormalization", "(", "axis", "=", "3", ")", "(", "out", ")", "\n", "\n", "for", "i", "in", "range", "(", "length", "-", "1", ")", ":", "\n", "\n", "        ", "shortcut", "=", "out", "\n", "shortcut", "=", "conv2d_bn", "(", "shortcut", ",", "filters", ",", "1", ",", "1", ",", "\n", "activation", "=", "None", ",", "padding", "=", "'same'", ")", "\n", "\n", "out", "=", "conv2d_bn", "(", "out", ",", "filters", ",", "3", ",", "3", ",", "activation", "=", "'relu'", ",", "padding", "=", "'same'", ")", "\n", "\n", "out", "=", "add", "(", "[", "shortcut", ",", "out", "]", ")", "\n", "out", "=", "Activation", "(", "'relu'", ")", "(", "out", ")", "\n", "out", "=", "BatchNormalization", "(", "axis", "=", "3", ")", "(", "out", ")", "\n", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCUNet": [[168, 222], ["keras.layers.Input", "model.DCBlock", "model.ResPath", "model.DCBlock", "model.ResPath", "model.DCBlock", "model.ResPath", "model.DCBlock", "model.ResPath", "model.DCBlock", "keras.layers.concatenate", "model.DCBlock", "keras.layers.concatenate", "model.DCBlock", "keras.layers.concatenate", "model.DCBlock", "keras.layers.concatenate", "model.DCBlock", "model.conv2d_bn", "keras.models.Model", "keras.layers.MaxPooling2D", "keras.layers.MaxPooling2D", "keras.layers.MaxPooling2D", "keras.layers.MaxPooling2D", "keras.layers.Conv2DTranspose", "keras.layers.Conv2DTranspose", "keras.layers.Conv2DTranspose", "keras.layers.Conv2DTranspose"], "function", ["home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.ResPath", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.ResPath", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.ResPath", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.ResPath", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.DCBlock", "home.repos.pwc.inspect_result.AngeLouCN_DC-UNet.None.model.conv2d_bn"], ["", "def", "DCUNet", "(", "height", ",", "width", ",", "channels", ")", ":", "\n", "    ", "'''\n    DC-UNet\n    \n    Arguments:\n        height {int} -- height of image \n        width {int} -- width of image \n        n_channels {int} -- number of channels in image\n    \n    Returns:\n        [keras model] -- MultiResUNet model\n    '''", "\n", "\n", "inputs", "=", "Input", "(", "(", "height", ",", "width", ",", "channels", ")", ")", "\n", "\n", "dcblock1", "=", "DCBlock", "(", "32", ",", "inputs", ")", "\n", "pool1", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ")", "(", "dcblock1", ")", "\n", "dcblock1", "=", "ResPath", "(", "32", ",", "4", ",", "dcblock1", ")", "\n", "\n", "dcblock2", "=", "DCBlock", "(", "32", "*", "2", ",", "pool1", ")", "\n", "pool2", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ")", "(", "dcblock2", ")", "\n", "dcblock2", "=", "ResPath", "(", "32", "*", "2", ",", "3", ",", "dcblock2", ")", "\n", "\n", "dcblock3", "=", "DCBlock", "(", "32", "*", "4", ",", "pool2", ")", "\n", "pool3", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ")", "(", "dcblock3", ")", "\n", "dcblock3", "=", "ResPath", "(", "32", "*", "4", ",", "2", ",", "dcblock3", ")", "\n", "\n", "dcblock4", "=", "DCBlock", "(", "32", "*", "8", ",", "pool3", ")", "\n", "pool4", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ")", "(", "dcblock4", ")", "\n", "dcblock4", "=", "ResPath", "(", "32", "*", "8", ",", "1", ",", "dcblock4", ")", "\n", "\n", "dcblock5", "=", "DCBlock", "(", "32", "*", "16", ",", "pool4", ")", "\n", "\n", "up6", "=", "concatenate", "(", "[", "Conv2DTranspose", "(", "\n", "32", "*", "8", ",", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ",", "padding", "=", "'same'", ")", "(", "dcblock5", ")", ",", "dcblock4", "]", ",", "axis", "=", "3", ")", "\n", "dcblock6", "=", "DCBlock", "(", "32", "*", "8", ",", "up6", ")", "\n", "\n", "up7", "=", "concatenate", "(", "[", "Conv2DTranspose", "(", "\n", "32", "*", "4", ",", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ",", "padding", "=", "'same'", ")", "(", "dcblock6", ")", ",", "dcblock3", "]", ",", "axis", "=", "3", ")", "\n", "dcblock7", "=", "DCBlock", "(", "32", "*", "4", ",", "up7", ")", "\n", "\n", "up8", "=", "concatenate", "(", "[", "Conv2DTranspose", "(", "\n", "32", "*", "2", ",", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ",", "padding", "=", "'same'", ")", "(", "dcblock7", ")", ",", "dcblock2", "]", ",", "axis", "=", "3", ")", "\n", "dcblock8", "=", "DCBlock", "(", "32", "*", "2", ",", "up8", ")", "\n", "\n", "up9", "=", "concatenate", "(", "[", "Conv2DTranspose", "(", "32", ",", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "\n", "2", ",", "2", ")", ",", "padding", "=", "'same'", ")", "(", "dcblock8", ")", ",", "dcblock1", "]", ",", "axis", "=", "3", ")", "\n", "dcblock9", "=", "DCBlock", "(", "32", ",", "up9", ")", "\n", "\n", "conv10", "=", "conv2d_bn", "(", "dcblock9", ",", "1", ",", "1", ",", "1", ",", "activation", "=", "'sigmoid'", ")", "\n", "\n", "model", "=", "Model", "(", "inputs", "=", "[", "inputs", "]", ",", "outputs", "=", "[", "conv10", "]", ")", "\n", "\n", "return", "model", "", "", ""]]}