{"home.repos.pwc.inspect_result.zyj-13_WAL.None.main_video.main": [[9, 31], ["parser.parse_args", "range", "open", "f.readlines", "x.strip", "len", "print", "time.sleep", "download_single.download_single", "print"], "function", ["home.repos.pwc.inspect_result.zyj-13_WAL.None.download_single.download_single"], ["def", "main", "(", ")", ":", "\n", "    ", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "\n", "\n", "# ----------------------- read vids", "\n", "fname", "=", "args", ".", "data", "\n", "with", "open", "(", "fname", ")", "as", "f", ":", "\n", "        ", "vids", "=", "f", ".", "readlines", "(", ")", "\n", "\n", "", "vids", "=", "[", "x", ".", "strip", "(", ")", "for", "x", "in", "vids", "]", "\n", "\n", "\n", "\n", "\n", "# ------------------------ download", "\n", "for", "i", "in", "range", "(", "len", "(", "vids", ")", ")", ":", "\n", "        ", "print", "(", "'downloading video No.%d'", "%", "i", ")", "\n", "try", ":", "\n", "            ", "download_single", "(", "vids", "[", "i", "]", ")", "\n", "", "except", ":", "\n", "            ", "print", "(", "\"video No.%d download failed and pass.\"", "%", "i", ")", "\n", "", "time", ".", "sleep", "(", "10", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zyj-13_WAL.None.download_single.download_single": [[4, 19], ["pytube.YouTube", "pytube.YouTube.streams.filter().first().download", "os.rename", "pytube.YouTube.streams.first", "pytube.YouTube.streams.filter().first", "fileName.split", "pytube.YouTube.streams.filter"], "function", ["None"], ["def", "download_single", "(", "vid", ")", ":", "\n", "\n", "    ", "vtype", "=", "'mp4'", "\n", "vRes", "=", "'360p'", "\n", "\n", "yt", "=", "YouTube", "(", "'https://www.youtube.com/watch?v=%s'", "%", "vid", ")", "\n", "\n", "# download", "\n", "yt", ".", "streams", ".", "filter", "(", "subtype", "=", "vtype", ",", "res", "=", "vRes", ")", ".", "first", "(", ")", ".", "download", "(", ")", "\n", "#print(yt.streams.filter(res='240p').all())", "\n", "\n", "# rename", "\n", "fileName", "=", "yt", ".", "streams", ".", "first", "(", ")", ".", "default_filename", "\n", "fileName", "=", "fileName", ".", "split", "(", "'.'", ",", "1", ")", "[", "0", "]", "+", "'.mp4'", "\n", "os", ".", "rename", "(", "fileName", ",", "'data/video/%s.%s'", "%", "(", "vid", ",", "vtype", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zyj-13_WAL.None.main_subtitle.main": [[9, 25], ["parser.parse_args", "range", "open", "f.readlines", "x.strip", "len", "os.system"], "function", ["None"], ["def", "main", "(", ")", ":", "\n", "    ", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "\n", "# ------------------ get urls", "\n", "fname", "=", "args", ".", "data", "\n", "with", "open", "(", "fname", ")", "as", "f", ":", "\n", "        ", "vids", "=", "f", ".", "readlines", "(", ")", "\n", "\n", "", "vids", "=", "[", "x", ".", "strip", "(", ")", "for", "x", "in", "vids", "]", "\n", "\n", "\n", "# -------------------- download subtitles", "\n", "\n", "for", "i", "in", "range", "(", "len", "(", "vids", ")", ")", ":", "\n", "        ", "cmd", "=", "'youtube-dl --write-auto-sub --sub-format \"vtt\" -o \"data/subtitle/'", "+", "vids", "[", "i", "]", "+", "'\" --skip-download https://www.youtube.com/watch?v='", "+", "vids", "[", "i", "]", "\n", "os", ".", "system", "(", "cmd", ")", "\n", "\n"]]}