{"home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.siammask_e_tracker.SiamMaskETracker.__init__": [[18, 25], ["pysot.tracker.siamrpn_tracker.SiamRPNTracker.__init__", "hasattr", "hasattr"], "methods", ["home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.siammask_e_tracker.SiamMaskETracker.__init__"], ["    ", "def", "__init__", "(", "self", ",", "model", ")", ":", "\n", "        ", "super", "(", "SiamMaskETracker", ",", "self", ")", ".", "__init__", "(", "model", ")", "\n", "\n", "assert", "hasattr", "(", "self", ".", "model", ",", "'mask_head'", ")", ",", "\"SiamMaskETracker must have mask_head\"", "\n", "assert", "hasattr", "(", "self", ".", "model", ",", "'refine_head'", ")", ",", "\"SiamMaskETracker must have refine_head\"", "\n", "\n"]], "home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.siammask_e_tracker.SiamMaskETracker._crop_back": [[27, 39], ["numpy.array().astype", "cv2.warpAffine", "numpy.array"], "methods", ["None"], ["", "def", "_crop_back", "(", "self", ",", "image", ",", "bbox", ",", "out_sz", ",", "padding", "=", "0", ")", ":", "\n", "        ", "a", "=", "(", "out_sz", "[", "0", "]", "-", "1", ")", "/", "bbox", "[", "2", "]", "\n", "b", "=", "(", "out_sz", "[", "1", "]", "-", "1", ")", "/", "bbox", "[", "3", "]", "\n", "c", "=", "-", "a", "*", "bbox", "[", "0", "]", "\n", "d", "=", "-", "b", "*", "bbox", "[", "1", "]", "\n", "mapping", "=", "np", ".", "array", "(", "[", "[", "a", ",", "0", ",", "c", "]", ",", "\n", "[", "0", ",", "b", ",", "d", "]", "]", ")", ".", "astype", "(", "np", ".", "float", ")", "\n", "crop", "=", "cv2", ".", "warpAffine", "(", "image", ",", "mapping", ",", "(", "out_sz", "[", "0", "]", ",", "out_sz", "[", "1", "]", ")", ",", "\n", "flags", "=", "cv2", ".", "INTER_LINEAR", ",", "\n", "borderMode", "=", "cv2", ".", "BORDER_CONSTANT", ",", "\n", "borderValue", "=", "padding", ")", "\n", "return", "crop", "\n", "\n"]], "home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.siammask_e_tracker.SiamMaskETracker._mask_post_processing": [[40, 163], ["target_mask.astype.astype.astype", "cv2.findContours", "cv2.findContours", "cv2.contourArea", "contour.reshape", "cv2.fitEllipse", "numpy.array", "numpy.array", "cv2.boxPoints", "cv2.getRotationMatrix2D", "numpy.ones", "numpy.matmul().reshape.reshape", "numpy.matmul().reshape", "numpy.ones", "numpy.matmul().astype().reshape.reshape", "numpy.matmul().astype().reshape", "numpy.logical_and", "numpy.logical_and", "numpy.logical_and", "cv2.boundingRect", "min", "min", "max", "max", "cv2.warpAffine", "numpy.array", "cv2.invertAffineTransform", "numpy.ones", "numpy.matmul().reshape.reshape", "numpy.matmul().reshape", "pysot.utils.bbox.cxy_wh_2_rect", "numpy.array", "len", "numpy.max", "numpy.min", "numpy.max", "numpy.min", "numpy.max", "max", "max", "min", "min", "numpy.argmax", "numpy.matmul", "numpy.matmul().astype", "numpy.sum", "numpy.sum", "numpy.sum", "numpy.sum", "numpy.matmul", "numpy.matmul", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "methods", ["None"], ["", "def", "_mask_post_processing", "(", "self", ",", "mask", ")", ":", "\n", "        ", "target_mask", "=", "(", "mask", ">", "cfg", ".", "TRACK", ".", "MASK_THERSHOLD", ")", "\n", "target_mask", "=", "target_mask", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "if", "cv2", ".", "__version__", "[", "-", "5", "]", "==", "'4'", ":", "\n", "            ", "contours", ",", "_", "=", "cv2", ".", "findContours", "(", "target_mask", ",", "\n", "cv2", ".", "RETR_EXTERNAL", ",", "cv2", ".", "CHAIN_APPROX_NONE", ")", "\n", "", "else", ":", "\n", "            ", "_", ",", "contours", ",", "_", "=", "cv2", ".", "findContours", "(", "target_mask", ",", "\n", "cv2", ".", "RETR_EXTERNAL", ",", "cv2", ".", "CHAIN_APPROX_NONE", ")", "\n", "", "cnt_area", "=", "[", "cv2", ".", "contourArea", "(", "cnt", ")", "for", "cnt", "in", "contours", "]", "\n", "if", "len", "(", "contours", ")", "!=", "0", "and", "np", ".", "max", "(", "cnt_area", ")", ">", "100", ":", "\n", "            ", "contour", "=", "contours", "[", "np", ".", "argmax", "(", "cnt_area", ")", "]", "\n", "polygon", "=", "contour", ".", "reshape", "(", "-", "1", ",", "2", ")", "\n", "\n", "## the following code estimate the shape angle with ellipse", "\n", "## then fit a axis-aligned bounding box on the rotated image", "\n", "\n", "ellipseBox", "=", "cv2", ".", "fitEllipse", "(", "polygon", ")", "\n", "# get the center of the ellipse and the angle", "\n", "angle", "=", "ellipseBox", "[", "-", "1", "]", "\n", "#print(angle)", "\n", "center", "=", "np", ".", "array", "(", "ellipseBox", "[", "0", "]", ")", "\n", "axes", "=", "np", ".", "array", "(", "ellipseBox", "[", "1", "]", ")", "\n", "\n", "# get the ellipse box", "\n", "ellipseBox", "=", "cv2", ".", "boxPoints", "(", "ellipseBox", ")", "\n", "\n", "#compute the rotation matrix", "\n", "rot_mat", "=", "cv2", ".", "getRotationMatrix2D", "(", "(", "center", "[", "0", "]", ",", "center", "[", "1", "]", ")", ",", "angle", ",", "1.0", ")", "\n", "\n", "# rotate the ellipse box", "\n", "one", "=", "np", ".", "ones", "(", "[", "ellipseBox", ".", "shape", "[", "0", "]", ",", "3", ",", "1", "]", ")", "\n", "one", "[", ":", ",", ":", "2", ",", ":", "]", "=", "ellipseBox", ".", "reshape", "(", "-", "1", ",", "2", ",", "1", ")", "\n", "ellipseBox", "=", "np", ".", "matmul", "(", "rot_mat", ",", "one", ")", ".", "reshape", "(", "-", "1", ",", "2", ")", "\n", "\n", "# to xmin ymin xmax ymax", "\n", "xs", "=", "ellipseBox", "[", ":", ",", "0", "]", "\n", "xmin", ",", "xmax", "=", "np", ".", "min", "(", "xs", ")", ",", "np", ".", "max", "(", "xs", ")", "\n", "ys", "=", "ellipseBox", "[", ":", ",", "1", "]", "\n", "ymin", ",", "ymax", "=", "np", ".", "min", "(", "ys", ")", ",", "np", ".", "max", "(", "ys", ")", "\n", "ellipseBox", "=", "[", "xmin", ",", "ymin", ",", "xmax", ",", "ymax", "]", "\n", "\n", "# rotate the contour", "\n", "one", "=", "np", ".", "ones", "(", "[", "polygon", ".", "shape", "[", "0", "]", ",", "3", ",", "1", "]", ")", "\n", "one", "[", ":", ",", ":", "2", ",", ":", "]", "=", "polygon", ".", "reshape", "(", "-", "1", ",", "2", ",", "1", ")", "\n", "polygon", "=", "np", ".", "matmul", "(", "rot_mat", ",", "one", ")", ".", "astype", "(", "int", ")", ".", "reshape", "(", "-", "1", ",", "2", ")", "\n", "\n", "# remove points outside of the ellipseBox", "\n", "logi", "=", "polygon", "[", ":", ",", "0", "]", "<=", "xmax", "\n", "logi", "=", "np", ".", "logical_and", "(", "polygon", "[", ":", ",", "0", "]", ">=", "xmin", ",", "logi", ")", "\n", "logi", "=", "np", ".", "logical_and", "(", "polygon", "[", ":", ",", "1", "]", ">=", "ymin", ",", "logi", ")", "\n", "logi", "=", "np", ".", "logical_and", "(", "polygon", "[", ":", ",", "1", "]", "<=", "ymax", ",", "logi", ")", "\n", "polygon", "=", "polygon", "[", "logi", ",", ":", "]", "\n", "\n", "x", ",", "y", ",", "w", ",", "h", "=", "cv2", ".", "boundingRect", "(", "polygon", ")", "\n", "bRect", "=", "[", "x", ",", "y", ",", "x", "+", "w", ",", "y", "+", "h", "]", "\n", "\n", "# get the intersection of ellipse box and the rotated box", "\n", "x1", ",", "y1", ",", "x2", ",", "y2", "=", "ellipseBox", "[", "0", "]", ",", "ellipseBox", "[", "1", "]", ",", "ellipseBox", "[", "2", "]", ",", "ellipseBox", "[", "3", "]", "\n", "tx1", ",", "ty1", ",", "tx2", ",", "ty2", "=", "bRect", "[", "0", "]", ",", "bRect", "[", "1", "]", ",", "bRect", "[", "2", "]", ",", "bRect", "[", "3", "]", "\n", "xx1", "=", "min", "(", "max", "(", "tx1", ",", "x1", ",", "0", ")", ",", "target_mask", ".", "shape", "[", "1", "]", "-", "1", ")", "\n", "yy1", "=", "min", "(", "max", "(", "ty1", ",", "y1", ",", "0", ")", ",", "target_mask", ".", "shape", "[", "0", "]", "-", "1", ")", "\n", "xx2", "=", "max", "(", "min", "(", "tx2", ",", "x2", ",", "target_mask", ".", "shape", "[", "1", "]", "-", "1", ")", ",", "0", ")", "\n", "yy2", "=", "max", "(", "min", "(", "ty2", ",", "y2", ",", "target_mask", ".", "shape", "[", "0", "]", "-", "1", ")", ",", "0", ")", "\n", "\n", "rotated_mask", "=", "cv2", ".", "warpAffine", "(", "target_mask", ",", "rot_mat", ",", "(", "target_mask", ".", "shape", "[", "1", "]", ",", "target_mask", ".", "shape", "[", "0", "]", ")", ")", "\n", "\n", "#refinement", "\n", "alpha_factor", "=", "cfg", ".", "TRACK", ".", "FACTOR", "\n", "while", "True", ":", "\n", "                ", "if", "np", ".", "sum", "(", "rotated_mask", "[", "int", "(", "yy1", ")", ":", "int", "(", "yy2", ")", ",", "int", "(", "xx1", ")", "]", ")", "<", "(", "yy2", "-", "yy1", ")", "*", "alpha_factor", ":", "\n", "                    ", "temp", "=", "xx1", "+", "(", "xx2", "-", "xx1", ")", "*", "0.02", "\n", "if", "not", "(", "temp", ">=", "target_mask", ".", "shape", "[", "1", "]", "-", "1", "or", "xx2", "-", "xx1", "<", "1", ")", ":", "\n", "                        ", "xx1", "=", "temp", "\n", "", "else", ":", "\n", "                        ", "break", "\n", "", "", "else", ":", "\n", "                    ", "break", "\n", "", "", "while", "True", ":", "\n", "                ", "if", "np", ".", "sum", "(", "rotated_mask", "[", "int", "(", "yy1", ")", ":", "int", "(", "yy2", ")", ",", "int", "(", "xx2", ")", "]", ")", "<", "(", "yy2", "-", "yy1", ")", "*", "alpha_factor", ":", "\n", "                    ", "temp", "=", "xx2", "-", "(", "xx2", "-", "xx1", ")", "*", "0.02", "\n", "if", "not", "(", "temp", "<=", "0", "or", "xx2", "-", "xx1", "<", "1", ")", ":", "\n", "                        ", "xx2", "=", "temp", "\n", "", "else", ":", "\n", "                        ", "break", "\n", "", "", "else", ":", "\n", "                    ", "break", "\n", "", "", "while", "True", ":", "\n", "                ", "if", "np", ".", "sum", "(", "rotated_mask", "[", "int", "(", "yy1", ")", ",", "int", "(", "xx1", ")", ":", "int", "(", "xx2", ")", "]", ")", "<", "(", "xx2", "-", "xx1", ")", "*", "alpha_factor", ":", "\n", "                    ", "temp", "=", "yy1", "+", "(", "yy2", "-", "yy1", ")", "*", "0.02", "\n", "if", "not", "(", "temp", ">=", "target_mask", ".", "shape", "[", "0", "]", "-", "1", "or", "yy2", "-", "yy1", "<", "1", ")", ":", "\n", "                        ", "yy1", "=", "temp", "\n", "", "else", ":", "\n", "                        ", "break", "\n", "", "", "else", ":", "\n", "                    ", "break", "\n", "", "", "while", "True", ":", "\n", "                ", "if", "np", ".", "sum", "(", "rotated_mask", "[", "int", "(", "yy2", ")", ",", "int", "(", "xx1", ")", ":", "int", "(", "xx2", ")", "]", ")", "<", "(", "xx2", "-", "xx1", ")", "*", "alpha_factor", ":", "\n", "                    ", "temp", "=", "yy2", "-", "(", "yy2", "-", "yy1", ")", "*", "0.02", "\n", "if", "not", "(", "temp", "<=", "0", "or", "yy2", "-", "yy1", "<", "1", ")", ":", "\n", "                        ", "yy2", "=", "temp", "\n", "", "else", ":", "\n", "                        ", "break", "\n", "", "", "else", ":", "\n", "                    ", "break", "\n", "\n", "", "", "prbox", "=", "np", ".", "array", "(", "[", "[", "xx1", ",", "yy1", "]", ",", "[", "xx2", ",", "yy1", "]", ",", "[", "xx2", ",", "yy2", "]", ",", "[", "xx1", ",", "yy2", "]", "]", ")", "\n", "\n", "# inverse of the rotation matrix", "\n", "M_inv", "=", "cv2", ".", "invertAffineTransform", "(", "rot_mat", ")", "\n", "# project the points back to image coordinate", "\n", "one", "=", "np", ".", "ones", "(", "[", "prbox", ".", "shape", "[", "0", "]", ",", "3", ",", "1", "]", ")", "\n", "one", "[", ":", ",", ":", "2", ",", ":", "]", "=", "prbox", ".", "reshape", "(", "-", "1", ",", "2", ",", "1", ")", "\n", "prbox", "=", "np", ".", "matmul", "(", "M_inv", ",", "one", ")", ".", "reshape", "(", "-", "1", ",", "2", ")", "\n", "\n", "rbox_in_img", "=", "prbox", "\n", "", "else", ":", "# empty mask", "\n", "            ", "location", "=", "cxy_wh_2_rect", "(", "self", ".", "center_pos", ",", "self", ".", "size", ")", "\n", "rbox_in_img", "=", "np", ".", "array", "(", "[", "[", "location", "[", "0", "]", ",", "location", "[", "1", "]", "]", ",", "\n", "[", "location", "[", "0", "]", "+", "location", "[", "2", "]", ",", "location", "[", "1", "]", "]", ",", "\n", "[", "location", "[", "0", "]", "+", "location", "[", "2", "]", ",", "location", "[", "1", "]", "+", "location", "[", "3", "]", "]", ",", "\n", "[", "location", "[", "0", "]", ",", "location", "[", "1", "]", "+", "location", "[", "3", "]", "]", "]", ")", "\n", "", "return", "rbox_in_img", "\n", "\n"]], "home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.siammask_e_tracker.SiamMaskETracker.track": [[164, 262], ["numpy.sqrt", "round", "siammask_e_tracker.SiamMaskETracker.get_subwindow", "siammask_e_tracker.SiamMaskETracker.model.track", "siammask_e_tracker.SiamMaskETracker._convert_score", "siammask_e_tracker.SiamMaskETracker._convert_bbox", "siammask_e_tracker.SiamMaskETracker.track.change"], "methods", ["home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.siammask_e_tracker.SiamMaskETracker.track"], ["", "def", "track", "(", "self", ",", "img", ")", ":", "\n", "        ", "\"\"\"\n        args:\n            img(np.ndarray): BGR image\n        return:\n            bbox(list):[x, y, width, height]\n        \"\"\"", "\n", "w_z", "=", "self", ".", "size", "[", "0", "]", "+", "cfg", ".", "TRACK", ".", "CONTEXT_AMOUNT", "*", "np", ".", "sum", "(", "self", ".", "size", ")", "\n", "h_z", "=", "self", ".", "size", "[", "1", "]", "+", "cfg", ".", "TRACK", ".", "CONTEXT_AMOUNT", "*", "np", ".", "sum", "(", "self", ".", "size", ")", "\n", "s_z", "=", "np", ".", "sqrt", "(", "w_z", "*", "h_z", ")", "\n", "scale_z", "=", "cfg", ".", "TRACK", ".", "EXEMPLAR_SIZE", "/", "s_z", "\n", "s_x", "=", "s_z", "*", "(", "cfg", ".", "TRACK", ".", "INSTANCE_SIZE", "/", "cfg", ".", "TRACK", ".", "EXEMPLAR_SIZE", ")", "\n", "s_x", "=", "round", "(", "s_x", ")", "\n", "\n", "x_crop", "=", "self", ".", "get_subwindow", "(", "img", ",", "self", ".", "center_pos", ",", "cfg", ".", "TRACK", ".", "INSTANCE_SIZE", ",", "\n", "s_x", ",", "self", ".", "channel_average", ")", "\n", "crop_box", "=", "[", "self", ".", "center_pos", "[", "0", "]", "-", "s_x", "/", "2", ",", "\n", "self", ".", "center_pos", "[", "1", "]", "-", "s_x", "/", "2", ",", "\n", "s_x", ",", "\n", "s_x", "]", "\n", "\n", "outputs", "=", "self", ".", "model", ".", "track", "(", "x_crop", ")", "\n", "score", "=", "self", ".", "_convert_score", "(", "outputs", "[", "'cls'", "]", ")", "\n", "pred_bbox", "=", "self", ".", "_convert_bbox", "(", "outputs", "[", "'loc'", "]", ",", "self", ".", "anchors", ")", "\n", "\n", "def", "change", "(", "r", ")", ":", "\n", "            ", "return", "np", ".", "maximum", "(", "r", ",", "1.", "/", "r", ")", "\n", "\n", "", "def", "sz", "(", "w", ",", "h", ")", ":", "\n", "            ", "pad", "=", "(", "w", "+", "h", ")", "*", "0.5", "\n", "return", "np", ".", "sqrt", "(", "(", "w", "+", "pad", ")", "*", "(", "h", "+", "pad", ")", ")", "\n", "\n", "# scale penalty", "\n", "", "s_c", "=", "change", "(", "sz", "(", "pred_bbox", "[", "2", ",", ":", "]", ",", "pred_bbox", "[", "3", ",", ":", "]", ")", "/", "\n", "(", "sz", "(", "self", ".", "size", "[", "0", "]", "*", "scale_z", ",", "self", ".", "size", "[", "1", "]", "*", "scale_z", ")", ")", ")", "\n", "# aspect ratio penalty", "\n", "r_c", "=", "change", "(", "(", "self", ".", "size", "[", "0", "]", "/", "self", ".", "size", "[", "1", "]", ")", "/", "\n", "(", "pred_bbox", "[", "2", ",", ":", "]", "/", "pred_bbox", "[", "3", ",", ":", "]", ")", ")", "\n", "penalty", "=", "np", ".", "exp", "(", "-", "(", "r_c", "*", "s_c", "-", "1", ")", "*", "cfg", ".", "TRACK", ".", "PENALTY_K", ")", "\n", "pscore", "=", "penalty", "*", "score", "\n", "\n", "# window penalty ", "\n", "pscore", "=", "pscore", "*", "(", "1", "-", "cfg", ".", "TRACK", ".", "WINDOW_INFLUENCE", ")", "+", "self", ".", "window", "*", "cfg", ".", "TRACK", ".", "WINDOW_INFLUENCE", "\n", "best_idx", "=", "np", ".", "argmax", "(", "pscore", ")", "\n", "\n", "bbox", "=", "pred_bbox", "[", ":", ",", "best_idx", "]", "/", "scale_z", "\n", "lr", "=", "penalty", "[", "best_idx", "]", "*", "score", "[", "best_idx", "]", "*", "cfg", ".", "TRACK", ".", "LR", "\n", "\n", "cx", "=", "bbox", "[", "0", "]", "+", "self", ".", "center_pos", "[", "0", "]", "\n", "cy", "=", "bbox", "[", "1", "]", "+", "self", ".", "center_pos", "[", "1", "]", "\n", "\n", "# smooth bbox", "\n", "width", "=", "self", ".", "size", "[", "0", "]", "*", "(", "1", "-", "lr", ")", "+", "bbox", "[", "2", "]", "*", "lr", "\n", "height", "=", "self", ".", "size", "[", "1", "]", "*", "(", "1", "-", "lr", ")", "+", "bbox", "[", "3", "]", "*", "lr", "\n", "\n", "# clip boundary", "\n", "cx", ",", "cy", ",", "width", ",", "height", "=", "self", ".", "_bbox_clip", "(", "cx", ",", "cy", ",", "width", ",", "height", ",", "img", ".", "shape", "[", ":", "2", "]", ")", "\n", "\n", "# udpate state", "\n", "self", ".", "center_pos", "=", "np", ".", "array", "(", "[", "cx", ",", "cy", "]", ")", "\n", "self", ".", "size", "=", "np", ".", "array", "(", "[", "width", ",", "height", "]", ")", "\n", "\n", "bbox", "=", "[", "cx", "-", "width", "/", "2", ",", "\n", "cy", "-", "height", "/", "2", ",", "\n", "width", ",", "\n", "height", "]", "\n", "best_score", "=", "score", "[", "best_idx", "]", "\n", "\n", "# processing mask", "\n", "pos", "=", "np", ".", "unravel_index", "(", "best_idx", ",", "(", "5", ",", "self", ".", "score_size", ",", "self", ".", "score_size", ")", ")", "\n", "delta_x", ",", "delta_y", "=", "pos", "[", "2", "]", ",", "pos", "[", "1", "]", "\n", "\n", "mask", "=", "self", ".", "model", ".", "mask_refine", "(", "(", "delta_y", ",", "delta_x", ")", ")", ".", "sigmoid", "(", ")", ".", "squeeze", "(", ")", "\n", "out_size", "=", "cfg", ".", "TRACK", ".", "MASK_OUTPUT_SIZE", "\n", "mask", "=", "mask", ".", "view", "(", "out_size", ",", "out_size", ")", ".", "cpu", "(", ")", ".", "data", ".", "numpy", "(", ")", "\n", "\n", "s", "=", "crop_box", "[", "2", "]", "/", "cfg", ".", "TRACK", ".", "INSTANCE_SIZE", "\n", "base_size", "=", "cfg", ".", "TRACK", ".", "BASE_SIZE", "\n", "stride", "=", "cfg", ".", "ANCHOR", ".", "STRIDE", "\n", "sub_box", "=", "[", "crop_box", "[", "0", "]", "+", "(", "delta_x", "-", "base_size", "/", "2", ")", "*", "stride", "*", "s", ",", "\n", "crop_box", "[", "1", "]", "+", "(", "delta_y", "-", "base_size", "/", "2", ")", "*", "stride", "*", "s", ",", "\n", "s", "*", "cfg", ".", "TRACK", ".", "EXEMPLAR_SIZE", ",", "\n", "s", "*", "cfg", ".", "TRACK", ".", "EXEMPLAR_SIZE", "]", "\n", "s", "=", "out_size", "/", "sub_box", "[", "2", "]", "\n", "\n", "im_h", ",", "im_w", "=", "img", ".", "shape", "[", ":", "2", "]", "\n", "back_box", "=", "[", "-", "sub_box", "[", "0", "]", "*", "s", ",", "-", "sub_box", "[", "1", "]", "*", "s", ",", "im_w", "*", "s", ",", "im_h", "*", "s", "]", "\n", "mask_in_img", "=", "self", ".", "_crop_back", "(", "mask", ",", "back_box", ",", "(", "im_w", ",", "im_h", ")", ")", "\n", "\n", "polygon", "=", "self", ".", "_mask_post_processing", "(", "mask_in_img", ")", "\n", "polygon", "=", "polygon", ".", "flatten", "(", ")", ".", "tolist", "(", ")", "\n", "\n", "return", "{", "\n", "'bbox'", ":", "bbox", ",", "\n", "'best_score'", ":", "best_score", ",", "\n", "'mask'", ":", "mask_in_img", ",", "\n", "'polygon'", ":", "polygon", "\n", "}", "\n"]], "home.repos.pwc.inspect_result.baoxinchen_siammask_e.tracker.tracker_builder.build_tracker": [[22, 24], ["None"], "function", ["None"], ["def", "build_tracker", "(", "model", ")", ":", "\n", "    ", "return", "TRACKS", "[", "cfg", ".", "TRACK", ".", "TYPE", "]", "(", "model", ")", "\n", "", ""]]}