{"home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.datasets.make_dataset_aligned.get_file_paths": [[6, 18], ["os.walk", "sorted", "os.path.abspath", "os.path.join", "filename.endswith", "filename.endswith", "image_file_paths.append"], "function", ["None"], ["def", "get_file_paths", "(", "folder", ")", ":", "\n", "    ", "image_file_paths", "=", "[", "]", "\n", "for", "root", ",", "dirs", ",", "filenames", "in", "os", ".", "walk", "(", "folder", ")", ":", "\n", "        ", "filenames", "=", "sorted", "(", "filenames", ")", "\n", "for", "filename", "in", "filenames", ":", "\n", "            ", "input_path", "=", "os", ".", "path", ".", "abspath", "(", "root", ")", "\n", "file_path", "=", "os", ".", "path", ".", "join", "(", "input_path", ",", "filename", ")", "\n", "if", "filename", ".", "endswith", "(", "'.png'", ")", "or", "filename", ".", "endswith", "(", "'.jpg'", ")", ":", "\n", "                ", "image_file_paths", ".", "append", "(", "file_path", ")", "\n", "\n", "", "", "break", "# prevent descending into subfolders", "\n", "", "return", "image_file_paths", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.datasets.make_dataset_aligned.align_images": [[20, 33], ["range", "os.path.exists", "os.makedirs", "len", "PIL.Image.open", "PIL.Image.open", "PIL.Image.new", "Image.new.paste", "Image.new.paste", "Image.new.save", "os.path.join"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.save"], ["", "def", "align_images", "(", "a_file_paths", ",", "b_file_paths", ",", "target_path", ")", ":", "\n", "    ", "if", "not", "os", ".", "path", ".", "exists", "(", "target_path", ")", ":", "\n", "        ", "os", ".", "makedirs", "(", "target_path", ")", "\n", "\n", "", "for", "i", "in", "range", "(", "len", "(", "a_file_paths", ")", ")", ":", "\n", "        ", "img_a", "=", "Image", ".", "open", "(", "a_file_paths", "[", "i", "]", ")", "\n", "img_b", "=", "Image", ".", "open", "(", "b_file_paths", "[", "i", "]", ")", "\n", "assert", "(", "img_a", ".", "size", "==", "img_b", ".", "size", ")", "\n", "\n", "aligned_image", "=", "Image", ".", "new", "(", "\"RGB\"", ",", "(", "img_a", ".", "size", "[", "0", "]", "*", "2", ",", "img_a", ".", "size", "[", "1", "]", ")", ")", "\n", "aligned_image", ".", "paste", "(", "img_a", ",", "(", "0", ",", "0", ")", ")", "\n", "aligned_image", ".", "paste", "(", "img_b", ",", "(", "img_a", ".", "size", "[", "0", "]", ",", "0", ")", ")", "\n", "aligned_image", ".", "save", "(", "os", ".", "path", ".", "join", "(", "target_path", ",", "'{:04d}.jpg'", ".", "format", "(", "i", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.edges.batch_hed.parse_args": [[20, 31], ["argparse.ArgumentParser", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.parse_args"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.edges.batch_hed.parse_args"], ["def", "parse_args", "(", ")", ":", "\n", "    ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "description", "=", "'batch proccesing: photos->edges'", ")", "\n", "parser", ".", "add_argument", "(", "'--caffe_root'", ",", "dest", "=", "'caffe_root'", ",", "help", "=", "'caffe root'", ",", "default", "=", "'../../'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--caffemodel'", ",", "dest", "=", "'caffemodel'", ",", "help", "=", "'caffemodel'", ",", "default", "=", "'./hed_pretrained_bsds.caffemodel'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--prototxt'", ",", "dest", "=", "'prototxt'", ",", "help", "=", "'caffe prototxt file'", ",", "default", "=", "'./deploy.prototxt'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--images_dir'", ",", "dest", "=", "'images_dir'", ",", "help", "=", "'directory to store input photos'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--hed_mat_dir'", ",", "dest", "=", "'hed_mat_dir'", ",", "help", "=", "'directory to store output hed edges in mat file'", ",", "type", "=", "str", ")", "\n", "parser", ".", "add_argument", "(", "'--border'", ",", "dest", "=", "'border'", ",", "help", "=", "'padding border'", ",", "type", "=", "int", ",", "default", "=", "128", ")", "\n", "parser", ".", "add_argument", "(", "'--gpu_id'", ",", "dest", "=", "'gpu_id'", ",", "help", "=", "'gpu id'", ",", "type", "=", "int", ",", "default", "=", "1", ")", "\n", "args", "=", "parser", ".", "parse_args", "(", ")", "\n", "return", "args", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.__init__": [[7, 21], ["os.path.join", "dominate.document", "os.path.exists", "os.makedirs", "os.path.exists", "os.makedirs", "meta", "str"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "web_dir", ",", "title", ",", "reflesh", "=", "0", ")", ":", "\n", "        ", "self", ".", "title", "=", "title", "\n", "self", ".", "web_dir", "=", "web_dir", "\n", "self", ".", "img_dir", "=", "os", ".", "path", ".", "join", "(", "self", ".", "web_dir", ",", "'images'", ")", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "self", ".", "web_dir", ")", ":", "\n", "            ", "os", ".", "makedirs", "(", "self", ".", "web_dir", ")", "\n", "", "if", "not", "os", ".", "path", ".", "exists", "(", "self", ".", "img_dir", ")", ":", "\n", "            ", "os", ".", "makedirs", "(", "self", ".", "img_dir", ")", "\n", "# print(self.img_dir)", "\n", "\n", "", "self", ".", "doc", "=", "dominate", ".", "document", "(", "title", "=", "title", ")", "\n", "if", "reflesh", ">", "0", ":", "\n", "            ", "with", "self", ".", "doc", ".", "head", ":", "\n", "                ", "meta", "(", "http_equiv", "=", "\"reflesh\"", ",", "content", "=", "str", "(", "reflesh", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.get_image_dir": [[22, 24], ["None"], "methods", ["None"], ["", "", "", "def", "get_image_dir", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "img_dir", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_header": [[25, 28], ["h3"], "methods", ["None"], ["", "def", "add_header", "(", "self", ",", "str", ")", ":", "\n", "        ", "with", "self", ".", "doc", ":", "\n", "            ", "h3", "(", "str", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_table": [[29, 32], ["table", "html.HTML.doc.add"], "methods", ["None"], ["", "", "def", "add_table", "(", "self", ",", "border", "=", "1", ")", ":", "\n", "        ", "self", ".", "t", "=", "table", "(", "border", "=", "border", ",", "style", "=", "\"table-layout: fixed;\"", ")", "\n", "self", ".", "doc", ".", "add", "(", "self", ".", "t", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_images": [[33, 44], ["html.HTML.add_table", "tr", "zip", "td", "p", "br", "p", "a", "img", "os.path.join", "os.path.join"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_table"], ["", "def", "add_images", "(", "self", ",", "ims", ",", "txts", ",", "links", ",", "width", "=", "400", ")", ":", "\n", "        ", "self", ".", "add_table", "(", ")", "\n", "with", "self", ".", "t", ":", "\n", "            ", "with", "tr", "(", ")", ":", "\n", "                ", "for", "im", ",", "txt", ",", "link", "in", "zip", "(", "ims", ",", "txts", ",", "links", ")", ":", "\n", "                    ", "with", "td", "(", "style", "=", "\"word-wrap: break-word;\"", ",", "halign", "=", "\"center\"", ",", "valign", "=", "\"top\"", ")", ":", "\n", "                        ", "with", "p", "(", ")", ":", "\n", "                            ", "with", "a", "(", "href", "=", "os", ".", "path", ".", "join", "(", "'images'", ",", "link", ")", ")", ":", "\n", "                                ", "img", "(", "style", "=", "\"width:%dpx\"", "%", "width", ",", "src", "=", "os", ".", "path", ".", "join", "(", "'images'", ",", "im", ")", ")", "\n", "", "br", "(", ")", "\n", "p", "(", "txt", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.save": [[45, 50], ["open", "open.write", "open.close", "html.HTML.doc.render"], "methods", ["None"], ["", "", "", "", "", "", "def", "save", "(", "self", ")", ":", "\n", "        ", "html_file", "=", "'%s/index.html'", "%", "self", ".", "web_dir", "\n", "f", "=", "open", "(", "html_file", ",", "'wt'", ")", "\n", "f", ".", "write", "(", "self", ".", "doc", ".", "render", "(", ")", ")", "\n", "f", ".", "close", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.xdog_filter.xdog": [[9, 33], ["range", "xdog_filter.dog", "len", "range", "len", "numpy.tanh"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.xdog_filter.dog"], ["def", "xdog", "(", "image", ",", "epsilon", "=", "0.01", ")", ":", "\n", "    ", "\"\"\"\n    Computes the eXtended Difference of Gaussians (XDoG) for a given image. This\n    is done by taking the regular Difference of Gaussians, thresholding it\n    at some value, and applying the hypertangent function the the unthresholded\n    values.\n    image: an n x m single channel matrix.\n    epsilon: the offset value when computing the hypertangent.\n    returns: an n x m single channel matrix representing the XDoG.\n    \"\"\"", "\n", "phi", "=", "10", "\n", "\n", "difference", "=", "dog", "(", "image", ",", "200", ",", "0.98", ")", "/", "255", "\n", "diff", "=", "difference", "*", "image", "\n", "\n", "for", "i", "in", "range", "(", "0", ",", "len", "(", "difference", ")", ")", ":", "\n", "        ", "for", "j", "in", "range", "(", "0", ",", "len", "(", "difference", "[", "0", "]", ")", ")", ":", "\n", "            ", "if", "difference", "[", "i", "]", "[", "j", "]", ">=", "epsilon", ":", "\n", "                ", "difference", "[", "i", "]", "[", "j", "]", "=", "1", "\n", "", "else", ":", "\n", "                ", "ht", "=", "np", ".", "tanh", "(", "phi", "*", "(", "difference", "[", "i", "]", "[", "j", "]", "-", "epsilon", ")", ")", "\n", "difference", "[", "i", "]", "[", "j", "]", "=", "1", "+", "ht", "\n", "\n", "", "", "", "return", "difference", "*", "255", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.xdog_filter.dog": [[35, 54], ["scipy.ndimage.filters.gaussian_filter", "scipy.ndimage.filters.gaussian_filter"], "function", ["None"], ["", "def", "dog", "(", "image", ",", "k", "=", "200", ",", "gamma", "=", "1", ")", ":", "\n", "    ", "\"\"\"\n    Computes the Difference of Gaussians (DoG) for a given image. Returns an image\n    that results from computing the DoG.\n    image: an n x m array for which the DoG is computed.\n    k: the multiplier the the second Gaussian sigma value.\n    gamma: the multiplier for the second Gaussian result.\n\n    return: an n x m array representing the DoG\n    \"\"\"", "\n", "\n", "s1", "=", "0.5", "\n", "s2", "=", "s1", "*", "k", "\n", "\n", "gauss1", "=", "gaussian_filter", "(", "image", ",", "s1", ")", "\n", "gauss2", "=", "gamma", "*", "gaussian_filter", "(", "image", ",", "s2", ")", "\n", "\n", "differenceGauss", "=", "gauss1", "-", "gauss2", "\n", "return", "differenceGauss", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.__init__": [[6, 11], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "pool_size", ")", ":", "\n", "        ", "self", ".", "pool_size", "=", "pool_size", "\n", "if", "self", ".", "pool_size", ">", "0", ":", "\n", "            ", "self", ".", "num_imgs", "=", "0", "\n", "self", ".", "images", "=", "[", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query": [[12, 33], ["torch.cat", "torch.unsqueeze", "image_pool.ImagePool.images.append", "torch.cat.append", "random.uniform", "random.randint", "image_pool.ImagePool.images[].clone", "torch.cat.append", "torch.cat.append"], "methods", ["None"], ["", "", "def", "query", "(", "self", ",", "images", ")", ":", "\n", "        ", "if", "self", ".", "pool_size", "==", "0", ":", "\n", "            ", "return", "images", "\n", "", "return_images", "=", "[", "]", "\n", "for", "image", "in", "images", ":", "\n", "            ", "image", "=", "torch", ".", "unsqueeze", "(", "image", ".", "data", ",", "0", ")", "\n", "if", "self", ".", "num_imgs", "<", "self", ".", "pool_size", ":", "\n", "                ", "self", ".", "num_imgs", "=", "self", ".", "num_imgs", "+", "1", "\n", "self", ".", "images", ".", "append", "(", "image", ")", "\n", "return_images", ".", "append", "(", "image", ")", "\n", "", "else", ":", "\n", "                ", "p", "=", "random", ".", "uniform", "(", "0", ",", "1", ")", "\n", "if", "p", ">", "0.5", ":", "\n", "                    ", "random_id", "=", "random", ".", "randint", "(", "0", ",", "self", ".", "pool_size", "-", "1", ")", "# randint is inclusive", "\n", "tmp", "=", "self", ".", "images", "[", "random_id", "]", ".", "clone", "(", ")", "\n", "self", ".", "images", "[", "random_id", "]", "=", "image", "\n", "return_images", ".", "append", "(", "tmp", ")", "\n", "", "else", ":", "\n", "                    ", "return_images", ".", "append", "(", "image", ")", "\n", "", "", "", "return_images", "=", "torch", ".", "cat", "(", "return_images", ",", "0", ")", "\n", "return", "return_images", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.dog_filter.hypotenuse": [[9, 13], ["math.pow", "math.pow", "numpy.sqrt"], "function", ["None"], ["def", "hypotenuse", "(", "x1", ",", "y1", ",", "x2", ",", "y2", ")", ":", "\n", "    ", "xSquare", "=", "math", ".", "pow", "(", "x1", "-", "x2", ",", "2", ")", "\n", "ySquare", "=", "math", ".", "pow", "(", "y1", "-", "y2", ",", "2", ")", "\n", "return", "np", ".", "sqrt", "(", "xSquare", "+", "ySquare", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.dog_filter.generateGuassianKernel2": [[15, 32], ["numpy.zeros", "range", "range", "np.zeros.sum", "dog_filter.hypotenuse", "numpy.exp", "numpy.sqrt", "math.pow"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.dog_filter.hypotenuse"], ["", "def", "generateGuassianKernel2", "(", "dimension", "=", "9", ",", "sigma", "=", "3.0", ")", ":", "\n", "\n", "    ", "kernel", "=", "np", ".", "zeros", "(", "(", "dimension", ",", "dimension", ")", ",", "dtype", "=", "np", ".", "float32", ")", "\n", "twoSigmaSquare", "=", "2", "*", "sigma", "*", "sigma", "\n", "centre", "=", "(", "dimension", "-", "1", ")", "/", "2", "\n", "\n", "for", "i", "in", "range", "(", "dimension", ")", ":", "\n", "        ", "for", "j", "in", "range", "(", "dimension", ")", ":", "\n", "            ", "distance", "=", "hypotenuse", "(", "i", ",", "j", ",", "centre", ",", "centre", ")", "\n", "\n", "gaussian", "=", "(", "1", "/", "np", ".", "sqrt", "(", "\n", "math", ".", "pi", "*", "twoSigmaSquare", "\n", ")", ")", "*", "np", ".", "exp", "(", "(", "-", "1", ")", "*", "(", "math", ".", "pow", "(", "distance", ",", "2", ")", "/", "twoSigmaSquare", ")", ")", "\n", "\n", "kernel", "[", "i", ",", "j", "]", "=", "gaussian", "\n", "\n", "", "", "return", "kernel", "/", "kernel", ".", "sum", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.dog_filter.calculateKernelSize": [[34, 36], ["int", "numpy.maximum", "numpy.round"], "function", ["None"], ["", "def", "calculateKernelSize", "(", "sigma", ")", ":", "\n", "  ", "return", "int", "(", "np", ".", "maximum", "(", "np", ".", "round", "(", "sigma", "*", "3", ")", "*", "2", "+", "1", ",", "3", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.__init__": [[63, 84], ["os.path.join", "visdom.Visdom", "os.path.join", "os.path.join", "print", "util.mkdirs", "open", "time.strftime", "log_file.write"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.mkdirs"], ["    ", "def", "__init__", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "display_id", "=", "opt", ".", "display_id", "\n", "self", ".", "use_html", "=", "opt", ".", "isTrain", "and", "not", "opt", ".", "no_html", "\n", "self", ".", "win_size", "=", "opt", ".", "display_winsize", "\n", "self", ".", "name", "=", "opt", ".", "name", "\n", "self", ".", "opt", "=", "opt", "\n", "self", ".", "saved", "=", "False", "\n", "if", "self", ".", "display_id", ">", "0", ":", "\n", "            ", "import", "visdom", "\n", "self", ".", "ncols", "=", "opt", ".", "display_ncols", "\n", "self", ".", "vis", "=", "visdom", ".", "Visdom", "(", "server", "=", "opt", ".", "display_server", ",", "port", "=", "opt", ".", "display_port", ",", "env", "=", "opt", ".", "display_env", ",", "raise_exceptions", "=", "True", ")", "\n", "\n", "", "if", "self", ".", "use_html", ":", "\n", "            ", "self", ".", "web_dir", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "checkpoints_dir", ",", "opt", ".", "name", ",", "'web'", ")", "\n", "self", ".", "img_dir", "=", "os", ".", "path", ".", "join", "(", "self", ".", "web_dir", ",", "'images'", ")", "\n", "print", "(", "'create web directory %s...'", "%", "self", ".", "web_dir", ")", "\n", "util", ".", "mkdirs", "(", "[", "self", ".", "web_dir", ",", "self", ".", "img_dir", "]", ")", "\n", "", "self", ".", "log_name", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "checkpoints_dir", ",", "opt", ".", "name", ",", "'loss_log.txt'", ")", "\n", "with", "open", "(", "self", ".", "log_name", ",", "\"a\"", ")", "as", "log_file", ":", "\n", "            ", "now", "=", "time", ".", "strftime", "(", "\"%c\"", ")", "\n", "log_file", ".", "write", "(", "'================ Training Loss (%s) ================\\n'", "%", "now", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.reset": [[85, 87], ["None"], "methods", ["None"], ["", "", "def", "reset", "(", "self", ")", ":", "\n", "        ", "self", ".", "saved", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.throw_visdom_connection_error": [[88, 91], ["print", "exit"], "methods", ["None"], ["", "def", "throw_visdom_connection_error", "(", "self", ")", ":", "\n", "        ", "print", "(", "'\\n\\nCould not connect to Visdom server (https://github.com/facebookresearch/visdom) for displaying training progress.\\nYou can suppress connection to Visdom using the option --display_id -1. To install visdom, run \\n$ pip install visdom\\n, and start the server by \\n$ python -m visdom.server.\\n\\n'", ")", "\n", "exit", "(", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.display_current_results": [[93, 161], ["visuals.items", "html.HTML", "range", "html.HTML.save", "min", "visuals.items", "visuals.items", "util.tensor2im", "os.path.join", "util.save_image", "html.HTML.add_header", "visuals.items", "html.HTML.add_images", "len", "util.tensor2im", "images.append", "numpy.ones_like", "images.append", "visualizer.Visualizer.vis.images", "visualizer.Visualizer.vis.text", "util.tensor2im", "visualizer.Visualizer.vis.image", "util.tensor2im", "ims.append", "txts.append", "links.append", "next", "util.tensor2im.transpose", "util.tensor2im.transpose", "visualizer.Visualizer.throw_visdom_connection_error", "util.tensor2im.transpose", "iter", "dict", "dict", "dict", "visuals.values"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.save", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.tensor2im", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.save_image", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_header", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_images", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.tensor2im", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.tensor2im", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.tensor2im", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.throw_visdom_connection_error"], ["", "def", "display_current_results", "(", "self", ",", "visuals", ",", "epoch", ",", "save_result", ")", ":", "\n", "        ", "if", "self", ".", "display_id", ">", "0", ":", "# show images in the browser", "\n", "            ", "ncols", "=", "self", ".", "ncols", "\n", "if", "ncols", ">", "0", ":", "\n", "                ", "ncols", "=", "min", "(", "ncols", ",", "len", "(", "visuals", ")", ")", "\n", "h", ",", "w", "=", "next", "(", "iter", "(", "visuals", ".", "values", "(", ")", ")", ")", ".", "shape", "[", ":", "2", "]", "\n", "table_css", "=", "\"\"\"<style>\n                        table {border-collapse: separate; border-spacing:4px; white-space:nowrap; text-align:center}\n                        table td {width: %dpx; height: %dpx; padding: 4px; outline: 4px solid black}\n                        </style>\"\"\"", "%", "(", "w", ",", "h", ")", "\n", "title", "=", "self", ".", "name", "\n", "label_html", "=", "''", "\n", "label_html_row", "=", "''", "\n", "images", "=", "[", "]", "\n", "idx", "=", "0", "\n", "for", "label", ",", "image", "in", "visuals", ".", "items", "(", ")", ":", "\n", "                    ", "image_numpy", "=", "util", ".", "tensor2im", "(", "image", ")", "\n", "label_html_row", "+=", "'<td>%s</td>'", "%", "label", "\n", "images", ".", "append", "(", "image_numpy", ".", "transpose", "(", "[", "2", ",", "0", ",", "1", "]", ")", ")", "\n", "idx", "+=", "1", "\n", "if", "idx", "%", "ncols", "==", "0", ":", "\n", "                        ", "label_html", "+=", "'<tr>%s</tr>'", "%", "label_html_row", "\n", "label_html_row", "=", "''", "\n", "", "", "white_image", "=", "np", ".", "ones_like", "(", "image_numpy", ".", "transpose", "(", "[", "2", ",", "0", ",", "1", "]", ")", ")", "*", "255", "\n", "while", "idx", "%", "ncols", "!=", "0", ":", "\n", "                    ", "images", ".", "append", "(", "white_image", ")", "\n", "label_html_row", "+=", "'<td></td>'", "\n", "idx", "+=", "1", "\n", "", "if", "label_html_row", "!=", "''", ":", "\n", "                    ", "label_html", "+=", "'<tr>%s</tr>'", "%", "label_html_row", "\n", "# pane col = image row", "\n", "", "try", ":", "\n", "                    ", "self", ".", "vis", ".", "images", "(", "images", ",", "nrow", "=", "ncols", ",", "win", "=", "self", ".", "display_id", "+", "1", ",", "\n", "padding", "=", "2", ",", "opts", "=", "dict", "(", "title", "=", "title", "+", "' images'", ")", ")", "\n", "label_html", "=", "'<table>%s</table>'", "%", "label_html", "\n", "self", ".", "vis", ".", "text", "(", "table_css", "+", "label_html", ",", "win", "=", "self", ".", "display_id", "+", "2", ",", "\n", "opts", "=", "dict", "(", "title", "=", "title", "+", "' labels'", ")", ")", "\n", "", "except", "VisdomExceptionBase", ":", "\n", "                    ", "self", ".", "throw_visdom_connection_error", "(", ")", "\n", "\n", "", "", "else", ":", "\n", "                ", "idx", "=", "1", "\n", "for", "label", ",", "image", "in", "visuals", ".", "items", "(", ")", ":", "\n", "                    ", "image_numpy", "=", "util", ".", "tensor2im", "(", "image", ")", "\n", "self", ".", "vis", ".", "image", "(", "image_numpy", ".", "transpose", "(", "[", "2", ",", "0", ",", "1", "]", ")", ",", "opts", "=", "dict", "(", "title", "=", "label", ")", ",", "\n", "win", "=", "self", ".", "display_id", "+", "idx", ")", "\n", "idx", "+=", "1", "\n", "\n", "", "", "", "if", "self", ".", "use_html", "and", "(", "save_result", "or", "not", "self", ".", "saved", ")", ":", "# save images to a html file", "\n", "            ", "self", ".", "saved", "=", "True", "\n", "for", "label", ",", "image", "in", "visuals", ".", "items", "(", ")", ":", "\n", "                ", "image_numpy", "=", "util", ".", "tensor2im", "(", "image", ")", "\n", "img_path", "=", "os", ".", "path", ".", "join", "(", "self", ".", "img_dir", ",", "'epoch%.3d_%s.png'", "%", "(", "epoch", ",", "label", ")", ")", "\n", "util", ".", "save_image", "(", "image_numpy", ",", "img_path", ")", "\n", "# update website", "\n", "", "webpage", "=", "html", ".", "HTML", "(", "self", ".", "web_dir", ",", "'Experiment name = %s'", "%", "self", ".", "name", ",", "reflesh", "=", "1", ")", "\n", "for", "n", "in", "range", "(", "epoch", ",", "0", ",", "-", "1", ")", ":", "\n", "                ", "webpage", ".", "add_header", "(", "'epoch [%d]'", "%", "n", ")", "\n", "ims", ",", "txts", ",", "links", "=", "[", "]", ",", "[", "]", ",", "[", "]", "\n", "\n", "for", "label", ",", "image_numpy", "in", "visuals", ".", "items", "(", ")", ":", "\n", "                    ", "image_numpy", "=", "util", ".", "tensor2im", "(", "image", ")", "\n", "img_path", "=", "'epoch%.3d_%s.png'", "%", "(", "n", ",", "label", ")", "\n", "ims", ".", "append", "(", "img_path", ")", "\n", "txts", ".", "append", "(", "label", ")", "\n", "links", ".", "append", "(", "img_path", ")", "\n", "", "webpage", ".", "add_images", "(", "ims", ",", "txts", ",", "links", ",", "width", "=", "self", ".", "win_size", ")", "\n", "", "webpage", ".", "save", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.plot_current_losses": [[163, 180], ["visualizer.Visualizer.plot_data[].append", "visualizer.Visualizer.plot_data[].append", "hasattr", "visualizer.Visualizer.vis.line", "list", "visualizer.Visualizer.throw_visdom_connection_error", "losses.keys", "numpy.stack", "numpy.array", "len", "numpy.array"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.throw_visdom_connection_error"], ["", "", "def", "plot_current_losses", "(", "self", ",", "epoch", ",", "counter_ratio", ",", "opt", ",", "losses", ")", ":", "\n", "        ", "if", "not", "hasattr", "(", "self", ",", "'plot_data'", ")", ":", "\n", "            ", "self", ".", "plot_data", "=", "{", "'X'", ":", "[", "]", ",", "'Y'", ":", "[", "]", ",", "'legend'", ":", "list", "(", "losses", ".", "keys", "(", ")", ")", "}", "\n", "", "self", ".", "plot_data", "[", "'X'", "]", ".", "append", "(", "epoch", "+", "counter_ratio", ")", "\n", "self", ".", "plot_data", "[", "'Y'", "]", ".", "append", "(", "[", "losses", "[", "k", "]", "for", "k", "in", "self", ".", "plot_data", "[", "'legend'", "]", "]", ")", "\n", "try", ":", "\n", "            ", "self", ".", "vis", ".", "line", "(", "\n", "X", "=", "np", ".", "stack", "(", "[", "np", ".", "array", "(", "self", ".", "plot_data", "[", "'X'", "]", ")", "]", "*", "len", "(", "self", ".", "plot_data", "[", "'legend'", "]", ")", ",", "1", ")", ",", "\n", "Y", "=", "np", ".", "array", "(", "self", ".", "plot_data", "[", "'Y'", "]", ")", ",", "\n", "opts", "=", "{", "\n", "'title'", ":", "self", ".", "name", "+", "' loss over time'", ",", "\n", "'legend'", ":", "self", ".", "plot_data", "[", "'legend'", "]", ",", "\n", "'xlabel'", ":", "'epoch'", ",", "\n", "'ylabel'", ":", "'loss'", "}", ",", "\n", "win", "=", "self", ".", "display_id", ")", "\n", "", "except", "VisdomExceptionBase", ":", "\n", "            ", "self", ".", "throw_visdom_connection_error", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.Visualizer.print_current_losses": [[182, 190], ["losses.items", "print", "open", "log_file.write"], "methods", ["None"], ["", "", "def", "print_current_losses", "(", "self", ",", "epoch", ",", "i", ",", "losses", ",", "t", ",", "t_data", ")", ":", "\n", "        ", "message", "=", "'(epoch: %d, iters: %d, time: %.3f, data: %.3f) '", "%", "(", "epoch", ",", "i", ",", "t", ",", "t_data", ")", "\n", "for", "k", ",", "v", "in", "losses", ".", "items", "(", ")", ":", "\n", "            ", "message", "+=", "'%s: %.3f '", "%", "(", "k", ",", "v", ")", "\n", "\n", "", "print", "(", "message", ")", "\n", "with", "open", "(", "self", ".", "log_name", ",", "\"a\"", ")", "as", "log_file", ":", "\n", "            ", "log_file", ".", "write", "(", "'%s\\n'", "%", "message", ")", "\n", "", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.visualizer.save_images": [[17, 60], ["webpage.get_image_dir", "ntpath.basename", "webpage.add_header", "visuals.items", "webpage.add_images", "os.path.splitext", "os.path.exists", "os.makedirs", "util.tensor2im", "os.path.join", "util.save_image", "label.startswith", "ims.append", "txts.append", "links.append", "os.path.join", "os.path.join", "skimage.transform.resize", "skimage.transform.resize", "skimage.transform.resize", "os.path.join", "util.save_image", "os.path.splitext", "int", "int"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.get_image_dir", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_header", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.add_images", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.tensor2im", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.save_image", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.save_image"], ["", "def", "save_images", "(", "webpage", ",", "visuals", ",", "image_path", ",", "aspect_ratio", "=", "1.0", ",", "width", "=", "256", ",", "f_name", "=", "\"\"", ",", "citysc", "=", "False", ")", ":", "\n", "    ", "image_dir", "=", "webpage", ".", "get_image_dir", "(", ")", "\n", "short_path", "=", "ntpath", ".", "basename", "(", "image_path", "[", "0", "]", ")", "\n", "name", "=", "os", ".", "path", ".", "splitext", "(", "short_path", ")", "[", "0", "]", "\n", "# content ve stil testlerini yapmak icin ben ekledim!!!", "\n", "# aaa = os.path.basename(os.path.dirname(image_path[0]))", "\n", "aaa", "=", "'fake'", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "os", ".", "path", ".", "join", "(", "image_dir", ",", "aaa", ")", ")", ":", "\n", "        ", "os", ".", "makedirs", "(", "os", ".", "path", ".", "join", "(", "image_dir", ",", "aaa", ")", ")", "\n", "\n", "", "webpage", ".", "add_header", "(", "name", ")", "\n", "ims", ",", "txts", ",", "links", "=", "[", "]", ",", "[", "]", ",", "[", "]", "\n", "\n", "for", "label", ",", "im_data", "in", "visuals", ".", "items", "(", ")", ":", "\n", "        ", "im", "=", "util", ".", "tensor2im", "(", "im_data", ")", "\n", "# if label == \"real_A\":", "\n", "#     continue", "\n", "\n", "# image_name = '%s.png' % (name)", "\n", "# image_name = f_name # cityscape icin eklendi", "\n", "if", "citysc", ":", "\n", "            ", "im", "=", "resize", "(", "im", ",", "(", "1024", ",", "2048", ")", ")", "# cityscape icin eklendi", "\n", "image_name", "=", "os", ".", "path", ".", "splitext", "(", "f_name", ")", "[", "0", "]", "+", "\".png\"", "# cityscape icin eklendi", "\n", "", "else", ":", "\n", "            ", "image_name", "=", "'%s_%s.png'", "%", "(", "name", ",", "label", ")", "\n", "\n", "", "h", ",", "w", ",", "_", "=", "im", ".", "shape", "\n", "if", "aspect_ratio", ">", "1.0", ":", "\n", "            ", "im", "=", "resize", "(", "im", ",", "(", "h", ",", "int", "(", "w", "*", "aspect_ratio", ")", ")", ",", "interp", "=", "'bicubic'", ")", "\n", "", "if", "aspect_ratio", "<", "1.0", ":", "\n", "            ", "im", "=", "resize", "(", "im", ",", "(", "int", "(", "h", "/", "aspect_ratio", ")", ",", "w", ")", ",", "interp", "=", "'bicubic'", ")", "\n", "", "save_path", "=", "os", ".", "path", ".", "join", "(", "image_dir", ",", "image_name", ")", "\n", "util", ".", "save_image", "(", "im", ",", "save_path", ")", "\n", "\n", "# save to fake folder", "\n", "if", "label", ".", "startswith", "(", "'fake'", ")", ":", "\n", "            ", "save_path", "=", "os", ".", "path", ".", "join", "(", "image_dir", ",", "aaa", ",", "image_name", ")", "\n", "util", ".", "save_image", "(", "im", ",", "save_path", ")", "\n", "\n", "", "ims", ".", "append", "(", "image_name", ")", "\n", "txts", ".", "append", "(", "label", ")", "\n", "links", ".", "append", "(", "image_name", ")", "\n", "", "webpage", ".", "add_images", "(", "ims", ",", "txts", ",", "links", ",", "width", "=", "width", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData.__init__": [[28, 35], ["url_dict.get", "technique.lower"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get"], ["def", "__init__", "(", "self", ",", "technique", "=", "'cyclegan'", ",", "verbose", "=", "True", ")", ":", "\n", "        ", "url_dict", "=", "{", "\n", "'pix2pix'", ":", "'https://people.eecs.berkeley.edu/~tinghuiz/projects/pix2pix/datasets'", ",", "\n", "'cyclegan'", ":", "'https://people.eecs.berkeley.edu/~taesung_park/CycleGAN/datasets'", "\n", "}", "\n", "self", ".", "url", "=", "url_dict", ".", "get", "(", "technique", ".", "lower", "(", ")", ")", "\n", "self", ".", "_verbose", "=", "verbose", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._print": [[36, 39], ["print"], "methods", ["None"], ["", "def", "_print", "(", "self", ",", "text", ")", ":", "\n", "        ", "if", "self", ".", "_verbose", ":", "\n", "            ", "print", "(", "text", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._get_options": [[40, 46], ["bs4.BeautifulSoup", "bs4.BeautifulSoup.find_all", "h.text.endswith"], "methods", ["None"], ["", "", "@", "staticmethod", "\n", "def", "_get_options", "(", "r", ")", ":", "\n", "        ", "soup", "=", "BeautifulSoup", "(", "r", ".", "text", ",", "'lxml'", ")", "\n", "options", "=", "[", "h", ".", "text", "for", "h", "in", "soup", ".", "find_all", "(", "'a'", ",", "href", "=", "True", ")", "\n", "if", "h", ".", "text", ".", "endswith", "(", "(", "'.zip'", ",", "'tar.gz'", ")", ")", "]", "\n", "return", "options", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._present_options": [[47, 56], ["requests.get", "get_data.GetData._get_options", "print", "enumerate", "input", "print", "int"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._get_options"], ["", "def", "_present_options", "(", "self", ")", ":", "\n", "        ", "r", "=", "requests", ".", "get", "(", "self", ".", "url", ")", "\n", "options", "=", "self", ".", "_get_options", "(", "r", ")", "\n", "print", "(", "'Options:\\n'", ")", "\n", "for", "i", ",", "o", "in", "enumerate", "(", "options", ")", ":", "\n", "            ", "print", "(", "\"{0}: {1}\"", ".", "format", "(", "i", ",", "o", ")", ")", "\n", "", "choice", "=", "input", "(", "\"\\nPlease enter the number of the \"", "\n", "\"dataset above you wish to download:\"", ")", "\n", "return", "options", "[", "int", "(", "choice", ")", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._download_data": [[57, 79], ["os.path.basename", "os.path.join", "os.path.basename.endswith", "get_data.GetData._print", "zipfile.ZipFile.extractall", "zipfile.ZipFile.close", "os.remove", "os.path.isdir", "os.makedirs", "open", "requests.get", "f.write", "tarfile.open", "os.path.basename.endswith", "zipfile.ZipFile", "ValueError"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._print", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get"], ["", "def", "_download_data", "(", "self", ",", "dataset_url", ",", "save_path", ")", ":", "\n", "        ", "if", "not", "isdir", "(", "save_path", ")", ":", "\n", "            ", "os", ".", "makedirs", "(", "save_path", ")", "\n", "\n", "", "base", "=", "basename", "(", "dataset_url", ")", "\n", "temp_save_path", "=", "join", "(", "save_path", ",", "base", ")", "\n", "\n", "with", "open", "(", "temp_save_path", ",", "\"wb\"", ")", "as", "f", ":", "\n", "            ", "r", "=", "requests", ".", "get", "(", "dataset_url", ")", "\n", "f", ".", "write", "(", "r", ".", "content", ")", "\n", "\n", "", "if", "base", ".", "endswith", "(", "'.tar.gz'", ")", ":", "\n", "            ", "obj", "=", "tarfile", ".", "open", "(", "temp_save_path", ")", "\n", "", "elif", "base", ".", "endswith", "(", "'.zip'", ")", ":", "\n", "            ", "obj", "=", "ZipFile", "(", "temp_save_path", ",", "'r'", ")", "\n", "", "else", ":", "\n", "            ", "raise", "ValueError", "(", "\"Unknown File Type: {0}.\"", ".", "format", "(", "base", ")", ")", "\n", "\n", "", "self", ".", "_print", "(", "\"Unpacking Data...\"", ")", "\n", "obj", ".", "extractall", "(", "save_path", ")", "\n", "obj", ".", "close", "(", ")", "\n", "os", ".", "remove", "(", "temp_save_path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData.get": [[80, 115], ["os.path.join", "os.path.isdir", "os.path.abspath", "get_data.GetData._present_options", "warnings.warn", "get_data.GetData._print", "get_data.GetData._download_data", "get_data.GetData.split"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._present_options", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._print", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.get_data.GetData._download_data"], ["", "def", "get", "(", "self", ",", "save_path", ",", "dataset", "=", "None", ")", ":", "\n", "        ", "\"\"\"\n\n        Download a dataset.\n\n        Args:\n            save_path : str\n                A directory to save the data to.\n            dataset : str, optional\n                A specific dataset to download.\n                Note: this must include the file extension.\n                If None, options will be presented for you\n                to choose from.\n\n        Returns:\n            save_path_full : str\n                The absolute path to the downloaded data.\n\n        \"\"\"", "\n", "if", "dataset", "is", "None", ":", "\n", "            ", "selected_dataset", "=", "self", ".", "_present_options", "(", ")", "\n", "", "else", ":", "\n", "            ", "selected_dataset", "=", "dataset", "\n", "\n", "", "save_path_full", "=", "join", "(", "save_path", ",", "selected_dataset", ".", "split", "(", "'.'", ")", "[", "0", "]", ")", "\n", "\n", "if", "isdir", "(", "save_path_full", ")", ":", "\n", "            ", "warn", "(", "\"\\n'{0}' already exists. Voiding Download.\"", ".", "format", "(", "\n", "save_path_full", ")", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "_print", "(", "'Downloading Data...'", ")", "\n", "url", "=", "\"{0}/{1}\"", ".", "format", "(", "self", ".", "url", ",", "selected_dataset", ")", "\n", "self", ".", "_download_data", "(", "url", ",", "save_path", "=", "save_path", ")", "\n", "\n", "", "return", "abspath", "(", "save_path_full", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.hed.CropLayer.__init__": [[20, 25], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "params", ",", "blobs", ")", ":", "\n", "        ", "self", ".", "xstart", "=", "0", "\n", "self", ".", "xend", "=", "0", "\n", "self", ".", "ystart", "=", "0", "\n", "self", ".", "yend", "=", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.hed.CropLayer.getMemoryShapes": [[28, 39], ["None"], "methods", ["None"], ["", "def", "getMemoryShapes", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "inputShape", ",", "targetShape", "=", "inputs", "[", "0", "]", ",", "inputs", "[", "1", "]", "\n", "batchSize", ",", "numChannels", "=", "inputShape", "[", "0", "]", ",", "inputShape", "[", "1", "]", "\n", "height", ",", "width", "=", "targetShape", "[", "2", "]", ",", "targetShape", "[", "3", "]", "\n", "\n", "self", ".", "ystart", "=", "(", "inputShape", "[", "2", "]", "-", "targetShape", "[", "2", "]", ")", "//", "2", "\n", "self", ".", "xstart", "=", "(", "inputShape", "[", "3", "]", "-", "targetShape", "[", "3", "]", ")", "//", "2", "\n", "self", ".", "yend", "=", "self", ".", "ystart", "+", "height", "\n", "self", ".", "xend", "=", "self", ".", "xstart", "+", "width", "\n", "\n", "return", "[", "[", "batchSize", ",", "numChannels", ",", "height", ",", "width", "]", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.hed.CropLayer.forward": [[40, 42], ["None"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "return", "[", "inputs", "[", "0", "]", "[", ":", ",", ":", ",", "self", ".", "ystart", ":", "self", ".", "yend", ",", "self", ".", "xstart", ":", "self", ".", "xend", "]", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.tensor2im": [[9, 19], ["isinstance", "image_tensor[].cpu().float().numpy", "np.tile.astype", "numpy.tile", "image_tensor[].cpu().float", "numpy.transpose", "image_tensor[].cpu"], "function", ["None"], ["def", "tensor2im", "(", "input_image", ",", "imtype", "=", "np", ".", "uint8", ")", ":", "\n", "    ", "if", "isinstance", "(", "input_image", ",", "torch", ".", "Tensor", ")", ":", "\n", "        ", "image_tensor", "=", "input_image", ".", "data", "\n", "", "else", ":", "\n", "        ", "return", "input_image", "\n", "", "image_numpy", "=", "image_tensor", "[", "0", "]", ".", "cpu", "(", ")", ".", "float", "(", ")", ".", "numpy", "(", ")", "\n", "if", "image_numpy", ".", "shape", "[", "0", "]", "==", "1", ":", "\n", "        ", "image_numpy", "=", "np", ".", "tile", "(", "image_numpy", ",", "(", "3", ",", "1", ",", "1", ")", ")", "\n", "", "image_numpy", "=", "(", "np", ".", "transpose", "(", "image_numpy", ",", "(", "1", ",", "2", ",", "0", ")", ")", "+", "1", ")", "/", "2.0", "*", "255.0", "\n", "return", "image_numpy", ".", "astype", "(", "imtype", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.diagnose_network": [[21, 32], ["net.parameters", "print", "print", "torch.mean", "torch.abs"], "function", ["None"], ["", "def", "diagnose_network", "(", "net", ",", "name", "=", "'network'", ")", ":", "\n", "    ", "mean", "=", "0.0", "\n", "count", "=", "0", "\n", "for", "param", "in", "net", ".", "parameters", "(", ")", ":", "\n", "        ", "if", "param", ".", "grad", "is", "not", "None", ":", "\n", "            ", "mean", "+=", "torch", ".", "mean", "(", "torch", ".", "abs", "(", "param", ".", "grad", ".", "data", ")", ")", "\n", "count", "+=", "1", "\n", "", "", "if", "count", ">", "0", ":", "\n", "        ", "mean", "=", "mean", "/", "count", "\n", "", "print", "(", "name", ")", "\n", "print", "(", "mean", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.save_image": [[34, 37], ["PIL.Image.fromarray", "Image.fromarray.save"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.save"], ["", "def", "save_image", "(", "image_numpy", ",", "image_path", ")", ":", "\n", "    ", "image_pil", "=", "Image", ".", "fromarray", "(", "image_numpy", ")", "\n", "image_pil", ".", "save", "(", "image_path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.print_numpy": [[39, 47], ["x.flatten.astype", "print", "x.flatten.flatten", "print", "numpy.mean", "numpy.min", "numpy.max", "numpy.median", "numpy.std"], "function", ["None"], ["", "def", "print_numpy", "(", "x", ",", "val", "=", "True", ",", "shp", "=", "False", ")", ":", "\n", "    ", "x", "=", "x", ".", "astype", "(", "np", ".", "float64", ")", "\n", "if", "shp", ":", "\n", "        ", "print", "(", "'shape,'", ",", "x", ".", "shape", ")", "\n", "", "if", "val", ":", "\n", "        ", "x", "=", "x", ".", "flatten", "(", ")", "\n", "print", "(", "'mean = %3.3f, min = %3.3f, max = %3.3f, median = %3.3f, std=%3.3f'", "%", "(", "\n", "np", ".", "mean", "(", "x", ")", ",", "np", ".", "min", "(", "x", ")", ",", "np", ".", "max", "(", "x", ")", ",", "np", ".", "median", "(", "x", ")", ",", "np", ".", "std", "(", "x", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.mkdirs": [[49, 55], ["isinstance", "util.mkdir", "isinstance", "util.mkdir"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.mkdir", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.mkdir"], ["", "", "def", "mkdirs", "(", "paths", ")", ":", "\n", "    ", "if", "isinstance", "(", "paths", ",", "list", ")", "and", "not", "isinstance", "(", "paths", ",", "str", ")", ":", "\n", "        ", "for", "path", "in", "paths", ":", "\n", "            ", "mkdir", "(", "path", ")", "\n", "", "", "else", ":", "\n", "        ", "mkdir", "(", "paths", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.mkdir": [[57, 60], ["os.path.exists", "os.makedirs"], "function", ["None"], ["", "", "def", "mkdir", "(", "path", ")", ":", "\n", "    ", "if", "not", "os", ".", "path", ".", "exists", "(", "path", ")", ":", "\n", "        ", "os", ".", "makedirs", "(", "path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.__patch_instance_norm_state_dict": [[62, 74], ["len", "util.__patch_instance_norm_state_dict", "module.__class__.__name__.startswith", "module.__class__.__name__.startswith", "state_dict.pop", "getattr", "getattr", "state_dict.pop"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.__patch_instance_norm_state_dict"], ["", "", "def", "__patch_instance_norm_state_dict", "(", "state_dict", ",", "module", ",", "keys", ",", "i", "=", "0", ")", ":", "\n", "    ", "key", "=", "keys", "[", "i", "]", "\n", "if", "i", "+", "1", "==", "len", "(", "keys", ")", ":", "# at the end, pointing to a parameter/buffer", "\n", "        ", "if", "module", ".", "__class__", ".", "__name__", ".", "startswith", "(", "'InstanceNorm'", ")", "and", "(", "key", "==", "'running_mean'", "or", "key", "==", "'running_var'", ")", ":", "\n", "            ", "if", "getattr", "(", "module", ",", "key", ")", "is", "None", ":", "\n", "                ", "state_dict", ".", "pop", "(", "'.'", ".", "join", "(", "keys", ")", ")", "\n", "", "", "if", "module", ".", "__class__", ".", "__name__", ".", "startswith", "(", "'InstanceNorm'", ")", "and", "(", "key", "==", "'num_batches_tracked'", ")", ":", "\n", "            ", "state_dict", ".", "pop", "(", "'.'", ".", "join", "(", "keys", ")", ")", "\n", "", "", "else", ":", "\n", "        ", "__patch_instance_norm_state_dict", "(", "state_dict", ",", "getattr", "(", "module", ",", "key", ")", ",", "keys", ",", "i", "+", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.load_checkpoint": [[76, 93], ["isinstance", "print", "torch.load", "hasattr", "list", "net.load_state_dict", "torch.device", "torch.device", "torch.load.keys", "util.__patch_instance_norm_state_dict", "str", "key.split"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.__patch_instance_norm_state_dict"], ["", "", "def", "load_checkpoint", "(", "net", ",", "load_path", ",", "gpu_ids", ")", ":", "\n", "# load_filename = '%s_net_%s.pth' % (epoch, name)", "\n", "# load_path = os.path.join(self.save_dir, load_filename)", "\n", "    ", "device", "=", "torch", ".", "device", "(", "'cuda:{}'", ".", "format", "(", "gpu_ids", "[", "0", "]", ")", ")", "if", "gpu_ids", "else", "torch", ".", "device", "(", "'cpu'", ")", "\n", "if", "isinstance", "(", "net", ",", "torch", ".", "nn", ".", "DataParallel", ")", ":", "\n", "        ", "net", "=", "net", ".", "module", "\n", "", "print", "(", "'loading the model from %s'", "%", "load_path", ")", "\n", "# if you are using PyTorch newer than 0.4 (e.g., built from", "\n", "# GitHub source), you can remove str() on self.device", "\n", "state_dict", "=", "torch", ".", "load", "(", "load_path", ",", "map_location", "=", "str", "(", "device", ")", ")", "\n", "if", "hasattr", "(", "state_dict", ",", "'_metadata'", ")", ":", "\n", "        ", "del", "state_dict", ".", "_metadata", "\n", "\n", "# patch InstanceNorm checkpoints prior to 0.4", "\n", "", "for", "key", "in", "list", "(", "state_dict", ".", "keys", "(", ")", ")", ":", "# need to copy keys here because we mutate in loop", "\n", "        ", "__patch_instance_norm_state_dict", "(", "state_dict", ",", "net", ",", "key", ".", "split", "(", "'.'", ")", ")", "\n", "", "net", ".", "load_state_dict", "(", "state_dict", ")", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.GANLoss.__init__": [[142, 150], ["torch.Module.__init__", "networks.GANLoss.register_buffer", "networks.GANLoss.register_buffer", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.MSELoss", "torch.MSELoss", "torch.MSELoss", "torch.MSELoss", "torch.BCELoss", "torch.BCELoss", "torch.BCELoss", "torch.BCELoss"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "use_lsgan", "=", "True", ",", "target_real_label", "=", "1.0", ",", "target_fake_label", "=", "0.0", ")", ":", "\n", "        ", "super", "(", "GANLoss", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "register_buffer", "(", "'real_label'", ",", "torch", ".", "tensor", "(", "target_real_label", ")", ")", "\n", "self", ".", "register_buffer", "(", "'fake_label'", ",", "torch", ".", "tensor", "(", "target_fake_label", ")", ")", "\n", "if", "use_lsgan", ":", "\n", "            ", "self", ".", "loss", "=", "nn", ".", "MSELoss", "(", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "loss", "=", "nn", ".", "BCELoss", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.GANLoss.get_target_tensor": [[151, 157], ["target_tensor.expand_as"], "methods", ["None"], ["", "", "def", "get_target_tensor", "(", "self", ",", "input", ",", "target_is_real", ")", ":", "\n", "        ", "if", "target_is_real", ":", "\n", "            ", "target_tensor", "=", "self", ".", "real_label", "\n", "", "else", ":", "\n", "            ", "target_tensor", "=", "self", ".", "fake_label", "\n", "", "return", "target_tensor", ".", "expand_as", "(", "input", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.GANLoss.__call__": [[158, 161], ["networks.GANLoss.get_target_tensor", "networks.GANLoss.loss"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.GANLoss.get_target_tensor"], ["", "def", "__call__", "(", "self", ",", "input", ",", "target_is_real", ")", ":", "\n", "        ", "target_tensor", "=", "self", ".", "get_target_tensor", "(", "input", ",", "target_is_real", ")", "\n", "return", "self", ".", "loss", "(", "input", ",", "target_tensor", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResnetGenerator.__init__": [[168, 234], ["torch.Module.__init__", "range", "range", "range", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "type", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.Linear", "torch.Linear", "torch.Linear", "torch.Linear", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Linear", "torch.Linear", "torch.Linear", "torch.Linear", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "networks.ResnetBlock", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "norm_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "int", "int", "int", "int", "int"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ",", "output_nc", ",", "ngf", "=", "64", ",", "norm_layer", "=", "nn", ".", "BatchNorm2d", ",", "use_dropout", "=", "False", ",", "n_blocks", "=", "6", ",", "\n", "padding_type", "=", "'reflect'", ")", ":", "\n", "\n", "        ", "assert", "(", "n_blocks", ">=", "0", ")", "\n", "super", "(", "ResnetGenerator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "input_nc", "=", "input_nc", "\n", "self", ".", "output_nc", "=", "output_nc", "\n", "self", ".", "ngf", "=", "ngf", "\n", "\n", "if", "type", "(", "norm_layer", ")", "==", "functools", ".", "partial", ":", "\n", "            ", "use_bias", "=", "norm_layer", ".", "func", "==", "nn", ".", "InstanceNorm2d", "\n", "", "else", ":", "\n", "            ", "use_bias", "=", "norm_layer", "==", "nn", ".", "InstanceNorm2d", "\n", "\n", "", "model", "=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", ",", "\n", "nn", ".", "Conv2d", "(", "input_nc", ",", "ngf", ",", "kernel_size", "=", "7", ",", "padding", "=", "0", ",", "\n", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "ngf", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "\n", "n_downsampling", "=", "2", "\n", "for", "i", "in", "range", "(", "n_downsampling", ")", ":", "\n", "            ", "mult", "=", "2", "**", "i", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "ngf", "*", "mult", ",", "ngf", "*", "mult", "*", "2", ",", "kernel_size", "=", "3", ",", "\n", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "ngf", "*", "mult", "*", "2", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "\n", "", "mult", "=", "2", "**", "n_downsampling", "\n", "for", "i", "in", "range", "(", "n_blocks", ")", ":", "\n", "            ", "model", "+=", "[", "ResnetBlock", "(", "ngf", "*", "mult", ",", "padding_type", "=", "padding_type", ",", "norm_layer", "=", "norm_layer", ",", "use_dropout", "=", "use_dropout", ",", "use_bias", "=", "use_bias", ")", "]", "\n", "\n", "", "model_decode", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "n_downsampling", ")", ":", "\n", "            ", "mult", "=", "2", "**", "(", "n_downsampling", "-", "i", ")", "\n", "model_decode", "+=", "[", "nn", ".", "ConvTranspose2d", "(", "ngf", "*", "mult", ",", "int", "(", "ngf", "*", "mult", "/", "2", ")", ",", "\n", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "\n", "padding", "=", "1", ",", "output_padding", "=", "1", ",", "\n", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "int", "(", "ngf", "*", "mult", "/", "2", ")", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "\n", "# fc to output coeffs for each channel", "\n", "", "model_fc_prep", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "n_downsampling", ")", ":", "\n", "            ", "mult", "=", "2", "**", "(", "n_downsampling", "-", "i", ")", "\n", "model_fc_prep", "+=", "[", "nn", ".", "Conv2d", "(", "ngf", "*", "mult", ",", "int", "(", "ngf", "*", "mult", "/", "2", ")", ",", "kernel_size", "=", "3", ",", "\n", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "int", "(", "ngf", "*", "mult", "/", "2", ")", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "", "model_fc_prep", "+=", "[", "nn", ".", "AdaptiveAvgPool2d", "(", "(", "4", ",", "4", ")", ")", "]", "\n", "\n", "self", ".", "model_fc", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Linear", "(", "int", "(", "ngf", "*", "mult", "/", "2", ")", "*", "4", "*", "4", ",", "256", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", ",", "\n", "nn", ".", "Linear", "(", "256", ",", "self", ".", "output_nc", ")", ",", "\n", ")", "\n", "# final conv", "\n", "model_out", "=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", "]", "\n", "model_out", "+=", "[", "nn", ".", "Conv2d", "(", "ngf", ",", "output_nc", ",", "kernel_size", "=", "7", ",", "padding", "=", "0", ")", "]", "\n", "# model += [nn.Tanh()]", "\n", "\n", "self", ".", "model", "=", "nn", ".", "Sequential", "(", "*", "model", ")", "\n", "self", ".", "model_decode", "=", "nn", ".", "Sequential", "(", "*", "model_decode", ")", "\n", "self", ".", "model_fc_prep", "=", "nn", ".", "Sequential", "(", "*", "model_fc_prep", ")", "\n", "self", ".", "model_out", "=", "nn", ".", "Sequential", "(", "*", "model_out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResnetGenerator.forward": [[235, 248], ["networks.ResnetGenerator.model", "networks.ResnetGenerator.model_decode", "networks.ResnetGenerator.model_out", "networks.ResnetGenerator.model_fc_prep", "networks.ResnetGenerator.model_fc", "torch.tanh", "torch.tanh", "torch.tanh", "torch.tanh", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten", "torch.flatten"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "\n", "        ", "out_backbone", "=", "self", ".", "model", "(", "input", ")", "\n", "out_decode", "=", "self", ".", "model_decode", "(", "out_backbone", ")", "\n", "out", "=", "self", ".", "model_out", "(", "out_decode", ")", "\n", "out_fc_prep", "=", "self", ".", "model_fc_prep", "(", "out_backbone", ")", "\n", "\n", "out_fc", "=", "self", ".", "model_fc", "(", "torch", ".", "flatten", "(", "out_fc_prep", ",", "1", ")", ")", "\n", "\n", "final_pred", "=", "out", "\n", "final_out", "=", "F", ".", "tanh", "(", "final_pred", ")", "\n", "\n", "return", "final_out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResnetBlock.__init__": [[252, 255], ["torch.Module.__init__", "networks.ResnetBlock.build_conv_block"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResnetBlock.build_conv_block"], ["    ", "def", "__init__", "(", "self", ",", "dim", ",", "padding_type", ",", "norm_layer", ",", "use_dropout", ",", "use_bias", ")", ":", "\n", "        ", "super", "(", "ResnetBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv_block", "=", "self", ".", "build_conv_block", "(", "dim", ",", "padding_type", ",", "norm_layer", ",", "use_dropout", ",", "use_bias", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResnetBlock.build_conv_block": [[256, 287], ["torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Dropout", "torch.Dropout", "torch.Dropout", "torch.Dropout", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReplicationPad2d", "torch.ReplicationPad2d", "torch.ReplicationPad2d", "torch.ReplicationPad2d", "NotImplementedError", "torch.ReplicationPad2d", "torch.ReplicationPad2d", "torch.ReplicationPad2d", "torch.ReplicationPad2d", "NotImplementedError"], "methods", ["None"], ["", "def", "build_conv_block", "(", "self", ",", "dim", ",", "padding_type", ",", "norm_layer", ",", "use_dropout", ",", "use_bias", ")", ":", "\n", "        ", "conv_block", "=", "[", "]", "\n", "p", "=", "0", "\n", "if", "padding_type", "==", "'reflect'", ":", "\n", "            ", "conv_block", "+=", "[", "nn", ".", "ReflectionPad2d", "(", "1", ")", "]", "\n", "", "elif", "padding_type", "==", "'replicate'", ":", "\n", "            ", "conv_block", "+=", "[", "nn", ".", "ReplicationPad2d", "(", "1", ")", "]", "\n", "", "elif", "padding_type", "==", "'zero'", ":", "\n", "            ", "p", "=", "1", "\n", "", "else", ":", "\n", "            ", "raise", "NotImplementedError", "(", "'padding [%s] is not implemented'", "%", "padding_type", ")", "\n", "\n", "", "conv_block", "+=", "[", "nn", ".", "Conv2d", "(", "dim", ",", "dim", ",", "kernel_size", "=", "3", ",", "padding", "=", "p", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "dim", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "if", "use_dropout", ":", "\n", "            ", "conv_block", "+=", "[", "nn", ".", "Dropout", "(", "0.5", ")", "]", "\n", "\n", "", "p", "=", "0", "\n", "if", "padding_type", "==", "'reflect'", ":", "\n", "            ", "conv_block", "+=", "[", "nn", ".", "ReflectionPad2d", "(", "1", ")", "]", "\n", "", "elif", "padding_type", "==", "'replicate'", ":", "\n", "            ", "conv_block", "+=", "[", "nn", ".", "ReplicationPad2d", "(", "1", ")", "]", "\n", "", "elif", "padding_type", "==", "'zero'", ":", "\n", "            ", "p", "=", "1", "\n", "", "else", ":", "\n", "            ", "raise", "NotImplementedError", "(", "'padding [%s] is not implemented'", "%", "padding_type", ")", "\n", "", "conv_block", "+=", "[", "nn", ".", "Conv2d", "(", "dim", ",", "dim", ",", "kernel_size", "=", "3", ",", "padding", "=", "p", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "dim", ")", "]", "\n", "\n", "return", "nn", ".", "Sequential", "(", "*", "conv_block", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResnetBlock.forward": [[288, 291], ["networks.ResnetBlock.conv_block"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "out", "=", "x", "+", "self", ".", "conv_block", "(", "x", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.UnetGenerator.__init__": [[298, 312], ["torch.Module.__init__", "networks.UnetSkipConnectionBlock", "range", "networks.UnetSkipConnectionBlock", "networks.UnetSkipConnectionBlock", "networks.UnetSkipConnectionBlock", "networks.UnetSkipConnectionBlock", "networks.UnetSkipConnectionBlock"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ",", "output_nc", ",", "num_downs", ",", "ngf", "=", "64", ",", "\n", "norm_layer", "=", "nn", ".", "BatchNorm2d", ",", "use_dropout", "=", "False", ")", ":", "\n", "        ", "super", "(", "UnetGenerator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "# construct unet structure", "\n", "unet_block", "=", "UnetSkipConnectionBlock", "(", "ngf", "*", "8", ",", "ngf", "*", "8", ",", "input_nc", "=", "None", ",", "submodule", "=", "None", ",", "norm_layer", "=", "norm_layer", ",", "innermost", "=", "True", ")", "\n", "for", "i", "in", "range", "(", "num_downs", "-", "5", ")", ":", "\n", "            ", "unet_block", "=", "UnetSkipConnectionBlock", "(", "ngf", "*", "8", ",", "ngf", "*", "8", ",", "input_nc", "=", "None", ",", "submodule", "=", "unet_block", ",", "norm_layer", "=", "norm_layer", ",", "use_dropout", "=", "use_dropout", ")", "\n", "", "unet_block", "=", "UnetSkipConnectionBlock", "(", "ngf", "*", "4", ",", "ngf", "*", "8", ",", "input_nc", "=", "None", ",", "submodule", "=", "unet_block", ",", "norm_layer", "=", "norm_layer", ")", "\n", "unet_block", "=", "UnetSkipConnectionBlock", "(", "ngf", "*", "2", ",", "ngf", "*", "4", ",", "input_nc", "=", "None", ",", "submodule", "=", "unet_block", ",", "norm_layer", "=", "norm_layer", ")", "\n", "unet_block", "=", "UnetSkipConnectionBlock", "(", "ngf", ",", "ngf", "*", "2", ",", "input_nc", "=", "None", ",", "submodule", "=", "unet_block", ",", "norm_layer", "=", "norm_layer", ")", "\n", "unet_block", "=", "UnetSkipConnectionBlock", "(", "output_nc", ",", "ngf", ",", "input_nc", "=", "input_nc", ",", "submodule", "=", "unet_block", ",", "outermost", "=", "True", ",", "norm_layer", "=", "norm_layer", ")", "\n", "\n", "self", ".", "model", "=", "unet_block", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.UnetGenerator.forward": [[313, 315], ["networks.UnetGenerator.model"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "return", "self", ".", "model", "(", "input", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.UnetSkipConnectionBlock.__init__": [[321, 365], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "norm_layer", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "norm_layer", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "type", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.Dropout", "torch.Dropout", "torch.Dropout", "torch.Dropout"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "outer_nc", ",", "inner_nc", ",", "input_nc", "=", "None", ",", "\n", "submodule", "=", "None", ",", "outermost", "=", "False", ",", "innermost", "=", "False", ",", "norm_layer", "=", "nn", ".", "BatchNorm2d", ",", "use_dropout", "=", "False", ")", ":", "\n", "        ", "super", "(", "UnetSkipConnectionBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "outermost", "=", "outermost", "\n", "if", "type", "(", "norm_layer", ")", "==", "functools", ".", "partial", ":", "\n", "            ", "use_bias", "=", "norm_layer", ".", "func", "==", "nn", ".", "InstanceNorm2d", "\n", "", "else", ":", "\n", "            ", "use_bias", "=", "norm_layer", "==", "nn", ".", "InstanceNorm2d", "\n", "", "if", "input_nc", "is", "None", ":", "\n", "            ", "input_nc", "=", "outer_nc", "\n", "", "downconv", "=", "nn", ".", "Conv2d", "(", "input_nc", ",", "inner_nc", ",", "kernel_size", "=", "4", ",", "\n", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "use_bias", ")", "\n", "downrelu", "=", "nn", ".", "LeakyReLU", "(", "0.2", ",", "True", ")", "\n", "downnorm", "=", "norm_layer", "(", "inner_nc", ")", "\n", "uprelu", "=", "nn", ".", "ReLU", "(", "True", ")", "\n", "upnorm", "=", "norm_layer", "(", "outer_nc", ")", "\n", "\n", "if", "outermost", ":", "\n", "            ", "upconv", "=", "nn", ".", "ConvTranspose2d", "(", "inner_nc", "*", "2", ",", "outer_nc", ",", "\n", "kernel_size", "=", "4", ",", "stride", "=", "2", ",", "\n", "padding", "=", "1", ")", "\n", "down", "=", "[", "downconv", "]", "\n", "up", "=", "[", "uprelu", ",", "upconv", ",", "nn", ".", "Tanh", "(", ")", "]", "\n", "model", "=", "down", "+", "[", "submodule", "]", "+", "up", "\n", "", "elif", "innermost", ":", "\n", "            ", "upconv", "=", "nn", ".", "ConvTranspose2d", "(", "inner_nc", ",", "outer_nc", ",", "\n", "kernel_size", "=", "4", ",", "stride", "=", "2", ",", "\n", "padding", "=", "1", ",", "bias", "=", "use_bias", ")", "\n", "down", "=", "[", "downrelu", ",", "downconv", "]", "\n", "up", "=", "[", "uprelu", ",", "upconv", ",", "upnorm", "]", "\n", "model", "=", "down", "+", "up", "\n", "", "else", ":", "\n", "            ", "upconv", "=", "nn", ".", "ConvTranspose2d", "(", "inner_nc", "*", "2", ",", "outer_nc", ",", "\n", "kernel_size", "=", "4", ",", "stride", "=", "2", ",", "\n", "padding", "=", "1", ",", "bias", "=", "use_bias", ")", "\n", "down", "=", "[", "downrelu", ",", "downconv", ",", "downnorm", "]", "\n", "up", "=", "[", "uprelu", ",", "upconv", ",", "upnorm", "]", "\n", "\n", "if", "use_dropout", ":", "\n", "                ", "model", "=", "down", "+", "[", "submodule", "]", "+", "up", "+", "[", "nn", ".", "Dropout", "(", "0.5", ")", "]", "\n", "", "else", ":", "\n", "                ", "model", "=", "down", "+", "[", "submodule", "]", "+", "up", "\n", "\n", "", "", "self", ".", "model", "=", "nn", ".", "Sequential", "(", "*", "model", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.UnetSkipConnectionBlock.forward": [[366, 371], ["networks.UnetSkipConnectionBlock.model", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "networks.UnetSkipConnectionBlock.model"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "if", "self", ".", "outermost", ":", "\n", "            ", "return", "self", ".", "model", "(", "x", ")", "\n", "", "else", ":", "\n", "            ", "return", "torch", ".", "cat", "(", "[", "x", ",", "self", ".", "model", "(", "x", ")", "]", ",", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.NLayerDiscriminator.__init__": [[375, 416], ["torch.Module.__init__", "range", "min", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "type", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "min", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Sigmoid", "torch.Sigmoid", "torch.Sigmoid", "torch.Sigmoid"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ",", "ndf", "=", "64", ",", "n_layers", "=", "3", ",", "norm_layer", "=", "nn", ".", "BatchNorm2d", ",", "use_sigmoid", "=", "False", ")", ":", "\n", "        ", "super", "(", "NLayerDiscriminator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "if", "type", "(", "norm_layer", ")", "==", "functools", ".", "partial", ":", "\n", "            ", "use_bias", "=", "norm_layer", ".", "func", "==", "nn", ".", "InstanceNorm2d", "\n", "", "else", ":", "\n", "            ", "use_bias", "=", "norm_layer", "==", "nn", ".", "InstanceNorm2d", "\n", "\n", "", "kw", "=", "4", "\n", "padw", "=", "1", "\n", "sequence", "=", "[", "\n", "nn", ".", "Conv2d", "(", "input_nc", ",", "ndf", ",", "kernel_size", "=", "kw", ",", "stride", "=", "2", ",", "padding", "=", "padw", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "True", ")", "\n", "]", "\n", "\n", "nf_mult", "=", "1", "\n", "nf_mult_prev", "=", "1", "\n", "for", "n", "in", "range", "(", "1", ",", "n_layers", ")", ":", "\n", "            ", "nf_mult_prev", "=", "nf_mult", "\n", "nf_mult", "=", "min", "(", "2", "**", "n", ",", "8", ")", "\n", "sequence", "+=", "[", "\n", "nn", ".", "Conv2d", "(", "ndf", "*", "nf_mult_prev", ",", "ndf", "*", "nf_mult", ",", "\n", "kernel_size", "=", "kw", ",", "stride", "=", "2", ",", "padding", "=", "padw", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "ndf", "*", "nf_mult", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "True", ")", "\n", "]", "\n", "\n", "", "nf_mult_prev", "=", "nf_mult", "\n", "nf_mult", "=", "min", "(", "2", "**", "n_layers", ",", "8", ")", "\n", "sequence", "+=", "[", "\n", "nn", ".", "Conv2d", "(", "ndf", "*", "nf_mult_prev", ",", "ndf", "*", "nf_mult", ",", "\n", "kernel_size", "=", "kw", ",", "stride", "=", "1", ",", "padding", "=", "padw", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "ndf", "*", "nf_mult", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "True", ")", "\n", "]", "\n", "\n", "sequence", "+=", "[", "nn", ".", "Conv2d", "(", "ndf", "*", "nf_mult", ",", "1", ",", "kernel_size", "=", "kw", ",", "stride", "=", "1", ",", "padding", "=", "padw", ")", "]", "\n", "\n", "if", "use_sigmoid", ":", "\n", "            ", "sequence", "+=", "[", "nn", ".", "Sigmoid", "(", ")", "]", "\n", "\n", "", "self", ".", "model", "=", "nn", ".", "Sequential", "(", "*", "sequence", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.NLayerDiscriminator.forward": [[417, 419], ["networks.NLayerDiscriminator.model"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "return", "self", ".", "model", "(", "input", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.PixelDiscriminator.__init__": [[422, 441], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "type", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "norm_layer", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "networks.PixelDiscriminator.net.append", "torch.Sigmoid", "torch.Sigmoid", "torch.Sigmoid", "torch.Sigmoid"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ",", "ndf", "=", "64", ",", "norm_layer", "=", "nn", ".", "BatchNorm2d", ",", "use_sigmoid", "=", "False", ")", ":", "\n", "        ", "super", "(", "PixelDiscriminator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "if", "type", "(", "norm_layer", ")", "==", "functools", ".", "partial", ":", "\n", "            ", "use_bias", "=", "norm_layer", ".", "func", "==", "nn", ".", "InstanceNorm2d", "\n", "", "else", ":", "\n", "            ", "use_bias", "=", "norm_layer", "==", "nn", ".", "InstanceNorm2d", "\n", "\n", "", "self", ".", "net", "=", "[", "\n", "nn", ".", "Conv2d", "(", "input_nc", ",", "ndf", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "ndf", ",", "ndf", "*", "2", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "use_bias", ")", ",", "\n", "norm_layer", "(", "ndf", "*", "2", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "ndf", "*", "2", ",", "1", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "use_bias", ")", "]", "\n", "\n", "if", "use_sigmoid", ":", "\n", "            ", "self", ".", "net", ".", "append", "(", "nn", ".", "Sigmoid", "(", ")", ")", "\n", "\n", "", "self", ".", "net", "=", "nn", ".", "Sequential", "(", "*", "self", ".", "net", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.PixelDiscriminator.forward": [[442, 444], ["networks.PixelDiscriminator.net"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "input", ")", ":", "\n", "        ", "return", "self", ".", "net", "(", "input", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.BasicBlock_orj.__init__": [[467, 478], ["torch.Module.__init__", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "networks.conv3x3", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "networks.conv3x3", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.conv3x3", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.conv3x3"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ")", ":", "\n", "        ", "super", "(", "BasicBlock_orj", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "rp1", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "conv1", "=", "conv3x3", "(", "inplanes", ",", "planes", ",", "stride", ")", "\n", "self", ".", "in1", "=", "nn", ".", "InstanceNorm2d", "(", "planes", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "rp2", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "conv2", "=", "conv3x3", "(", "planes", ",", "planes", ")", "\n", "self", ".", "in2", "=", "nn", ".", "InstanceNorm2d", "(", "planes", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.BasicBlock_orj.forward": [[479, 499], ["networks.BasicBlock_orj.rp1", "networks.BasicBlock_orj.conv1", "networks.BasicBlock_orj.in1", "networks.BasicBlock_orj.relu", "networks.BasicBlock_orj.rp2", "networks.BasicBlock_orj.conv2", "networks.BasicBlock_orj.in2", "networks.BasicBlock_orj.relu", "networks.BasicBlock_orj.downsample"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "rp1", "(", "x", ")", "\n", "out", "=", "self", ".", "conv1", "(", "out", ")", "\n", "out", "=", "self", ".", "in1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "rp2", "(", "out", ")", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "in2", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.BasicBlock_Ganilla.__init__": [[504, 535], ["torch.Module.__init__", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Dropout", "torch.Dropout", "torch.Dropout", "torch.Dropout", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["def", "__init__", "(", "self", ",", "in_planes", ",", "planes", ",", "use_dropout", ",", "stride", "=", "1", ")", ":", "\n", "        ", "super", "(", "BasicBlock_Ganilla", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "rp1", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "in_planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "padding", "=", "0", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "nn", ".", "InstanceNorm2d", "(", "planes", ")", "\n", "self", ".", "use_dropout", "=", "use_dropout", "\n", "if", "use_dropout", ":", "\n", "            ", "self", ".", "dropout", "=", "nn", ".", "Dropout", "(", "0.5", ")", "\n", "", "self", ".", "rp2", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "nn", ".", "InstanceNorm2d", "(", "planes", ")", "\n", "self", ".", "out_planes", "=", "planes", "\n", "\n", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", ")", "\n", "if", "stride", "!=", "1", "or", "in_planes", "!=", "self", ".", "expansion", "*", "planes", ":", "\n", "            ", "self", ".", "shortcut", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "in_planes", ",", "self", ".", "expansion", "*", "planes", ",", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "self", ".", "expansion", "*", "planes", ")", "\n", ")", "\n", "\n", "self", ".", "final_conv", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "ReflectionPad2d", "(", "1", ")", ",", "\n", "nn", ".", "Conv2d", "(", "self", ".", "expansion", "*", "planes", "*", "2", ",", "self", ".", "expansion", "*", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "\n", "padding", "=", "0", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "self", ".", "expansion", "*", "planes", ")", "\n", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "final_conv", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "ReflectionPad2d", "(", "1", ")", ",", "\n", "nn", ".", "Conv2d", "(", "planes", "*", "2", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "planes", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.BasicBlock_Ganilla.forward": [[537, 547], ["torch.relu", "torch.relu", "torch.relu", "torch.relu", "networks.BasicBlock_Ganilla.bn2", "networks.BasicBlock_Ganilla.shortcut", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "networks.BasicBlock_Ganilla.final_conv", "torch.relu", "torch.relu", "torch.relu", "torch.relu", "networks.BasicBlock_Ganilla.bn1", "networks.BasicBlock_Ganilla.dropout", "networks.BasicBlock_Ganilla.conv2", "networks.BasicBlock_Ganilla.conv1", "networks.BasicBlock_Ganilla.rp2", "networks.BasicBlock_Ganilla.rp1"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "out", "=", "F", ".", "relu", "(", "self", ".", "bn1", "(", "self", ".", "conv1", "(", "self", ".", "rp1", "(", "x", ")", ")", ")", ")", "\n", "if", "self", ".", "use_dropout", ":", "\n", "            ", "out", "=", "self", ".", "dropout", "(", "out", ")", "\n", "", "out", "=", "self", ".", "bn2", "(", "self", ".", "conv2", "(", "self", ".", "rp2", "(", "out", ")", ")", ")", "\n", "inputt", "=", "self", ".", "shortcut", "(", "x", ")", "\n", "catted", "=", "torch", ".", "cat", "(", "(", "out", ",", "inputt", ")", ",", "1", ")", "\n", "out", "=", "self", ".", "final_conv", "(", "catted", ")", "\n", "out", "=", "F", ".", "relu", "(", "out", ")", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.PyramidFeatures_v3.__init__": [[550, 580], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "C3_size", ",", "C4_size", ",", "C5_size", ",", "feature_size", "=", "128", ")", ":", "\n", "        ", "super", "(", "PyramidFeatures_v3", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "# upsample C5 to get P5 from the FPN paper", "\n", "self", ".", "P5_1", "=", "nn", ".", "Conv2d", "(", "C5_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P5_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "#self.rp1 = nn.ReflectionPad2d(1)", "\n", "#self.P5_2 = nn.Conv2d(feature_size, feature_size, kernel_size=3, stride=1, padding=0)", "\n", "\n", "# add P5 elementwise to C4", "\n", "self", ".", "P4_1", "=", "nn", ".", "Conv2d", "(", "C4_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P4_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "#self.rp2 = nn.ReflectionPad2d(1)", "\n", "#self.P4_2 = nn.Conv2d(feature_size, feature_size, kernel_size=3, stride=1, padding=0)", "\n", "\n", "# add P4 elementwise to C3", "\n", "self", ".", "P3_1", "=", "nn", ".", "Conv2d", "(", "C3_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P3_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "# self.rp3 = nn.ReflectionPad2d(1)", "\n", "# self.P3_2 = nn.Conv2d(feature_size, feature_size, kernel_size=3, stride=1, padding=0)", "\n", "\n", "#self.P2_1 = nn.Conv2d(C2_size, feature_size, kernel_size=1, stride=1, padding=0)", "\n", "# self.P2_upsampled = nn.Upsample(scale_factor=2, mode='nearest')", "\n", "# self.rp4 = nn.ReflectionPad2d(1)", "\n", "# self.P2_2 = nn.Conv2d(feature_size, feature_size/2, kernel_size=3, stride=1, padding=0)", "\n", "\n", "self", ".", "P1_1", "=", "nn", ".", "Conv2d", "(", "feature_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P1_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "self", ".", "rp5", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "P1_2", "=", "nn", ".", "Conv2d", "(", "feature_size", ",", "feature_size", "/", "2", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.PyramidFeatures_v3.forward": [[581, 602], ["networks.PyramidFeatures_v3.P5_1", "networks.PyramidFeatures_v3.P5_upsampled", "networks.PyramidFeatures_v3.P4_1", "networks.PyramidFeatures_v3.P4_upsampled", "networks.PyramidFeatures_v3.P3_1", "networks.PyramidFeatures_v3.P3_upsampled", "networks.PyramidFeatures_v3.P1_1", "networks.PyramidFeatures_v3.P1_upsampled", "networks.PyramidFeatures_v3.rp5", "networks.PyramidFeatures_v3.P1_2"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "inputs", ")", ":", "\n", "\n", "        ", "C3", ",", "C4", ",", "C5", "=", "inputs", "\n", "\n", "P5_x", "=", "self", ".", "P5_1", "(", "C5", ")", "\n", "P5_upsampled_x", "=", "self", ".", "P5_upsampled", "(", "P5_x", ")", "\n", "\n", "P4_x", "=", "self", ".", "P4_1", "(", "C4", ")", "\n", "P4_x", "=", "P5_upsampled_x", "+", "P4_x", "\n", "P4_upsampled_x", "=", "self", ".", "P4_upsampled", "(", "P4_x", ")", "\n", "\n", "P3_x", "=", "self", ".", "P3_1", "(", "C3", ")", "\n", "P3_x", "=", "P3_x", "+", "P4_upsampled_x", "\n", "P3_upsampled_x", "=", "self", ".", "P3_upsampled", "(", "P3_x", ")", "\n", "\n", "P1_x", "=", "self", ".", "P1_1", "(", "P3_upsampled_x", ")", "\n", "P1_upsampled_x", "=", "self", ".", "P1_upsampled", "(", "P1_x", ")", "\n", "P2_x", "=", "self", ".", "rp5", "(", "P1_upsampled_x", ")", "\n", "P2_x", "=", "self", ".", "P1_2", "(", "P2_x", ")", "\n", "\n", "return", "P2_x", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.PyramidFeatures.__init__": [[605, 632], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "int", "int"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "C2_size", ",", "C3_size", ",", "C4_size", ",", "C5_size", ",", "fpn_weights", ",", "feature_size", "=", "128", ")", ":", "\n", "        ", "super", "(", "PyramidFeatures", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "sum_weights", "=", "fpn_weights", "#[1.0, 0.5, 0.5, 0.5]", "\n", "\n", "# upsample C5 to get P5 from the FPN paper", "\n", "self", ".", "P5_1", "=", "nn", ".", "Conv2d", "(", "C5_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P5_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "#self.rp1 = nn.ReflectionPad2d(1)", "\n", "#self.P5_2 = nn.Conv2d(feature_size, feature_size, kernel_size=3, stride=1, padding=0)", "\n", "\n", "# add P5 elementwise to C4", "\n", "self", ".", "P4_1", "=", "nn", ".", "Conv2d", "(", "C4_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P4_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "#self.rp2 = nn.ReflectionPad2d(1)", "\n", "#self.P4_2 = nn.Conv2d(feature_size, feature_size, kernel_size=3, stride=1, padding=0)", "\n", "\n", "# add P4 elementwise to C3", "\n", "self", ".", "P3_1", "=", "nn", ".", "Conv2d", "(", "C3_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P3_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "#self.rp3 = nn.ReflectionPad2d(1)", "\n", "#self.P3_2 = nn.Conv2d(feature_size, feature_size, kernel_size=3, stride=1, padding=0)", "\n", "\n", "self", ".", "P2_1", "=", "nn", ".", "Conv2d", "(", "C2_size", ",", "feature_size", ",", "kernel_size", "=", "1", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "self", ".", "P2_upsampled", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'nearest'", ")", "\n", "self", ".", "rp4", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "P2_2", "=", "nn", ".", "Conv2d", "(", "int", "(", "feature_size", ")", ",", "int", "(", "feature_size", "/", "2", ")", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.PyramidFeatures.forward": [[639, 668], ["networks.PyramidFeatures.P5_upsampled", "networks.PyramidFeatures.P4_upsampled", "networks.PyramidFeatures.P3_upsampled", "networks.PyramidFeatures.P2_upsampled", "networks.PyramidFeatures.rp4", "networks.PyramidFeatures.P2_2", "networks.PyramidFeatures.P5_1", "networks.PyramidFeatures.P4_1", "networks.PyramidFeatures.P3_1", "networks.PyramidFeatures.P2_1"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "inputs", ")", ":", "\n", "\n", "        ", "C2", ",", "C3", ",", "C4", ",", "C5", "=", "inputs", "\n", "\n", "i", "=", "0", "\n", "P5_x", "=", "self", ".", "P5_1", "(", "C5", ")", "*", "self", ".", "sum_weights", "[", "i", "]", "\n", "P5_upsampled_x", "=", "self", ".", "P5_upsampled", "(", "P5_x", ")", "\n", "#P5_x = self.rp1(P5_x)", "\n", "# #P5_x = self.P5_2(P5_x)", "\n", "i", "+=", "1", "\n", "P4_x", "=", "self", ".", "P4_1", "(", "C4", ")", "*", "self", ".", "sum_weights", "[", "i", "]", "\n", "P4_x", "=", "P5_upsampled_x", "+", "P4_x", "\n", "P4_upsampled_x", "=", "self", ".", "P4_upsampled", "(", "P4_x", ")", "\n", "#P4_x = self.rp2(P4_x)", "\n", "# #P4_x = self.P4_2(P4_x)", "\n", "i", "+=", "1", "\n", "P3_x", "=", "self", ".", "P3_1", "(", "C3", ")", "*", "self", ".", "sum_weights", "[", "i", "]", "\n", "P3_x", "=", "P3_x", "+", "P4_upsampled_x", "\n", "P3_upsampled_x", "=", "self", ".", "P3_upsampled", "(", "P3_x", ")", "\n", "#P3_x = self.rp3(P3_x)", "\n", "#P3_x = self.P3_2(P3_x)", "\n", "i", "+=", "1", "\n", "P2_x", "=", "self", ".", "P2_1", "(", "C2", ")", "*", "self", ".", "sum_weights", "[", "i", "]", "\n", "P2_x", "=", "P2_x", "+", "P3_upsampled_x", "\n", "P2_upsampled_x", "=", "self", ".", "P2_upsampled", "(", "P2_x", ")", "\n", "P2_x", "=", "self", ".", "rp4", "(", "P2_upsampled_x", ")", "\n", "out", "=", "self", ".", "P2_2", "(", "P2_x", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResNet.__init__": [[672, 724], ["torch.Module.__init__", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.MaxPool2d", "torch.MaxPool2d", "torch.MaxPool2d", "torch.MaxPool2d", "networks.PyramidFeatures", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "networks.ResNet._make_layer", "networks.ResNet._make_layer", "networks.ResNet._make_layer", "networks.ResNet._make_layer", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "networks.ResNet._make_layer_ganilla", "networks.ResNet._make_layer_ganilla", "networks.ResNet._make_layer_ganilla", "networks.ResNet._make_layer_ganilla", "print", "sys.exit"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "block", ",", "layers", ",", "use_dropout", ")", ":", "\n", "        ", "self", ".", "inplanes", "=", "ngf", "\n", "self", ".", "fpn_feature_size", "=", "128", "\n", "self", ".", "output_nc", "=", "output_nc", "\n", "\n", "super", "(", "ResNet", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "# first conv", "\n", "self", ".", "pad1", "=", "nn", ".", "ReflectionPad2d", "(", "input_nc", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "input_nc", ",", "ngf", ",", "kernel_size", "=", "7", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", "\n", "self", ".", "in1", "=", "nn", ".", "InstanceNorm2d", "(", "ngf", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "pad2", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "maxpool", "=", "nn", ".", "MaxPool2d", "(", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "0", ")", "\n", "\n", "\n", "if", "block", "==", "BasicBlock_orj", ":", "\n", "# residuals", "\n", "            ", "self", ".", "layer1", "=", "self", ".", "_make_layer", "(", "block", ",", "64", ",", "layers", "[", "0", "]", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer", "(", "block", ",", "128", ",", "layers", "[", "1", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer", "(", "block", ",", "128", ",", "layers", "[", "2", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer", "(", "block", ",", "256", ",", "layers", "[", "3", "]", ",", "stride", "=", "2", ")", "\n", "\n", "fpn_sizes", "=", "[", "self", ".", "layer1", "[", "layers", "[", "0", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer2", "[", "layers", "[", "1", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer3", "[", "layers", "[", "2", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer4", "[", "layers", "[", "3", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", "]", "\n", "\n", "", "elif", "block", "==", "BasicBlock_Ganilla", ":", "\n", "# residuals", "\n", "            ", "self", ".", "layer1", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "64", ",", "layers", "[", "0", "]", ",", "use_dropout", ",", "stride", "=", "1", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "128", ",", "layers", "[", "1", "]", ",", "use_dropout", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "128", ",", "layers", "[", "2", "]", ",", "use_dropout", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "256", ",", "layers", "[", "3", "]", ",", "use_dropout", ",", "stride", "=", "2", ")", "\n", "\n", "fpn_sizes", "=", "[", "self", ".", "layer1", "[", "layers", "[", "0", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer2", "[", "layers", "[", "1", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer3", "[", "layers", "[", "2", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer4", "[", "layers", "[", "3", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", "]", "\n", "\n", "", "else", ":", "\n", "            ", "print", "(", "\"Block Type is not Correct\"", ")", "\n", "sys", ".", "exit", "(", ")", "\n", "\n", "", "self", ".", "fpn", "=", "PyramidFeatures", "(", "fpn_sizes", "[", "0", "]", ",", "fpn_sizes", "[", "1", "]", ",", "fpn_sizes", "[", "2", "]", ",", "fpn_sizes", "[", "3", "]", ",", "fpn_weights", ",", "self", ".", "fpn_feature_size", ")", "\n", "\n", "# Output layer", "\n", "model_out", "=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", "]", "\n", "model_out", "+=", "[", "nn", ".", "Conv2d", "(", "ngf", ",", "output_nc", ",", "kernel_size", "=", "7", ",", "padding", "=", "0", ")", "]", "\n", "# model += [nn.Tanh()]", "\n", "\n", "self", ".", "model_out", "=", "nn", ".", "Sequential", "(", "*", "model_out", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResNet._make_layer": [[735, 751], ["layers.append", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "block", "layers.append", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "block"], "methods", ["None"], ["", "def", "_make_layer", "(", "self", ",", "block", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "self", ".", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "self", ".", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ")", ",", "\n", ")", "\n", "\n", "", "layers", "=", "[", "]", "\n", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ")", ")", "\n", "self", ".", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "for", "i", "in", "range", "(", "1", ",", "blocks", ")", ":", "\n", "            ", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ")", ")", "\n", "\n", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResNet._make_layer_ganilla": [[752, 759], ["torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "layers.append", "block"], "methods", ["None"], ["", "def", "_make_layer_ganilla", "(", "self", ",", "block", ",", "planes", ",", "blocks", ",", "use_dropout", ",", "stride", "=", "1", ")", ":", "\n", "        ", "strides", "=", "[", "stride", "]", "+", "[", "1", "]", "*", "(", "blocks", "-", "1", ")", "\n", "layers", "=", "[", "]", "\n", "for", "stride", "in", "strides", ":", "\n", "            ", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ",", "use_dropout", ",", "stride", ")", ")", "\n", "self", ".", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResNet.freeze_bn": [[760, 765], ["networks.ResNet.modules", "isinstance", "layer.eval"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.eval"], ["", "def", "freeze_bn", "(", "self", ")", ":", "\n", "        ", "'''Freeze BatchNorm layers.'''", "\n", "for", "layer", "in", "self", ".", "modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "layer", ",", "nn", ".", "BatchNorm2d", ")", ":", "\n", "                ", "layer", ".", "eval", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResNet.forward": [[766, 790], ["networks.ResNet.pad1", "networks.ResNet.conv1", "networks.ResNet.in1", "networks.ResNet.relu", "networks.ResNet.pad2", "networks.ResNet.maxpool", "networks.ResNet.layer1", "networks.ResNet.layer2", "networks.ResNet.layer3", "networks.ResNet.layer4", "networks.ResNet.fpn", "networks.ResNet.model_out", "torch.tanh", "torch.tanh", "torch.tanh", "torch.tanh"], "methods", ["None"], ["", "", "", "def", "forward", "(", "self", ",", "inputs", ")", ":", "\n", "\n", "        ", "img_batch", "=", "inputs", "\n", "\n", "x", "=", "self", ".", "pad1", "(", "img_batch", ")", "\n", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "in1", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "x", "=", "self", ".", "pad2", "(", "x", ")", "\n", "x", "=", "self", ".", "maxpool", "(", "x", ")", "\n", "\n", "x1", "=", "self", ".", "layer1", "(", "x", ")", "\n", "x2", "=", "self", ".", "layer2", "(", "x1", ")", "\n", "x3", "=", "self", ".", "layer3", "(", "x2", ")", "\n", "x4", "=", "self", ".", "layer4", "(", "x3", ")", "\n", "\n", "out_backbone", "=", "self", ".", "fpn", "(", "[", "x1", ",", "x2", ",", "x3", ",", "x4", "]", ")", "# use all resnet layers", "\n", "# final layers, outputs 3 channel image.", "\n", "out", "=", "self", ".", "model_out", "(", "out_backbone", ")", "\n", "\n", "final_pred", "=", "out", "\n", "final_out", "=", "F", ".", "tanh", "(", "final_pred", ")", "\n", "\n", "return", "final_out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1.__init__": [[793, 856], ["torch.Module.__init__", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.MaxPool2d", "torch.MaxPool2d", "torch.MaxPool2d", "torch.MaxPool2d", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "networks.AblationModel1._make_layer", "networks.AblationModel1._make_layer", "networks.AblationModel1._make_layer", "networks.AblationModel1._make_layer", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Tanh", "networks.AblationModel1._make_layer_ganilla", "networks.AblationModel1._make_layer_ganilla", "networks.AblationModel1._make_layer_ganilla", "networks.AblationModel1._make_layer_ganilla", "print", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "int", "int"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla"], ["    ", "def", "__init__", "(", "self", ",", "block", ",", "layers", ",", "ngf", "=", "64", ")", ":", "\n", "        ", "self", ".", "inplanes", "=", "64", "\n", "self", ".", "ngf", "=", "ngf", "\n", "super", "(", "AblationModel1", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "# first conv", "\n", "self", ".", "pad1", "=", "nn", ".", "ReflectionPad2d", "(", "3", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "3", ",", "64", ",", "kernel_size", "=", "7", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", "\n", "self", ".", "in1", "=", "nn", ".", "InstanceNorm2d", "(", "64", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "pad2", "=", "nn", ".", "ReflectionPad2d", "(", "1", ")", "\n", "self", ".", "maxpool", "=", "nn", ".", "MaxPool2d", "(", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "0", ")", "\n", "\n", "if", "block", "==", "BasicBlock_orj", ":", "\n", "# residuals", "\n", "            ", "self", ".", "layer1", "=", "self", ".", "_make_layer", "(", "block", ",", "64", ",", "layers", "[", "0", "]", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer", "(", "block", ",", "128", ",", "layers", "[", "1", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer", "(", "block", ",", "128", ",", "layers", "[", "2", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer", "(", "block", ",", "256", ",", "layers", "[", "3", "]", ",", "stride", "=", "2", ")", "\n", "\n", "fpn_sizes", "=", "[", "self", ".", "layer1", "[", "layers", "[", "0", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer2", "[", "layers", "[", "1", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer3", "[", "layers", "[", "2", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer4", "[", "layers", "[", "3", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", "]", "\n", "\n", "", "elif", "block", "==", "BasicBlock_Ganilla", ":", "\n", "# residuals", "\n", "            ", "self", ".", "layer1", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "64", ",", "layers", "[", "0", "]", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "128", ",", "layers", "[", "1", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "128", ",", "layers", "[", "2", "]", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4", "=", "self", ".", "_make_layer_ganilla", "(", "block", ",", "256", ",", "layers", "[", "3", "]", ",", "stride", "=", "2", ")", "\n", "\n", "fpn_sizes", "=", "[", "self", ".", "layer1", "[", "layers", "[", "0", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer2", "[", "layers", "[", "1", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer3", "[", "layers", "[", "2", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", ",", "\n", "self", ".", "layer4", "[", "layers", "[", "3", "]", "-", "1", "]", ".", "conv2", ".", "out_channels", "]", "\n", "\n", "", "else", ":", "\n", "            ", "print", "(", "\"Block Type is not Correct\"", ")", "\n", "\n", "# self.fpn = PyramidFeatures(fpn_sizes[0], fpn_sizes[1], fpn_sizes[2], fpn_sizes[3])", "\n", "\n", "", "n_downsampling", "=", "4", "\n", "\n", "model", "=", "[", "]", "\n", "\n", "model", "+=", "[", "nn", ".", "ReflectionPad2d", "(", "1", ")", "]", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "256", ",", "self", ".", "ngf", "*", "2", "**", "(", "n_downsampling", ")", ",", "kernel_size", "=", "3", ",", "padding", "=", "0", ")", "]", "\n", "model", "+=", "[", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "]", "\n", "\n", "for", "i", "in", "range", "(", "n_downsampling", ")", ":", "\n", "            ", "mult", "=", "2", "**", "(", "n_downsampling", "-", "i", ")", "\n", "model", "+=", "[", "nn", ".", "ConvTranspose2d", "(", "self", ".", "ngf", "*", "mult", ",", "int", "(", "self", ".", "ngf", "*", "mult", "/", "2", ")", ",", "\n", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "\n", "padding", "=", "1", ",", "output_padding", "=", "1", ",", "\n", "bias", "=", "False", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "int", "(", "self", ".", "ngf", "*", "mult", "/", "2", ")", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "", "model", "+=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", "]", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "self", ".", "ngf", ",", "3", ",", "kernel_size", "=", "7", ",", "padding", "=", "0", ")", "]", "\n", "model", "+=", "[", "nn", ".", "Tanh", "(", ")", "]", "\n", "\n", "self", ".", "deconv_part", "=", "nn", ".", "Sequential", "(", "*", "model", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer": [[867, 883], ["layers.append", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "block", "layers.append", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "block"], "methods", ["None"], ["", "def", "_make_layer", "(", "self", ",", "block", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "self", ".", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "self", ".", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ")", ",", "\n", ")", "\n", "\n", "", "layers", "=", "[", "]", "\n", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ")", ")", "\n", "self", ".", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "for", "i", "in", "range", "(", "1", ",", "blocks", ")", ":", "\n", "            ", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ")", ")", "\n", "\n", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1._make_layer_ganilla": [[884, 891], ["torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "layers.append", "block"], "methods", ["None"], ["", "def", "_make_layer_ganilla", "(", "self", ",", "block", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "strides", "=", "[", "stride", "]", "+", "[", "1", "]", "*", "(", "blocks", "-", "1", ")", "\n", "layers", "=", "[", "]", "\n", "for", "stride", "in", "strides", ":", "\n", "            ", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ",", "stride", ")", ")", "\n", "self", ".", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1.freeze_bn": [[892, 897], ["networks.AblationModel1.modules", "isinstance", "layer.eval"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.eval"], ["", "def", "freeze_bn", "(", "self", ")", ":", "\n", "        ", "'''Freeze BatchNorm layers.'''", "\n", "for", "layer", "in", "self", ".", "modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "layer", ",", "nn", ".", "BatchNorm2d", ")", ":", "\n", "                ", "layer", ".", "eval", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel1.forward": [[898, 917], ["networks.AblationModel1.pad1", "networks.AblationModel1.conv1", "networks.AblationModel1.in1", "networks.AblationModel1.relu", "networks.AblationModel1.pad2", "networks.AblationModel1.maxpool", "networks.AblationModel1.layer1", "networks.AblationModel1.layer2", "networks.AblationModel1.layer3", "networks.AblationModel1.layer4", "networks.AblationModel1.deconv_part"], "methods", ["None"], ["", "", "", "def", "forward", "(", "self", ",", "inputs", ")", ":", "\n", "\n", "        ", "img_batch", "=", "inputs", "\n", "\n", "x", "=", "self", ".", "pad1", "(", "img_batch", ")", "\n", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "in1", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "x", "=", "self", ".", "pad2", "(", "x", ")", "\n", "x", "=", "self", ".", "maxpool", "(", "x", ")", "\n", "\n", "x1", "=", "self", ".", "layer1", "(", "x", ")", "\n", "x2", "=", "self", ".", "layer2", "(", "x1", ")", "\n", "x3", "=", "self", ".", "layer3", "(", "x2", ")", "\n", "x4", "=", "self", ".", "layer4", "(", "x3", ")", "\n", "\n", "out", "=", "self", ".", "deconv_part", "(", "x4", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel2.__init__": [[920, 982], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "fpn_sizes.append", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "fpn_sizes.append", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "fpn_sizes.append", "networks.PyramidFeatures_v3", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "type", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "networks.ResnetBlock"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "ngf", "=", "64", ",", "norm_layer", "=", "nn", ".", "BatchNorm2d", ",", "use_dropout", "=", "False", ",", "n_blocks", "=", "9", ",", "padding_type", "=", "'reflect'", ")", ":", "\n", "        ", "self", ".", "inplanes", "=", "64", "\n", "self", ".", "ngf", "=", "ngf", "\n", "super", "(", "AblationModel2", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "if", "type", "(", "norm_layer", ")", "==", "functools", ".", "partial", ":", "\n", "            ", "use_bias", "=", "norm_layer", ".", "func", "==", "nn", ".", "InstanceNorm2d", "\n", "", "else", ":", "\n", "            ", "use_bias", "=", "norm_layer", "==", "nn", ".", "InstanceNorm2d", "\n", "\n", "", "self", ".", "input_nc", "=", "3", "\n", "self", ".", "output_nc", "=", "3", "\n", "\n", "fpn_sizes", "=", "[", "]", "\n", "\n", "init_part", "=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", ",", "\n", "nn", ".", "Conv2d", "(", "self", ".", "input_nc", ",", "ngf", ",", "kernel_size", "=", "7", ",", "padding", "=", "0", ",", "\n", "bias", "=", "use_bias", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "ngf", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "\n", "self", ".", "init_part", "=", "nn", ".", "Sequential", "(", "*", "init_part", ")", "\n", "fpn_sizes", ".", "append", "(", "ngf", ")", "\n", "\n", "n_downsampling", "=", "2", "\n", "# for i in range(n_downsampling):", "\n", "#     mult = 2 ** i", "\n", "mult", "=", "1", "\n", "down1", "=", "[", "nn", ".", "Conv2d", "(", "ngf", "*", "mult", ",", "ngf", "*", "mult", "*", "2", ",", "kernel_size", "=", "3", ",", "\n", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "ngf", "*", "mult", "*", "2", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "\n", "self", ".", "down1", "=", "nn", ".", "Sequential", "(", "*", "down1", ")", "\n", "\n", "fpn_sizes", ".", "append", "(", "ngf", "*", "mult", "*", "2", ")", "\n", "\n", "mult", "=", "2", "\n", "down2", "=", "[", "nn", ".", "Conv2d", "(", "ngf", "*", "mult", ",", "ngf", "*", "mult", "*", "2", ",", "kernel_size", "=", "3", ",", "\n", "stride", "=", "2", ",", "padding", "=", "1", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "ngf", "*", "mult", "*", "2", ")", ",", "\n", "nn", ".", "ReLU", "(", "True", ")", "]", "\n", "self", ".", "down2", "=", "nn", ".", "Sequential", "(", "*", "down2", ")", "\n", "\n", "# fpn_sizes.append(ngf * mult * 2)", "\n", "\n", "flat_part", "=", "[", "]", "\n", "mult", "=", "2", "**", "n_downsampling", "\n", "for", "i", "in", "range", "(", "n_blocks", ")", ":", "\n", "            ", "flat_part", "+=", "[", "ResnetBlock", "(", "ngf", "*", "mult", ",", "padding_type", "=", "padding_type", ",", "norm_layer", "=", "norm_layer", ",", "use_dropout", "=", "use_dropout", ",", "\n", "use_bias", "=", "use_bias", ")", "]", "\n", "", "self", ".", "flat_part", "=", "nn", ".", "Sequential", "(", "*", "flat_part", ")", "\n", "\n", "fpn_sizes", ".", "append", "(", "ngf", "*", "mult", ")", "\n", "\n", "self", ".", "fpn", "=", "PyramidFeatures_v3", "(", "fpn_sizes", "[", "0", "]", ",", "fpn_sizes", "[", "1", "]", ",", "fpn_sizes", "[", "2", "]", ")", "\n", "\n", "final_part", "=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", "]", "\n", "final_part", "+=", "[", "nn", ".", "Tanh", "(", ")", "]", "\n", "final_part", "+=", "[", "nn", ".", "Conv2d", "(", "self", ".", "ngf", ",", "3", ",", "kernel_size", "=", "7", ",", "padding", "=", "0", ")", "]", "\n", "\n", "self", ".", "final_part", "=", "nn", ".", "Sequential", "(", "*", "final_part", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.AblationModel2.forward": [[983, 998], ["networks.AblationModel2.init_part", "networks.AblationModel2.down1", "networks.AblationModel2.down2", "networks.AblationModel2.flat_part", "networks.AblationModel2.fpn", "networks.AblationModel2.final_part"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "inputs", ")", ":", "\n", "\n", "        ", "img_batch", "=", "inputs", "\n", "\n", "x", "=", "self", ".", "init_part", "(", "img_batch", ")", "\n", "\n", "x1", "=", "self", ".", "down1", "(", "x", ")", "\n", "x2", "=", "self", ".", "down2", "(", "x1", ")", "\n", "x3", "=", "self", ".", "flat_part", "(", "x2", ")", "\n", "\n", "out", "=", "self", ".", "fpn", "(", "[", "x", ",", "x1", ",", "x3", "]", ")", "\n", "\n", "out", "=", "self", ".", "final_part", "(", "out", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResidualBlock.__init__": [[1028, 1040], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_features", ")", ":", "\n", "        ", "super", "(", "ResidualBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "conv_block", "=", "[", "nn", ".", "ReflectionPad2d", "(", "1", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_features", ",", "in_features", ",", "3", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "in_features", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "ReflectionPad2d", "(", "1", ")", ",", "\n", "nn", ".", "Conv2d", "(", "in_features", ",", "in_features", ",", "3", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "in_features", ")", "]", "\n", "\n", "self", ".", "conv_block", "=", "nn", ".", "Sequential", "(", "*", "conv_block", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.ResidualBlock.forward": [[1041, 1043], ["networks.ResidualBlock.conv_block"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "return", "x", "+", "self", ".", "conv_block", "(", "x", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.Generator.__init__": [[1045, 1083], ["torch.Module.__init__", "range", "range", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.ReflectionPad2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU", "networks.ResidualBlock", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.ConvTranspose2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.ReLU"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ",", "output_nc", ",", "n_residual_blocks", "=", "9", ")", ":", "\n", "        ", "super", "(", "Generator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "# Initial convolution block", "\n", "model", "=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", ",", "\n", "nn", ".", "Conv2d", "(", "input_nc", ",", "64", ",", "7", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "64", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "]", "\n", "\n", "# Downsampling", "\n", "in_features", "=", "64", "\n", "out_features", "=", "in_features", "*", "2", "\n", "for", "_", "in", "range", "(", "2", ")", ":", "\n", "            ", "model", "+=", "[", "nn", ".", "Conv2d", "(", "in_features", ",", "out_features", ",", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "out_features", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "]", "\n", "in_features", "=", "out_features", "\n", "out_features", "=", "in_features", "*", "2", "\n", "\n", "# Residual blocks", "\n", "", "for", "_", "in", "range", "(", "n_residual_blocks", ")", ":", "\n", "            ", "model", "+=", "[", "ResidualBlock", "(", "in_features", ")", "]", "\n", "\n", "# Upsampling", "\n", "", "out_features", "=", "in_features", "//", "2", "\n", "for", "_", "in", "range", "(", "2", ")", ":", "\n", "            ", "model", "+=", "[", "nn", ".", "ConvTranspose2d", "(", "in_features", ",", "out_features", ",", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ",", "output_padding", "=", "1", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "out_features", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "]", "\n", "in_features", "=", "out_features", "\n", "out_features", "=", "in_features", "//", "2", "\n", "\n", "# Output layer", "\n", "", "model", "+=", "[", "nn", ".", "ReflectionPad2d", "(", "3", ")", ",", "\n", "nn", ".", "Conv2d", "(", "64", ",", "output_nc", ",", "7", ")", ",", "\n", "nn", ".", "Tanh", "(", ")", "]", "\n", "\n", "self", ".", "model", "=", "nn", ".", "Sequential", "(", "*", "model", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.Generator.forward": [[1084, 1086], ["networks.Generator.model"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "return", "self", ".", "model", "(", "x", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.Discriminator.__init__": [[1088, 1111], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.InstanceNorm2d", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.LeakyReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ",", "input_nc", ")", ":", "\n", "        ", "super", "(", "Discriminator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "# A bunch of convolutions one after another", "\n", "model", "=", "[", "nn", ".", "Conv2d", "(", "input_nc", ",", "64", ",", "4", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "inplace", "=", "True", ")", "]", "\n", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "64", ",", "128", ",", "4", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "128", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "inplace", "=", "True", ")", "]", "\n", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "128", ",", "256", ",", "4", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "256", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "inplace", "=", "True", ")", "]", "\n", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "256", ",", "512", ",", "4", ",", "padding", "=", "1", ")", ",", "\n", "nn", ".", "InstanceNorm2d", "(", "512", ")", ",", "\n", "nn", ".", "LeakyReLU", "(", "0.2", ",", "inplace", "=", "True", ")", "]", "\n", "\n", "# FCN classification layer", "\n", "model", "+=", "[", "nn", ".", "Conv2d", "(", "512", ",", "1", ",", "4", ",", "padding", "=", "1", ")", "]", "\n", "\n", "self", ".", "model", "=", "nn", ".", "Sequential", "(", "*", "model", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.Discriminator.forward": [[1112, 1116], ["networks.Discriminator.model", "torch.avg_pool2d().view", "torch.avg_pool2d().view", "torch.avg_pool2d().view", "torch.avg_pool2d().view", "torch.avg_pool2d", "torch.avg_pool2d", "torch.avg_pool2d", "torch.avg_pool2d", "networks.Discriminator.size", "networks.Discriminator.size"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "model", "(", "x", ")", "\n", "# Average pooling and flatten", "\n", "return", "F", ".", "avg_pool2d", "(", "x", ",", "x", ".", "size", "(", ")", "[", "2", ":", "]", ")", ".", "view", "(", "x", ".", "size", "(", ")", "[", "0", "]", ",", "-", "1", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.get_norm_layer": [[18, 28], ["functools.partial", "functools.partial", "NotImplementedError"], "function", ["None"], ["def", "get_norm_layer", "(", "norm_type", "=", "'instance'", ")", ":", "\n", "    ", "if", "norm_type", "==", "'batch'", ":", "\n", "        ", "norm_layer", "=", "functools", ".", "partial", "(", "nn", ".", "BatchNorm2d", ",", "affine", "=", "True", ")", "\n", "", "elif", "norm_type", "==", "'instance'", ":", "\n", "        ", "norm_layer", "=", "functools", ".", "partial", "(", "nn", ".", "InstanceNorm2d", ",", "affine", "=", "False", ",", "track_running_stats", "=", "False", ")", "\n", "", "elif", "norm_type", "==", "'none'", ":", "\n", "        ", "norm_layer", "=", "None", "\n", "", "else", ":", "\n", "        ", "raise", "NotImplementedError", "(", "'normalization layer [%s] is not found'", "%", "norm_type", ")", "\n", "", "return", "norm_layer", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.get_scheduler": [[30, 45], ["torch.optim.lr_scheduler.LambdaLR", "torch.optim.lr_scheduler.StepLR", "torch.optim.lr_scheduler.ReduceLROnPlateau", "max", "float", "torch.optim.lr_scheduler.CosineAnnealingLR", "NotImplementedError"], "function", ["None"], ["", "def", "get_scheduler", "(", "optimizer", ",", "opt", ")", ":", "\n", "    ", "if", "opt", ".", "lr_policy", "==", "'lambda'", ":", "\n", "        ", "def", "lambda_rule", "(", "epoch", ")", ":", "\n", "            ", "lr_l", "=", "1.0", "-", "max", "(", "0", ",", "epoch", "+", "opt", ".", "epoch_count", "-", "opt", ".", "niter", ")", "/", "float", "(", "opt", ".", "niter_decay", "+", "1", ")", "\n", "return", "lr_l", "\n", "", "scheduler", "=", "lr_scheduler", ".", "LambdaLR", "(", "optimizer", ",", "lr_lambda", "=", "lambda_rule", ")", "\n", "", "elif", "opt", ".", "lr_policy", "==", "'step'", ":", "\n", "        ", "scheduler", "=", "lr_scheduler", ".", "StepLR", "(", "optimizer", ",", "step_size", "=", "opt", ".", "lr_decay_iters", ",", "gamma", "=", "0.1", ")", "\n", "", "elif", "opt", ".", "lr_policy", "==", "'plateau'", ":", "\n", "        ", "scheduler", "=", "lr_scheduler", ".", "ReduceLROnPlateau", "(", "optimizer", ",", "mode", "=", "'min'", ",", "factor", "=", "0.2", ",", "threshold", "=", "0.01", ",", "patience", "=", "5", ")", "\n", "", "elif", "opt", ".", "lr_policy", "==", "'cosine'", ":", "\n", "        ", "scheduler", "=", "lr_scheduler", ".", "CosineAnnealingLR", "(", "optimizer", ",", "T_max", "=", "opt", ".", "niter", ",", "eta_min", "=", "0", ")", "\n", "", "else", ":", "\n", "        ", "return", "NotImplementedError", "(", "'learning rate policy [%s] is not implemented'", ",", "opt", ".", "lr_policy", ")", "\n", "", "return", "scheduler", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.init_weights": [[47, 69], ["print", "net.apply", "hasattr", "torch.nn.init.normal_", "hasattr", "torch.nn.init.constant_", "classname.find", "torch.nn.init.normal_", "torch.nn.init.constant_", "classname.find", "classname.find", "torch.nn.init.xavier_normal_", "torch.nn.init.kaiming_normal_", "torch.nn.init.orthogonal_", "NotImplementedError"], "function", ["None"], ["", "def", "init_weights", "(", "net", ",", "init_type", "=", "'normal'", ",", "gain", "=", "0.02", ")", ":", "\n", "    ", "def", "init_func", "(", "m", ")", ":", "\n", "        ", "classname", "=", "m", ".", "__class__", ".", "__name__", "\n", "if", "hasattr", "(", "m", ",", "'weight'", ")", "and", "(", "classname", ".", "find", "(", "'Conv'", ")", "!=", "-", "1", "or", "classname", ".", "find", "(", "'Linear'", ")", "!=", "-", "1", ")", ":", "\n", "            ", "if", "init_type", "==", "'normal'", ":", "\n", "                ", "init", ".", "normal_", "(", "m", ".", "weight", ".", "data", ",", "0.0", ",", "gain", ")", "\n", "", "elif", "init_type", "==", "'xavier'", ":", "\n", "                ", "init", ".", "xavier_normal_", "(", "m", ".", "weight", ".", "data", ",", "gain", "=", "gain", ")", "\n", "", "elif", "init_type", "==", "'kaiming'", ":", "\n", "                ", "init", ".", "kaiming_normal_", "(", "m", ".", "weight", ".", "data", ",", "a", "=", "0", ",", "mode", "=", "'fan_in'", ")", "\n", "", "elif", "init_type", "==", "'orthogonal'", ":", "\n", "                ", "init", ".", "orthogonal_", "(", "m", ".", "weight", ".", "data", ",", "gain", "=", "gain", ")", "\n", "", "else", ":", "\n", "                ", "raise", "NotImplementedError", "(", "'initialization method [%s] is not implemented'", "%", "init_type", ")", "\n", "", "if", "hasattr", "(", "m", ",", "'bias'", ")", "and", "m", ".", "bias", "is", "not", "None", ":", "\n", "                ", "init", ".", "constant_", "(", "m", ".", "bias", ".", "data", ",", "0.0", ")", "\n", "", "", "elif", "classname", ".", "find", "(", "'BatchNorm2d'", ")", "!=", "-", "1", ":", "\n", "            ", "init", ".", "normal_", "(", "m", ".", "weight", ".", "data", ",", "1.0", ",", "gain", ")", "\n", "init", ".", "constant_", "(", "m", ".", "bias", ".", "data", ",", "0.0", ")", "\n", "\n", "", "", "print", "(", "'initialize network with %s'", "%", "init_type", ")", "\n", "net", ".", "apply", "(", "init_func", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.init_net": [[71, 78], ["networks.init_weights", "len", "torch.cuda.is_available", "torch.cuda.is_available", "torch.cuda.is_available", "torch.cuda.is_available", "torch.nn.DataParallel.to", "torch.nn.DataParallel", "torch.nn.DataParallel", "torch.nn.DataParallel", "torch.nn.DataParallel"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.init_weights"], ["", "def", "init_net", "(", "net", ",", "init_type", "=", "'normal'", ",", "init_gain", "=", "0.02", ",", "gpu_ids", "=", "[", "]", ")", ":", "\n", "    ", "if", "len", "(", "gpu_ids", ")", ">", "0", ":", "\n", "        ", "assert", "(", "torch", ".", "cuda", ".", "is_available", "(", ")", ")", "\n", "net", ".", "to", "(", "gpu_ids", "[", "0", "]", ")", "\n", "net", "=", "torch", ".", "nn", ".", "DataParallel", "(", "net", ",", "gpu_ids", ")", "\n", "", "init_weights", "(", "net", ",", "init_type", ",", "gain", "=", "init_gain", ")", "\n", "return", "net", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_G": [[80, 114], ["networks.get_norm_layer", "networks.init_net", "networks.ResnetGenerator", "networks.ResnetGenerator", "networks.resnet18", "networks.AblationModel1", "networks.resnet34", "networks.AblationModel2", "networks.UnetGenerator", "networks.UnetGenerator", "NotImplementedError"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.get_norm_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.init_net", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.resnet18", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.resnet34"], ["", "def", "define_G", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "netG", ",", "norm", "=", "'batch'", ",", "use_dropout", "=", "False", ",", "init_type", "=", "'normal'", ",", "\n", "init_gain", "=", "0.02", ",", "gpu_ids", "=", "[", "]", ",", "depth", "=", "18", ",", "\n", "fpn_weights", "=", "[", "1.0", ",", "1.0", ",", "1.0", ",", "1.0", "]", ")", ":", "\n", "    ", "net", "=", "None", "\n", "norm_layer", "=", "get_norm_layer", "(", "norm_type", "=", "norm", ")", "\n", "\n", "if", "netG", "==", "'resnet_9blocks'", ":", "\n", "        ", "net", "=", "ResnetGenerator", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "norm_layer", "=", "norm_layer", ",", "\n", "use_dropout", "=", "use_dropout", ",", "n_blocks", "=", "9", ")", "\n", "", "elif", "netG", "==", "'resnet_6blocks'", ":", "\n", "        ", "net", "=", "ResnetGenerator", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "norm_layer", "=", "norm_layer", ",", "\n", "use_dropout", "=", "use_dropout", ",", "n_blocks", "=", "6", ")", "\n", "", "elif", "netG", "==", "'resnet_fpn'", ":", "\n", "# Create the model", "\n", "        ", "if", "depth", "==", "18", ":", "\n", "            ", "net", "=", "resnet18", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "\n", "use_dropout", "=", "use_dropout", ",", "pretrained", "=", "False", ")", "\n", "# print \"EVET\"", "\n", "# netG_B2A = resnet18(pretrained=False)", "\n", "", "elif", "depth", "==", "34", ":", "\n", "            ", "net", "=", "resnet34", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "\n", "use_dropout", "=", "use_dropout", ",", "pretrained", "=", "False", ")", "\n", "# netG_B2A = resnet34(pretrained=False)", "\n", "", "", "elif", "netG", "==", "\"ablation_model1\"", ":", "\n", "        ", "net", "=", "AblationModel1", "(", "BasicBlock_Ganilla", ",", "[", "2", ",", "2", ",", "2", ",", "2", "]", ")", "\n", "", "elif", "netG", "==", "\"ablation_model2\"", ":", "\n", "        ", "net", "=", "AblationModel2", "(", "ngf", ",", "norm_layer", "=", "norm_layer", ",", "use_dropout", "=", "use_dropout", ",", "n_blocks", "=", "9", ")", "\n", "", "elif", "netG", "==", "'unet_128'", ":", "\n", "        ", "net", "=", "UnetGenerator", "(", "input_nc", ",", "output_nc", ",", "7", ",", "ngf", ",", "norm_layer", "=", "norm_layer", ",", "use_dropout", "=", "use_dropout", ")", "\n", "", "elif", "netG", "==", "'unet_256'", ":", "\n", "        ", "net", "=", "UnetGenerator", "(", "input_nc", ",", "output_nc", ",", "8", ",", "ngf", ",", "norm_layer", "=", "norm_layer", ",", "use_dropout", "=", "use_dropout", ")", "\n", "", "else", ":", "\n", "        ", "raise", "NotImplementedError", "(", "'Generator model name [%s] is not recognized'", "%", "netG", ")", "\n", "", "return", "init_net", "(", "net", ",", "init_type", ",", "init_gain", ",", "gpu_ids", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D": [[116, 130], ["networks.get_norm_layer", "networks.init_net", "networks.NLayerDiscriminator", "networks.NLayerDiscriminator", "networks.PixelDiscriminator", "NotImplementedError"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.get_norm_layer", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.init_net"], ["", "def", "define_D", "(", "input_nc", ",", "ndf", ",", "netD", ",", "\n", "n_layers_D", "=", "3", ",", "norm", "=", "'batch'", ",", "use_sigmoid", "=", "False", ",", "init_type", "=", "'normal'", ",", "init_gain", "=", "0.02", ",", "gpu_ids", "=", "[", "]", ")", ":", "\n", "    ", "net", "=", "None", "\n", "norm_layer", "=", "get_norm_layer", "(", "norm_type", "=", "norm", ")", "\n", "\n", "if", "netD", "==", "'basic'", ":", "\n", "        ", "net", "=", "NLayerDiscriminator", "(", "input_nc", ",", "ndf", ",", "n_layers", "=", "3", ",", "norm_layer", "=", "norm_layer", ",", "use_sigmoid", "=", "use_sigmoid", ")", "\n", "", "elif", "netD", "==", "'n_layers'", ":", "\n", "        ", "net", "=", "NLayerDiscriminator", "(", "input_nc", ",", "ndf", ",", "n_layers_D", ",", "norm_layer", "=", "norm_layer", ",", "use_sigmoid", "=", "use_sigmoid", ")", "\n", "", "elif", "netD", "==", "'pixel'", ":", "\n", "        ", "net", "=", "PixelDiscriminator", "(", "input_nc", ",", "ndf", ",", "norm_layer", "=", "norm_layer", ",", "use_sigmoid", "=", "use_sigmoid", ")", "\n", "", "else", ":", "\n", "        ", "raise", "NotImplementedError", "(", "'Discriminator model name [%s] is not recognized'", "%", "net", ")", "\n", "", "return", "init_net", "(", "net", ",", "init_type", ",", "init_gain", ",", "gpu_ids", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.conv3x3": [[458, 462], ["torch.Conv2d"], "function", ["None"], ["def", "conv3x3", "(", "in_planes", ",", "out_planes", ",", "stride", "=", "1", ")", ":", "\n", "    ", "\"\"\"3x3 convolution with padding\"\"\"", "\n", "return", "nn", ".", "Conv2d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "0", ",", "bias", "=", "True", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.resnet18": [[1000, 1011], ["networks.ResNet", "ResNet.load_state_dict", "torch.load_url"], "function", ["None"], ["", "", "def", "resnet18", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "use_dropout", ",", "pretrained", "=", "False", ",", "\n", "**", "kwargs", ")", ":", "\n", "    ", "\"\"\"Constructs a ResNet-18 model.\n    Args:\n        pretrained (bool): If True, returns a model pre-trained on ImageNet\n    \"\"\"", "\n", "model", "=", "ResNet", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "BasicBlock_Ganilla", ",", "[", "2", ",", "2", ",", "2", ",", "2", "]", ",", "use_dropout", ",", "\n", "**", "kwargs", ")", "\n", "if", "pretrained", ":", "\n", "        ", "model", ".", "load_state_dict", "(", "model_zoo", ".", "load_url", "(", "model_urls", "[", "'resnet18'", "]", ",", "model_dir", "=", "'.'", ")", ",", "strict", "=", "False", ")", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.resnet34": [[1013, 1024], ["networks.ResNet", "ResNet.load_state_dict", "torch.load_url"], "function", ["None"], ["", "def", "resnet34", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "use_dropout", "=", "False", ",", "pretrained", "=", "False", ",", "\n", "**", "kwargs", ")", ":", "\n", "    ", "\"\"\"Constructs a ResNet-34 model.\n    Args:\n        pretrained (bool): If True, returns a model pre-trained on ImageNet\n    \"\"\"", "\n", "model", "=", "ResNet", "(", "input_nc", ",", "output_nc", ",", "ngf", ",", "fpn_weights", ",", "BasicBlock_Ganilla", ",", "[", "3", ",", "4", ",", "6", ",", "3", "]", ",", "use_dropout", "=", "use_dropout", ",", "\n", "**", "kwargs", ")", "\n", "if", "pretrained", ":", "\n", "        ", "model", ".", "load_state_dict", "(", "model_zoo", ".", "load_url", "(", "model_urls", "[", "'resnet34'", "]", ",", "model_dir", "=", "'.'", ")", ",", "strict", "=", "False", ")", "\n", "", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.test_model.TestModel.name": [[7, 9], ["None"], "methods", ["None"], ["    ", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'TestModel'", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.test_model.TestModel.modify_commandline_options": [[10, 21], ["cycle_gan_model.CycleGANModel.modify_commandline_options", "cycle_gan_model.CycleGANModel.modify_commandline_options.add_argument"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.modify_commandline_options"], ["", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", "=", "True", ")", ":", "\n", "        ", "assert", "not", "is_train", ",", "'TestModel cannot be used in train mode'", "\n", "parser", "=", "CycleGANModel", ".", "modify_commandline_options", "(", "parser", ",", "is_train", "=", "False", ")", "\n", "# parser.set_defaults(dataset_mode='aligned') # TODO", "\n", "\n", "parser", ".", "add_argument", "(", "'--model_suffix'", ",", "type", "=", "str", ",", "default", "=", "''", ",", "\n", "help", "=", "'In checkpoints_dir, [epoch]_net_G[model_suffix].pth will'", "\n", "' be loaded as the generator of TestModel'", ")", "\n", "\n", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.test_model.TestModel.initialize": [[22, 42], ["base_model.BaseModel.initialize", "networks.define_G", "setattr", "test_model.TestModel.netG.eval"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_G", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.eval"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "assert", "(", "not", "opt", ".", "isTrain", ")", "\n", "BaseModel", ".", "initialize", "(", "self", ",", "opt", ")", "\n", "self", ".", "opt", "=", "opt", "\n", "\n", "# specify the training losses you want to print out. The program will call base_model.get_current_losses", "\n", "self", ".", "loss_names", "=", "[", "]", "\n", "# specify the images you want to save/display. The program will call base_model.get_current_visuals", "\n", "self", ".", "visual_names", "=", "[", "'real_A'", ",", "'fake_B'", "]", "\n", "# specify the models you want to save to the disk. The program will call base_model.save_networks and base_model.load_networks", "\n", "self", ".", "model_names", "=", "[", "'G'", "+", "opt", ".", "model_suffix", "]", "\n", "\n", "self", ".", "netG", "=", "networks", ".", "define_G", "(", "opt", ".", "input_nc", ",", "opt", ".", "output_nc", ",", "opt", ".", "ngf", ",", "opt", ".", "netG", ",", "\n", "opt", ".", "norm", ",", "not", "opt", ".", "no_dropout", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ",", "\n", "depth", "=", "18", ",", "fpn_weights", "=", "opt", ".", "fpn_weights", ")", "\n", "\n", "# assigns the model to self.netG_[suffix] so that it can be loaded", "\n", "# please see BaseModel.load_networks", "\n", "setattr", "(", "self", ",", "'netG'", "+", "opt", ".", "model_suffix", ",", "self", ".", "netG", ")", "\n", "self", ".", "netG", ".", "eval", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.test_model.TestModel.set_input": [[43, 51], ["input[].to", "input[].to"], "methods", ["None"], ["", "def", "set_input", "(", "self", ",", "input", ")", ":", "\n", "# we need to use single_dataset mode", "\n", "        ", "if", "self", ".", "opt", ".", "direction", "==", "'BtoA'", ":", "\n", "            ", "self", ".", "real_A", "=", "input", "[", "'B'", "]", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "image_paths", "=", "input", "[", "'B_paths'", "]", "\n", "", "else", ":", "\n", "            ", "self", ".", "real_A", "=", "input", "[", "'A'", "]", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "image_paths", "=", "input", "[", "'A_paths'", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.test_model.TestModel.forward": [[52, 54], ["test_model.TestModel.netG"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ")", ":", "\n", "        ", "self", ".", "fake_B", "=", "self", ".", "netG", "(", "self", ".", "real_A", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.name": [[11, 13], ["None"], "methods", ["None"], ["    ", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'CycleGANModel'", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.modify_commandline_options": [[14, 26], ["parser.set_defaults", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", "=", "True", ")", ":", "\n", "# default CycleGAN did not use dropout", "\n", "        ", "parser", ".", "set_defaults", "(", "no_dropout", "=", "True", ")", "\n", "if", "is_train", ":", "\n", "            ", "parser", ".", "add_argument", "(", "'--lambda_A'", ",", "type", "=", "float", ",", "default", "=", "10.0", ",", "help", "=", "'weight for cycle loss (A -> B -> A)'", ")", "\n", "parser", ".", "add_argument", "(", "'--lambda_B'", ",", "type", "=", "float", ",", "default", "=", "10.0", ",", "\n", "help", "=", "'weight for cycle loss (B -> A -> B)'", ")", "\n", "parser", ".", "add_argument", "(", "'--lambda_identity'", ",", "type", "=", "float", ",", "default", "=", "0.5", ",", "help", "=", "'use identity mapping. Setting lambda_identity other than 0 has an effect of scaling the weight of the identity mapping loss. For example, if the weight of the identity loss should be 10 times smaller than the weight of the reconstruction loss, please set lambda_identity = 0.1'", ")", "\n", "parser", ".", "add_argument", "(", "'--lambda_Seg'", ",", "type", "=", "float", ",", "default", "=", "10.0", ",", "help", "=", "'weight for seg discriminator'", ")", "\n", "\n", "", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.initialize": [[27, 144], ["base_model.BaseModel.initialize", "networks.define_G", "networks.define_G", "visual_names_A.append", "visual_names_B.append", "segmentation.detectron2.panoptic_segmenter.PanopticSegmenter", "networks.define_D", "networks.define_D", "util.image_pool.ImagePool", "util.image_pool.ImagePool", "networks.GANLoss().to", "torch.nn.L1Loss", "torch.nn.L1Loss", "torch.optim.Adam", "torch.optim.Adam", "cycle_gan_model.CycleGANModel.optimizers.append", "cycle_gan_model.CycleGANModel.optimizers.append", "itertools.chain", "itertools.chain", "util.image_pool.ImagePool", "networks.define_D", "cycle_gan_model.CycleGANModel.loss_names.append", "cycle_gan_model.CycleGANModel.model_names.append", "torch.optim.Adam", "cycle_gan_model.CycleGANModel.optimizers.append", "networks.GANLoss", "cycle_gan_model.CycleGANModel.netG_A.parameters", "cycle_gan_model.CycleGANModel.netG_B.parameters", "cycle_gan_model.CycleGANModel.netD_A.parameters", "cycle_gan_model.CycleGANModel.netD_B.parameters", "itertools.chain", "util.image_pool.ImagePool", "networks.define_D", "cycle_gan_model.CycleGANModel.loss_names.append", "cycle_gan_model.CycleGANModel.model_names.append", "torch.optim.Adam", "cycle_gan_model.CycleGANModel.optimizers.append", "util.image_pool.ImagePool", "util.image_pool.ImagePool", "networks.define_D", "networks.define_D", "cycle_gan_model.CycleGANModel.loss_names.append", "cycle_gan_model.CycleGANModel.loss_names.append", "cycle_gan_model.CycleGANModel.model_names.append", "cycle_gan_model.CycleGANModel.model_names.append", "torch.optim.Adam", "cycle_gan_model.CycleGANModel.optimizers.append", "cycle_gan_model.CycleGANModel.netD_Seg.parameters", "itertools.chain", "itertools.chain", "cycle_gan_model.CycleGANModel.netD_Seg2.parameters", "cycle_gan_model.CycleGANModel.netD_Seg.parameters", "cycle_gan_model.CycleGANModel.netD_Seg2.parameters"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_G", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_G", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "BaseModel", ".", "initialize", "(", "self", ",", "opt", ")", "\n", "\n", "self", ".", "lambda_Seg", "=", "opt", ".", "lambda_Seg", "\n", "self", ".", "segmentation", "=", "opt", ".", "segmentation", "\n", "\n", "# specify the training losses you want to print out. The program will call base_model.get_current_losses", "\n", "self", ".", "loss_names", "=", "[", "'D_A'", ",", "'G_A'", ",", "'cycle_A'", ",", "'idt_A'", ",", "'D_B'", ",", "'G_B'", ",", "'cycle_B'", ",", "'idt_B'", "]", "\n", "\n", "# specify the images you want to save/display. The program will call base_model.get_current_visuals", "\n", "visual_names_A", "=", "[", "'real_A'", ",", "'fake_B'", ",", "'rec_A'", "]", "\n", "visual_names_B", "=", "[", "'real_B'", ",", "'fake_A'", ",", "'rec_B'", "]", "\n", "if", "self", ".", "isTrain", "and", "self", ".", "opt", ".", "lambda_identity", ">", "0.0", ":", "\n", "            ", "visual_names_A", ".", "append", "(", "'idt_A'", ")", "\n", "visual_names_B", ".", "append", "(", "'idt_B'", ")", "\n", "\n", "", "self", ".", "visual_names", "=", "visual_names_A", "+", "visual_names_B", "\n", "# specify the models you want to save to the disk. The program will call base_model.save_networks and base_model.load_networks", "\n", "if", "self", ".", "isTrain", ":", "\n", "            ", "self", ".", "model_names", "=", "[", "'G_A'", ",", "'G_B'", ",", "'D_A'", ",", "'D_B'", "]", "\n", "", "else", ":", "# during test time, only load Gs", "\n", "            ", "self", ".", "model_names", "=", "[", "'G_A'", ",", "'G_B'", "]", "\n", "\n", "# load/define networks", "\n", "# The naming conversion is different from those used in the paper", "\n", "# Code (paper): G_A (G), G_B (F), D_A (D_Y), D_B (D_X)", "\n", "", "self", ".", "netG_A", "=", "networks", ".", "define_G", "(", "opt", ".", "input_nc", ",", "opt", ".", "output_nc", ",", "opt", ".", "ngf", ",", "opt", ".", "netG", ",", "opt", ".", "norm", ",", "\n", "not", "opt", ".", "no_dropout", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ",", "depth", "=", "18", ",", "\n", "fpn_weights", "=", "opt", ".", "fpn_weights", ")", "\n", "self", ".", "netG_B", "=", "networks", ".", "define_G", "(", "opt", ".", "output_nc", ",", "opt", ".", "input_nc", ",", "opt", ".", "ngf", ",", "opt", ".", "netG", ",", "opt", ".", "norm", ",", "\n", "not", "opt", ".", "no_dropout", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ",", "depth", "=", "18", ",", "\n", "fpn_weights", "=", "opt", ".", "fpn_weights", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "# detectron2 segmenter", "\n", "            ", "self", ".", "segModel", "=", "panoptic_segmenter", ".", "PanopticSegmenter", "(", "opt", ".", "segmentation_output", ")", "\n", "\n", "", "if", "self", ".", "isTrain", ":", "\n", "            ", "self", ".", "optimizers", "=", "[", "]", "\n", "\n", "use_sigmoid", "=", "opt", ".", "no_lsgan", "\n", "self", ".", "netD_A", "=", "networks", ".", "define_D", "(", "opt", ".", "output_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ")", "\n", "self", ".", "netD_B", "=", "networks", ".", "define_D", "(", "opt", ".", "input_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "                ", "if", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                    ", "self", ".", "fake_seg_pool_binary", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "out_seg_cls", "=", "3", "\n", "self", ".", "netD_Seg", "=", "networks", ".", "define_D", "(", "out_seg_cls", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "\n", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg'", ")", "\n", "\n", "self", ".", "optimizer_D_Seg", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_Seg", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D_Seg", ")", "\n", "\n", "", "elif", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                    ", "self", ".", "fake_seg_pool_multi_class", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "out_seg_cls", "=", "135", "\n", "self", ".", "netD_Seg2", "=", "networks", ".", "define_D", "(", "out_seg_cls", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "\n", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "\n", "self", ".", "optimizer_D_Seg", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_Seg2", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D_Seg", ")", "\n", "\n", "", "else", ":", "\n", "                    ", "self", ".", "fake_seg_pool_binary", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "self", ".", "fake_seg_pool_multi_class", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "\n", "out_seg_cls_binary", "=", "3", "\n", "out_seg_cls_multi_class", "=", "135", "\n", "self", ".", "netD_Seg", "=", "networks", ".", "define_D", "(", "out_seg_cls_binary", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "netD_Seg2", "=", "networks", ".", "define_D", "(", "out_seg_cls_multi_class", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "\n", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg'", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "\n", "self", ".", "optimizer_D_Seg", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_Seg", ".", "parameters", "(", ")", ",", "\n", "self", ".", "netD_Seg2", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D_Seg", ")", "\n", "\n", "", "", "", "if", "self", ".", "isTrain", ":", "\n", "\n", "            ", "self", ".", "fake_A_pool", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "self", ".", "fake_B_pool", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "\n", "# define loss functions", "\n", "self", ".", "criterionGAN", "=", "networks", ".", "GANLoss", "(", "use_lsgan", "=", "not", "opt", ".", "no_lsgan", ")", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "criterionCycle", "=", "torch", ".", "nn", ".", "L1Loss", "(", ")", "\n", "self", ".", "criterionIdt", "=", "torch", ".", "nn", ".", "L1Loss", "(", ")", "\n", "# initialize optimizers", "\n", "self", ".", "optimizer_G", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netG_A", ".", "parameters", "(", ")", ",", "\n", "self", ".", "netG_B", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizer_D", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_A", ".", "parameters", "(", ")", ",", "\n", "self", ".", "netD_B", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_G", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.set_input": [[145, 150], ["input[].to", "input[].to"], "methods", ["None"], ["", "", "def", "set_input", "(", "self", ",", "input", ")", ":", "\n", "        ", "AtoB", "=", "self", ".", "opt", ".", "direction", "==", "'AtoB'", "\n", "self", ".", "real_A", "=", "input", "[", "'A'", "if", "AtoB", "else", "'B'", "]", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "real_B", "=", "input", "[", "'B'", "if", "AtoB", "else", "'A'", "]", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "image_paths", "=", "input", "[", "'A_paths'", "if", "AtoB", "else", "'B_paths'", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.forward": [[151, 161], ["cycle_gan_model.CycleGANModel.netG_A", "cycle_gan_model.CycleGANModel.netG_B", "cycle_gan_model.CycleGANModel.netG_B", "cycle_gan_model.CycleGANModel.netG_A", "cycle_gan_model.CycleGANModel.segModel.segment_images", "cycle_gan_model.CycleGANModel.segModel.segment_images"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.segment_images", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.segment_images"], ["", "def", "forward", "(", "self", ")", ":", "\n", "        ", "self", ".", "fake_B", "=", "self", ".", "netG_A", "(", "self", ".", "real_A", ")", "\n", "self", ".", "rec_A", "=", "self", ".", "netG_B", "(", "self", ".", "fake_B", ")", "\n", "\n", "self", ".", "fake_A", "=", "self", ".", "netG_B", "(", "self", ".", "real_B", ")", "\n", "self", ".", "rec_B", "=", "self", ".", "netG_A", "(", "self", ".", "fake_A", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "self", ".", "fake_B_seg_binary", ",", "self", ".", "fake_B_seg_multi_class", "=", "self", ".", "segModel", ".", "segment_images", "(", "self", ".", "fake_B", ")", "\n", "self", ".", "real_B_seg_binary", ",", "self", ".", "real_B_seg_multi_class", "=", "self", ".", "segModel", ".", "segment_images", "(", "self", ".", "real_B", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_basic": [[162, 174], ["netD", "cycle_gan_model.CycleGANModel.criterionGAN", "netD", "cycle_gan_model.CycleGANModel.criterionGAN", "loss_D.backward", "fake.detach"], "methods", ["None"], ["", "", "def", "backward_D_basic", "(", "self", ",", "netD", ",", "real", ",", "fake", ")", ":", "\n", "# Real", "\n", "        ", "pred_real", "=", "netD", "(", "real", ")", "\n", "loss_D_real", "=", "self", ".", "criterionGAN", "(", "pred_real", ",", "True", ")", "\n", "# Fake", "\n", "pred_fake", "=", "netD", "(", "fake", ".", "detach", "(", ")", ")", "\n", "loss_D_fake", "=", "self", ".", "criterionGAN", "(", "pred_fake", ",", "False", ")", "\n", "# Combined loss", "\n", "loss_D", "=", "(", "loss_D_real", "+", "loss_D_fake", ")", "*", "0.5", "\n", "# backward", "\n", "loss_D", ".", "backward", "(", ")", "\n", "return", "loss_D", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_A": [[175, 178], ["cycle_gan_model.CycleGANModel.fake_B_pool.query", "cycle_gan_model.CycleGANModel.backward_D_basic"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_A", "(", "self", ")", ":", "\n", "        ", "fake_B", "=", "self", ".", "fake_B_pool", ".", "query", "(", "self", ".", "fake_B", ")", "\n", "self", ".", "loss_D_A", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD_A", ",", "self", ".", "real_B", ",", "fake_B", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_B": [[179, 182], ["cycle_gan_model.CycleGANModel.fake_A_pool.query", "cycle_gan_model.CycleGANModel.backward_D_basic"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_B", "(", "self", ")", ":", "\n", "        ", "fake_A", "=", "self", ".", "fake_A_pool", ".", "query", "(", "self", ".", "fake_A", ")", "\n", "self", ".", "loss_D_B", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD_B", ",", "self", ".", "real_A", ",", "fake_A", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_Seg_binary": [[183, 186], ["cycle_gan_model.CycleGANModel.fake_seg_pool_binary.query", "cycle_gan_model.CycleGANModel.backward_D_basic"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_Seg_binary", "(", "self", ")", ":", "\n", "        ", "fake_B_seg", "=", "self", ".", "fake_seg_pool_binary", ".", "query", "(", "self", ".", "fake_B_seg_binary", ")", "\n", "self", ".", "loss_D_Seg", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD_Seg", ",", "self", ".", "real_B_seg_binary", ",", "fake_B_seg", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_Seg_multi_class": [[187, 190], ["cycle_gan_model.CycleGANModel.fake_seg_pool_multi_class.query", "cycle_gan_model.CycleGANModel.backward_D_basic"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_Seg_multi_class", "(", "self", ")", ":", "\n", "        ", "fake_B_seg", "=", "self", ".", "fake_seg_pool_multi_class", ".", "query", "(", "self", ".", "fake_B_seg_multi_class", ")", "\n", "self", ".", "loss_D_Seg2", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD_Seg2", ",", "self", ".", "real_B_seg_multi_class", ",", "fake_B_seg", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_G": [[191, 237], ["cycle_gan_model.CycleGANModel.criterionGAN", "cycle_gan_model.CycleGANModel.criterionGAN", "cycle_gan_model.CycleGANModel.loss_G.backward", "cycle_gan_model.CycleGANModel.netG_A", "cycle_gan_model.CycleGANModel.netG_B", "cycle_gan_model.CycleGANModel.netD_A", "cycle_gan_model.CycleGANModel.netD_B", "cycle_gan_model.CycleGANModel.criterionCycle", "cycle_gan_model.CycleGANModel.criterionCycle", "cycle_gan_model.CycleGANModel.criterionGAN", "cycle_gan_model.CycleGANModel.criterionIdt", "cycle_gan_model.CycleGANModel.criterionIdt", "cycle_gan_model.CycleGANModel.netD_Seg", "cycle_gan_model.CycleGANModel.criterionGAN", "cycle_gan_model.CycleGANModel.criterionGAN", "cycle_gan_model.CycleGANModel.criterionGAN", "cycle_gan_model.CycleGANModel.netD_Seg2", "cycle_gan_model.CycleGANModel.netD_Seg", "cycle_gan_model.CycleGANModel.netD_Seg2"], "methods", ["None"], ["", "def", "backward_G", "(", "self", ")", ":", "\n", "        ", "lambda_idt", "=", "self", ".", "opt", ".", "lambda_identity", "\n", "lambda_A", "=", "self", ".", "opt", ".", "lambda_A", "\n", "lambda_B", "=", "self", ".", "opt", ".", "lambda_B", "\n", "lambda_Seg", "=", "self", ".", "lambda_Seg", "\n", "\n", "# Identity loss", "\n", "if", "lambda_idt", ">", "0", ":", "\n", "# G_A should be identity if real_B is fed.", "\n", "            ", "self", ".", "idt_A", "=", "self", ".", "netG_A", "(", "self", ".", "real_B", ")", "\n", "self", ".", "loss_idt_A", "=", "self", ".", "criterionIdt", "(", "self", ".", "idt_A", ",", "self", ".", "real_B", ")", "*", "lambda_B", "*", "lambda_idt", "\n", "# G_B should be identity if real_A is fed.", "\n", "self", ".", "idt_B", "=", "self", ".", "netG_B", "(", "self", ".", "real_A", ")", "\n", "self", ".", "loss_idt_B", "=", "self", ".", "criterionIdt", "(", "self", ".", "idt_B", ",", "self", ".", "real_A", ")", "*", "lambda_A", "*", "lambda_idt", "\n", "", "else", ":", "\n", "            ", "self", ".", "loss_idt_A", "=", "0", "\n", "self", ".", "loss_idt_B", "=", "0", "\n", "\n", "# GAN loss D_A(G_A(A))", "\n", "", "self", ".", "loss_G_A", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_A", "(", "self", ".", "fake_B", ")", ",", "True", ")", "\n", "# GAN loss D_B(G_B(B))", "\n", "self", ".", "loss_G_B", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_B", "(", "self", ".", "fake_A", ")", ",", "True", ")", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "loss_G_Seg", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg", "(", "self", ".", "fake_B_seg_binary", ")", ",", "True", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "loss_G_Seg2", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg2", "(", "self", ".", "fake_B_seg_multi_class", ")", ",", "True", ")", "\n", "", "else", ":", "\n", "                ", "self", ".", "loss_G_Seg", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg", "(", "self", ".", "fake_B_seg_binary", ")", ",", "True", ")", "\n", "self", ".", "loss_G_Seg2", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg2", "(", "self", ".", "fake_B_seg_multi_class", ")", ",", "True", ")", "\n", "\n", "# Forward cycle loss", "\n", "", "", "self", ".", "loss_cycle_A", "=", "self", ".", "criterionCycle", "(", "self", ".", "rec_A", ",", "self", ".", "real_A", ")", "*", "lambda_A", "\n", "# Backward cycle loss", "\n", "self", ".", "loss_cycle_B", "=", "self", ".", "criterionCycle", "(", "self", ".", "rec_B", ",", "self", ".", "real_B", ")", "*", "lambda_B", "\n", "# combined loss", "\n", "self", ".", "loss_G", "=", "self", ".", "loss_G_A", "+", "self", ".", "loss_G_B", "+", "self", ".", "loss_cycle_A", "+", "self", ".", "loss_cycle_B", "+", "self", ".", "loss_idt_A", "+", "self", ".", "loss_idt_B", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "loss_G", "+=", "lambda_Seg", "*", "self", ".", "loss_G_Seg", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "loss_G", "+=", "lambda_Seg", "*", "self", ".", "loss_G_Seg2", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"both\"", ":", "\n", "                ", "self", ".", "loss_G", "+=", "lambda_Seg", "*", "self", ".", "loss_G_Seg", "+", "lambda_Seg", "*", "self", ".", "loss_G_Seg2", "\n", "\n", "", "", "self", ".", "loss_G", ".", "backward", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.optimize_parameters": [[238, 284], ["cycle_gan_model.CycleGANModel.forward", "cycle_gan_model.CycleGANModel.optimizer_G.zero_grad", "cycle_gan_model.CycleGANModel.backward_G", "cycle_gan_model.CycleGANModel.optimizer_G.step", "cycle_gan_model.CycleGANModel.optimizer_D.zero_grad", "cycle_gan_model.CycleGANModel.backward_D_A", "cycle_gan_model.CycleGANModel.backward_D_B", "cycle_gan_model.CycleGANModel.optimizer_D.step", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.optimizer_D_Seg.zero_grad", "cycle_gan_model.CycleGANModel.optimizer_D_Seg.step", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.backward_D_Seg_binary", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.backward_D_Seg_multi_class", "cycle_gan_model.CycleGANModel.backward_D_Seg_binary", "cycle_gan_model.CycleGANModel.backward_D_Seg_multi_class", "cycle_gan_model.CycleGANModel.set_requires_grad", "cycle_gan_model.CycleGANModel.set_requires_grad"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.forward", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_G", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_A", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.cycle_gan_model.CycleGANModel.backward_D_B", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_binary", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_binary", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad"], ["", "def", "optimize_parameters", "(", "self", ")", ":", "\n", "# forward", "\n", "        ", "self", ".", "forward", "(", ")", "\n", "# G_A and G_B", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", ",", "self", ".", "netD_Seg", "]", ",", "False", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", ",", "self", ".", "netD_Seg2", "]", ",", "False", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"both\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", ",", "self", ".", "netD_Seg", ",", "self", ".", "netD_Seg2", "]", ",", "False", ")", "\n", "", "", "else", ":", "\n", "            ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", "]", ",", "False", ")", "\n", "\n", "", "self", ".", "optimizer_G", ".", "zero_grad", "(", ")", "\n", "self", ".", "backward_G", "(", ")", "\n", "self", ".", "optimizer_G", ".", "step", "(", ")", "\n", "# D_A and D_B", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", ",", "self", ".", "netD_Seg", "]", ",", "True", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", ",", "self", ".", "netD_Seg2", "]", ",", "True", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"both\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", ",", "self", ".", "netD_Seg", ",", "self", ".", "netD_Seg2", "]", ",", "True", ")", "\n", "", "", "else", ":", "\n", "            ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD_A", ",", "self", ".", "netD_B", "]", ",", "True", ")", "\n", "\n", "", "self", ".", "optimizer_D", ".", "zero_grad", "(", ")", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "self", ".", "optimizer_D_Seg", ".", "zero_grad", "(", ")", "\n", "", "self", ".", "backward_D_A", "(", ")", "\n", "self", ".", "backward_D_B", "(", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "backward_D_Seg_binary", "(", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "backward_D_Seg_multi_class", "(", ")", "\n", "", "else", ":", "\n", "                ", "self", ".", "backward_D_Seg_binary", "(", ")", "\n", "self", ".", "backward_D_Seg_multi_class", "(", ")", "\n", "\n", "", "", "self", ".", "optimizer_D", ".", "step", "(", ")", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "self", ".", "optimizer_D_Seg", ".", "step", "(", ")", "\n", "", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.__init__.find_model_using_name": [[5, 27], ["importlib.import_module", "importlib.import_module.__dict__.items", "model_name.replace", "print", "exit", "issubclass", "name.lower", "target_model_name.lower"], "function", ["None"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.__init__.get_option_setter": [[29, 32], ["__init__.find_model_using_name"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.__init__.find_model_using_name"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.__init__.create_model": [[34, 40], ["__init__.find_model_using_name", "find_model_using_name.", "model.initialize", "print", "model.name"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.__init__.find_model_using_name", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.name"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.modify_commandline_options": [[11, 14], ["None"], "methods", ["None"], ["    ", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", ")", ":", "\n", "        ", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.name": [[15, 17], ["None"], "methods", ["None"], ["", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'BaseModel'", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.initialize": [[18, 30], ["os.path.join", "torch.device", "torch.device"], "methods", ["None"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "self", ".", "gpu_ids", "=", "opt", ".", "gpu_ids", "\n", "self", ".", "isTrain", "=", "opt", ".", "isTrain", "\n", "self", ".", "device", "=", "torch", ".", "device", "(", "'cuda:{}'", ".", "format", "(", "self", ".", "gpu_ids", "[", "0", "]", ")", ")", "if", "self", ".", "gpu_ids", "else", "torch", ".", "device", "(", "'cpu'", ")", "\n", "self", ".", "save_dir", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "checkpoints_dir", ",", "opt", ".", "name", ")", "\n", "if", "opt", ".", "resize_or_crop", "!=", "'scale_width'", ":", "\n", "            ", "torch", ".", "backends", ".", "cudnn", ".", "benchmark", "=", "True", "\n", "", "self", ".", "loss_names", "=", "[", "]", "\n", "self", ".", "model_names", "=", "[", "]", "\n", "self", ".", "visual_names", "=", "[", "]", "\n", "self", ".", "image_paths", "=", "[", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_input": [[31, 33], ["None"], "methods", ["None"], ["", "def", "set_input", "(", "self", ",", "input", ")", ":", "\n", "        ", "self", ".", "input", "=", "input", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.forward": [[34, 36], ["None"], "methods", ["None"], ["", "def", "forward", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.setup": [[38, 45], ["base_model.BaseModel.print_networks", "base_model.BaseModel.load_networks", "networks.get_scheduler"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.print_networks", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.load_networks", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.get_scheduler"], ["", "def", "setup", "(", "self", ",", "opt", ",", "parser", "=", "None", ")", ":", "\n", "        ", "if", "self", ".", "isTrain", ":", "\n", "            ", "self", ".", "schedulers", "=", "[", "networks", ".", "get_scheduler", "(", "optimizer", ",", "opt", ")", "for", "optimizer", "in", "self", ".", "optimizers", "]", "\n", "\n", "", "if", "not", "self", ".", "isTrain", "or", "opt", ".", "continue_train", ":", "\n", "            ", "self", ".", "load_networks", "(", "opt", ".", "epoch", ",", "opt", ".", "direction", ")", "\n", "", "self", ".", "print_networks", "(", "opt", ".", "verbose", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.eval": [[47, 52], ["isinstance", "getattr", "getattr.eval"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.eval"], ["", "def", "eval", "(", "self", ")", ":", "\n", "        ", "for", "name", "in", "self", ".", "model_names", ":", "\n", "            ", "if", "isinstance", "(", "name", ",", "str", ")", ":", "\n", "                ", "net", "=", "getattr", "(", "self", ",", "'net'", "+", "name", ")", "\n", "net", ".", "eval", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.test": [[55, 58], ["torch.no_grad", "base_model.BaseModel.forward"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.forward"], ["", "", "", "def", "test", "(", "self", ")", ":", "\n", "        ", "with", "torch", ".", "no_grad", "(", ")", ":", "\n", "            ", "self", ".", "forward", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.get_image_paths": [[60, 62], ["None"], "methods", ["None"], ["", "", "def", "get_image_paths", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "image_paths", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.optimize_parameters": [[63, 65], ["None"], "methods", ["None"], ["", "def", "optimize_parameters", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.update_learning_rate": [[67, 72], ["print", "scheduler.step"], "methods", ["None"], ["", "def", "update_learning_rate", "(", "self", ")", ":", "\n", "        ", "for", "scheduler", "in", "self", ".", "schedulers", ":", "\n", "            ", "scheduler", ".", "step", "(", ")", "\n", "", "lr", "=", "self", ".", "optimizers", "[", "0", "]", ".", "param_groups", "[", "0", "]", "[", "'lr'", "]", "\n", "print", "(", "'learning rate = %.7f'", "%", "lr", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.get_current_visuals": [[74, 80], ["collections.OrderedDict", "isinstance", "getattr"], "methods", ["None"], ["", "def", "get_current_visuals", "(", "self", ")", ":", "\n", "        ", "visual_ret", "=", "OrderedDict", "(", ")", "\n", "for", "name", "in", "self", ".", "visual_names", ":", "\n", "            ", "if", "isinstance", "(", "name", ",", "str", ")", ":", "\n", "                ", "visual_ret", "[", "name", "]", "=", "getattr", "(", "self", ",", "name", ")", "\n", "", "", "return", "visual_ret", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.get_current_losses": [[82, 89], ["collections.OrderedDict", "isinstance", "float", "getattr"], "methods", ["None"], ["", "def", "get_current_losses", "(", "self", ")", ":", "\n", "        ", "errors_ret", "=", "OrderedDict", "(", ")", "\n", "for", "name", "in", "self", ".", "loss_names", ":", "\n", "            ", "if", "isinstance", "(", "name", ",", "str", ")", ":", "\n", "# float(...) works for both scalar tensor and float number", "\n", "                ", "errors_ret", "[", "name", "]", "=", "float", "(", "getattr", "(", "self", ",", "'loss_'", "+", "name", ")", ")", "\n", "", "", "return", "errors_ret", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.save_networks": [[91, 103], ["isinstance", "os.path.join", "getattr", "torch.cuda.is_available", "torch.save", "getattr.cuda", "torch.save", "len", "getattr.module.cpu().state_dict", "getattr.cpu().state_dict", "getattr.module.cpu", "getattr.cpu"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.save", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.html.HTML.save"], ["", "def", "save_networks", "(", "self", ",", "epoch", ")", ":", "\n", "        ", "for", "name", "in", "self", ".", "model_names", ":", "\n", "            ", "if", "isinstance", "(", "name", ",", "str", ")", ":", "\n", "                ", "save_filename", "=", "'%s_net_%s.pth'", "%", "(", "epoch", ",", "name", ")", "\n", "save_path", "=", "os", ".", "path", ".", "join", "(", "self", ".", "save_dir", ",", "save_filename", ")", "\n", "net", "=", "getattr", "(", "self", ",", "'net'", "+", "name", ")", "\n", "\n", "if", "len", "(", "self", ".", "gpu_ids", ")", ">", "0", "and", "torch", ".", "cuda", ".", "is_available", "(", ")", ":", "\n", "                    ", "torch", ".", "save", "(", "net", ".", "module", ".", "cpu", "(", ")", ".", "state_dict", "(", ")", ",", "save_path", ")", "\n", "net", ".", "cuda", "(", "self", ".", "gpu_ids", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "                    ", "torch", ".", "save", "(", "net", ".", "cpu", "(", ")", ".", "state_dict", "(", ")", ",", "save_path", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.__patch_instance_norm_state_dict": [[104, 116], ["len", "base_model.BaseModel.__patch_instance_norm_state_dict", "module.__class__.__name__.startswith", "module.__class__.__name__.startswith", "state_dict.pop", "getattr", "getattr", "state_dict.pop"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.__patch_instance_norm_state_dict"], ["", "", "", "", "def", "__patch_instance_norm_state_dict", "(", "self", ",", "state_dict", ",", "module", ",", "keys", ",", "i", "=", "0", ")", ":", "\n", "        ", "key", "=", "keys", "[", "i", "]", "\n", "if", "i", "+", "1", "==", "len", "(", "keys", ")", ":", "# at the end, pointing to a parameter/buffer", "\n", "            ", "if", "module", ".", "__class__", ".", "__name__", ".", "startswith", "(", "'InstanceNorm'", ")", "and", "(", "key", "==", "'running_mean'", "or", "key", "==", "'running_var'", ")", ":", "\n", "                ", "if", "getattr", "(", "module", ",", "key", ")", "is", "None", ":", "\n", "                    ", "state_dict", ".", "pop", "(", "'.'", ".", "join", "(", "keys", ")", ")", "\n", "", "", "if", "module", ".", "__class__", ".", "__name__", ".", "startswith", "(", "'InstanceNorm'", ")", "and", "(", "key", "==", "'num_batches_tracked'", ")", ":", "\n", "                ", "state_dict", ".", "pop", "(", "'.'", ".", "join", "(", "keys", ")", ")", "\n", "", "", "else", ":", "\n", "            ", "self", ".", "__patch_instance_norm_state_dict", "(", "state_dict", ",", "getattr", "(", "module", ",", "key", ")", ",", "keys", ",", "i", "+", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.load_networks": [[118, 141], ["isinstance", "os.path.join", "getattr", "isinstance", "print", "torch.load", "hasattr", "list", "getattr.load_state_dict", "torch.load.keys", "base_model.BaseModel.__patch_instance_norm_state_dict", "str", "key.split"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.__patch_instance_norm_state_dict"], ["", "", "def", "load_networks", "(", "self", ",", "epoch", ",", "direction", ")", ":", "\n", "        ", "for", "name", "in", "self", ".", "model_names", ":", "\n", "            ", "if", "isinstance", "(", "name", ",", "str", ")", ":", "\n", "                ", "if", "self", ".", "opt", ".", "model", "!=", "'pix2pix'", ":", "\n", "                    ", "load_filename", "=", "'%s_net_%s_%s.pth'", "%", "(", "epoch", ",", "name", ",", "direction", "[", "0", ":", "1", "]", ")", "\n", "", "else", ":", "\n", "                    ", "load_filename", "=", "'%s_net_%s.pth'", "%", "(", "epoch", ",", "name", ")", "\n", "\n", "", "load_path", "=", "os", ".", "path", ".", "join", "(", "self", ".", "save_dir", ",", "load_filename", ")", "\n", "net", "=", "getattr", "(", "self", ",", "'net'", "+", "name", ")", "\n", "if", "isinstance", "(", "net", ",", "torch", ".", "nn", ".", "DataParallel", ")", ":", "\n", "                    ", "net", "=", "net", ".", "module", "\n", "", "print", "(", "'loading the model from %s'", "%", "load_path", ")", "\n", "# if you are using PyTorch newer than 0.4 (e.g., built from", "\n", "# GitHub source), you can remove str() on self.device", "\n", "state_dict", "=", "torch", ".", "load", "(", "load_path", ",", "map_location", "=", "str", "(", "self", ".", "device", ")", ")", "\n", "if", "hasattr", "(", "state_dict", ",", "'_metadata'", ")", ":", "\n", "                    ", "del", "state_dict", ".", "_metadata", "\n", "\n", "# patch InstanceNorm checkpoints prior to 0.4", "\n", "", "for", "key", "in", "list", "(", "state_dict", ".", "keys", "(", ")", ")", ":", "# need to copy keys here because we mutate in loop", "\n", "                    ", "self", ".", "__patch_instance_norm_state_dict", "(", "state_dict", ",", "net", ",", "key", ".", "split", "(", "'.'", ")", ")", "\n", "", "net", ".", "load_state_dict", "(", "state_dict", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.print_networks": [[143, 155], ["print", "print", "isinstance", "getattr", "getattr.parameters", "print", "param.numel", "print"], "methods", ["None"], ["", "", "", "def", "print_networks", "(", "self", ",", "verbose", ")", ":", "\n", "        ", "print", "(", "'---------- Networks initialized -------------'", ")", "\n", "for", "name", "in", "self", ".", "model_names", ":", "\n", "            ", "if", "isinstance", "(", "name", ",", "str", ")", ":", "\n", "                ", "net", "=", "getattr", "(", "self", ",", "'net'", "+", "name", ")", "\n", "num_params", "=", "0", "\n", "for", "param", "in", "net", ".", "parameters", "(", ")", ":", "\n", "                    ", "num_params", "+=", "param", ".", "numel", "(", ")", "\n", "", "if", "verbose", ":", "\n", "                    ", "print", "(", "net", ")", "\n", "", "print", "(", "'[Network %s] Total number of parameters : %.3f M'", "%", "(", "name", ",", "num_params", "/", "1e6", ")", ")", "\n", "", "", "print", "(", "'-----------------------------------------------'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad": [[157, 164], ["isinstance", "net.parameters"], "methods", ["None"], ["", "def", "set_requires_grad", "(", "self", ",", "nets", ",", "requires_grad", "=", "False", ")", ":", "\n", "        ", "if", "not", "isinstance", "(", "nets", ",", "list", ")", ":", "\n", "            ", "nets", "=", "[", "nets", "]", "\n", "", "for", "net", "in", "nets", ":", "\n", "            ", "if", "net", "is", "not", "None", ":", "\n", "                ", "for", "param", "in", "net", ".", "parameters", "(", ")", ":", "\n", "                    ", "param", ".", "requires_grad", "=", "requires_grad", "\n", "", "", "", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.name": [[10, 12], ["None"], "methods", ["None"], ["    ", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'Pix2PixModel'", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.modify_commandline_options": [[13, 25], ["parser.set_defaults", "parser.set_defaults", "parser.add_argument", "parser.add_argument"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", "=", "True", ")", ":", "\n", "\n", "# changing the default values to match the pix2pix paper", "\n", "# (https://phillipi.github.io/pix2pix/)", "\n", "        ", "parser", ".", "set_defaults", "(", "pool_size", "=", "0", ",", "no_lsgan", "=", "True", ",", "norm", "=", "'batch'", ")", "\n", "parser", ".", "set_defaults", "(", "dataset_mode", "=", "'aligned'", ")", "\n", "# parser.set_defaults(netG='unet_256')", "\n", "parser", ".", "add_argument", "(", "'--lambda_L1'", ",", "type", "=", "float", ",", "default", "=", "100.0", ",", "help", "=", "'weight for L1 loss'", ")", "\n", "parser", ".", "add_argument", "(", "'--lambda_Seg'", ",", "type", "=", "float", ",", "default", "=", "100.0", ",", "help", "=", "'weight for seg discriminator'", ")", "\n", "\n", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.initialize": [[26, 123], ["base_model.BaseModel.initialize", "networks.define_G", "segmentation.detectron2.panoptic_segmenter.PanopticSegmenter", "networks.define_D", "util.image_pool.ImagePool", "networks.GANLoss().to", "torch.nn.L1Loss", "torch.optim.Adam", "torch.optim.Adam", "pix2pix_model.Pix2PixModel.optimizers.append", "pix2pix_model.Pix2PixModel.optimizers.append", "pix2pix_model.Pix2PixModel.netG.parameters", "pix2pix_model.Pix2PixModel.netD.parameters", "util.image_pool.ImagePool", "networks.define_D", "pix2pix_model.Pix2PixModel.loss_names.append", "pix2pix_model.Pix2PixModel.model_names.append", "torch.optim.Adam", "pix2pix_model.Pix2PixModel.optimizers.append", "networks.GANLoss", "itertools.chain", "util.image_pool.ImagePool", "networks.define_D", "pix2pix_model.Pix2PixModel.loss_names.append", "pix2pix_model.Pix2PixModel.model_names.append", "torch.optim.Adam", "pix2pix_model.Pix2PixModel.optimizers.append", "util.image_pool.ImagePool", "util.image_pool.ImagePool", "networks.define_D", "networks.define_D", "pix2pix_model.Pix2PixModel.loss_names.append", "pix2pix_model.Pix2PixModel.loss_names.append", "pix2pix_model.Pix2PixModel.model_names.append", "pix2pix_model.Pix2PixModel.model_names.append", "torch.optim.Adam", "pix2pix_model.Pix2PixModel.optimizers.append", "pix2pix_model.Pix2PixModel.netD_Seg.parameters", "itertools.chain", "itertools.chain", "pix2pix_model.Pix2PixModel.netD_Seg2.parameters", "pix2pix_model.Pix2PixModel.netD_Seg.parameters", "pix2pix_model.Pix2PixModel.netD_Seg2.parameters"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_G", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.networks.define_D"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "BaseModel", ".", "initialize", "(", "self", ",", "opt", ")", "\n", "\n", "self", ".", "lambda_Seg", "=", "opt", ".", "lambda_Seg", "\n", "self", ".", "segmentation", "=", "opt", ".", "segmentation", "\n", "\n", "self", ".", "isTrain", "=", "opt", ".", "isTrain", "\n", "# specify the training losses you want to print out. The program will call base_model.get_current_losses", "\n", "self", ".", "loss_names", "=", "[", "'G_GAN'", ",", "'G_L1'", ",", "'D'", "]", "\n", "# specify the images you want to save/display. The program will call base_model.get_current_visuals", "\n", "self", ".", "visual_names", "=", "[", "'real_A'", ",", "'fake_B'", ",", "'real_B'", "]", "\n", "# specify the models you want to save to the disk. The program will call base_model.save_networks and base_model.load_networks", "\n", "if", "self", ".", "isTrain", ":", "\n", "            ", "self", ".", "model_names", "=", "[", "'G'", ",", "'D'", "]", "\n", "", "else", ":", "# during test time, only load Gs", "\n", "            ", "self", ".", "model_names", "=", "[", "'G'", "]", "\n", "# load/define networks", "\n", "", "self", ".", "netG", "=", "networks", ".", "define_G", "(", "opt", ".", "input_nc", ",", "opt", ".", "output_nc", ",", "opt", ".", "ngf", ",", "opt", ".", "netG", ",", "opt", ".", "norm", ",", "\n", "not", "opt", ".", "no_dropout", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ",", "depth", "=", "18", ",", "\n", "fpn_weights", "=", "opt", ".", "fpn_weights", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "# detectron2 segmenter", "\n", "            ", "self", ".", "segModel", "=", "panoptic_segmenter", ".", "PanopticSegmenter", "(", "opt", ".", "segmentation_output", ")", "\n", "\n", "", "if", "self", ".", "isTrain", ":", "\n", "# initialize optimizers", "\n", "            ", "self", ".", "optimizers", "=", "[", "]", "\n", "\n", "use_sigmoid", "=", "opt", ".", "no_lsgan", "\n", "self", ".", "netD", "=", "networks", ".", "define_D", "(", "opt", ".", "input_nc", "+", "opt", ".", "output_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "self", ".", "gpu_ids", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "                ", "if", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                    ", "self", ".", "fake_seg_pool_binary", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "out_seg_cls", "=", "3", "\n", "self", ".", "netD_Seg", "=", "networks", ".", "define_D", "(", "out_seg_cls", "+", "opt", ".", "input_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "\n", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg'", ")", "\n", "\n", "self", ".", "optimizer_D_Seg", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_Seg", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D_Seg", ")", "\n", "\n", "", "elif", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                    ", "self", ".", "fake_seg_pool_multi_class", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "out_seg_cls", "=", "135", "\n", "self", ".", "netD_Seg2", "=", "networks", ".", "define_D", "(", "out_seg_cls", "+", "opt", ".", "input_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "\n", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "\n", "self", ".", "optimizer_D_Seg", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_Seg2", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D_Seg", ")", "\n", "\n", "", "else", ":", "\n", "                    ", "self", ".", "fake_seg_pool_binary", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "self", ".", "fake_seg_pool_multi_class", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "\n", "out_seg_cls_binary", "=", "3", "\n", "out_seg_cls_multi_class", "=", "135", "\n", "self", ".", "netD_Seg", "=", "networks", ".", "define_D", "(", "out_seg_cls_binary", "+", "opt", ".", "input_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "netD_Seg2", "=", "networks", ".", "define_D", "(", "out_seg_cls_multi_class", "+", "opt", ".", "input_nc", ",", "opt", ".", "ndf", ",", "opt", ".", "netD", ",", "\n", "opt", ".", "n_layers_D", ",", "opt", ".", "norm", ",", "use_sigmoid", ",", "opt", ".", "init_type", ",", "\n", "opt", ".", "init_gain", ",", "\n", "self", ".", "gpu_ids", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg'", ")", "\n", "self", ".", "loss_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg'", ")", "\n", "self", ".", "model_names", ".", "append", "(", "'D_Seg2'", ")", "\n", "\n", "self", ".", "optimizer_D_Seg", "=", "torch", ".", "optim", ".", "Adam", "(", "itertools", ".", "chain", "(", "self", ".", "netD_Seg", ".", "parameters", "(", ")", ",", "\n", "self", ".", "netD_Seg2", ".", "parameters", "(", ")", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D_Seg", ")", "\n", "\n", "", "", "", "if", "self", ".", "isTrain", ":", "\n", "            ", "self", ".", "fake_AB_pool", "=", "ImagePool", "(", "opt", ".", "pool_size", ")", "\n", "# define loss functions", "\n", "self", ".", "criterionGAN", "=", "networks", ".", "GANLoss", "(", "use_lsgan", "=", "not", "opt", ".", "no_lsgan", ")", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "criterionL1", "=", "torch", ".", "nn", ".", "L1Loss", "(", ")", "\n", "\n", "self", ".", "optimizer_G", "=", "torch", ".", "optim", ".", "Adam", "(", "self", ".", "netG", ".", "parameters", "(", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizer_D", "=", "torch", ".", "optim", ".", "Adam", "(", "self", ".", "netD", ".", "parameters", "(", ")", ",", "\n", "lr", "=", "opt", ".", "lr", ",", "betas", "=", "(", "opt", ".", "beta1", ",", "0.999", ")", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_G", ")", "\n", "self", ".", "optimizers", ".", "append", "(", "self", ".", "optimizer_D", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.set_input": [[124, 129], ["input[].to", "input[].to"], "methods", ["None"], ["", "", "def", "set_input", "(", "self", ",", "input", ")", ":", "\n", "        ", "AtoB", "=", "self", ".", "opt", ".", "direction", "==", "'AtoB'", "\n", "self", ".", "real_A", "=", "input", "[", "'A'", "if", "AtoB", "else", "'B'", "]", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "real_B", "=", "input", "[", "'B'", "if", "AtoB", "else", "'A'", "]", ".", "to", "(", "self", ".", "device", ")", "\n", "self", ".", "image_paths", "=", "input", "[", "'A_paths'", "if", "AtoB", "else", "'B_paths'", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.forward": [[130, 136], ["pix2pix_model.Pix2PixModel.netG", "pix2pix_model.Pix2PixModel.segModel.segment_images", "pix2pix_model.Pix2PixModel.segModel.segment_images"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.segment_images", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.segment_images"], ["", "def", "forward", "(", "self", ")", ":", "\n", "        ", "self", ".", "fake_B", "=", "self", ".", "netG", "(", "self", ".", "real_A", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "self", ".", "fake_B_seg_binary", ",", "self", ".", "fake_B_seg_multi_class", "=", "self", ".", "segModel", ".", "segment_images", "(", "self", ".", "fake_B", ")", "\n", "self", ".", "real_B_seg_binary", ",", "self", ".", "real_B_seg_multi_class", "=", "self", ".", "segModel", ".", "segment_images", "(", "self", ".", "real_B", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic": [[137, 153], ["netD", "pix2pix_model.Pix2PixModel.criterionGAN", "netD", "pix2pix_model.Pix2PixModel.criterionGAN", "loss_D.backward", "fake_AB.detach"], "methods", ["None"], ["", "", "def", "backward_D_basic", "(", "self", ",", "netD", ",", "real_AB", ",", "fake_AB", ")", ":", "\n", "# Fake", "\n", "# stop backprop to the generator by detaching fake_B", "\n", "        ", "pred_fake", "=", "netD", "(", "fake_AB", ".", "detach", "(", ")", ")", "\n", "loss_D_fake", "=", "self", ".", "criterionGAN", "(", "pred_fake", ",", "False", ")", "\n", "\n", "# Real", "\n", "pred_real", "=", "netD", "(", "real_AB", ")", "\n", "loss_D_real", "=", "self", ".", "criterionGAN", "(", "pred_real", ",", "True", ")", "\n", "\n", "# Combined loss", "\n", "loss_D", "=", "(", "loss_D_fake", "+", "loss_D_real", ")", "*", "0.5", "\n", "\n", "loss_D", ".", "backward", "(", ")", "\n", "\n", "return", "loss_D", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Base": [[154, 159], ["pix2pix_model.Pix2PixModel.fake_AB_pool.query", "torch.cat", "pix2pix_model.Pix2PixModel.backward_D_basic", "torch.cat"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_Base", "(", "self", ")", ":", "\n", "        ", "fake_AB", "=", "self", ".", "fake_AB_pool", ".", "query", "(", "torch", ".", "cat", "(", "(", "self", ".", "real_A", ",", "self", ".", "fake_B", ")", ",", "1", ")", ")", "\n", "real_AB", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_A", ",", "self", ".", "real_B", ")", ",", "1", ")", "\n", "\n", "self", ".", "loss_D", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD", ",", "real_AB", ",", "fake_AB", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_binary": [[160, 166], ["pix2pix_model.Pix2PixModel.fake_AB_pool.query", "torch.cat", "pix2pix_model.Pix2PixModel.backward_D_basic", "torch.cat"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_Seg_binary", "(", "self", ")", ":", "\n", "\n", "        ", "fake_AB", "=", "self", ".", "fake_AB_pool", ".", "query", "(", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "fake_B_seg_binary", ")", ",", "1", ")", ")", "\n", "real_AB", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "real_B_seg_binary", ")", ",", "1", ")", "\n", "\n", "self", ".", "loss_D_Seg", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD_Seg", ",", "real_AB", ",", "fake_AB", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class": [[167, 172], ["pix2pix_model.Pix2PixModel.fake_AB_pool.query", "torch.cat", "pix2pix_model.Pix2PixModel.backward_D_basic", "torch.cat"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.image_pool.ImagePool.query", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_basic"], ["", "def", "backward_D_Seg_multi_class", "(", "self", ")", ":", "\n", "        ", "fake_AB", "=", "self", ".", "fake_AB_pool", ".", "query", "(", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "fake_B_seg_multi_class", ")", ",", "1", ")", ")", "\n", "real_AB", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "real_B_seg_multi_class", ")", ",", "1", ")", "\n", "\n", "self", ".", "loss_D_Seg2", "=", "self", ".", "backward_D_basic", "(", "self", ".", "netD_Seg2", ",", "real_AB", ",", "fake_AB", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_G": [[173, 207], ["torch.cat", "pix2pix_model.Pix2PixModel.criterionGAN", "pix2pix_model.Pix2PixModel.loss_G.backward", "pix2pix_model.Pix2PixModel.netD", "pix2pix_model.Pix2PixModel.criterionL1", "torch.cat", "pix2pix_model.Pix2PixModel.criterionGAN", "pix2pix_model.Pix2PixModel.netD_Seg", "torch.cat", "pix2pix_model.Pix2PixModel.criterionGAN", "torch.cat", "torch.cat", "pix2pix_model.Pix2PixModel.criterionGAN", "pix2pix_model.Pix2PixModel.criterionGAN", "pix2pix_model.Pix2PixModel.netD_Seg2", "pix2pix_model.Pix2PixModel.netD_Seg", "pix2pix_model.Pix2PixModel.netD_Seg2"], "methods", ["None"], ["", "def", "backward_G", "(", "self", ")", ":", "\n", "        ", "lambda_Seg", "=", "self", ".", "lambda_Seg", "\n", "\n", "# First, G(A) should fake the discriminator", "\n", "fake_AB", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_A", ",", "self", ".", "fake_B", ")", ",", "1", ")", "\n", "self", ".", "loss_G_GAN", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD", "(", "fake_AB", ")", ",", "True", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "fake_AB", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "fake_B_seg_binary", ")", ",", "1", ")", "\n", "self", ".", "loss_G_Seg", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg", "(", "fake_AB", ")", ",", "True", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "fake_AB", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "fake_B_seg_multi_class", ")", ",", "1", ")", "\n", "self", ".", "loss_G_Seg2", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg2", "(", "fake_AB", ")", ",", "True", ")", "\n", "", "else", ":", "\n", "                ", "fake_AB1", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "fake_B_seg_binary", ")", ",", "1", ")", "\n", "fake_AB2", "=", "torch", ".", "cat", "(", "(", "self", ".", "real_B", ",", "self", ".", "fake_B_seg_multi_class", ")", ",", "1", ")", "\n", "self", ".", "loss_G_Seg", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg", "(", "fake_AB1", ")", ",", "True", ")", "\n", "self", ".", "loss_G_Seg2", "=", "self", ".", "criterionGAN", "(", "self", ".", "netD_Seg2", "(", "fake_AB2", ")", ",", "True", ")", "\n", "\n", "# Second, G(A) = B", "\n", "", "", "self", ".", "loss_G_L1", "=", "self", ".", "criterionL1", "(", "self", ".", "fake_B", ",", "self", ".", "real_B", ")", "*", "self", ".", "opt", ".", "lambda_L1", "\n", "\n", "self", ".", "loss_G", "=", "self", ".", "loss_G_GAN", "+", "self", ".", "loss_G_L1", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "loss_G", "+=", "lambda_Seg", "*", "self", ".", "loss_G_Seg", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "loss_G", "+=", "lambda_Seg", "*", "self", ".", "loss_G_Seg2", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"both\"", ":", "\n", "                ", "self", ".", "loss_G", "+=", "lambda_Seg", "*", "self", ".", "loss_G_Seg", "+", "lambda_Seg", "*", "self", ".", "loss_G_Seg2", "\n", "\n", "", "", "self", ".", "loss_G", ".", "backward", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.optimize_parameters": [[208, 251], ["pix2pix_model.Pix2PixModel.forward", "pix2pix_model.Pix2PixModel.optimizer_D.zero_grad", "pix2pix_model.Pix2PixModel.backward_D_Base", "pix2pix_model.Pix2PixModel.optimizer_D.step", "pix2pix_model.Pix2PixModel.optimizer_G.zero_grad", "pix2pix_model.Pix2PixModel.backward_G", "pix2pix_model.Pix2PixModel.optimizer_G.step", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.optimizer_D_Seg.zero_grad", "pix2pix_model.Pix2PixModel.optimizer_D_Seg.step", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.backward_D_Seg_binary", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class", "pix2pix_model.Pix2PixModel.backward_D_Seg_binary", "pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.set_requires_grad", "pix2pix_model.Pix2PixModel.set_requires_grad"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.forward", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Base", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_G", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_binary", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_binary", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.pix2pix_model.Pix2PixModel.backward_D_Seg_multi_class", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.models.base_model.BaseModel.set_requires_grad"], ["", "def", "optimize_parameters", "(", "self", ")", ":", "\n", "        ", "self", ".", "forward", "(", ")", "\n", "# update D", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", ",", "self", ".", "netD_Seg", "]", ",", "True", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", ",", "self", ".", "netD_Seg2", "]", ",", "True", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"both\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", ",", "self", ".", "netD_Seg", ",", "self", ".", "netD_Seg2", "]", ",", "True", ")", "\n", "", "", "else", ":", "\n", "            ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", "]", ",", "True", ")", "\n", "", "self", ".", "optimizer_D", ".", "zero_grad", "(", ")", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "self", ".", "optimizer_D_Seg", ".", "zero_grad", "(", ")", "\n", "", "self", ".", "backward_D_Base", "(", ")", "\n", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "backward_D_Seg_binary", "(", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "backward_D_Seg_multi_class", "(", ")", "\n", "", "else", ":", "\n", "                ", "self", ".", "backward_D_Seg_binary", "(", ")", "\n", "self", ".", "backward_D_Seg_multi_class", "(", ")", "\n", "\n", "", "", "self", ".", "optimizer_D", ".", "step", "(", ")", "\n", "if", "self", ".", "segmentation", ":", "\n", "            ", "self", ".", "optimizer_D_Seg", ".", "step", "(", ")", "\n", "\n", "# update G", "\n", "", "if", "self", ".", "segmentation", ":", "\n", "            ", "if", "self", ".", "opt", ".", "segmentation_output", "==", "\"binary\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", ",", "self", ".", "netD_Seg", "]", ",", "False", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"multi_class\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", ",", "self", ".", "netD_Seg2", "]", ",", "False", ")", "\n", "", "elif", "self", ".", "opt", ".", "segmentation_output", "==", "\"both\"", ":", "\n", "                ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", ",", "self", ".", "netD_Seg", ",", "self", ".", "netD_Seg2", "]", ",", "False", ")", "\n", "", "", "else", ":", "\n", "            ", "self", ".", "set_requires_grad", "(", "[", "self", ".", "netD", "]", ",", "False", ")", "\n", "", "self", ".", "optimizer_G", ".", "zero_grad", "(", ")", "\n", "self", ".", "backward_G", "(", ")", "\n", "self", ".", "optimizer_G", ".", "step", "(", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.demo.setup_cfg": [[20, 31], ["detectron2.config.get_cfg", "detectron2.config.get_cfg.merge_from_file", "detectron2.config.get_cfg.merge_from_list", "detectron2.config.get_cfg.freeze"], "function", ["None"], ["def", "setup_cfg", "(", "args", ")", ":", "\n", "# load config from file and command-line arguments", "\n", "    ", "cfg", "=", "get_cfg", "(", ")", "\n", "cfg", ".", "merge_from_file", "(", "args", ".", "config_file", ")", "\n", "cfg", ".", "merge_from_list", "(", "args", ".", "opts", ")", "\n", "# Set score_threshold for builtin models", "\n", "cfg", ".", "MODEL", ".", "RETINANET", ".", "SCORE_THRESH_TEST", "=", "args", ".", "confidence_threshold", "\n", "cfg", ".", "MODEL", ".", "ROI_HEADS", ".", "SCORE_THRESH_TEST", "=", "args", ".", "confidence_threshold", "\n", "cfg", ".", "MODEL", ".", "PANOPTIC_FPN", ".", "COMBINE", ".", "INSTANCES_CONFIDENCE_THRESH", "=", "args", ".", "confidence_threshold", "\n", "cfg", ".", "freeze", "(", ")", "\n", "return", "cfg", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.demo.get_parser": [[33, 69], ["argparse.ArgumentParser", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument", "argparse.ArgumentParser.add_argument"], "function", ["None"], ["", "def", "get_parser", "(", ")", ":", "\n", "    ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "description", "=", "\"Detectron2 demo for builtin configs\"", ")", "\n", "parser", ".", "add_argument", "(", "\n", "\"--config-file\"", ",", "\n", "default", "=", "\"./configs/COCO-PanopticSegmentation/panoptic_fpn_R_50_3x.yaml\"", ",", "\n", "metavar", "=", "\"FILE\"", ",", "\n", "help", "=", "\"path to config file\"", ",", "\n", ")", "\n", "parser", ".", "add_argument", "(", "\"--webcam\"", ",", "action", "=", "\"store_true\"", ",", "help", "=", "\"Take inputs from webcam.\"", ")", "\n", "parser", ".", "add_argument", "(", "\"--video-input\"", ",", "help", "=", "\"Path to video file.\"", ")", "\n", "parser", ".", "add_argument", "(", "\n", "\"--input\"", ",", "\n", "default", "=", "[", "\"/media/test/Samhi/GANILLA/fpn-gan/dataset/axel_sketch_cycle/trainA/da squash and a squeeze_0.jpg\"", "]", ",", "\n", "help", "=", "\"A list of space separated input images; \"", "\n", "\"or a single glob pattern such as 'directory/*.jpg'\"", ",", "\n", ")", "\n", "parser", ".", "add_argument", "(", "\n", "\"--output\"", ",", "\n", "default", "=", "\"./results_panoptic\"", ",", "\n", "help", "=", "\"A file or directory to save output visualizations. \"", "\n", "\"If not given, will show output in an OpenCV window.\"", ",", "\n", ")", "\n", "\n", "parser", ".", "add_argument", "(", "\n", "\"--confidence-threshold\"", ",", "\n", "type", "=", "float", ",", "\n", "default", "=", "0.5", ",", "\n", "help", "=", "\"Minimum score for instance predictions to be shown\"", ",", "\n", ")", "\n", "parser", ".", "add_argument", "(", "\n", "\"--opts\"", ",", "\n", "help", "=", "\"Modify config options using the command-line 'KEY VALUE' pairs\"", ",", "\n", "default", "=", "[", "\"MODEL.WEIGHTS\"", ",", "\"./model_final_c10459_panoptic.pkl\"", "]", ",", "\n", "nargs", "=", "argparse", ".", "REMAINDER", ",", "\n", ")", "\n", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo.__init__": [[17, 38], ["detectron2.data.MetadataCatalog.get", "torch.device", "detectron2.utils.visualizer.Visualizer", "torch.cuda.device_count", "predictor.AsyncPredictor", "detectron2.engine.defaults.DefaultPredictor", "len"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get"], ["    ", "def", "__init__", "(", "self", ",", "cfg", ",", "instance_mode", "=", "ColorMode", ".", "IMAGE", ",", "parallel", "=", "False", ")", ":", "\n", "        ", "\"\"\"\n        Args:\n            cfg (CfgNode):\n            instance_mode (ColorMode):\n            parallel (bool): whether to run the model in different processes from visualization.\n                Useful since the visualization logic can be slow.\n        \"\"\"", "\n", "self", ".", "metadata", "=", "MetadataCatalog", ".", "get", "(", "\n", "cfg", ".", "DATASETS", ".", "TEST", "[", "0", "]", "if", "len", "(", "cfg", ".", "DATASETS", ".", "TEST", ")", "else", "\"__unused\"", "\n", ")", "\n", "self", ".", "cpu_device", "=", "torch", ".", "device", "(", "\"cpu\"", ")", "\n", "self", ".", "instance_mode", "=", "instance_mode", "\n", "self", ".", "visualizer", "=", "Visualizer", "(", "None", ",", "self", ".", "metadata", ",", "instance_mode", "=", "self", ".", "instance_mode", ")", "\n", "\n", "self", ".", "parallel", "=", "parallel", "\n", "if", "parallel", ":", "\n", "            ", "num_gpu", "=", "torch", ".", "cuda", ".", "device_count", "(", ")", "\n", "self", ".", "predictor", "=", "AsyncPredictor", "(", "cfg", ",", "num_gpus", "=", "num_gpu", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "predictor", "=", "DefaultPredictor", "(", "cfg", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo.run_on_image": [[39, 72], ["predictor.VisualizationDemo.predictor", "predictor.VisualizationDemo.decode_panoptic_results"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo.decode_panoptic_results"], ["", "", "def", "run_on_image", "(", "self", ",", "image", ")", ":", "\n", "        ", "\"\"\"\n        Args:\n            image (np.ndarray): an image of shape (H, W, C) (in BGR order).\n                This is the format used by OpenCV.\n\n        Returns:\n            predictions (dict): the output of the model.\n            vis_output (VisImage): the visualized image output.\n        \"\"\"", "\n", "vis_output", "=", "None", "\n", "predictions", "=", "self", ".", "predictor", "(", "image", ")", "\n", "panoptic_seg", ",", "segments_info", "=", "predictions", "[", "\"panoptic_seg\"", "]", "\n", "all_mask", ",", "all_mask_sep", "=", "self", ".", "decode_panoptic_results", "(", "panoptic_seg", ",", "segments_info", ")", "\n", "\n", "# # Convert image from OpenCV BGR format to Matplotlib RGB format.", "\n", "# image = image[:, :, ::-1]", "\n", "# visualizer = Visualizer(image, self.metadata, instance_mode=self.instance_mode)", "\n", "# if \"panoptic_seg\" in predictions:", "\n", "#     panoptic_seg, segments_info = predictions[\"panoptic_seg\"]", "\n", "#     vis_output = visualizer.draw_panoptic_seg_predictions(", "\n", "#         panoptic_seg.to(self.cpu_device), segments_info", "\n", "#     )", "\n", "# else:", "\n", "#     if \"sem_seg\" in predictions:", "\n", "#         vis_output = visualizer.draw_sem_seg(", "\n", "#             predictions[\"sem_seg\"].argmax(dim=0).to(self.cpu_device)", "\n", "#         )", "\n", "#     if \"instances\" in predictions:", "\n", "#         instances = predictions[\"instances\"].to(self.cpu_device)", "\n", "#         vis_output = visualizer.draw_instance_predictions(predictions=instances)", "\n", "\n", "return", "all_mask", ",", "all_mask_sep", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo.decode_panoptic_results": [[73, 111], ["detectron2.utils.visualizer._PanopticPrediction", "len", "len", "numpy.zeros", "numpy.zeros", "detectron2.utils.visualizer._PanopticPrediction.semantic_masks", "list", "panoptic_seg.cpu", "detectron2.utils.visualizer._PanopticPrediction.instance_masks", "len", "list", "enumerate", "zip"], "methods", ["None"], ["", "def", "decode_panoptic_results", "(", "self", ",", "panoptic_seg", ",", "segments_info", ",", "area_threshold", "=", "None", ",", "alpha", "=", "0.7", ")", ":", "\n", "\n", "        ", "\"\"\"\n        Draw panoptic prediction results on an image.\n\n        Args:\n            panoptic_seg (Tensor): of shape (height, width) where the values are ids for each\n                segment.\n            segments_info (list[dict]): Describe each segment in `panoptic_seg`.\n                Each dict contains keys \"id\", \"category_id\", \"isthing\".\n            area_threshold (int): stuff segments with less than `area_threshold` are not drawn.\n\n        Returns:\n            output (VisImage): image object with visualizations.\n        \"\"\"", "\n", "pred", "=", "_PanopticPrediction", "(", "panoptic_seg", ".", "cpu", "(", ")", ",", "segments_info", ")", "\n", "fg_class_cnt", "=", "len", "(", "self", ".", "metadata", ".", "thing_classes", ")", "\n", "bg_class_cnt", "=", "len", "(", "self", ".", "metadata", ".", "stuff_classes", ")", "\n", "all_mask", "=", "np", ".", "zeros", "(", "(", "panoptic_seg", ".", "shape", "[", "0", "]", ",", "panoptic_seg", ".", "shape", "[", "1", "]", ",", "3", ")", ",", "dtype", "=", "np", ".", "uint8", ")", "\n", "all_mask_sep", "=", "np", ".", "zeros", "(", "(", "panoptic_seg", ".", "shape", "[", "0", "]", ",", "panoptic_seg", ".", "shape", "[", "1", "]", ",", "\n", "fg_class_cnt", "+", "bg_class_cnt", "+", "1", ")", ",", "dtype", "=", "np", ".", "uint8", ")", "\n", "\n", "# draw mask for all semantic segments first i.e. \"stuff\"", "\n", "for", "mask", ",", "sinfo", "in", "pred", ".", "semantic_masks", "(", ")", ":", "\n", "            ", "all_mask", "[", ":", ",", ":", ",", "2", "]", "+=", "mask", "\n", "category_idx", "=", "sinfo", "[", "\"category_id\"", "]", "\n", "all_mask_sep", "[", ":", ",", ":", ",", "1", "+", "fg_class_cnt", "+", "category_idx", "]", "+=", "mask", "\n", "\n", "# draw mask for all instances second", "\n", "", "all_instances", "=", "list", "(", "pred", ".", "instance_masks", "(", ")", ")", "\n", "if", "len", "(", "all_instances", ")", "!=", "0", ":", "\n", "            ", "masks", ",", "sinfo", "=", "list", "(", "zip", "(", "*", "all_instances", ")", ")", "\n", "category_ids", "=", "[", "x", "[", "\"category_id\"", "]", "for", "x", "in", "sinfo", "]", "\n", "for", "ind", ",", "ins_masks", "in", "enumerate", "(", "masks", ")", ":", "\n", "                ", "all_mask", "[", ":", ",", ":", ",", "1", "]", "+=", "ins_masks", "\n", "all_mask_sep", "[", ":", ",", ":", ",", "1", "+", "category_ids", "[", "ind", "]", "]", "+=", "ins_masks", "\n", "\n", "", "", "return", "all_mask", ",", "all_mask_sep", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo._frame_from_video": [[112, 119], ["video.isOpened", "video.read"], "methods", ["None"], ["", "def", "_frame_from_video", "(", "self", ",", "video", ")", ":", "\n", "        ", "while", "video", ".", "isOpened", "(", ")", ":", "\n", "            ", "success", ",", "frame", "=", "video", ".", "read", "(", ")", "\n", "if", "success", ":", "\n", "                ", "yield", "frame", "\n", "", "else", ":", "\n", "                ", "break", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo.run_on_video": [[120, 174], ["detectron2.utils.video_visualizer.VideoVisualizer", "predictor.VisualizationDemo._frame_from_video", "cv2.cvtColor", "cv2.cvtColor", "collections.deque", "enumerate", "len", "detectron2.utils.video_visualizer.VideoVisualizer.draw_panoptic_seg_predictions", "detectron2.utils.video_visualizer.VideoVisualizer.draw_sem_seg.get_image", "collections.deque.append", "predictor.VisualizationDemo.predictor.put", "collections.deque.popleft", "predictor.VisualizationDemo.predictor.get", "panoptic_seg.to", "predictions[].to", "detectron2.utils.video_visualizer.VideoVisualizer.draw_instance_predictions", "collections.deque.popleft", "predictor.VisualizationDemo.predictor.get", "predictor.VisualizationDemo.run_on_video.process_predictions"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo._frame_from_video", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.put", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get"], ["", "", "", "def", "run_on_video", "(", "self", ",", "video", ")", ":", "\n", "        ", "\"\"\"\n        Visualizes predictions on frames of the input video.\n\n        Args:\n            video (cv2.VideoCapture): a :class:`VideoCapture` object, whose source can be\n                either a webcam or a video file.\n\n        Yields:\n            ndarray: BGR visualizations of each video frame.\n        \"\"\"", "\n", "video_visualizer", "=", "VideoVisualizer", "(", "self", ".", "metadata", ",", "self", ".", "instance_mode", ")", "\n", "\n", "def", "process_predictions", "(", "frame", ",", "predictions", ")", ":", "\n", "            ", "frame", "=", "cv2", ".", "cvtColor", "(", "frame", ",", "cv2", ".", "COLOR_RGB2BGR", ")", "\n", "if", "\"panoptic_seg\"", "in", "predictions", ":", "\n", "                ", "panoptic_seg", ",", "segments_info", "=", "predictions", "[", "\"panoptic_seg\"", "]", "\n", "vis_frame", "=", "video_visualizer", ".", "draw_panoptic_seg_predictions", "(", "\n", "frame", ",", "panoptic_seg", ".", "to", "(", "self", ".", "cpu_device", ")", ",", "segments_info", "\n", ")", "\n", "", "elif", "\"instances\"", "in", "predictions", ":", "\n", "                ", "predictions", "=", "predictions", "[", "\"instances\"", "]", ".", "to", "(", "self", ".", "cpu_device", ")", "\n", "vis_frame", "=", "video_visualizer", ".", "draw_instance_predictions", "(", "frame", ",", "predictions", ")", "\n", "", "elif", "\"sem_seg\"", "in", "predictions", ":", "\n", "                ", "vis_frame", "=", "video_visualizer", ".", "draw_sem_seg", "(", "\n", "frame", ",", "predictions", "[", "\"sem_seg\"", "]", ".", "argmax", "(", "dim", "=", "0", ")", ".", "to", "(", "self", ".", "cpu_device", ")", "\n", ")", "\n", "\n", "# Converts Matplotlib RGB format to OpenCV BGR format", "\n", "", "vis_frame", "=", "cv2", ".", "cvtColor", "(", "vis_frame", ".", "get_image", "(", ")", ",", "cv2", ".", "COLOR_RGB2BGR", ")", "\n", "return", "vis_frame", "\n", "\n", "", "frame_gen", "=", "self", ".", "_frame_from_video", "(", "video", ")", "\n", "if", "self", ".", "parallel", ":", "\n", "            ", "buffer_size", "=", "self", ".", "predictor", ".", "default_buffer_size", "\n", "\n", "frame_data", "=", "deque", "(", ")", "\n", "\n", "for", "cnt", ",", "frame", "in", "enumerate", "(", "frame_gen", ")", ":", "\n", "                ", "frame_data", ".", "append", "(", "frame", ")", "\n", "self", ".", "predictor", ".", "put", "(", "frame", ")", "\n", "\n", "if", "cnt", ">=", "buffer_size", ":", "\n", "                    ", "frame", "=", "frame_data", ".", "popleft", "(", ")", "\n", "predictions", "=", "self", ".", "predictor", ".", "get", "(", ")", "\n", "yield", "process_predictions", "(", "frame", ",", "predictions", ")", "\n", "\n", "", "", "while", "len", "(", "frame_data", ")", ":", "\n", "                ", "frame", "=", "frame_data", ".", "popleft", "(", ")", "\n", "predictions", "=", "self", ".", "predictor", ".", "get", "(", ")", "\n", "yield", "process_predictions", "(", "frame", ",", "predictions", ")", "\n", "", "", "else", ":", "\n", "            ", "for", "frame", "in", "frame_gen", ":", "\n", "                ", "yield", "process_predictions", "(", "frame", ",", "self", ".", "predictor", "(", "frame", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.__init__": [[204, 230], ["max", "multiprocessing.Queue", "multiprocessing.Queue", "range", "atexit.register", "max", "cfg.clone.clone.clone", "cfg.clone.clone.defrost", "predictor.AsyncPredictor.procs.append", "p.start", "AsyncPredictor._PredictWorker"], "methods", ["None"], ["", "", "", "def", "__init__", "(", "self", ",", "cfg", ",", "num_gpus", ":", "int", "=", "1", ")", ":", "\n", "        ", "\"\"\"\n        Args:\n            cfg (CfgNode):\n            num_gpus (int): if 0, will run on CPU\n        \"\"\"", "\n", "num_workers", "=", "max", "(", "num_gpus", ",", "1", ")", "\n", "self", ".", "task_queue", "=", "mp", ".", "Queue", "(", "maxsize", "=", "num_workers", "*", "3", ")", "\n", "self", ".", "result_queue", "=", "mp", ".", "Queue", "(", "maxsize", "=", "num_workers", "*", "3", ")", "\n", "self", ".", "procs", "=", "[", "]", "\n", "for", "gpuid", "in", "range", "(", "max", "(", "num_gpus", ",", "1", ")", ")", ":", "\n", "            ", "cfg", "=", "cfg", ".", "clone", "(", ")", "\n", "cfg", ".", "defrost", "(", ")", "\n", "cfg", ".", "MODEL", ".", "DEVICE", "=", "\"cuda:{}\"", ".", "format", "(", "gpuid", ")", "if", "num_gpus", ">", "0", "else", "\"cpu\"", "\n", "self", ".", "procs", ".", "append", "(", "\n", "AsyncPredictor", ".", "_PredictWorker", "(", "cfg", ",", "self", ".", "task_queue", ",", "self", ".", "result_queue", ")", "\n", ")", "\n", "\n", "", "self", ".", "put_idx", "=", "0", "\n", "self", ".", "get_idx", "=", "0", "\n", "self", ".", "result_rank", "=", "[", "]", "\n", "self", ".", "result_data", "=", "[", "]", "\n", "\n", "for", "p", "in", "self", ".", "procs", ":", "\n", "            ", "p", ".", "start", "(", ")", "\n", "", "atexit", ".", "register", "(", "self", ".", "shutdown", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.put": [[231, 234], ["predictor.AsyncPredictor.task_queue.put"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.put"], ["", "def", "put", "(", "self", ",", "image", ")", ":", "\n", "        ", "self", ".", "put_idx", "+=", "1", "\n", "self", ".", "task_queue", ".", "put", "(", "(", "self", ".", "put_idx", ",", "image", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get": [[235, 250], ["len", "predictor.AsyncPredictor.result_queue.get", "bisect.bisect", "predictor.AsyncPredictor.result_rank.insert", "predictor.AsyncPredictor.result_data.insert"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get"], ["", "def", "get", "(", "self", ")", ":", "\n", "        ", "self", ".", "get_idx", "+=", "1", "# the index needed for this request", "\n", "if", "len", "(", "self", ".", "result_rank", ")", "and", "self", ".", "result_rank", "[", "0", "]", "==", "self", ".", "get_idx", ":", "\n", "            ", "res", "=", "self", ".", "result_data", "[", "0", "]", "\n", "del", "self", ".", "result_data", "[", "0", "]", ",", "self", ".", "result_rank", "[", "0", "]", "\n", "return", "res", "\n", "\n", "", "while", "True", ":", "\n", "# make sure the results are returned in the correct order", "\n", "            ", "idx", ",", "res", "=", "self", ".", "result_queue", ".", "get", "(", ")", "\n", "if", "idx", "==", "self", ".", "get_idx", ":", "\n", "                ", "return", "res", "\n", "", "insert", "=", "bisect", ".", "bisect", "(", "self", ".", "result_rank", ",", "idx", ")", "\n", "self", ".", "result_rank", ".", "insert", "(", "insert", ",", "idx", ")", "\n", "self", ".", "result_data", ".", "insert", "(", "insert", ",", "res", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.__len__": [[251, 253], ["None"], "methods", ["None"], ["", "", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "put_idx", "-", "self", ".", "get_idx", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.__call__": [[254, 257], ["predictor.AsyncPredictor.put", "predictor.AsyncPredictor.get"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.put", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.get"], ["", "def", "__call__", "(", "self", ",", "image", ")", ":", "\n", "        ", "self", ".", "put", "(", "image", ")", "\n", "return", "self", ".", "get", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.shutdown": [[258, 261], ["predictor.AsyncPredictor.task_queue.put", "AsyncPredictor._StopToken"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.put"], ["", "def", "shutdown", "(", "self", ")", ":", "\n", "        ", "for", "_", "in", "self", ".", "procs", ":", "\n", "            ", "self", ".", "task_queue", ".", "put", "(", "AsyncPredictor", ".", "_StopToken", "(", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.AsyncPredictor.default_buffer_size": [[262, 265], ["len"], "methods", ["None"], ["", "", "@", "property", "\n", "def", "default_buffer_size", "(", "self", ")", ":", "\n", "        ", "return", "len", "(", "self", ".", "procs", ")", "*", "5", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.__init__": [[9, 21], ["os.path.join", "panoptic_segmenter.PanopticSegmenter.setup_cfg", "predictor.VisualizationDemo", "os.path.join"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.setup_cfg"], ["    ", "def", "__init__", "(", "self", ",", "segm_out_type", ")", ":", "\n", "\n", "        ", "self", ".", "segm_out_type", "=", "segm_out_type", "\n", "\n", "self", ".", "path_dir", "=", "'./models/segmentation/detectron2'", "\n", "config_dir", "=", "\"configs/COCO-PanopticSegmentation/panoptic_fpn_R_50_3x.yaml\"", "\n", "self", ".", "config_file", "=", "os", ".", "path", ".", "join", "(", "self", ".", "path_dir", ",", "config_dir", ")", "\n", "weight_file", "=", "'model_final_c10459_panoptic.pkl'", "\n", "self", ".", "opts", "=", "[", "'MODEL.WEIGHTS'", ",", "os", ".", "path", ".", "join", "(", "self", ".", "path_dir", ",", "weight_file", ")", "]", "\n", "cfg", "=", "self", ".", "setup_cfg", "(", ")", "\n", "\n", "self", ".", "demo", "=", "VisualizationDemo", "(", "cfg", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.setup_cfg": [[22, 34], ["detectron2.config.get_cfg", "detectron2.config.get_cfg.merge_from_file", "detectron2.config.get_cfg.merge_from_list", "detectron2.config.get_cfg.freeze"], "methods", ["None"], ["", "def", "setup_cfg", "(", "self", ")", ":", "\n", "# load config from file and command-line arguments", "\n", "        ", "cfg", "=", "get_cfg", "(", ")", "\n", "cfg", ".", "merge_from_file", "(", "self", ".", "config_file", ")", "\n", "cfg", ".", "merge_from_list", "(", "self", ".", "opts", ")", "\n", "\n", "# Set score_threshold for builtin models", "\n", "cfg", ".", "MODEL", ".", "RETINANET", ".", "SCORE_THRESH_TEST", "=", "0.4", "\n", "cfg", ".", "MODEL", ".", "ROI_HEADS", ".", "SCORE_THRESH_TEST", "=", "0.4", "\n", "cfg", ".", "MODEL", ".", "PANOPTIC_FPN", ".", "COMBINE", ".", "INSTANCES_CONFIDENCE_THRESH", "=", "0.4", "\n", "cfg", ".", "freeze", "(", ")", "\n", "return", "cfg", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.panoptic_segmenter.PanopticSegmenter.segment_images": [[35, 45], ["panoptic_segmenter.PanopticSegmenter.demo.run_on_image", "torch.from_numpy().permute().float().cuda().unsqueeze", "torch.from_numpy().permute().float().cuda().unsqueeze", "torch.from_numpy().permute().float().cuda", "torch.from_numpy().permute().float().cuda", "torch.from_numpy().permute().float", "torch.from_numpy().permute().float", "torch.from_numpy().permute", "torch.from_numpy().permute", "torch.from_numpy", "torch.from_numpy"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.detectron2.predictor.VisualizationDemo.run_on_image"], ["", "def", "segment_images", "(", "self", ",", "images", ")", ":", "\n", "        ", "\"\"\"\n        :param images: tensor image\n        :return:\n        \"\"\"", "\n", "\n", "all_mask", ",", "all_mask_sep", "=", "self", ".", "demo", ".", "run_on_image", "(", "images", ")", "\n", "\n", "return", "torch", ".", "from_numpy", "(", "all_mask", ")", ".", "permute", "(", "2", ",", "0", ",", "1", ")", ".", "float", "(", ")", ".", "cuda", "(", ")", ".", "unsqueeze", "(", "0", ")", ",", "torch", ".", "from_numpy", "(", "all_mask_sep", ")", ".", "permute", "(", "2", ",", "0", ",", "1", ")", ".", "float", "(", ")", ".", "cuda", "(", ")", ".", "unsqueeze", "(", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.aligned_dataset.AlignedDataset.modify_commandline_options": [[11, 14], ["None"], "methods", ["None"], ["    ", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", ")", ":", "\n", "        ", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.aligned_dataset.AlignedDataset.initialize": [[15, 21], ["os.path.join", "sorted", "data.image_folder.make_dataset"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.make_dataset"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "self", ".", "root", "=", "opt", ".", "dataroot", "\n", "self", ".", "dir_AB", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "dataroot", ",", "opt", ".", "phase", ")", "\n", "self", ".", "AB_paths", "=", "sorted", "(", "make_dataset", "(", "self", ".", "dir_AB", ")", ")", "\n", "assert", "(", "opt", ".", "resize_or_crop", "==", "'resize_and_crop'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.aligned_dataset.AlignedDataset.__getitem__": [[22, 64], ["PIL.Image.open().convert", "int", "PIL.Image.open().convert.crop().resize", "PIL.Image.open().convert.crop().resize", "random.randint", "random.randint", "torchvision.ToTensor", "torchvision.ToTensor", "max", "max", "torchvision.Normalize", "torchvision.Normalize", "torch.LongTensor", "tmp.unsqueeze.index_select", "tmp.unsqueeze.index_select", "tmp.unsqueeze", "tmp.unsqueeze", "PIL.Image.open", "PIL.Image.open().convert.crop", "PIL.Image.open().convert.crop", "random.random", "range", "tmp.unsqueeze.size"], "methods", ["None"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "AB_path", "=", "self", ".", "AB_paths", "[", "index", "]", "\n", "AB", "=", "Image", ".", "open", "(", "AB_path", ")", ".", "convert", "(", "'RGB'", ")", "\n", "w", ",", "h", "=", "AB", ".", "size", "\n", "assert", "(", "self", ".", "opt", ".", "loadSize", ">=", "self", ".", "opt", ".", "fineSize", ")", "\n", "w2", "=", "int", "(", "w", "/", "2", ")", "\n", "A", "=", "AB", ".", "crop", "(", "(", "0", ",", "0", ",", "w2", ",", "h", ")", ")", ".", "resize", "(", "(", "self", ".", "opt", ".", "loadSize", ",", "self", ".", "opt", ".", "loadSize", ")", ",", "Image", ".", "BICUBIC", ")", "\n", "B", "=", "AB", ".", "crop", "(", "(", "w2", ",", "0", ",", "w", ",", "h", ")", ")", ".", "resize", "(", "(", "self", ".", "opt", ".", "loadSize", ",", "self", ".", "opt", ".", "loadSize", ")", ",", "Image", ".", "BICUBIC", ")", "\n", "A", "=", "transforms", ".", "ToTensor", "(", ")", "(", "A", ")", "\n", "B", "=", "transforms", ".", "ToTensor", "(", ")", "(", "B", ")", "\n", "w_offset", "=", "random", ".", "randint", "(", "0", ",", "max", "(", "0", ",", "self", ".", "opt", ".", "loadSize", "-", "self", ".", "opt", ".", "fineSize", "-", "1", ")", ")", "\n", "h_offset", "=", "random", ".", "randint", "(", "0", ",", "max", "(", "0", ",", "self", ".", "opt", ".", "loadSize", "-", "self", ".", "opt", ".", "fineSize", "-", "1", ")", ")", "\n", "\n", "A", "=", "A", "[", ":", ",", "h_offset", ":", "h_offset", "+", "self", ".", "opt", ".", "fineSize", ",", "w_offset", ":", "w_offset", "+", "self", ".", "opt", ".", "fineSize", "]", "\n", "B", "=", "B", "[", ":", ",", "h_offset", ":", "h_offset", "+", "self", ".", "opt", ".", "fineSize", ",", "w_offset", ":", "w_offset", "+", "self", ".", "opt", ".", "fineSize", "]", "\n", "\n", "A", "=", "transforms", ".", "Normalize", "(", "(", "0.5", ",", "0.5", ",", "0.5", ")", ",", "(", "0.5", ",", "0.5", ",", "0.5", ")", ")", "(", "A", ")", "\n", "B", "=", "transforms", ".", "Normalize", "(", "(", "0.5", ",", "0.5", ",", "0.5", ")", ",", "(", "0.5", ",", "0.5", ",", "0.5", ")", ")", "(", "B", ")", "\n", "\n", "if", "self", ".", "opt", ".", "direction", "==", "'BtoA'", ":", "\n", "            ", "input_nc", "=", "self", ".", "opt", ".", "output_nc", "\n", "output_nc", "=", "self", ".", "opt", ".", "input_nc", "\n", "", "else", ":", "\n", "            ", "input_nc", "=", "self", ".", "opt", ".", "input_nc", "\n", "output_nc", "=", "self", ".", "opt", ".", "output_nc", "\n", "\n", "", "if", "(", "not", "self", ".", "opt", ".", "no_flip", ")", "and", "random", ".", "random", "(", ")", "<", "0.5", ":", "\n", "            ", "idx", "=", "[", "i", "for", "i", "in", "range", "(", "A", ".", "size", "(", "2", ")", "-", "1", ",", "-", "1", ",", "-", "1", ")", "]", "\n", "idx", "=", "torch", ".", "LongTensor", "(", "idx", ")", "\n", "A", "=", "A", ".", "index_select", "(", "2", ",", "idx", ")", "\n", "B", "=", "B", ".", "index_select", "(", "2", ",", "idx", ")", "\n", "\n", "", "if", "input_nc", "==", "1", ":", "# RGB to gray", "\n", "            ", "tmp", "=", "A", "[", "0", ",", "...", "]", "*", "0.299", "+", "A", "[", "1", ",", "...", "]", "*", "0.587", "+", "A", "[", "2", ",", "...", "]", "*", "0.114", "\n", "A", "=", "tmp", ".", "unsqueeze", "(", "0", ")", "\n", "\n", "", "if", "output_nc", "==", "1", ":", "# RGB to gray", "\n", "            ", "tmp", "=", "B", "[", "0", ",", "...", "]", "*", "0.299", "+", "B", "[", "1", ",", "...", "]", "*", "0.587", "+", "B", "[", "2", ",", "...", "]", "*", "0.114", "\n", "B", "=", "tmp", ".", "unsqueeze", "(", "0", ")", "\n", "\n", "", "return", "{", "'A'", ":", "A", ",", "'B'", ":", "B", ",", "\n", "'A_paths'", ":", "AB_path", ",", "'B_paths'", ":", "AB_path", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.aligned_dataset.AlignedDataset.__len__": [[65, 67], ["len"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "len", "(", "self", ".", "AB_paths", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.aligned_dataset.AlignedDataset.name": [[68, 70], ["None"], "methods", ["None"], ["", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'AlignedDataset'", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.BaseDataset.__init__": [[7, 9], ["torch.Dataset.__init__"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "BaseDataset", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.BaseDataset.name": [[10, 12], ["None"], "methods", ["None"], ["", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'BaseDataset'", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.BaseDataset.modify_commandline_options": [[13, 16], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", ")", ":", "\n", "        ", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.BaseDataset.initialize": [[17, 19], ["None"], "methods", ["None"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.BaseDataset.__len__": [[20, 22], ["None"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.get_transform": [[24, 52], ["torchvision.Compose", "transform_list.append", "transform_list.append", "transform_list.append", "torchvision.ToTensor", "torchvision.Normalize", "torchvision.Resize", "torchvision.RandomCrop", "transform_list.append", "torchvision.RandomHorizontalFlip", "torchvision.RandomCrop", "transform_list.append", "torchvision.Lambda", "transform_list.append", "transform_list.append", "torchvision.Lambda", "torchvision.RandomCrop", "transform_list.append", "ValueError", "base_dataset.__scale_width", "torchvision.Lambda", "base_dataset.__scale_width", "base_dataset.__adjust"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__scale_width", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__scale_width", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__adjust"], ["", "", "def", "get_transform", "(", "opt", ")", ":", "\n", "    ", "transform_list", "=", "[", "]", "\n", "if", "opt", ".", "resize_or_crop", "==", "'resize_and_crop'", ":", "\n", "        ", "osize", "=", "[", "opt", ".", "loadSize", ",", "opt", ".", "loadSize", "]", "\n", "transform_list", ".", "append", "(", "transforms", ".", "Resize", "(", "osize", ",", "Image", ".", "BICUBIC", ")", ")", "\n", "transform_list", ".", "append", "(", "transforms", ".", "RandomCrop", "(", "opt", ".", "fineSize", ")", ")", "\n", "", "elif", "opt", ".", "resize_or_crop", "==", "'crop'", ":", "\n", "        ", "transform_list", ".", "append", "(", "transforms", ".", "RandomCrop", "(", "opt", ".", "fineSize", ")", ")", "\n", "", "elif", "opt", ".", "resize_or_crop", "==", "'scale_width'", ":", "\n", "        ", "transform_list", ".", "append", "(", "transforms", ".", "Lambda", "(", "\n", "lambda", "img", ":", "__scale_width", "(", "img", ",", "opt", ".", "fineSize", ")", ")", ")", "\n", "", "elif", "opt", ".", "resize_or_crop", "==", "'scale_width_and_crop'", ":", "\n", "        ", "transform_list", ".", "append", "(", "transforms", ".", "Lambda", "(", "\n", "lambda", "img", ":", "__scale_width", "(", "img", ",", "opt", ".", "loadSize", ")", ")", ")", "\n", "transform_list", ".", "append", "(", "transforms", ".", "RandomCrop", "(", "opt", ".", "fineSize", ")", ")", "\n", "", "elif", "opt", ".", "resize_or_crop", "==", "'none'", ":", "\n", "        ", "transform_list", ".", "append", "(", "transforms", ".", "Lambda", "(", "\n", "lambda", "img", ":", "__adjust", "(", "img", ")", ")", ")", "\n", "", "else", ":", "\n", "        ", "raise", "ValueError", "(", "'--resize_or_crop %s is not a valid option.'", "%", "opt", ".", "resize_or_crop", ")", "\n", "\n", "", "if", "opt", ".", "isTrain", "and", "not", "opt", ".", "no_flip", ":", "\n", "        ", "transform_list", ".", "append", "(", "transforms", ".", "RandomHorizontalFlip", "(", ")", ")", "\n", "\n", "", "transform_list", "+=", "[", "transforms", ".", "ToTensor", "(", ")", ",", "\n", "transforms", ".", "Normalize", "(", "(", "0.5", ",", "0.5", ",", "0.5", ")", ",", "\n", "(", "0.5", ",", "0.5", ",", "0.5", ")", ")", "]", "\n", "return", "transforms", ".", "Compose", "(", "transform_list", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__adjust": [[55, 73], ["img.resize", "base_dataset.__print_size_warning"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__print_size_warning"], ["", "def", "__adjust", "(", "img", ")", ":", "\n", "    ", "ow", ",", "oh", "=", "img", ".", "size", "\n", "\n", "# the size needs to be a multiple of this number,", "\n", "# because going through generator network may change img size", "\n", "# and eventually cause size mismatch error", "\n", "mult", "=", "4", "\n", "if", "ow", "%", "mult", "==", "0", "and", "oh", "%", "mult", "==", "0", ":", "\n", "        ", "return", "img", "\n", "", "w", "=", "(", "ow", "-", "1", ")", "//", "mult", "\n", "w", "=", "(", "w", "+", "1", ")", "*", "mult", "\n", "h", "=", "(", "oh", "-", "1", ")", "//", "mult", "\n", "h", "=", "(", "h", "+", "1", ")", "*", "mult", "\n", "\n", "if", "ow", "!=", "w", "or", "oh", "!=", "h", ":", "\n", "        ", "__print_size_warning", "(", "ow", ",", "oh", ",", "w", ",", "h", ")", "\n", "\n", "", "return", "img", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "BICUBIC", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__scale_width": [[75, 94], ["int", "img.resize", "base_dataset.__print_size_warning"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__print_size_warning"], ["", "def", "__scale_width", "(", "img", ",", "target_width", ")", ":", "\n", "    ", "ow", ",", "oh", "=", "img", ".", "size", "\n", "\n", "# the size needs to be a multiple of this number,", "\n", "# because going through generator network may change img size", "\n", "# and eventually cause size mismatch error", "\n", "mult", "=", "4", "\n", "assert", "target_width", "%", "mult", "==", "0", ",", "\"the target width needs to be multiple of %d.\"", "%", "mult", "\n", "if", "(", "ow", "==", "target_width", "and", "oh", "%", "mult", "==", "0", ")", ":", "\n", "        ", "return", "img", "\n", "", "w", "=", "target_width", "\n", "target_height", "=", "int", "(", "target_width", "*", "oh", "/", "ow", ")", "\n", "m", "=", "(", "target_height", "-", "1", ")", "//", "mult", "\n", "h", "=", "(", "m", "+", "1", ")", "*", "mult", "\n", "\n", "if", "target_height", "!=", "h", ":", "\n", "        ", "__print_size_warning", "(", "target_width", ",", "target_height", ",", "w", ",", "h", ")", "\n", "\n", "", "return", "img", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "BICUBIC", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.__print_size_warning": [[96, 103], ["hasattr", "print"], "function", ["None"], ["", "def", "__print_size_warning", "(", "ow", ",", "oh", ",", "w", ",", "h", ")", ":", "\n", "    ", "if", "not", "hasattr", "(", "__print_size_warning", ",", "'has_printed'", ")", ":", "\n", "        ", "print", "(", "\"The image size needs to be a multiple of 4. \"", "\n", "\"The loaded image size was (%d, %d), so it was adjusted to \"", "\n", "\"(%d, %d). This adjustment will be done to all images \"", "\n", "\"whose sizes are not multiples of 4\"", "%", "(", "ow", ",", "oh", ",", "w", ",", "h", ")", ")", "\n", "__print_size_warning", ".", "has_printed", "=", "True", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.single_dataset.SingleDataset.modify_commandline_options": [[8, 11], ["None"], "methods", ["None"], ["    ", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", ")", ":", "\n", "        ", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.single_dataset.SingleDataset.initialize": [[12, 22], ["os.path.join", "data.image_folder.make_dataset", "sorted", "data.base_dataset.get_transform"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.make_dataset", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.get_transform"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "self", ".", "root", "=", "opt", ".", "dataroot", "\n", "self", ".", "dir_A", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "dataroot", ")", "\n", "\n", "self", ".", "A_paths", "=", "make_dataset", "(", "self", ".", "dir_A", ")", "\n", "\n", "self", ".", "A_paths", "=", "sorted", "(", "self", ".", "A_paths", ")", "\n", "\n", "self", ".", "transform", "=", "get_transform", "(", "opt", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.single_dataset.SingleDataset.__getitem__": [[23, 37], ["PIL.Image.open().convert", "single_dataset.SingleDataset.transform", "tmp.unsqueeze", "PIL.Image.open"], "methods", ["None"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "A_path", "=", "self", ".", "A_paths", "[", "index", "]", "\n", "A_img", "=", "Image", ".", "open", "(", "A_path", ")", ".", "convert", "(", "'RGB'", ")", "\n", "A", "=", "self", ".", "transform", "(", "A_img", ")", "\n", "if", "self", ".", "opt", ".", "direction", "==", "'BtoA'", ":", "\n", "            ", "input_nc", "=", "self", ".", "opt", ".", "output_nc", "\n", "", "else", ":", "\n", "            ", "input_nc", "=", "self", ".", "opt", ".", "input_nc", "\n", "\n", "", "if", "input_nc", "==", "1", ":", "# RGB to gray", "\n", "            ", "tmp", "=", "A", "[", "0", ",", "...", "]", "*", "0.299", "+", "A", "[", "1", ",", "...", "]", "*", "0.587", "+", "A", "[", "2", ",", "...", "]", "*", "0.114", "\n", "A", "=", "tmp", ".", "unsqueeze", "(", "0", ")", "\n", "\n", "", "return", "{", "'A'", ":", "A", ",", "'A_paths'", ":", "A_path", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.single_dataset.SingleDataset.__len__": [[38, 40], ["len"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "len", "(", "self", ".", "A_paths", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.single_dataset.SingleDataset.name": [[41, 43], ["None"], "methods", ["None"], ["", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'SingleImageDataset'", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.ImageFolder.__init__": [[43, 56], ["image_folder.make_dataset", "len", "RuntimeError"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.make_dataset"], ["    ", "def", "__init__", "(", "self", ",", "root", ",", "transform", "=", "None", ",", "return_paths", "=", "False", ",", "\n", "loader", "=", "default_loader", ")", ":", "\n", "        ", "imgs", "=", "make_dataset", "(", "root", ")", "\n", "if", "len", "(", "imgs", ")", "==", "0", ":", "\n", "            ", "raise", "(", "RuntimeError", "(", "\"Found 0 images in: \"", "+", "root", "+", "\"\\n\"", "\n", "\"Supported image extensions are: \"", "+", "\n", "\",\"", ".", "join", "(", "IMG_EXTENSIONS", ")", ")", ")", "\n", "\n", "", "self", ".", "root", "=", "root", "\n", "self", ".", "imgs", "=", "imgs", "\n", "self", ".", "transform", "=", "transform", "\n", "self", ".", "return_paths", "=", "return_paths", "\n", "self", ".", "loader", "=", "loader", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.ImageFolder.__getitem__": [[57, 66], ["image_folder.ImageFolder.loader", "image_folder.ImageFolder.transform"], "methods", ["None"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "path", "=", "self", ".", "imgs", "[", "index", "]", "\n", "img", "=", "self", ".", "loader", "(", "path", ")", "\n", "if", "self", ".", "transform", "is", "not", "None", ":", "\n", "            ", "img", "=", "self", ".", "transform", "(", "img", ")", "\n", "", "if", "self", ".", "return_paths", ":", "\n", "            ", "return", "img", ",", "path", "\n", "", "else", ":", "\n", "            ", "return", "img", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.ImageFolder.__len__": [[67, 69], ["len"], "methods", ["None"], ["", "", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "len", "(", "self", ".", "imgs", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.is_image_file": [[20, 22], ["any", "filename.endswith"], "function", ["None"], ["def", "is_image_file", "(", "filename", ")", ":", "\n", "    ", "return", "any", "(", "filename", ".", "endswith", "(", "extension", ")", "for", "extension", "in", "IMG_EXTENSIONS", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.make_dataset": [[24, 35], ["os.path.isdir", "os.path.isdir", "sorted", "os.walk", "os.walk", "image_folder.is_image_file", "os.path.join", "os.path.join", "images.append"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.is_image_file"], ["", "def", "make_dataset", "(", "dir", ")", ":", "\n", "    ", "images", "=", "[", "]", "\n", "assert", "os", ".", "path", ".", "isdir", "(", "dir", ")", ",", "'%s is not a valid directory'", "%", "dir", "\n", "\n", "for", "root", ",", "_", ",", "fnames", "in", "sorted", "(", "os", ".", "walk", "(", "dir", ")", ")", ":", "\n", "        ", "for", "fname", "in", "fnames", ":", "\n", "            ", "if", "is_image_file", "(", "fname", ")", ":", "\n", "                ", "path", "=", "os", ".", "path", ".", "join", "(", "root", ",", "fname", ")", "\n", "images", ".", "append", "(", "path", ")", "\n", "\n", "", "", "", "return", "images", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.default_loader": [[37, 39], ["PIL.Image.open().convert", "PIL.Image.open"], "function", ["None"], ["", "def", "default_loader", "(", "path", ")", ":", "\n", "    ", "return", "Image", ".", "open", "(", "path", ")", ".", "convert", "(", "'RGB'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.CustomDatasetDataLoader.name": [[53, 55], ["None"], "methods", ["None"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.CustomDatasetDataLoader.initialize": [[56, 64], ["data.base_data_loader.BaseDataLoader.initialize", "__init__.create_dataset", "torch.utils.data.DataLoader", "int"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.create_dataset"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.CustomDatasetDataLoader.load_data": [[65, 67], ["None"], "methods", ["None"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.CustomDatasetDataLoader.__len__": [[68, 70], ["min", "len"], "methods", ["None"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.CustomDatasetDataLoader.__iter__": [[71, 76], ["enumerate"], "methods", ["None"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.find_dataset_using_name": [[7, 29], ["importlib.import_module", "importlib.import_module.__dict__.items", "dataset_name.replace", "print", "exit", "issubclass", "name.lower", "target_dataset_name.lower"], "function", ["None"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.get_option_setter": [[31, 34], ["__init__.find_dataset_using_name"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.find_dataset_using_name"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.create_dataset": [[36, 42], ["__init__.find_dataset_using_name", "find_dataset_using_name.", "dataset.initialize", "print", "dataset.name"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.find_dataset_using_name", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.name"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.CreateDataLoader": [[44, 48], ["__init__.CustomDatasetDataLoader", "__init__.CustomDatasetDataLoader.initialize"], "function", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize"], []], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_data_loader.BaseDataLoader.__init__": [[2, 4], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_data_loader.BaseDataLoader.initialize": [[5, 8], ["None"], "methods", ["None"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_data_loader.BaseDataLoader.load_data": [[9, 11], ["None"], "methods", ["None"], ["", "def", "load_data", "(", "self", ")", ":", "\n", "        ", "return", "None", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.modify_commandline_options": [[9, 12], ["None"], "methods", ["None"], ["    ", "@", "staticmethod", "\n", "def", "modify_commandline_options", "(", "parser", ",", "is_train", ")", ":", "\n", "        ", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.initialize": [[13, 27], ["os.path.join", "os.path.join", "data.image_folder.make_dataset", "data.image_folder.make_dataset", "sorted", "sorted", "len", "len", "data.base_dataset.get_transform"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.make_dataset", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.image_folder.make_dataset", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.base_dataset.get_transform"], ["", "def", "initialize", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "self", ".", "root", "=", "opt", ".", "dataroot", "\n", "self", ".", "dir_A", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "dataroot", ",", "opt", ".", "phase", "+", "'A'", ")", "\n", "self", ".", "dir_B", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "dataroot", ",", "opt", ".", "phase", "+", "'B'", ")", "\n", "\n", "self", ".", "A_paths", "=", "make_dataset", "(", "self", ".", "dir_A", ")", "\n", "self", ".", "B_paths", "=", "make_dataset", "(", "self", ".", "dir_B", ")", "\n", "\n", "self", ".", "A_paths", "=", "sorted", "(", "self", ".", "A_paths", ")", "\n", "self", ".", "B_paths", "=", "sorted", "(", "self", ".", "B_paths", ")", "\n", "self", ".", "A_size", "=", "len", "(", "self", ".", "A_paths", ")", "\n", "self", ".", "B_size", "=", "len", "(", "self", ".", "B_paths", ")", "\n", "self", ".", "transform", "=", "get_transform", "(", "opt", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.__getitem__": [[28, 56], ["PIL.Image.open().convert", "PIL.Image.open().convert", "unaligned_dataset.UnalignedDataset.transform", "unaligned_dataset.UnalignedDataset.transform", "random.randint", "tmp.unsqueeze", "tmp.unsqueeze", "PIL.Image.open", "PIL.Image.open"], "methods", ["None"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "A_path", "=", "self", ".", "A_paths", "[", "index", "%", "self", ".", "A_size", "]", "\n", "if", "self", ".", "opt", ".", "serial_batches", ":", "\n", "            ", "index_B", "=", "index", "%", "self", ".", "B_size", "\n", "", "else", ":", "\n", "            ", "index_B", "=", "random", ".", "randint", "(", "0", ",", "self", ".", "B_size", "-", "1", ")", "\n", "", "B_path", "=", "self", ".", "B_paths", "[", "index_B", "]", "\n", "A_img", "=", "Image", ".", "open", "(", "A_path", ")", ".", "convert", "(", "'RGB'", ")", "\n", "B_img", "=", "Image", ".", "open", "(", "B_path", ")", ".", "convert", "(", "'RGB'", ")", "\n", "\n", "A", "=", "self", ".", "transform", "(", "A_img", ")", "\n", "B", "=", "self", ".", "transform", "(", "B_img", ")", "\n", "if", "self", ".", "opt", ".", "direction", "==", "'BtoA'", ":", "\n", "            ", "input_nc", "=", "self", ".", "opt", ".", "output_nc", "\n", "output_nc", "=", "self", ".", "opt", ".", "input_nc", "\n", "", "else", ":", "\n", "            ", "input_nc", "=", "self", ".", "opt", ".", "input_nc", "\n", "output_nc", "=", "self", ".", "opt", ".", "output_nc", "\n", "\n", "", "if", "input_nc", "==", "1", ":", "# RGB to gray", "\n", "            ", "tmp", "=", "A", "[", "0", ",", "...", "]", "*", "0.299", "+", "A", "[", "1", ",", "...", "]", "*", "0.587", "+", "A", "[", "2", ",", "...", "]", "*", "0.114", "\n", "A", "=", "tmp", ".", "unsqueeze", "(", "0", ")", "\n", "\n", "", "if", "output_nc", "==", "1", ":", "# RGB to gray", "\n", "            ", "tmp", "=", "B", "[", "0", ",", "...", "]", "*", "0.299", "+", "B", "[", "1", ",", "...", "]", "*", "0.587", "+", "B", "[", "2", ",", "...", "]", "*", "0.114", "\n", "B", "=", "tmp", ".", "unsqueeze", "(", "0", ")", "\n", "", "return", "{", "'A'", ":", "A", ",", "'B'", ":", "B", ",", "\n", "'A_paths'", ":", "A_path", ",", "'B_paths'", ":", "B_path", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.__len__": [[57, 59], ["max"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "max", "(", "self", ".", "A_size", ",", "self", ".", "B_size", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.unaligned_dataset.UnalignedDataset.name": [[60, 62], ["None"], "methods", ["None"], ["", "def", "name", "(", "self", ")", ":", "\n", "        ", "return", "'UnalignedDataset'", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.test_options.TestOptions.initialize": [[5, 25], ["base_options.BaseOptions.initialize", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.set_defaults", "base_options.BaseOptions.initialize.set_defaults", "float", "base_options.BaseOptions.initialize.get_default"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize"], ["    ", "def", "initialize", "(", "self", ",", "parser", ")", ":", "\n", "        ", "parser", "=", "BaseOptions", ".", "initialize", "(", "self", ",", "parser", ")", "\n", "parser", ".", "add_argument", "(", "'--ntest'", ",", "type", "=", "int", ",", "default", "=", "float", "(", "\"inf\"", ")", ",", "help", "=", "'# of test examples.'", ")", "\n", "parser", ".", "add_argument", "(", "'--results_dir'", ",", "type", "=", "str", ",", "default", "=", "'./results/'", ",", "help", "=", "'saves results here.'", ")", "\n", "parser", ".", "add_argument", "(", "'--aspect_ratio'", ",", "type", "=", "float", ",", "default", "=", "1.0", ",", "help", "=", "'aspect ratio of result images'", ")", "\n", "parser", ".", "add_argument", "(", "'--phase'", ",", "type", "=", "str", ",", "default", "=", "'test'", ",", "help", "=", "'train, val, test, etc'", ")", "\n", "parser", ".", "add_argument", "(", "'--cityscapes'", ",", "type", "=", "bool", ",", "default", "=", "False", ",", "help", "=", "'test with cityscapes dataset'", ")", "\n", "parser", ".", "add_argument", "(", "'--cityscape_fnames'", ",", "\n", "type", "=", "str", ",", "default", "=", "\"./datasets/cityscapes_test_file_names.txt\"", ",", "\n", "help", "=", "'correct cityscape file names'", ")", "\n", "#  Dropout and Batchnorm has different behavioir during training and test.", "\n", "parser", ".", "add_argument", "(", "'--eval'", ",", "default", "=", "False", ",", "help", "=", "'use eval mode during test time.'", ")", "# action='store_true',", "\n", "parser", ".", "add_argument", "(", "'--num_test'", ",", "type", "=", "int", ",", "default", "=", "500000", ",", "help", "=", "'how many test images to run'", ")", "# for style 751, for content 500", "\n", "\n", "parser", ".", "set_defaults", "(", "model", "=", "'test'", ")", "# TODO: change to test if using cyclegan, pix2pix for Pix2Pix!", "\n", "# parser.set_defaults(model='pix2pix')", "\n", "# To avoid cropping, the loadSize should be the same as fineSize", "\n", "parser", ".", "set_defaults", "(", "loadSize", "=", "parser", ".", "get_default", "(", "'fineSize'", ")", ")", "\n", "self", ".", "isTrain", "=", "False", "\n", "return", "parser", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.train_options.TrainOptions.initialize": [[5, 32], ["base_options.BaseOptions.initialize", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument", "base_options.BaseOptions.initialize.add_argument"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize"], ["    ", "def", "initialize", "(", "self", ",", "parser", ")", ":", "\n", "        ", "parser", "=", "BaseOptions", ".", "initialize", "(", "self", ",", "parser", ")", "\n", "parser", ".", "add_argument", "(", "'--display_freq'", ",", "type", "=", "int", ",", "default", "=", "400", ",", "help", "=", "'frequency of showing training results on screen'", ")", "\n", "parser", ".", "add_argument", "(", "'--display_ncols'", ",", "type", "=", "int", ",", "default", "=", "4", ",", "help", "=", "'if positive, display all images in a single visdom web panel with certain number of images per row.'", ")", "\n", "parser", ".", "add_argument", "(", "'--display_id'", ",", "type", "=", "int", ",", "default", "=", "0", ",", "help", "=", "'window id of the web display'", ")", "\n", "parser", ".", "add_argument", "(", "'--display_server'", ",", "type", "=", "str", ",", "default", "=", "\"http://localhost\"", ",", "help", "=", "'visdom server of the web display'", ")", "\n", "parser", ".", "add_argument", "(", "'--display_env'", ",", "type", "=", "str", ",", "default", "=", "'main'", ",", "help", "=", "'visdom display environment name (default is \"main\")'", ")", "\n", "parser", ".", "add_argument", "(", "'--display_port'", ",", "type", "=", "int", ",", "default", "=", "8097", ",", "help", "=", "'visdom port of the web display'", ")", "\n", "parser", ".", "add_argument", "(", "'--update_html_freq'", ",", "type", "=", "int", ",", "default", "=", "1000", ",", "help", "=", "'frequency of saving training results to html'", ")", "\n", "parser", ".", "add_argument", "(", "'--print_freq'", ",", "type", "=", "int", ",", "default", "=", "100", ",", "help", "=", "'frequency of showing training results on console'", ")", "\n", "parser", ".", "add_argument", "(", "'--save_latest_freq'", ",", "type", "=", "int", ",", "default", "=", "5000", ",", "help", "=", "'frequency of saving the latest results'", ")", "\n", "parser", ".", "add_argument", "(", "'--save_epoch_freq'", ",", "type", "=", "int", ",", "default", "=", "5", ",", "help", "=", "'frequency of saving checkpoints at the end of epochs'", ")", "\n", "parser", ".", "add_argument", "(", "'--continue_train'", ",", "action", "=", "'store_true'", ",", "help", "=", "'continue training: load the latest model'", ")", "\n", "parser", ".", "add_argument", "(", "'--epoch_count'", ",", "type", "=", "int", ",", "default", "=", "1", ",", "help", "=", "'the starting epoch count, we save the model by <epoch_count>, <epoch_count>+<save_latest_freq>, ...'", ")", "\n", "parser", ".", "add_argument", "(", "'--phase'", ",", "type", "=", "str", ",", "default", "=", "'train'", ",", "help", "=", "'train, val, test, etc'", ")", "\n", "parser", ".", "add_argument", "(", "'--niter'", ",", "type", "=", "int", ",", "default", "=", "100", ",", "help", "=", "'# of iter at starting learning rate'", ")", "\n", "parser", ".", "add_argument", "(", "'--niter_decay'", ",", "type", "=", "int", ",", "default", "=", "100", ",", "help", "=", "'# of iter to linearly decay learning rate to zero'", ")", "\n", "parser", ".", "add_argument", "(", "'--beta1'", ",", "type", "=", "float", ",", "default", "=", "0.5", ",", "help", "=", "'momentum term of adam'", ")", "\n", "parser", ".", "add_argument", "(", "'--lr'", ",", "type", "=", "float", ",", "default", "=", "0.0002", ",", "help", "=", "'initial learning rate for adam'", ")", "\n", "parser", ".", "add_argument", "(", "'--no_lsgan'", ",", "action", "=", "'store_true'", ",", "help", "=", "'do *not* use least square GAN, if false, use vanilla GAN'", ")", "\n", "parser", ".", "add_argument", "(", "'--pool_size'", ",", "type", "=", "int", ",", "default", "=", "50", ",", "help", "=", "'the size of image buffer that stores previously generated images'", ")", "\n", "parser", ".", "add_argument", "(", "'--no_html'", ",", "action", "=", "'store_true'", ",", "help", "=", "'do not save intermediate training results to [opt.checkpoints_dir]/[opt.name]/web/'", ")", "\n", "parser", ".", "add_argument", "(", "'--lr_policy'", ",", "type", "=", "str", ",", "default", "=", "'lambda'", ",", "help", "=", "'learning rate policy: lambda|step|plateau|cosine'", ")", "\n", "parser", ".", "add_argument", "(", "'--lr_decay_iters'", ",", "type", "=", "int", ",", "default", "=", "50", ",", "help", "=", "'multiply by a gamma every lr_decay_iters iterations'", ")", "\n", "\n", "self", ".", "isTrain", "=", "True", "\n", "return", "parser", "\n", "", "", ""]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.__init__": [[10, 12], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "self", ".", "initialized", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize": [[13, 63], ["parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "parser.add_argument", "float"], "methods", ["None"], ["", "def", "initialize", "(", "self", ",", "parser", ")", ":", "\n", "        ", "parser", ".", "add_argument", "(", "'--dataroot'", ",", "required", "=", "False", ",", "\n", "default", "=", "\"/media/test/Samhi/GANILLA/image_colorization/dataset/axel_hed\"", ",", "\n", "help", "=", "'path to images (should have subfolders trainA, trainB, valA, valB for CycleGan and AdvSegLoss,'", "\n", "'train and test for Pix2Pix)'", ")", "\n", "parser", ".", "add_argument", "(", "'--name'", ",", "type", "=", "str", ",", "\n", "default", "=", "'axel_hed_cyclegan_panoptic_both_v2_testttt'", ",", "#panoptic_split _detectron2_panoptic", "\n", "help", "=", "'name of the experiment. It decides where to store samples and models'", ")", "\n", "parser", ".", "add_argument", "(", "'--checkpoints_dir'", ",", "type", "=", "str", ",", "\n", "default", "=", "'/media/test/Samhi/GANILLA/image_colorization/checkpoints/Panoptic_truba'", ",", "\n", "#default='./checkpoints/',", "\n", "help", "=", "'models are saved here'", ")", "\n", "parser", ".", "add_argument", "(", "'--batch_size'", ",", "type", "=", "int", ",", "default", "=", "1", ",", "help", "=", "'input batch size'", ")", "\n", "parser", ".", "add_argument", "(", "'--loadSize'", ",", "type", "=", "int", ",", "default", "=", "286", ",", "help", "=", "'scale images to this size'", ")", "\n", "parser", ".", "add_argument", "(", "'--fineSize'", ",", "type", "=", "int", ",", "default", "=", "256", ",", "help", "=", "'then crop to this size'", ")", "\n", "parser", ".", "add_argument", "(", "'--display_winsize'", ",", "type", "=", "int", ",", "default", "=", "256", ",", "help", "=", "'display window size for both visdom and HTML'", ")", "\n", "parser", ".", "add_argument", "(", "'--input_nc'", ",", "type", "=", "int", ",", "default", "=", "3", ",", "help", "=", "'# of input image channels'", ")", "\n", "parser", ".", "add_argument", "(", "'--output_nc'", ",", "type", "=", "int", ",", "default", "=", "3", ",", "help", "=", "'# of output image channels'", ")", "\n", "parser", ".", "add_argument", "(", "'--ngf'", ",", "type", "=", "int", ",", "default", "=", "64", ",", "help", "=", "'# of gen filters in first conv layer'", ")", "\n", "parser", ".", "add_argument", "(", "'--ndf'", ",", "type", "=", "int", ",", "default", "=", "64", ",", "help", "=", "'# of discrim filters in first conv layer'", ")", "\n", "parser", ".", "add_argument", "(", "'--netD'", ",", "type", "=", "str", ",", "default", "=", "'basic'", ",", "help", "=", "'selects model to use for netD'", ")", "\n", "parser", ".", "add_argument", "(", "'--netG'", ",", "type", "=", "str", ",", "default", "=", "'resnet_9blocks'", ",", "\n", "help", "=", "'selects model to use for netG [resnet_fpn | resnet_9blocks | resnet_6blocks, unet_256]'", ")", "\n", "parser", ".", "add_argument", "(", "'--n_layers_D'", ",", "type", "=", "int", ",", "default", "=", "3", ",", "help", "=", "'only used if netD==n_layers'", ")", "\n", "parser", ".", "add_argument", "(", "'--fpn_weights'", ",", "type", "=", "list", ",", "default", "=", "[", "1.0", ",", "1.0", ",", "1.0", ",", "1.0", "]", ",", "help", "=", "'weights for each fpn layer from C5 to C2'", ")", "\n", "parser", ".", "add_argument", "(", "'--gpu_ids'", ",", "type", "=", "str", ",", "default", "=", "'0'", ",", "help", "=", "'gpu ids: e.g. 0  0,1,2, 0,2. use -1 for CPU'", ")", "\n", "parser", ".", "add_argument", "(", "'--dataset_mode'", ",", "type", "=", "str", ",", "default", "=", "'unaligned'", ",", "\n", "help", "=", "'chooses how datasets are loaded. [unaligned | aligned | single]'", ")", "\n", "parser", ".", "add_argument", "(", "'--model'", ",", "type", "=", "str", ",", "default", "=", "'cycle_gan'", ",", "\n", "help", "=", "'chooses which model to use. cycle_gan, pix2pix, test'", ")", "\n", "parser", ".", "add_argument", "(", "'--direction'", ",", "type", "=", "str", ",", "default", "=", "'AtoB'", ",", "help", "=", "'AtoB or BtoA'", ")", "\n", "parser", ".", "add_argument", "(", "'--segmentation'", ",", "action", "=", "'store_true'", ",", "help", "=", "'use segmentation model'", ")", "\n", "parser", ".", "add_argument", "(", "'--segmentation_output'", ",", "default", "=", "'both'", ",", "\n", "help", "=", "'binary=foreground and background classes merged together,'", "\n", "'multi_class=all seg outputs used separately,'", "\n", "'both=use above 2'", ")", "\n", "parser", ".", "add_argument", "(", "'--epoch'", ",", "type", "=", "str", ",", "default", "=", "'100'", ",", "help", "=", "'which epoch to load? set to latest to use latest cached model'", ")", "\n", "parser", ".", "add_argument", "(", "'--num_threads'", ",", "default", "=", "8", ",", "type", "=", "int", ",", "help", "=", "'# threads for loading data'", ")", "\n", "parser", ".", "add_argument", "(", "'--norm'", ",", "type", "=", "str", ",", "default", "=", "'instance'", ",", "help", "=", "'instance normalization or batch normalization'", ")", "\n", "parser", ".", "add_argument", "(", "'--serial_batches'", ",", "action", "=", "'store_true'", ",", "help", "=", "'if true, takes images in order to make batches, otherwise takes them randomly'", ")", "\n", "parser", ".", "add_argument", "(", "'--no_dropout'", ",", "default", "=", "False", ",", "help", "=", "'no dropout for the generator'", ")", "\n", "parser", ".", "add_argument", "(", "'--max_dataset_size'", ",", "type", "=", "int", ",", "default", "=", "float", "(", "\"inf\"", ")", ",", "help", "=", "'Maximum number of samples allowed per dataset. If the dataset directory contains more than max_dataset_size, only a subset is loaded.'", ")", "\n", "parser", ".", "add_argument", "(", "'--resize_or_crop'", ",", "type", "=", "str", ",", "default", "=", "'resize_and_crop'", ",", "help", "=", "'scaling and cropping of images at load time [resize_and_crop|crop|scale_width|scale_width_and_crop|none]'", ")", "\n", "parser", ".", "add_argument", "(", "'--no_flip'", ",", "action", "=", "'store_true'", ",", "help", "=", "'if specified, do not flip the images for data augmentation'", ")", "\n", "parser", ".", "add_argument", "(", "'--init_type'", ",", "type", "=", "str", ",", "default", "=", "'normal'", ",", "help", "=", "'network initialization [normal|xavier|kaiming|orthogonal]'", ")", "\n", "parser", ".", "add_argument", "(", "'--init_gain'", ",", "type", "=", "float", ",", "default", "=", "0.02", ",", "help", "=", "'scaling factor for normal, xavier and orthogonal.'", ")", "\n", "parser", ".", "add_argument", "(", "'--verbose'", ",", "action", "=", "'store_true'", ",", "help", "=", "'if specified, print more debugging information'", ")", "\n", "parser", ".", "add_argument", "(", "'--suffix'", ",", "default", "=", "''", ",", "type", "=", "str", ",", "help", "=", "'customized suffix: opt.name = opt.name + suffix: e.g., {model}_{netG}_size{loadSize}'", ")", "\n", "self", ".", "initialized", "=", "True", "\n", "return", "parser", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.gather_options": [[64, 88], ["base_options.BaseOptions.parse_known_args", "models.get_option_setter", "models.get_option_setter.", "base_options.BaseOptions.parse_known_args", "data.get_option_setter", "data.get_option_setter.", "base_options.BaseOptions.parse_args", "argparse.ArgumentParser", "base_options.BaseOptions.initialize"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.get_option_setter", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.data.__init__.get_option_setter", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.edges.batch_hed.parse_args", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.initialize"], ["", "def", "gather_options", "(", "self", ")", ":", "\n", "# initialize parser with basic options", "\n", "        ", "if", "not", "self", ".", "initialized", ":", "\n", "            ", "parser", "=", "argparse", ".", "ArgumentParser", "(", "\n", "formatter_class", "=", "argparse", ".", "ArgumentDefaultsHelpFormatter", ")", "\n", "parser", "=", "self", ".", "initialize", "(", "parser", ")", "\n", "\n", "# get the basic options", "\n", "", "opt", ",", "_", "=", "parser", ".", "parse_known_args", "(", ")", "\n", "\n", "# modify model-related parser options", "\n", "model_name", "=", "opt", ".", "model", "\n", "model_option_setter", "=", "models", ".", "get_option_setter", "(", "model_name", ")", "\n", "parser", "=", "model_option_setter", "(", "parser", ",", "self", ".", "isTrain", ")", "\n", "opt", ",", "_", "=", "parser", ".", "parse_known_args", "(", ")", "# parse again with the new defaults", "\n", "\n", "# modify dataset-related parser options", "\n", "dataset_name", "=", "opt", ".", "dataset_mode", "\n", "dataset_option_setter", "=", "data", ".", "get_option_setter", "(", "dataset_name", ")", "\n", "parser", "=", "dataset_option_setter", "(", "parser", ",", "self", ".", "isTrain", ")", "\n", "\n", "self", ".", "parser", "=", "parser", "\n", "\n", "return", "parser", ".", "parse_args", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.print_options": [[89, 112], ["sorted", "print", "os.path.join", "util.util.util.mkdirs", "vars().items", "base_options.BaseOptions.parser.get_default", "os.path.join", "os.path.join", "open", "opt_file.write", "opt_file.write", "str", "str", "vars", "str"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.util.util.mkdirs"], ["", "def", "print_options", "(", "self", ",", "opt", ")", ":", "\n", "        ", "message", "=", "''", "\n", "message", "+=", "'----------------- Options ---------------\\n'", "\n", "for", "k", ",", "v", "in", "sorted", "(", "vars", "(", "opt", ")", ".", "items", "(", ")", ")", ":", "\n", "            ", "comment", "=", "''", "\n", "default", "=", "self", ".", "parser", ".", "get_default", "(", "k", ")", "\n", "if", "v", "!=", "default", ":", "\n", "                ", "comment", "=", "'\\t[default: %s]'", "%", "str", "(", "default", ")", "\n", "", "message", "+=", "'{:>25}: {:<30}{}\\n'", ".", "format", "(", "str", "(", "k", ")", ",", "str", "(", "v", ")", ",", "comment", ")", "\n", "", "message", "+=", "'----------------- End -------------------'", "\n", "print", "(", "message", ")", "\n", "\n", "# save to the disk", "\n", "expr_dir", "=", "os", ".", "path", ".", "join", "(", "opt", ".", "checkpoints_dir", ",", "opt", ".", "name", ")", "\n", "util", ".", "mkdirs", "(", "expr_dir", ")", "\n", "if", "self", ".", "isTrain", ":", "\n", "            ", "file_name", "=", "os", ".", "path", ".", "join", "(", "expr_dir", ",", "'opt_train.txt'", ")", "\n", "", "else", ":", "\n", "            ", "file_name", "=", "os", ".", "path", ".", "join", "(", "expr_dir", ",", "'opt_test.txt'", ")", "\n", "\n", "", "with", "open", "(", "file_name", ",", "'wt'", ")", "as", "opt_file", ":", "\n", "            ", "opt_file", ".", "write", "(", "message", ")", "\n", "opt_file", ".", "write", "(", "'\\n'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.parse": [[113, 137], ["base_options.BaseOptions.gather_options", "base_options.BaseOptions.print_options", "base_options.BaseOptions.gpu_ids.split", "int", "len", "torch.cuda.set_device", "base_options.BaseOptions.gpu_ids.append", "base_options.BaseOptions.suffix.format", "vars"], "methods", ["home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.gather_options", "home.repos.pwc.inspect_result.giddyyupp_AdvSegLoss.options.base_options.BaseOptions.print_options"], ["", "", "def", "parse", "(", "self", ")", ":", "\n", "\n", "        ", "opt", "=", "self", ".", "gather_options", "(", ")", "\n", "opt", ".", "isTrain", "=", "self", ".", "isTrain", "# train or test", "\n", "\n", "# process opt.suffix", "\n", "if", "opt", ".", "suffix", ":", "\n", "            ", "suffix", "=", "(", "'_'", "+", "opt", ".", "suffix", ".", "format", "(", "**", "vars", "(", "opt", ")", ")", ")", "if", "opt", ".", "suffix", "!=", "''", "else", "''", "\n", "opt", ".", "name", "=", "opt", ".", "name", "+", "suffix", "\n", "\n", "", "self", ".", "print_options", "(", "opt", ")", "\n", "\n", "# set gpu ids", "\n", "str_ids", "=", "opt", ".", "gpu_ids", ".", "split", "(", "','", ")", "\n", "opt", ".", "gpu_ids", "=", "[", "]", "\n", "for", "str_id", "in", "str_ids", ":", "\n", "            ", "id", "=", "int", "(", "str_id", ")", "\n", "if", "id", ">=", "0", ":", "\n", "                ", "opt", ".", "gpu_ids", ".", "append", "(", "id", ")", "\n", "", "", "if", "len", "(", "opt", ".", "gpu_ids", ")", ">", "0", ":", "\n", "            ", "torch", ".", "cuda", ".", "set_device", "(", "opt", ".", "gpu_ids", "[", "0", "]", ")", "\n", "\n", "", "self", ".", "opt", "=", "opt", "\n", "return", "self", ".", "opt", "\n", "", "", ""]]}