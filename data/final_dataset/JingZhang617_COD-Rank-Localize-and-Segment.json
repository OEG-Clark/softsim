{"home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.train.structure_loss": [[48, 58], ["torch.binary_cross_entropy_with_logits", "torch.sigmoid", "torch.sigmoid", "weit.sum", "torch.abs", "torch.abs", "torch.avg_pool2d"], "function", ["None"], ["def", "structure_loss", "(", "pred", ",", "mask", ")", ":", "\n", "    ", "weit", "=", "1", "+", "5", "*", "torch", ".", "abs", "(", "F", ".", "avg_pool2d", "(", "mask", ",", "kernel_size", "=", "31", ",", "stride", "=", "1", ",", "padding", "=", "15", ")", "-", "mask", ")", "\n", "wbce", "=", "F", ".", "binary_cross_entropy_with_logits", "(", "pred", ",", "mask", ",", "reduce", "=", "'none'", ")", "\n", "wbce", "=", "(", "weit", "*", "wbce", ")", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "/", "weit", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "\n", "\n", "pred", "=", "torch", ".", "sigmoid", "(", "pred", ")", "\n", "inter", "=", "(", "(", "pred", "*", "mask", ")", "*", "weit", ")", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "\n", "union", "=", "(", "(", "pred", "+", "mask", ")", "*", "weit", ")", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "\n", "wiou", "=", "1", "-", "(", "inter", "+", "1", ")", "/", "(", "union", "-", "inter", "+", "1", ")", "\n", "return", "(", "wbce", "+", "wiou", ")", ".", "mean", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.train.visualize_gt": [[59, 69], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "def", "visualize_gt", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_gt.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.train.visualize_cod1": [[70, 80], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "", "def", "visualize_cod1", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_cod1.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.train.visualize_cod2": [[81, 91], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "", "def", "visualize_cod2", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_cod2.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.train.visualize_fix": [[92, 102], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "", "def", "visualize_fix", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_fix.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.train.visualize_fix_gt": [[103, 113], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "", "def", "visualize_fix_gt", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_fix_gt.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.__init__": [[99, 120], ["sorted", "sorted", "sorted", "torch.SalObjDataset.filter_files", "len", "torchvision.Compose", "torchvision.Compose", "torchvision.Compose", "os.listdir", "f.endswith", "os.listdir", "os.listdir", "f.endswith", "torchvision.Resize", "torchvision.ToTensor", "torchvision.Normalize", "torchvision.Resize", "torchvision.ToTensor", "torchvision.Resize", "torchvision.ToTensor", "f.endswith", "f.endswith"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.filter_files"], ["    ", "def", "__init__", "(", "self", ",", "image_root", ",", "gt_root", ",", "fix_root", ",", "trainsize", ")", ":", "\n", "        ", "self", ".", "trainsize", "=", "trainsize", "\n", "self", ".", "images", "=", "[", "image_root", "+", "f", "for", "f", "in", "os", ".", "listdir", "(", "image_root", ")", "if", "f", ".", "endswith", "(", "'.jpg'", ")", "]", "\n", "self", ".", "gts", "=", "[", "gt_root", "+", "f", "for", "f", "in", "os", ".", "listdir", "(", "gt_root", ")", "if", "f", ".", "endswith", "(", "'.jpg'", ")", "\n", "or", "f", ".", "endswith", "(", "'.png'", ")", "]", "\n", "self", ".", "fixs", "=", "[", "fix_root", "+", "f", "for", "f", "in", "os", ".", "listdir", "(", "fix_root", ")", "if", "f", ".", "endswith", "(", "'.png'", ")", "]", "\n", "self", ".", "images", "=", "sorted", "(", "self", ".", "images", ")", "\n", "self", ".", "gts", "=", "sorted", "(", "self", ".", "gts", ")", "\n", "self", ".", "fixs", "=", "sorted", "(", "self", ".", "fixs", ")", "\n", "self", ".", "filter_files", "(", ")", "\n", "self", ".", "size", "=", "len", "(", "self", ".", "images", ")", "\n", "self", ".", "img_transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "trainsize", ",", "self", ".", "trainsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", ",", "\n", "transforms", ".", "Normalize", "(", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "[", "0.229", ",", "0.224", ",", "0.225", "]", ")", "]", ")", "\n", "self", ".", "gt_transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "trainsize", ",", "self", ".", "trainsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", "]", ")", "\n", "self", ".", "fix_transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "trainsize", ",", "self", ".", "trainsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", "]", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.__getitem__": [[121, 135], ["torch.SalObjDataset.rgb_loader", "torch.SalObjDataset.binary_loader", "torch.SalObjDataset.binary_loader", "data.cv_random_flip", "data.randomCrop", "data.randomRotation", "data.colorEnhance", "data.randomPeper", "torch.SalObjDataset.img_transform", "torch.SalObjDataset.gt_transform", "torch.SalObjDataset.gt_transform"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.rgb_loader", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.binary_loader", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.binary_loader", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.cv_random_flip", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomCrop", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomRotation", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.colorEnhance", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomPeper"], ["", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "image", "=", "self", ".", "rgb_loader", "(", "self", ".", "images", "[", "index", "]", ")", "\n", "gt", "=", "self", ".", "binary_loader", "(", "self", ".", "gts", "[", "index", "]", ")", "\n", "fix", "=", "self", ".", "binary_loader", "(", "self", ".", "fixs", "[", "index", "]", ")", "\n", "image", ",", "fix", ",", "gt", "=", "cv_random_flip", "(", "image", ",", "fix", ",", "gt", ")", "\n", "image", ",", "fix", ",", "gt", "=", "randomCrop", "(", "image", ",", "fix", ",", "gt", ")", "\n", "image", ",", "fix", ",", "gt", "=", "randomRotation", "(", "image", ",", "fix", ",", "gt", ")", "\n", "image", "=", "colorEnhance", "(", "image", ")", "\n", "# gt=randomGaussian(gt)", "\n", "gt", "=", "randomPeper", "(", "gt", ")", "\n", "image", "=", "self", ".", "img_transform", "(", "image", ")", "\n", "gt", "=", "self", ".", "gt_transform", "(", "gt", ")", "\n", "fix", "=", "self", ".", "gt_transform", "(", "fix", ")", "\n", "return", "image", ",", "gt", ",", "fix", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.filter_files": [[136, 153], ["zip", "len", "len", "len", "len", "PIL.Image.open", "PIL.Image.open", "PIL.Image.open", "images.append", "gts.append", "fixs.append"], "methods", ["None"], ["", "def", "filter_files", "(", "self", ")", ":", "\n", "        ", "assert", "len", "(", "self", ".", "images", ")", "==", "len", "(", "self", ".", "gts", ")", "\n", "assert", "len", "(", "self", ".", "images", ")", "==", "len", "(", "self", ".", "fixs", ")", "\n", "images", "=", "[", "]", "\n", "gts", "=", "[", "]", "\n", "fixs", "=", "[", "]", "\n", "for", "img_path", ",", "gt_path", ",", "fix_path", "in", "zip", "(", "self", ".", "images", ",", "self", ".", "gts", ",", "self", ".", "fixs", ")", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "img_path", ")", "\n", "gt", "=", "Image", ".", "open", "(", "gt_path", ")", "\n", "fix", "=", "Image", ".", "open", "(", "fix_path", ")", "\n", "if", "img", ".", "size", "==", "gt", ".", "size", ":", "\n", "                ", "images", ".", "append", "(", "img_path", ")", "\n", "gts", ".", "append", "(", "gt_path", ")", "\n", "fixs", ".", "append", "(", "fix_path", ")", "\n", "", "", "self", ".", "images", "=", "images", "\n", "self", ".", "gts", "=", "gts", "\n", "self", ".", "fixs", "=", "fixs", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.rgb_loader": [[154, 158], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["", "def", "rgb_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "return", "img", ".", "convert", "(", "'RGB'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.binary_loader": [[159, 164], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["", "", "def", "binary_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "# return img.convert('1')", "\n", "return", "img", ".", "convert", "(", "'L'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.resize": [[165, 175], ["max", "max", "img.resize", "gt.resize", "fix.resize"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.resize", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.resize", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.resize"], ["", "", "def", "resize", "(", "self", ",", "img", ",", "gt", ",", "fix", ")", ":", "\n", "        ", "assert", "img", ".", "size", "==", "gt", ".", "size", "\n", "assert", "img", ".", "size", "==", "fix", ".", "size", "\n", "w", ",", "h", "=", "img", ".", "size", "\n", "if", "h", "<", "self", ".", "trainsize", "or", "w", "<", "self", ".", "trainsize", ":", "\n", "            ", "h", "=", "max", "(", "h", ",", "self", ".", "trainsize", ")", "\n", "w", "=", "max", "(", "w", ",", "self", ".", "trainsize", ")", "\n", "return", "img", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "BILINEAR", ")", ",", "gt", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "NEAREST", ")", ",", "fix", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "NEAREST", ")", "\n", "", "else", ":", "\n", "            ", "return", "img", ",", "gt", ",", "fix", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.SalObjDataset.__len__": [[176, 178], ["None"], "methods", ["None"], ["", "", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "size", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.test_dataset.__init__": [[192, 202], ["sorted", "torchvision.Compose", "len", "os.listdir", "f.endswith", "torchvision.Resize", "torchvision.ToTensor", "torchvision.Normalize"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "image_root", ",", "testsize", ")", ":", "\n", "        ", "self", ".", "testsize", "=", "testsize", "\n", "self", ".", "images", "=", "[", "image_root", "+", "f", "for", "f", "in", "os", ".", "listdir", "(", "image_root", ")", "if", "f", ".", "endswith", "(", "'.jpg'", ")", "]", "\n", "self", ".", "images", "=", "sorted", "(", "self", ".", "images", ")", "\n", "self", ".", "transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "testsize", ",", "self", ".", "testsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", ",", "\n", "transforms", ".", "Normalize", "(", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "[", "0.229", ",", "0.224", ",", "0.225", "]", ")", "]", ")", "\n", "self", ".", "size", "=", "len", "(", "self", ".", "images", ")", "\n", "self", ".", "index", "=", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.test_dataset.load_data": [[203, 213], ["torch.test_dataset.rgb_loader", "torch.test_dataset.transform().unsqueeze", "name.endswith", "torch.test_dataset.images[].split", "torch.test_dataset.transform", "name.split"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.rgb_loader"], ["", "def", "load_data", "(", "self", ")", ":", "\n", "        ", "image", "=", "self", ".", "rgb_loader", "(", "self", ".", "images", "[", "self", ".", "index", "]", ")", "\n", "HH", "=", "image", ".", "size", "[", "0", "]", "\n", "WW", "=", "image", ".", "size", "[", "1", "]", "\n", "image", "=", "self", ".", "transform", "(", "image", ")", ".", "unsqueeze", "(", "0", ")", "\n", "name", "=", "self", ".", "images", "[", "self", ".", "index", "]", ".", "split", "(", "'/'", ")", "[", "-", "1", "]", "\n", "if", "name", ".", "endswith", "(", "'.jpg'", ")", ":", "\n", "            ", "name", "=", "name", ".", "split", "(", "'.jpg'", ")", "[", "0", "]", "+", "'.png'", "\n", "", "self", ".", "index", "+=", "1", "\n", "return", "image", ",", "HH", ",", "WW", ",", "name", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.test_dataset.rgb_loader": [[214, 218], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["", "def", "rgb_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "return", "img", ".", "convert", "(", "'RGB'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.test_dataset.binary_loader": [[219, 223], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["", "", "def", "binary_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "return", "img", ".", "convert", "(", "'L'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.cv_random_flip": [[10, 19], ["random.randint", "img.transpose.transpose", "fix.transpose.transpose", "gt.transpose.transpose"], "function", ["None"], ["def", "cv_random_flip", "(", "img", ",", "fix", ",", "gt", ")", ":", "\n", "    ", "flip_flag", "=", "random", ".", "randint", "(", "0", ",", "1", ")", "\n", "# flip_flag2= random.randint(0,1)", "\n", "# left right flip", "\n", "if", "flip_flag", "==", "1", ":", "\n", "        ", "img", "=", "img", ".", "transpose", "(", "Image", ".", "FLIP_LEFT_RIGHT", ")", "\n", "fix", "=", "fix", ".", "transpose", "(", "Image", ".", "FLIP_LEFT_RIGHT", ")", "\n", "gt", "=", "gt", ".", "transpose", "(", "Image", ".", "FLIP_LEFT_RIGHT", ")", "\n", "", "return", "img", ",", "fix", ",", "gt", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.randomCrop": [[21, 31], ["numpy.random.randint", "numpy.random.randint", "image.crop", "fix.crop", "gt.crop"], "function", ["None"], ["", "def", "randomCrop", "(", "image", ",", "fix", ",", "gt", ")", ":", "\n", "    ", "border", "=", "30", "\n", "image_width", "=", "image", ".", "size", "[", "0", "]", "\n", "image_height", "=", "image", ".", "size", "[", "1", "]", "\n", "crop_win_width", "=", "np", ".", "random", ".", "randint", "(", "image_width", "-", "border", ",", "image_width", ")", "\n", "crop_win_height", "=", "np", ".", "random", ".", "randint", "(", "image_height", "-", "border", ",", "image_height", ")", "\n", "random_region", "=", "(", "\n", "(", "image_width", "-", "crop_win_width", ")", ">>", "1", ",", "(", "image_height", "-", "crop_win_height", ")", ">>", "1", ",", "(", "image_width", "+", "crop_win_width", ")", ">>", "1", ",", "\n", "(", "image_height", "+", "crop_win_height", ")", ">>", "1", ")", "\n", "return", "image", ".", "crop", "(", "random_region", ")", ",", "fix", ".", "crop", "(", "random_region", ")", ",", "gt", ".", "crop", "(", "random_region", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.randomRotation": [[33, 41], ["random.random", "numpy.random.randint", "image.rotate.rotate", "fix.rotate.rotate", "gt.rotate.rotate"], "function", ["None"], ["", "def", "randomRotation", "(", "image", ",", "fix", ",", "gt", ")", ":", "\n", "    ", "mode", "=", "Image", ".", "BICUBIC", "\n", "if", "random", ".", "random", "(", ")", ">", "0.8", ":", "\n", "        ", "random_angle", "=", "np", ".", "random", ".", "randint", "(", "-", "15", ",", "15", ")", "\n", "image", "=", "image", ".", "rotate", "(", "random_angle", ",", "mode", ")", "\n", "fix", "=", "fix", ".", "rotate", "(", "random_angle", ",", "mode", ")", "\n", "gt", "=", "gt", ".", "rotate", "(", "random_angle", ",", "mode", ")", "\n", "", "return", "image", ",", "fix", ",", "gt", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.colorEnhance": [[43, 53], ["PIL.ImageEnhance.Brightness().enhance", "PIL.ImageEnhance.Contrast().enhance", "PIL.ImageEnhance.Color().enhance", "PIL.ImageEnhance.Sharpness().enhance", "random.randint", "random.randint", "random.randint", "random.randint", "PIL.ImageEnhance.Brightness", "PIL.ImageEnhance.Contrast", "PIL.ImageEnhance.Color", "PIL.ImageEnhance.Sharpness"], "function", ["None"], ["", "def", "colorEnhance", "(", "image", ")", ":", "\n", "    ", "bright_intensity", "=", "random", ".", "randint", "(", "5", ",", "15", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Brightness", "(", "image", ")", ".", "enhance", "(", "bright_intensity", ")", "\n", "contrast_intensity", "=", "random", ".", "randint", "(", "5", ",", "15", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Contrast", "(", "image", ")", ".", "enhance", "(", "contrast_intensity", ")", "\n", "color_intensity", "=", "random", ".", "randint", "(", "0", ",", "20", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Color", "(", "image", ")", ".", "enhance", "(", "color_intensity", ")", "\n", "sharp_intensity", "=", "random", ".", "randint", "(", "0", ",", "30", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Sharpness", "(", "image", ")", ".", "enhance", "(", "sharp_intensity", ")", "\n", "return", "image", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.randomGaussian": [[55, 66], ["numpy.asarray", "data.randomGaussian.gaussianNoisy"], "function", ["None"], ["", "def", "randomGaussian", "(", "image", ",", "mean", "=", "0", ",", "sigma", "=", "0.15", ")", ":", "\n", "    ", "def", "gaussianNoisy", "(", "im", ",", "mean", "=", "mean", ",", "sigma", "=", "sigma", ")", ":", "\n", "        ", "for", "_i", "in", "range", "(", "len", "(", "im", ")", ")", ":", "\n", "            ", "im", "[", "_i", "]", "+=", "random", ".", "gauss", "(", "mean", ",", "sigma", ")", "\n", "", "return", "im", "\n", "\n", "", "img", "=", "np", ".", "asarray", "(", "image", ")", "\n", "width", ",", "height", "=", "img", ".", "shape", "\n", "img", "=", "gaussianNoisy", "(", "img", "[", ":", "]", ".", "flatten", "(", ")", ",", "mean", ",", "sigma", ")", "\n", "img", "=", "img", ".", "reshape", "(", "[", "width", ",", "height", "]", ")", "\n", "return", "Image", ".", "fromarray", "(", "np", ".", "uint8", "(", "img", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.randomGaussian1": [[67, 78], ["numpy.asarray", "data.randomGaussian.gaussianNoisy"], "function", ["None"], ["", "def", "randomGaussian1", "(", "image", ",", "mean", "=", "0.1", ",", "sigma", "=", "0.35", ")", ":", "\n", "    ", "def", "gaussianNoisy", "(", "im", ",", "mean", "=", "mean", ",", "sigma", "=", "sigma", ")", ":", "\n", "        ", "for", "_i", "in", "range", "(", "len", "(", "im", ")", ")", ":", "\n", "            ", "im", "[", "_i", "]", "+=", "random", ".", "gauss", "(", "mean", ",", "sigma", ")", "\n", "", "return", "im", "\n", "\n", "", "img", "=", "np", ".", "asarray", "(", "image", ")", "\n", "width", ",", "height", "=", "img", ".", "shape", "\n", "img", "=", "gaussianNoisy", "(", "img", "[", ":", "]", ".", "flatten", "(", ")", ",", "mean", ",", "sigma", ")", "\n", "img", "=", "img", ".", "reshape", "(", "[", "width", ",", "height", "]", ")", "\n", "return", "Image", ".", "fromarray", "(", "np", ".", "uint8", "(", "img", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.randomPeper": [[80, 97], ["numpy.array", "int", "range", "PIL.Image.fromarray", "random.randint", "random.randint", "random.randint"], "function", ["None"], ["", "def", "randomPeper", "(", "img", ")", ":", "\n", "    ", "img", "=", "np", ".", "array", "(", "img", ")", "\n", "noiseNum", "=", "int", "(", "0.0015", "*", "img", ".", "shape", "[", "0", "]", "*", "img", ".", "shape", "[", "1", "]", ")", "\n", "for", "i", "in", "range", "(", "noiseNum", ")", ":", "\n", "\n", "        ", "randX", "=", "random", ".", "randint", "(", "0", ",", "img", ".", "shape", "[", "0", "]", "-", "1", ")", "\n", "\n", "randY", "=", "random", ".", "randint", "(", "0", ",", "img", ".", "shape", "[", "1", "]", "-", "1", ")", "\n", "\n", "if", "random", ".", "randint", "(", "0", ",", "1", ")", "==", "0", ":", "\n", "\n", "            ", "img", "[", "randX", ",", "randY", "]", "=", "0", "\n", "\n", "", "else", ":", "\n", "\n", "            ", "img", "[", "randX", ",", "randY", "]", "=", "255", "\n", "", "", "return", "Image", ".", "fromarray", "(", "img", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.data.get_loader": [[180, 189], ["data.SalObjDataset", "torch.DataLoader"], "function", ["None"], ["", "", "def", "get_loader", "(", "image_root", ",", "gt_root", ",", "fix_root", ",", "batchsize", ",", "trainsize", ",", "shuffle", "=", "True", ",", "num_workers", "=", "12", ",", "pin_memory", "=", "True", ")", ":", "\n", "\n", "    ", "dataset", "=", "SalObjDataset", "(", "image_root", ",", "gt_root", ",", "fix_root", ",", "trainsize", ")", "\n", "data_loader", "=", "data", ".", "DataLoader", "(", "dataset", "=", "dataset", ",", "\n", "batch_size", "=", "batchsize", ",", "\n", "shuffle", "=", "shuffle", ",", "\n", "num_workers", "=", "num_workers", ",", "\n", "pin_memory", "=", "pin_memory", ")", "\n", "return", "data_loader", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.AvgMeter.__init__": [[50, 53], ["utils.AvgMeter.reset"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.reset"], ["    ", "def", "__init__", "(", "self", ",", "num", "=", "40", ")", ":", "\n", "        ", "self", ".", "num", "=", "num", "\n", "self", ".", "reset", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.AvgMeter.reset": [[54, 60], ["None"], "methods", ["None"], ["", "def", "reset", "(", "self", ")", ":", "\n", "        ", "self", ".", "val", "=", "0", "\n", "self", ".", "avg", "=", "0", "\n", "self", ".", "sum", "=", "0", "\n", "self", ".", "count", "=", "0", "\n", "self", ".", "losses", "=", "[", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.AvgMeter.update": [[61, 67], ["utils.AvgMeter.losses.append"], "methods", ["None"], ["", "def", "update", "(", "self", ",", "val", ",", "n", "=", "1", ")", ":", "\n", "        ", "self", ".", "val", "=", "val", "\n", "self", ".", "sum", "+=", "val", "*", "n", "\n", "self", ".", "count", "+=", "n", "\n", "self", ".", "avg", "=", "self", ".", "sum", "/", "self", ".", "count", "\n", "self", ".", "losses", ".", "append", "(", "val", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.AvgMeter.show": [[68, 76], ["len", "numpy.maximum", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.stack", "torch.stack", "torch.stack", "torch.stack"], "methods", ["None"], ["", "def", "show", "(", "self", ")", ":", "\n", "        ", "a", "=", "len", "(", "self", ".", "losses", ")", "\n", "b", "=", "np", ".", "maximum", "(", "a", "-", "self", ".", "num", ",", "0", ")", "\n", "c", "=", "self", ".", "losses", "[", "b", ":", "]", "\n", "#print(c)", "\n", "#d = torch.mean(torch.stack(c))", "\n", "#print(d)", "\n", "return", "torch", ".", "mean", "(", "torch", ".", "stack", "(", "c", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.clip_gradient": [[5, 10], ["param.grad.data.clamp_"], "function", ["None"], ["def", "clip_gradient", "(", "optimizer", ",", "grad_clip", ")", ":", "\n", "    ", "for", "group", "in", "optimizer", ".", "param_groups", ":", "\n", "        ", "for", "param", "in", "group", "[", "'params'", "]", ":", "\n", "            ", "if", "param", ".", "grad", "is", "not", "None", ":", "\n", "                ", "param", ".", "grad", ".", "data", ".", "clamp_", "(", "-", "grad_clip", ",", "grad_clip", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.adjust_lr": [[12, 16], ["None"], "function", ["None"], ["", "", "", "", "def", "adjust_lr", "(", "optimizer", ",", "init_lr", ",", "epoch", ",", "decay_rate", "=", "0.1", ",", "decay_epoch", "=", "5", ")", ":", "\n", "    ", "decay", "=", "decay_rate", "**", "(", "epoch", "//", "decay_epoch", ")", "\n", "for", "param_group", "in", "optimizer", ".", "param_groups", ":", "\n", "        ", "param_group", "[", "'lr'", "]", "*=", "decay", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.truncated_normal_": [[18, 25], ["tensor.new_empty().normal_", "tensor.data.copy_", "tensor.data.mul_().add_", "valid.max", "tensor.new_empty().normal_.gather().squeeze", "tensor.new_empty", "tensor.data.mul_", "tensor.new_empty().normal_.gather"], "function", ["None"], ["", "", "def", "truncated_normal_", "(", "tensor", ",", "mean", "=", "0", ",", "std", "=", "1", ")", ":", "\n", "    ", "size", "=", "tensor", ".", "shape", "\n", "tmp", "=", "tensor", ".", "new_empty", "(", "size", "+", "(", "4", ",", ")", ")", ".", "normal_", "(", ")", "\n", "valid", "=", "(", "tmp", "<", "2", ")", "&", "(", "tmp", ">", "-", "2", ")", "\n", "ind", "=", "valid", ".", "max", "(", "-", "1", ",", "keepdim", "=", "True", ")", "[", "1", "]", "\n", "tensor", ".", "data", ".", "copy_", "(", "tmp", ".", "gather", "(", "-", "1", ",", "ind", ")", ".", "squeeze", "(", "-", "1", ")", ")", "\n", "tensor", ".", "data", ".", "mul_", "(", "std", ")", ".", "add_", "(", "mean", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.init_weights": [[26, 32], ["torch.init.kaiming_normal_", "utils.truncated_normal_", "type", "type"], "function", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.truncated_normal_"], ["", "def", "init_weights", "(", "m", ")", ":", "\n", "    ", "if", "type", "(", "m", ")", "==", "nn", ".", "Conv2d", "or", "type", "(", "m", ")", "==", "nn", ".", "ConvTranspose2d", ":", "\n", "        ", "nn", ".", "init", ".", "kaiming_normal_", "(", "m", ".", "weight", ",", "mode", "=", "'fan_in'", ",", "nonlinearity", "=", "'relu'", ")", "\n", "#nn.init.normal_(m.weight, std=0.001)", "\n", "#nn.init.normal_(m.bias, std=0.001)", "\n", "truncated_normal_", "(", "m", ".", "bias", ",", "mean", "=", "0", ",", "std", "=", "0.001", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.init_weights_orthogonal_normal": [[33, 37], ["torch.init.orthogonal_", "utils.truncated_normal_", "type", "type"], "function", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.truncated_normal_"], ["", "", "def", "init_weights_orthogonal_normal", "(", "m", ")", ":", "\n", "    ", "if", "type", "(", "m", ")", "==", "nn", ".", "Conv2d", "or", "type", "(", "m", ")", "==", "nn", ".", "ConvTranspose2d", ":", "\n", "        ", "nn", ".", "init", ".", "orthogonal_", "(", "m", ".", "weight", ")", "\n", "truncated_normal_", "(", "m", ".", "bias", ",", "mean", "=", "0", ",", "std", "=", "0.001", ")", "\n", "#nn.init.normal_(m.bias, std=0.001)", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.joint_cod_col.utils.l2_regularisation": [[39, 48], ["m.parameters", "W.norm", "W.norm"], "function", ["None"], ["", "", "def", "l2_regularisation", "(", "m", ")", ":", "\n", "    ", "l2_reg", "=", "None", "\n", "\n", "for", "W", "in", "m", ".", "parameters", "(", ")", ":", "\n", "        ", "if", "l2_reg", "is", "None", ":", "\n", "            ", "l2_reg", "=", "W", ".", "norm", "(", "2", ")", "\n", "", "else", ":", "\n", "            ", "l2_reg", "=", "l2_reg", "+", "W", ".", "norm", "(", "2", ")", "\n", "", "", "return", "l2_reg", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.BasicBlock.__init__": [[14, 23], ["torch.Module.__init__", "ResNet.conv3x3", "torch.BatchNorm2d", "torch.ReLU", "ResNet.conv3x3", "torch.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.conv3x3", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.conv3x3"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ")", ":", "\n", "        ", "super", "(", "BasicBlock", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "conv3x3", "(", "inplanes", ",", "planes", ",", "stride", ")", "\n", "self", ".", "bn1", "=", "nn", ".", "BatchNorm2d", "(", "planes", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "conv2", "=", "conv3x3", "(", "planes", ",", "planes", ")", "\n", "self", ".", "bn2", "=", "nn", ".", "BatchNorm2d", "(", "planes", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.BasicBlock.forward": [[24, 41], ["ResNet.BasicBlock.conv1", "ResNet.BasicBlock.bn1", "ResNet.BasicBlock.relu", "ResNet.BasicBlock.conv2", "ResNet.BasicBlock.bn2", "ResNet.BasicBlock.relu", "ResNet.BasicBlock.downsample"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.Bottleneck.__init__": [[46, 58], ["torch.Module.__init__", "torch.Conv2d", "torch.BatchNorm2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.ReLU"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["def", "__init__", "(", "self", ",", "inplanes", ",", "planes", ",", "stride", "=", "1", ",", "downsample", "=", "None", ")", ":", "\n", "        ", "super", "(", "Bottleneck", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "inplanes", ",", "planes", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "nn", ".", "BatchNorm2d", "(", "planes", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn2", "=", "nn", ".", "BatchNorm2d", "(", "planes", ")", "\n", "self", ".", "conv3", "=", "nn", ".", "Conv2d", "(", "planes", ",", "planes", "*", "4", ",", "kernel_size", "=", "1", ",", "bias", "=", "False", ")", "\n", "self", ".", "bn3", "=", "nn", ".", "BatchNorm2d", "(", "planes", "*", "4", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "downsample", "=", "downsample", "\n", "self", ".", "stride", "=", "stride", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.Bottleneck.forward": [[59, 80], ["ResNet.Bottleneck.conv1", "ResNet.Bottleneck.bn1", "ResNet.Bottleneck.relu", "ResNet.Bottleneck.conv2", "ResNet.Bottleneck.bn2", "ResNet.Bottleneck.relu", "ResNet.Bottleneck.conv3", "ResNet.Bottleneck.bn3", "ResNet.Bottleneck.relu", "ResNet.Bottleneck.downsample"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "residual", "=", "x", "\n", "\n", "out", "=", "self", ".", "conv1", "(", "x", ")", "\n", "out", "=", "self", ".", "bn1", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv2", "(", "out", ")", "\n", "out", "=", "self", ".", "bn2", "(", "out", ")", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "out", "=", "self", ".", "conv3", "(", "out", ")", "\n", "out", "=", "self", ".", "bn3", "(", "out", ")", "\n", "\n", "if", "self", ".", "downsample", "is", "not", "None", ":", "\n", "            ", "residual", "=", "self", ".", "downsample", "(", "x", ")", "\n", "\n", "", "out", "+=", "residual", "\n", "out", "=", "self", ".", "relu", "(", "out", ")", "\n", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet.__init__": [[84, 110], ["torch.Module.__init__", "torch.Conv2d", "torch.BatchNorm2d", "torch.ReLU", "torch.MaxPool2d", "ResNet.B2_ResNet._make_layer", "ResNet.B2_ResNet._make_layer", "ResNet.B2_ResNet._make_layer", "ResNet.B2_ResNet._make_layer", "ResNet.B2_ResNet._make_layer", "ResNet.B2_ResNet._make_layer", "ResNet.B2_ResNet.modules", "isinstance", "m.weight.data.normal_", "isinstance", "math.sqrt", "m.weight.data.fill_", "m.bias.data.zero_"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "# self.inplanes = 128", "\n", "        ", "self", ".", "inplanes", "=", "64", "\n", "super", "(", "B2_ResNet", ",", "self", ")", ".", "__init__", "(", ")", "\n", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "3", ",", "64", ",", "kernel_size", "=", "7", ",", "stride", "=", "2", ",", "padding", "=", "3", ",", "\n", "bias", "=", "False", ")", "\n", "self", ".", "bn1", "=", "nn", ".", "BatchNorm2d", "(", "64", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "maxpool", "=", "nn", ".", "MaxPool2d", "(", "kernel_size", "=", "3", ",", "stride", "=", "2", ",", "padding", "=", "1", ")", "\n", "self", ".", "layer1", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "64", ",", "3", ")", "\n", "self", ".", "layer2", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "128", ",", "4", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer3_1", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "256", ",", "6", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4_1", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "512", ",", "3", ",", "stride", "=", "2", ")", "\n", "\n", "self", ".", "inplanes", "=", "512", "\n", "self", ".", "layer3_2", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "256", ",", "6", ",", "stride", "=", "2", ")", "\n", "self", ".", "layer4_2", "=", "self", ".", "_make_layer", "(", "Bottleneck", ",", "512", ",", "3", ",", "stride", "=", "2", ")", "\n", "\n", "for", "m", "in", "self", ".", "modules", "(", ")", ":", "\n", "            ", "if", "isinstance", "(", "m", ",", "nn", ".", "Conv2d", ")", ":", "\n", "                ", "n", "=", "m", ".", "kernel_size", "[", "0", "]", "*", "m", ".", "kernel_size", "[", "1", "]", "*", "m", ".", "out_channels", "\n", "m", ".", "weight", ".", "data", ".", "normal_", "(", "0", ",", "math", ".", "sqrt", "(", "2.", "/", "n", ")", ")", "\n", "", "elif", "isinstance", "(", "m", ",", "nn", ".", "BatchNorm2d", ")", ":", "\n", "                ", "m", ".", "weight", ".", "data", ".", "fill_", "(", "1", ")", "\n", "m", ".", "bias", ".", "data", ".", "zero_", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet._make_layer": [[111, 127], ["layers.append", "range", "torch.Sequential", "torch.Sequential", "block", "layers.append", "torch.Conv2d", "torch.BatchNorm2d", "block"], "methods", ["None"], ["", "", "", "def", "_make_layer", "(", "self", ",", "block", ",", "planes", ",", "blocks", ",", "stride", "=", "1", ")", ":", "\n", "        ", "downsample", "=", "None", "\n", "if", "stride", "!=", "1", "or", "self", ".", "inplanes", "!=", "planes", "*", "block", ".", "expansion", ":", "\n", "            ", "downsample", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "self", ".", "inplanes", ",", "planes", "*", "block", ".", "expansion", ",", "\n", "kernel_size", "=", "1", ",", "stride", "=", "stride", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "planes", "*", "block", ".", "expansion", ")", ",", "\n", ")", "\n", "\n", "", "layers", "=", "[", "]", "\n", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ",", "stride", ",", "downsample", ")", ")", "\n", "self", ".", "inplanes", "=", "planes", "*", "block", ".", "expansion", "\n", "for", "i", "in", "range", "(", "1", ",", "blocks", ")", ":", "\n", "            ", "layers", ".", "append", "(", "block", "(", "self", ".", "inplanes", ",", "planes", ")", ")", "\n", "\n", "", "return", "nn", ".", "Sequential", "(", "*", "layers", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.B2_ResNet.forward": [[128, 143], ["ResNet.B2_ResNet.conv1", "ResNet.B2_ResNet.bn1", "ResNet.B2_ResNet.relu", "ResNet.B2_ResNet.maxpool", "ResNet.B2_ResNet.layer1", "ResNet.B2_ResNet.layer2", "ResNet.B2_ResNet.layer3_1", "ResNet.B2_ResNet.layer4_1", "ResNet.B2_ResNet.layer3_2", "ResNet.B2_ResNet.layer4_2"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "bn1", "(", "x", ")", "\n", "x", "=", "self", ".", "relu", "(", "x", ")", "\n", "x", "=", "self", ".", "maxpool", "(", "x", ")", "\n", "\n", "x", "=", "self", ".", "layer1", "(", "x", ")", "\n", "x", "=", "self", ".", "layer2", "(", "x", ")", "\n", "x1", "=", "self", ".", "layer3_1", "(", "x", ")", "\n", "x1", "=", "self", ".", "layer4_1", "(", "x1", ")", "\n", "\n", "x2", "=", "self", ".", "layer3_2", "(", "x", ")", "\n", "x2", "=", "self", ".", "layer4_2", "(", "x2", ")", "\n", "\n", "return", "x1", ",", "x2", "\n", "", "", ""]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet.conv3x3": [[5, 9], ["torch.Conv2d"], "function", ["None"], ["def", "conv3x3", "(", "in_planes", ",", "out_planes", ",", "stride", "=", "1", ")", ":", "\n", "    ", "\"\"\"3x3 convolution with padding\"\"\"", "\n", "return", "nn", ".", "Conv2d", "(", "in_planes", ",", "out_planes", ",", "kernel_size", "=", "3", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "1", ",", "bias", "=", "False", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Generator.__init__": [[13, 16], ["torch.Module.__init__", "ResNet_models.Saliency_feat_encoder"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["class", "Generator", "(", "nn", ".", "Module", ")", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "channel", ")", ":", "\n", "        ", "super", "(", "Generator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "sal_encoder", "=", "Saliency_feat_encoder", "(", "channel", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Generator.forward": [[18, 24], ["ResNet_models.Generator.sal_encoder", "torch.upsample", "torch.upsample", "torch.upsample"], "methods", ["None"], ["\n", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\n", "        ", "fix_pred", ",", "cod_pred1", ",", "cod_pred2", "=", "self", ".", "sal_encoder", "(", "x", ")", "\n", "fix_pred", "=", "F", ".", "upsample", "(", "fix_pred", ",", "size", "=", "(", "x", ".", "shape", "[", "2", "]", ",", "x", ".", "shape", "[", "3", "]", ")", ",", "mode", "=", "'bilinear'", ",", "\n", "align_corners", "=", "True", ")", "\n", "cod_pred1", "=", "F", ".", "upsample", "(", "cod_pred1", ",", "size", "=", "(", "x", ".", "shape", "[", "2", "]", ",", "x", ".", "shape", "[", "3", "]", ")", ",", "mode", "=", "'bilinear'", ",", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.PAM_Module.__init__": [[70, 79], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.Parameter", "torch.nn.Parameter", "torch.nn.Parameter", "torch.nn.Softmax", "torch.nn.Softmax", "torch.nn.Softmax", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["            ", "self", ".", "conv2d_list", ".", "append", "(", "nn", ".", "Conv2d", "(", "input_channel", ",", "NoLabels", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "padding", ",", "dilation", "=", "dilation", ",", "bias", "=", "True", ")", ")", "\n", "", "for", "m", "in", "self", ".", "conv2d_list", ":", "\n", "            ", "m", ".", "weight", ".", "data", ".", "normal_", "(", "0", ",", "0.01", ")", "\n", "\n", "", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "out", "=", "self", ".", "conv2d_list", "[", "0", "]", "(", "x", ")", "\n", "for", "i", "in", "range", "(", "len", "(", "self", ".", "conv2d_list", ")", "-", "1", ")", ":", "\n", "            ", "out", "+=", "self", ".", "conv2d_list", "[", "i", "+", "1", "]", "(", "x", ")", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.PAM_Module.forward": [[80, 100], ["x.size", "ResNet_models.PAM_Module.query_conv().view().permute", "ResNet_models.PAM_Module.key_conv().view", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "ResNet_models.PAM_Module.softmax", "ResNet_models.PAM_Module.value_conv().view", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "out.view.view.view", "ResNet_models.PAM_Module.permute", "ResNet_models.PAM_Module.query_conv().view", "ResNet_models.PAM_Module.key_conv", "ResNet_models.PAM_Module.value_conv", "ResNet_models.PAM_Module.query_conv"], "methods", ["None"], ["## Channel Attention (CA) Layer", "\n", "", "", "class", "CALayer", "(", "nn", ".", "Module", ")", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "channel", ",", "reduction", "=", "16", ")", ":", "\n", "        ", "super", "(", "CALayer", ",", "self", ")", ".", "__init__", "(", ")", "\n", "# global average pooling: feature --> point", "\n", "self", ".", "avg_pool", "=", "nn", ".", "AdaptiveAvgPool2d", "(", "1", ")", "\n", "# feature channel downscale and upscale --> channel weight", "\n", "self", ".", "conv_du", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "channel", ",", "channel", "//", "reduction", ",", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "channel", "//", "reduction", ",", "channel", ",", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "Sigmoid", "(", ")", "\n", ")", "\n", "\n", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "y", "=", "self", ".", "avg_pool", "(", "x", ")", "\n", "y", "=", "self", ".", "conv_du", "(", "y", ")", "\n", "return", "x", "*", "y", "\n", "\n", "## Residual Channel Attention Block (RCAB)", "\n", "", "", "class", "RCAB", "(", "nn", ".", "Module", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Classifier_Module.__init__": [[103, 110], ["torch.Module.__init__", "torch.ModuleList", "torch.ModuleList", "torch.ModuleList", "zip", "ResNet_models.Classifier_Module.conv2d_list.append", "m.weight.data.normal_", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["# output: B*C*H*W", "\n", "    ", "def", "__init__", "(", "\n", "self", ",", "n_feat", ",", "kernel_size", "=", "3", ",", "reduction", "=", "16", ",", "\n", "bias", "=", "True", ",", "bn", "=", "False", ",", "act", "=", "nn", ".", "ReLU", "(", "True", ")", ",", "res_scale", "=", "1", ")", ":", "\n", "\n", "        ", "super", "(", "RCAB", ",", "self", ")", ".", "__init__", "(", ")", "\n", "modules_body", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "2", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Classifier_Module.forward": [[111, 116], ["range", "len"], "methods", ["None"], ["            ", "modules_body", ".", "append", "(", "self", ".", "default_conv", "(", "n_feat", ",", "n_feat", ",", "kernel_size", ",", "bias", "=", "bias", ")", ")", "\n", "if", "bn", ":", "modules_body", ".", "append", "(", "nn", ".", "BatchNorm2d", "(", "n_feat", ")", ")", "\n", "if", "i", "==", "0", ":", "modules_body", ".", "append", "(", "act", ")", "\n", "", "modules_body", ".", "append", "(", "CALayer", "(", "n_feat", ",", "reduction", ")", ")", "\n", "self", ".", "body", "=", "nn", ".", "Sequential", "(", "*", "modules_body", ")", "\n", "self", ".", "res_scale", "=", "res_scale", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CALayer.__init__": [[119, 129], ["torch.Module.__init__", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Sigmoid", "torch.Sigmoid", "torch.Sigmoid"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["        ", "return", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "kernel_size", ",", "padding", "=", "(", "kernel_size", "//", "2", ")", ",", "bias", "=", "bias", ")", "\n", "\n", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "res", "=", "self", ".", "body", "(", "x", ")", "\n", "#res = self.body(x).mul(self.res_scale)", "\n", "res", "+=", "x", "\n", "return", "res", "\n", "\n", "", "", "class", "BasicConv2d", "(", "nn", ".", "Module", ")", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "in_planes", ",", "out_planes", ",", "kernel_size", ",", "stride", "=", "1", ",", "padding", "=", "0", ",", "dilation", "=", "1", ")", ":", "\n", "        ", "super", "(", "BasicConv2d", ",", "self", ")", ".", "__init__", "(", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CALayer.forward": [[131, 135], ["ResNet_models.CALayer.avg_pool", "ResNet_models.CALayer.conv_du"], "methods", ["None"], ["nn", ".", "Conv2d", "(", "in_planes", ",", "out_planes", ",", "\n", "kernel_size", "=", "kernel_size", ",", "stride", "=", "stride", ",", "\n", "padding", "=", "padding", ",", "dilation", "=", "dilation", ",", "bias", "=", "False", ")", ",", "\n", "nn", ".", "BatchNorm2d", "(", "out_planes", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.RCAB.__init__": [[141, 154], ["torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Module.__init__", "range", "modules_body.append", "torch.Sequential", "torch.Sequential", "torch.Sequential", "modules_body.append", "ResNet_models.CALayer", "ResNet_models.RCAB.default_conv", "modules_body.append", "modules_body.append", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CAM_Module.default_conv"], ["\n", "", "", "class", "Triple_Conv", "(", "nn", ".", "Module", ")", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "in_channel", ",", "out_channel", ")", ":", "\n", "        ", "super", "(", "Triple_Conv", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "reduce", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv2d", "(", "in_channel", ",", "out_channel", ",", "1", ")", ",", "\n", "BasicConv2d", "(", "out_channel", ",", "out_channel", ",", "3", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv2d", "(", "out_channel", ",", "out_channel", ",", "3", ",", "padding", "=", "1", ")", "\n", ")", "\n", "\n", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "return", "self", ".", "reduce", "(", "x", ")", "\n", "\n", "", "", "class", "Saliency_feat_decoder", "(", "nn", ".", "Module", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.RCAB.default_conv": [[155, 157], ["torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["None"], ["# resnet based encoder decoder", "\n", "    ", "def", "__init__", "(", "self", ",", "channel", ")", ":", "\n", "        ", "super", "(", "Saliency_feat_decoder", ",", "self", ")", ".", "__init__", "(", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.RCAB.forward": [[158, 163], ["ResNet_models.RCAB.body"], "methods", ["None"], ["self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "upsample8", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "8", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample4", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "4", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample2", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample05", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "0.5", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "dropout", "=", "nn", ".", "Dropout", "(", "0.3", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.BasicConv2d.__init__": [[165, 172], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["self", ".", "conv4", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "2048", ")", "\n", "self", ".", "conv3", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "1024", ")", "\n", "self", ".", "conv2", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "512", ")", "\n", "self", ".", "conv1", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "256", ")", "\n", "\n", "self", ".", "racb_43", "=", "RCAB", "(", "channel", "*", "2", ")", "\n", "self", ".", "racb_432", "=", "RCAB", "(", "channel", "*", "3", ")", "\n", "self", ".", "racb_4321", "=", "RCAB", "(", "channel", "*", "4", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.BasicConv2d.forward": [[174, 177], ["ResNet_models.BasicConv2d.conv_bn"], "methods", ["None"], ["self", ".", "conv43", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "2", "*", "channel", ")", "\n", "self", ".", "conv432", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "3", "*", "channel", ")", "\n", "self", ".", "conv4321", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "4", "*", "channel", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Triple_Conv.__init__": [[143, 149], ["torch.Module.__init__", "torch.Sequential", "torch.Sequential", "torch.Sequential", "ResNet_models.BasicConv2d", "ResNet_models.BasicConv2d", "ResNet_models.BasicConv2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["    ", "def", "__init__", "(", "self", ",", "in_channel", ",", "out_channel", ")", ":", "\n", "        ", "super", "(", "Triple_Conv", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "reduce", "=", "nn", ".", "Sequential", "(", "\n", "BasicConv2d", "(", "in_channel", ",", "out_channel", ",", "1", ")", ",", "\n", "BasicConv2d", "(", "out_channel", ",", "out_channel", ",", "3", ",", "padding", "=", "1", ")", ",", "\n", "BasicConv2d", "(", "out_channel", ",", "out_channel", ",", "3", ",", "padding", "=", "1", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Triple_Conv.forward": [[151, 153], ["ResNet_models.Triple_Conv.reduce"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "return", "self", ".", "reduce", "(", "x", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Saliency_feat_decoder.__init__": [[180, 209], ["torch.Module.__init__", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Dropout", "torch.Dropout", "torch.Dropout", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.RCAB", "ResNet_models.RCAB", "ResNet_models.RCAB", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.Saliency_feat_decoder._make_pred_layer", "ResNet_models.PAM_Module", "ResNet_models.PAM_Module", "ResNet_models.PAM_Module", "ResNet_models.CAM_Module", "ResNet_models.CAM_Module", "ResNet_models.CAM_Module"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer"], ["\n", "", "def", "_make_pred_layer", "(", "self", ",", "block", ",", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", ":", "\n", "        ", "return", "block", "(", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", "\n", "\n", "\n", "", "def", "forward", "(", "self", ",", "x1", ",", "x2", ",", "x3", ",", "x4", ")", ":", "\n", "\n", "        ", "conv1_feat", "=", "self", ".", "conv1", "(", "x1", ")", "\n", "conv2_feat", "=", "self", ".", "conv2", "(", "x2", ")", "\n", "conv3_feat", "=", "self", ".", "conv3", "(", "x3", ")", "\n", "conv4_feat", "=", "self", ".", "conv4", "(", "x4", ")", "\n", "conv4_feat", "=", "self", ".", "upsample2", "(", "conv4_feat", ")", "\n", "\n", "conv43", "=", "torch", ".", "cat", "(", "(", "conv4_feat", ",", "conv3_feat", ")", ",", "1", ")", "\n", "conv43", "=", "self", ".", "racb_43", "(", "conv43", ")", "\n", "conv43", "=", "self", ".", "conv43", "(", "conv43", ")", "\n", "\n", "conv43", "=", "self", ".", "upsample2", "(", "conv43", ")", "\n", "conv432", "=", "torch", ".", "cat", "(", "(", "self", ".", "upsample2", "(", "conv4_feat", ")", ",", "conv43", ",", "conv2_feat", ")", ",", "1", ")", "\n", "conv432", "=", "self", ".", "racb_432", "(", "conv432", ")", "\n", "conv432", "=", "self", ".", "conv432", "(", "conv432", ")", "\n", "conv432", "=", "self", ".", "upsample2", "(", "conv432", ")", "\n", "conv4321", "=", "torch", ".", "cat", "(", "(", "self", ".", "upsample4", "(", "conv4_feat", ")", ",", "self", ".", "upsample2", "(", "conv43", ")", ",", "conv432", ",", "conv1_feat", ")", ",", "1", ")", "\n", "conv4321", "=", "self", ".", "racb_4321", "(", "conv4321", ")", "\n", "\n", "sal_pred", "=", "self", ".", "cls_layer", "(", "conv4321", ")", "\n", "\n", "\n", "return", "sal_pred", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Saliency_feat_decoder._make_pred_layer": [[211, 213], ["block"], "methods", ["None"], ["# resnet based encoder decoder", "\n", "    ", "def", "__init__", "(", "self", ",", "channel", ")", ":", "\n", "        ", "super", "(", "Fix_feat_decoder", ",", "self", ")", ".", "__init__", "(", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Saliency_feat_decoder.forward": [[215, 248], ["ResNet_models.Saliency_feat_decoder.conv1", "ResNet_models.Saliency_feat_decoder.conv2", "ResNet_models.Saliency_feat_decoder.pam2", "ResNet_models.Saliency_feat_decoder.cam2", "ResNet_models.Saliency_feat_decoder.conv3", "ResNet_models.Saliency_feat_decoder.pam3", "ResNet_models.Saliency_feat_decoder.cam3", "ResNet_models.Saliency_feat_decoder.conv4", "ResNet_models.Saliency_feat_decoder.pam4", "ResNet_models.Saliency_feat_decoder.cam4", "ResNet_models.Saliency_feat_decoder.upsample2", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "ResNet_models.Saliency_feat_decoder.racb_43", "ResNet_models.Saliency_feat_decoder.conv43", "ResNet_models.Saliency_feat_decoder.upsample2", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "ResNet_models.Saliency_feat_decoder.racb_432", "ResNet_models.Saliency_feat_decoder.conv432", "ResNet_models.Saliency_feat_decoder.upsample2", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "ResNet_models.Saliency_feat_decoder.racb_4321", "ResNet_models.Saliency_feat_decoder.cls_layer", "ResNet_models.Saliency_feat_decoder.upsample2", "ResNet_models.Saliency_feat_decoder.upsample4", "ResNet_models.Saliency_feat_decoder.upsample2"], "methods", ["None"], ["self", ".", "upsample8", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "8", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample4", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "4", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample2", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample05", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "0.5", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "dropout", "=", "nn", ".", "Dropout", "(", "0.3", ")", "\n", "self", ".", "conv4", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "2048", ")", "\n", "self", ".", "conv3", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "1024", ")", "\n", "self", ".", "conv2", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "512", ")", "\n", "self", ".", "conv1", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "256", ")", "\n", "\n", "self", ".", "racb4", "=", "RCAB", "(", "channel", "*", "4", ")", "\n", "\n", "self", ".", "cls_layer", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "1", ",", "channel", "*", "4", ")", "\n", "\n", "\n", "", "def", "_make_pred_layer", "(", "self", ",", "block", ",", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", ":", "\n", "        ", "return", "block", "(", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", "\n", "\n", "\n", "", "def", "forward", "(", "self", ",", "x1", ",", "x2", ",", "x3", ",", "x4", ")", ":", "\n", "\n", "        ", "conv1_feat", "=", "self", ".", "conv1", "(", "x1", ")", "\n", "conv2_feat", "=", "self", ".", "conv2", "(", "x2", ")", "\n", "conv3_feat", "=", "self", ".", "conv3", "(", "x3", ")", "\n", "conv4_feat", "=", "self", ".", "conv4", "(", "x4", ")", "\n", "\n", "conv4321", "=", "torch", ".", "cat", "(", "(", "conv1_feat", ",", "self", ".", "upsample2", "(", "conv2_feat", ")", ",", "self", ".", "upsample4", "(", "conv3_feat", ")", ",", "self", ".", "upsample8", "(", "conv4_feat", ")", ")", ",", "1", ")", "\n", "conv4321", "=", "self", ".", "racb4", "(", "conv4321", ")", "\n", "\n", "sal_pred", "=", "self", ".", "cls_layer", "(", "conv4321", ")", "\n", "\n", "\n", "return", "sal_pred", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Fix_feat_decoder.__init__": [[212, 228], ["torch.Module.__init__", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Dropout", "torch.Dropout", "torch.Dropout", "ResNet_models.Fix_feat_decoder._make_pred_layer", "ResNet_models.Fix_feat_decoder._make_pred_layer", "ResNet_models.Fix_feat_decoder._make_pred_layer", "ResNet_models.Fix_feat_decoder._make_pred_layer", "ResNet_models.RCAB", "ResNet_models.Fix_feat_decoder._make_pred_layer"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer"], ["    ", "def", "__init__", "(", "self", ",", "channel", ")", ":", "\n", "        ", "super", "(", "Fix_feat_decoder", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "upsample8", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "8", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample4", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "4", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample2", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample05", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "0.5", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "dropout", "=", "nn", ".", "Dropout", "(", "0.3", ")", "\n", "self", ".", "conv4", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "2048", ")", "\n", "self", ".", "conv3", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "1024", ")", "\n", "self", ".", "conv2", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "512", ")", "\n", "self", ".", "conv1", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "[", "3", ",", "6", ",", "12", ",", "18", "]", ",", "channel", ",", "256", ")", "\n", "\n", "self", ".", "racb4", "=", "RCAB", "(", "channel", "*", "4", ")", "\n", "\n", "self", ".", "cls_layer", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "1", ",", "channel", "*", "4", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Fix_feat_decoder._make_pred_layer": [[230, 232], ["block"], "methods", ["None"], ["", "def", "_make_pred_layer", "(", "self", ",", "block", ",", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", ":", "\n", "        ", "return", "block", "(", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Fix_feat_decoder.forward": [[234, 248], ["ResNet_models.Fix_feat_decoder.conv1", "ResNet_models.Fix_feat_decoder.conv2", "ResNet_models.Fix_feat_decoder.conv3", "ResNet_models.Fix_feat_decoder.conv4", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "ResNet_models.Fix_feat_decoder.racb4", "ResNet_models.Fix_feat_decoder.cls_layer", "ResNet_models.Fix_feat_decoder.upsample2", "ResNet_models.Fix_feat_decoder.upsample4", "ResNet_models.Fix_feat_decoder.upsample8"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x1", ",", "x2", ",", "x3", ",", "x4", ")", ":", "\n", "\n", "        ", "conv1_feat", "=", "self", ".", "conv1", "(", "x1", ")", "\n", "conv2_feat", "=", "self", ".", "conv2", "(", "x2", ")", "\n", "conv3_feat", "=", "self", ".", "conv3", "(", "x3", ")", "\n", "conv4_feat", "=", "self", ".", "conv4", "(", "x4", ")", "\n", "\n", "conv4321", "=", "torch", ".", "cat", "(", "(", "conv1_feat", ",", "self", ".", "upsample2", "(", "conv2_feat", ")", ",", "self", ".", "upsample4", "(", "conv3_feat", ")", ",", "self", ".", "upsample8", "(", "conv4_feat", ")", ")", ",", "1", ")", "\n", "conv4321", "=", "self", ".", "racb4", "(", "conv4321", ")", "\n", "\n", "sal_pred", "=", "self", ".", "cls_layer", "(", "conv4321", ")", "\n", "\n", "\n", "return", "sal_pred", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Saliency_feat_encoder.__init__": [[252, 265], ["torch.Module.__init__", "model.ResNet.B2_ResNet", "torch.ReLU", "torch.ReLU", "torch.ReLU", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Dropout", "torch.Dropout", "torch.Dropout", "ResNet_models.Saliency_feat_decoder", "ResNet_models.Saliency_feat_encoder.initialize_weights"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder.initialize_weights"], ["    ", "def", "__init__", "(", "self", ",", "channel", ")", ":", "\n", "        ", "super", "(", "Saliency_feat_encoder", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "resnet", "=", "B2_ResNet", "(", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "upsample8", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "8", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample4", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "4", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample2", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample05", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "0.5", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "dropout", "=", "nn", ".", "Dropout", "(", "0.3", ")", "\n", "self", ".", "cod_dec", "=", "Fix_feat_decoder", "(", "channel", ")", "\n", "self", ".", "sal_dec", "=", "Saliency_feat_decoder", "(", "channel", ")", "\n", "\n", "self", ".", "HA", "=", "HA", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Saliency_feat_encoder.forward": [[266, 280], ["ResNet_models.Saliency_feat_encoder.resnet.conv1", "ResNet_models.Saliency_feat_encoder.resnet.bn1", "ResNet_models.Saliency_feat_encoder.resnet.relu", "ResNet_models.Saliency_feat_encoder.resnet.maxpool", "ResNet_models.Saliency_feat_encoder.resnet.layer1", "ResNet_models.Saliency_feat_encoder.resnet.layer2", "ResNet_models.Saliency_feat_encoder.resnet.layer3_1", "ResNet_models.Saliency_feat_encoder.resnet.layer4_1", "ResNet_models.Saliency_feat_encoder.sal_dec", "ResNet_models.Saliency_feat_encoder.upsample4"], "methods", ["None"], ["if", "self", ".", "training", ":", "\n", "            ", "self", ".", "initialize_weights", "(", ")", "\n", "\n", "", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "resnet", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "resnet", ".", "bn1", "(", "x", ")", "\n", "x", "=", "self", ".", "resnet", ".", "relu", "(", "x", ")", "\n", "x", "=", "self", ".", "resnet", ".", "maxpool", "(", "x", ")", "\n", "x1", "=", "self", ".", "resnet", ".", "layer1", "(", "x", ")", "# 256 x 64 x 64", "\n", "x2", "=", "self", ".", "resnet", ".", "layer2", "(", "x1", ")", "# 512 x 32 x 32", "\n", "x3", "=", "self", ".", "resnet", ".", "layer3_1", "(", "x2", ")", "# 1024 x 16 x 16", "\n", "x4", "=", "self", ".", "resnet", ".", "layer4_1", "(", "x3", ")", "# 2048 x 8 x 8", "\n", "\n", "fix_pred", "=", "self", ".", "cod_dec", "(", "x1", ",", "x2", ",", "x3", ",", "x4", ")", "\n", "init_pred", "=", "self", ".", "sal_dec", "(", "x1", ",", "x2", ",", "x3", ",", "x4", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.Saliency_feat_encoder.initialize_weights": [[281, 299], ["torchvision.resnet50", "torchvision.resnet50.state_dict", "ResNet_models.Saliency_feat_encoder.resnet.state_dict().items", "ResNet_models.Saliency_feat_encoder.resnet.load_state_dict", "len", "len", "ResNet_models.Saliency_feat_encoder.resnet.state_dict", "models.resnet50.state_dict.keys", "all_params.keys", "ResNet_models.Saliency_feat_encoder.resnet.state_dict().keys", "ResNet_models.Saliency_feat_encoder.resnet.state_dict", "k.split", "k.split", "k.split", "k.split"], "methods", ["None"], ["\n", "x2_2", "=", "self", ".", "HA", "(", "1", "-", "self", ".", "upsample05", "(", "fix_pred", ")", ".", "sigmoid", "(", ")", ",", "x2", ")", "\n", "x3_2", "=", "self", ".", "resnet", ".", "layer3_2", "(", "x2_2", ")", "# 1024 x 16 x 16", "\n", "x4_2", "=", "self", ".", "resnet", ".", "layer4_2", "(", "x3_2", ")", "# 2048 x 8 x 8", "\n", "ref_pred", "=", "self", ".", "sal_dec", "(", "x1", ",", "x2_2", ",", "x3_2", ",", "x4_2", ")", "\n", "\n", "return", "self", ".", "upsample4", "(", "fix_pred", ")", ",", "self", ".", "upsample4", "(", "init_pred", ")", ",", "self", ".", "upsample4", "(", "ref_pred", ")", "\n", "\n", "", "def", "initialize_weights", "(", "self", ")", ":", "\n", "        ", "res50", "=", "models", ".", "resnet50", "(", "pretrained", "=", "True", ")", "\n", "pretrained_dict", "=", "res50", ".", "state_dict", "(", ")", "\n", "all_params", "=", "{", "}", "\n", "for", "k", ",", "v", "in", "self", ".", "resnet", ".", "state_dict", "(", ")", ".", "items", "(", ")", ":", "\n", "            ", "if", "k", "in", "pretrained_dict", ".", "keys", "(", ")", ":", "\n", "                ", "v", "=", "pretrained_dict", "[", "k", "]", "\n", "all_params", "[", "k", "]", "=", "v", "\n", "", "elif", "'_1'", "in", "k", ":", "\n", "                ", "name", "=", "k", ".", "split", "(", "'_1'", ")", "[", "0", "]", "+", "k", ".", "split", "(", "'_1'", ")", "[", "1", "]", "\n", "v", "=", "pretrained_dict", "[", "name", "]", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.HolisticAttention.HA.__init__": [[28, 33], ["torch.Module.__init__", "numpy.float32", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "HolisticAttention.gkern", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy", "torch.from_numpy"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.HolisticAttention.gkern"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "HA", ",", "self", ")", ".", "__init__", "(", ")", "\n", "gaussian_kernel", "=", "np", ".", "float32", "(", "gkern", "(", "31", ",", "4", ")", ")", "\n", "gaussian_kernel", "=", "gaussian_kernel", "[", "np", ".", "newaxis", ",", "np", ".", "newaxis", ",", "...", "]", "\n", "self", ".", "gaussian_kernel", "=", "Parameter", "(", "torch", ".", "from_numpy", "(", "gaussian_kernel", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.HolisticAttention.HA.forward": [[34, 39], ["torch.conv2d", "torch.conv2d", "torch.conv2d", "HolisticAttention.min_max_norm", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "torch.mul", "min_max_norm.max"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.HolisticAttention.min_max_norm"], ["", "def", "forward", "(", "self", ",", "attention", ",", "x", ")", ":", "\n", "        ", "soft_attention", "=", "F", ".", "conv2d", "(", "attention", ",", "self", ".", "gaussian_kernel", ",", "padding", "=", "15", ")", "\n", "soft_attention", "=", "min_max_norm", "(", "soft_attention", ")", "\n", "x", "=", "torch", ".", "mul", "(", "x", ",", "soft_attention", ".", "max", "(", "attention", ")", ")", "\n", "return", "x", "\n", "", "", ""]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.HolisticAttention.gkern": [[10, 17], ["numpy.linspace", "numpy.diff", "numpy.sqrt", "scipy.norm.cdf", "numpy.outer", "np.sqrt.sum"], "function", ["None"], ["def", "gkern", "(", "kernlen", "=", "16", ",", "nsig", "=", "3", ")", ":", "\n", "    ", "interval", "=", "(", "2", "*", "nsig", "+", "1.", ")", "/", "kernlen", "\n", "x", "=", "np", ".", "linspace", "(", "-", "nsig", "-", "interval", "/", "2.", ",", "nsig", "+", "interval", "/", "2.", ",", "kernlen", "+", "1", ")", "\n", "kern1d", "=", "np", ".", "diff", "(", "st", ".", "norm", ".", "cdf", "(", "x", ")", ")", "\n", "kernel_raw", "=", "np", ".", "sqrt", "(", "np", ".", "outer", "(", "kern1d", ",", "kern1d", ")", ")", "\n", "kernel", "=", "kernel_raw", "/", "kernel_raw", ".", "sum", "(", ")", "\n", "return", "kernel", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.HolisticAttention.min_max_norm": [[19, 24], ["[].unsqueeze().unsqueeze().expand_as", "[].unsqueeze().unsqueeze().expand_as", "in_.div", "[].unsqueeze().unsqueeze", "[].unsqueeze().unsqueeze", "[].unsqueeze", "[].unsqueeze", "[].max", "[].min", "in_.max", "in_.min"], "function", ["None"], ["", "def", "min_max_norm", "(", "in_", ")", ":", "\n", "    ", "max_", "=", "in_", ".", "max", "(", "3", ")", "[", "0", "]", ".", "max", "(", "2", ")", "[", "0", "]", ".", "unsqueeze", "(", "2", ")", ".", "unsqueeze", "(", "3", ")", ".", "expand_as", "(", "in_", ")", "\n", "min_", "=", "in_", ".", "min", "(", "3", ")", "[", "0", "]", ".", "min", "(", "2", ")", "[", "0", "]", ".", "unsqueeze", "(", "2", ")", ".", "unsqueeze", "(", "3", ")", ".", "expand_as", "(", "in_", ")", "\n", "in_", "=", "in_", "-", "min_", "\n", "return", "in_", ".", "div", "(", "max_", "-", "min_", "+", "1e-8", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Generator.__init__": [[9, 12], ["torch.Module.__init__", "backbone.Saliency_feat_encoder"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["    ", "def", "__init__", "(", "self", ",", "channel", "=", "64", ")", ":", "\n", "        ", "super", "(", "Generator", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "sal_encoder", "=", "Saliency_feat_encoder", "(", "channel", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Generator.forward": [[13, 16], ["backbone.Generator.sal_encoder"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "self", ".", "sal_feat", "=", "self", ".", "sal_encoder", "(", "x", ")", "\n", "return", "self", ".", "sal_feat", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.CAM_Module.__init__": [[20, 24], ["torch.Module.__init__", "torch.nn.Parameter", "torch.nn.Parameter", "torch.nn.Softmax", "torch.nn.Softmax", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["def", "__init__", "(", "self", ")", ":", "\n", "        ", "super", "(", "CAM_Module", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "gamma", "=", "Parameter", "(", "torch", ".", "zeros", "(", "1", ")", ")", "\n", "self", ".", "softmax", "=", "Softmax", "(", "dim", "=", "-", "1", ")", "\n", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.CAM_Module.forward": [[24, 45], ["x.size", "x.view", "x.view().permute", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "backbone.CAM_Module.softmax", "x.view", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "out.view.view.view", "[].expand_as", "x.view", "torch.max", "torch.max", "torch.max", "torch.max"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "\"\"\"\n            inputs :\n                x : input feature maps( B X C X H X W)\n            returns :\n                out : attention value + input feature ( B X C X H X W)\n                attention: B X C X C\n        \"\"\"", "\n", "m_batchsize", ",", "C", ",", "height", ",", "width", "=", "x", ".", "size", "(", ")", "\n", "proj_query", "=", "x", ".", "view", "(", "m_batchsize", ",", "C", ",", "-", "1", ")", "\n", "proj_key", "=", "x", ".", "view", "(", "m_batchsize", ",", "C", ",", "-", "1", ")", ".", "permute", "(", "0", ",", "2", ",", "1", ")", "\n", "energy", "=", "torch", ".", "bmm", "(", "proj_query", ",", "proj_key", ")", "\n", "energy_new", "=", "torch", ".", "max", "(", "energy", ",", "-", "1", ",", "keepdim", "=", "True", ")", "[", "0", "]", ".", "expand_as", "(", "energy", ")", "-", "energy", "\n", "attention", "=", "self", ".", "softmax", "(", "energy_new", ")", "\n", "proj_value", "=", "x", ".", "view", "(", "m_batchsize", ",", "C", ",", "-", "1", ")", "\n", "\n", "out", "=", "torch", ".", "bmm", "(", "attention", ",", "proj_value", ")", "\n", "out", "=", "out", ".", "view", "(", "m_batchsize", ",", "C", ",", "height", ",", "width", ")", "\n", "\n", "out", "=", "self", ".", "gamma", "*", "out", "+", "x", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.PAM_Module.__init__": [[49, 58], ["torch.Module.__init__", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.nn.Parameter", "torch.nn.Parameter", "torch.nn.Softmax", "torch.nn.Softmax", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["def", "__init__", "(", "self", ",", "in_dim", ")", ":", "\n", "        ", "super", "(", "PAM_Module", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "chanel_in", "=", "in_dim", "\n", "\n", "self", ".", "query_conv", "=", "nn", ".", "Conv2d", "(", "in_channels", "=", "in_dim", ",", "out_channels", "=", "in_dim", "//", "8", ",", "kernel_size", "=", "1", ")", "\n", "self", ".", "key_conv", "=", "nn", ".", "Conv2d", "(", "in_channels", "=", "in_dim", ",", "out_channels", "=", "in_dim", "//", "8", ",", "kernel_size", "=", "1", ")", "\n", "self", ".", "value_conv", "=", "nn", ".", "Conv2d", "(", "in_channels", "=", "in_dim", ",", "out_channels", "=", "in_dim", ",", "kernel_size", "=", "1", ")", "\n", "self", ".", "gamma", "=", "Parameter", "(", "torch", ".", "zeros", "(", "1", ")", ")", "\n", "self", ".", "softmax", "=", "Softmax", "(", "dim", "=", "-", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.PAM_Module.forward": [[59, 79], ["x.size", "backbone.PAM_Module.query_conv().view().permute", "backbone.PAM_Module.key_conv().view", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "backbone.PAM_Module.softmax", "backbone.PAM_Module.value_conv().view", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "out.view.view.view", "backbone.PAM_Module.permute", "backbone.PAM_Module.query_conv().view", "backbone.PAM_Module.key_conv", "backbone.PAM_Module.value_conv", "backbone.PAM_Module.query_conv"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "\"\"\"\n            inputs :\n                x : input feature maps( B X C X H X W)\n            returns :\n                out : attention value + input feature ( B X C X H X W)\n                attention: B X (HxW) X (HxW)\n        \"\"\"", "\n", "m_batchsize", ",", "C", ",", "height", ",", "width", "=", "x", ".", "size", "(", ")", "\n", "proj_query", "=", "self", ".", "query_conv", "(", "x", ")", ".", "view", "(", "m_batchsize", ",", "-", "1", ",", "width", "*", "height", ")", ".", "permute", "(", "0", ",", "2", ",", "1", ")", "\n", "proj_key", "=", "self", ".", "key_conv", "(", "x", ")", ".", "view", "(", "m_batchsize", ",", "-", "1", ",", "width", "*", "height", ")", "\n", "energy", "=", "torch", ".", "bmm", "(", "proj_query", ",", "proj_key", ")", "\n", "attention", "=", "self", ".", "softmax", "(", "energy", ")", "\n", "proj_value", "=", "self", ".", "value_conv", "(", "x", ")", ".", "view", "(", "m_batchsize", ",", "-", "1", ",", "width", "*", "height", ")", "\n", "\n", "out", "=", "torch", ".", "bmm", "(", "proj_value", ",", "attention", ".", "permute", "(", "0", ",", "2", ",", "1", ")", ")", "\n", "out", "=", "out", ".", "view", "(", "m_batchsize", ",", "C", ",", "height", ",", "width", ")", "\n", "\n", "out", "=", "self", ".", "gamma", "*", "out", "+", "x", "\n", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Classifier_Module.__init__": [[82, 89], ["torch.Module.__init__", "torch.ModuleList", "torch.ModuleList", "zip", "backbone.Classifier_Module.conv2d_list.append", "m.weight.data.normal_", "torch.Conv2d", "torch.Conv2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["    ", "def", "__init__", "(", "self", ",", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", ":", "\n", "        ", "super", "(", "Classifier_Module", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "conv2d_list", "=", "nn", ".", "ModuleList", "(", ")", "\n", "for", "dilation", ",", "padding", "in", "zip", "(", "dilation_series", ",", "padding_series", ")", ":", "\n", "            ", "self", ".", "conv2d_list", ".", "append", "(", "nn", ".", "Conv2d", "(", "input_channel", ",", "NoLabels", ",", "kernel_size", "=", "3", ",", "stride", "=", "1", ",", "padding", "=", "padding", ",", "dilation", "=", "dilation", ",", "bias", "=", "True", ")", ")", "\n", "", "for", "m", "in", "self", ".", "conv2d_list", ":", "\n", "            ", "m", ".", "weight", ".", "data", ".", "normal_", "(", "0", ",", "0.01", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Classifier_Module.forward": [[90, 95], ["range", "len"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "out", "=", "self", ".", "conv2d_list", "[", "0", "]", "(", "x", ")", "\n", "for", "i", "in", "range", "(", "len", "(", "self", ".", "conv2d_list", ")", "-", "1", ")", ":", "\n", "            ", "out", "+=", "self", ".", "conv2d_list", "[", "i", "+", "1", "]", "(", "x", ")", "\n", "", "return", "out", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.CALayer.__init__": [[98, 108], ["torch.Module.__init__", "torch.AdaptiveAvgPool2d", "torch.AdaptiveAvgPool2d", "torch.Sequential", "torch.Sequential", "torch.Conv2d", "torch.Conv2d", "torch.ReLU", "torch.ReLU", "torch.Conv2d", "torch.Conv2d", "torch.Sigmoid", "torch.Sigmoid"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__"], ["    ", "def", "__init__", "(", "self", ",", "channel", ",", "reduction", "=", "16", ")", ":", "\n", "        ", "super", "(", "CALayer", ",", "self", ")", ".", "__init__", "(", ")", "\n", "# global average pooling: feature --> point", "\n", "self", ".", "avg_pool", "=", "nn", ".", "AdaptiveAvgPool2d", "(", "1", ")", "\n", "# feature channel downscale and upscale --> channel weight", "\n", "self", ".", "conv_du", "=", "nn", ".", "Sequential", "(", "\n", "nn", ".", "Conv2d", "(", "channel", ",", "channel", "//", "reduction", ",", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", ",", "\n", "nn", ".", "Conv2d", "(", "channel", "//", "reduction", ",", "channel", ",", "1", ",", "padding", "=", "0", ",", "bias", "=", "True", ")", ",", "\n", "nn", ".", "Sigmoid", "(", ")", "\n", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.CALayer.forward": [[110, 114], ["backbone.CALayer.avg_pool", "backbone.CALayer.conv_du"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "y", "=", "self", ".", "avg_pool", "(", "x", ")", "\n", "y", "=", "self", ".", "conv_du", "(", "y", ")", "\n", "return", "x", "*", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.RCAB.__init__": [[120, 133], ["torch.ReLU", "torch.ReLU", "torch.Module.__init__", "range", "modules_body.append", "torch.Sequential", "torch.Sequential", "modules_body.append", "backbone.CALayer", "backbone.RCAB.default_conv", "modules_body.append", "modules_body.append", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CAM_Module.default_conv"], ["    ", "def", "__init__", "(", "\n", "self", ",", "n_feat", ",", "kernel_size", "=", "3", ",", "reduction", "=", "16", ",", "\n", "bias", "=", "True", ",", "bn", "=", "False", ",", "act", "=", "nn", ".", "ReLU", "(", "True", ")", ",", "res_scale", "=", "1", ")", ":", "\n", "\n", "        ", "super", "(", "RCAB", ",", "self", ")", ".", "__init__", "(", ")", "\n", "modules_body", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "2", ")", ":", "\n", "            ", "modules_body", ".", "append", "(", "self", ".", "default_conv", "(", "n_feat", ",", "n_feat", ",", "kernel_size", ",", "bias", "=", "bias", ")", ")", "\n", "if", "bn", ":", "modules_body", ".", "append", "(", "nn", ".", "BatchNorm2d", "(", "n_feat", ")", ")", "\n", "if", "i", "==", "0", ":", "modules_body", ".", "append", "(", "act", ")", "\n", "", "modules_body", ".", "append", "(", "CALayer", "(", "n_feat", ",", "reduction", ")", ")", "\n", "self", ".", "body", "=", "nn", ".", "Sequential", "(", "*", "modules_body", ")", "\n", "self", ".", "res_scale", "=", "res_scale", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.RCAB.default_conv": [[134, 136], ["torch.Conv2d", "torch.Conv2d"], "methods", ["None"], ["", "def", "default_conv", "(", "self", ",", "in_channels", ",", "out_channels", ",", "kernel_size", ",", "bias", "=", "True", ")", ":", "\n", "        ", "return", "nn", ".", "Conv2d", "(", "in_channels", ",", "out_channels", ",", "kernel_size", ",", "padding", "=", "(", "kernel_size", "//", "2", ")", ",", "bias", "=", "bias", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.RCAB.forward": [[137, 142], ["backbone.RCAB.body"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "res", "=", "self", ".", "body", "(", "x", ")", "\n", "#res = self.body(x).mul(self.res_scale)", "\n", "res", "+=", "x", "\n", "return", "res", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder.__init__": [[145, 167], ["torch.Module.__init__", "ResNet.B2_ResNet", "torch.ReLU", "torch.ReLU", "torch.Upsample", "torch.Upsample", "torch.Dropout", "torch.Dropout", "backbone.Saliency_feat_encoder._make_pred_layer", "backbone.Saliency_feat_encoder._make_pred_layer", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Conv2d", "torch.Upsample", "torch.Upsample", "torch.Upsample", "torch.Upsample", "backbone.CAM_Module", "backbone.PAM_Module", "backbone.RCAB", "backbone.Saliency_feat_encoder.initialize_weights"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder.initialize_weights"], ["    ", "def", "__init__", "(", "self", ",", "channel", "=", "32", ")", ":", "\n", "        ", "super", "(", "Saliency_feat_encoder", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "resnet", "=", "B2_ResNet", "(", ")", "\n", "self", ".", "relu", "=", "nn", ".", "ReLU", "(", "inplace", "=", "True", ")", "\n", "self", ".", "upsample", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "8", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "dropout", "=", "nn", ".", "Dropout", "(", "0.3", ")", "\n", "self", ".", "layer5", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "channel", ",", "2048", ")", "\n", "self", ".", "layer6", "=", "self", ".", "_make_pred_layer", "(", "Classifier_Module", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "[", "6", ",", "12", ",", "18", ",", "24", "]", ",", "1", ",", "channel", "*", "4", ")", "\n", "\n", "self", ".", "conv1", "=", "nn", ".", "Conv2d", "(", "256", ",", "channel", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv2", "=", "nn", ".", "Conv2d", "(", "512", ",", "channel", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv3", "=", "nn", ".", "Conv2d", "(", "1024", ",", "channel", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ")", "\n", "self", ".", "conv4", "=", "nn", ".", "Conv2d", "(", "2048", ",", "channel", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ")", "\n", "\n", "self", ".", "conv_feat", "=", "nn", ".", "Conv2d", "(", "32", "*", "5", ",", "channel", ",", "kernel_size", "=", "3", ",", "padding", "=", "1", ")", "\n", "self", ".", "upsample4", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "4", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "upsample2", "=", "nn", ".", "Upsample", "(", "scale_factor", "=", "2", ",", "mode", "=", "'bilinear'", ",", "align_corners", "=", "True", ")", "\n", "self", ".", "cam_attention", "=", "CAM_Module", "(", ")", "\n", "self", ".", "pam_attention", "=", "PAM_Module", "(", "channel", ")", "\n", "self", ".", "racb_layer", "=", "RCAB", "(", "channel", "*", "4", ")", "\n", "if", "self", ".", "training", ":", "\n", "            ", "self", ".", "initialize_weights", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder._make_pred_layer": [[168, 170], ["block"], "methods", ["None"], ["", "", "def", "_make_pred_layer", "(", "self", ",", "block", ",", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", ":", "\n", "        ", "return", "block", "(", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder.forward": [[171, 198], ["backbone.Saliency_feat_encoder.resnet.conv1", "backbone.Saliency_feat_encoder.resnet.bn1", "backbone.Saliency_feat_encoder.resnet.relu", "backbone.Saliency_feat_encoder.resnet.maxpool", "backbone.Saliency_feat_encoder.resnet.layer1", "backbone.Saliency_feat_encoder.resnet.layer2", "backbone.Saliency_feat_encoder.resnet.layer3_1", "backbone.Saliency_feat_encoder.resnet.layer4_1", "backbone.Saliency_feat_encoder.layer5", "backbone.Saliency_feat_encoder.pam_attention", "backbone.Saliency_feat_encoder.conv2", "backbone.Saliency_feat_encoder.upsample2", "backbone.Saliency_feat_encoder.upsample2", "backbone.Saliency_feat_encoder.upsample2", "backbone.Saliency_feat_encoder.relu", "backbone.Saliency_feat_encoder.racb_layer", "backbone.Saliency_feat_encoder.layer6", "backbone.Saliency_feat_encoder.upsample", "backbone.Saliency_feat_encoder.conv3", "backbone.Saliency_feat_encoder.conv4", "torch.cat", "torch.cat", "torch.cat", "torch.cat"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "        ", "x", "=", "self", ".", "resnet", ".", "conv1", "(", "x", ")", "\n", "x", "=", "self", ".", "resnet", ".", "bn1", "(", "x", ")", "\n", "x", "=", "self", ".", "resnet", ".", "relu", "(", "x", ")", "\n", "x", "=", "self", ".", "resnet", ".", "maxpool", "(", "x", ")", "\n", "x1", "=", "self", ".", "resnet", ".", "layer1", "(", "x", ")", "# 256 x 64 x 64", "\n", "x2", "=", "self", ".", "resnet", ".", "layer2", "(", "x1", ")", "# 512 x 32 x 32", "\n", "x3", "=", "self", ".", "resnet", ".", "layer3_1", "(", "x2", ")", "# 1024 x 16 x 16", "\n", "x4", "=", "self", ".", "resnet", ".", "layer4_1", "(", "x3", ")", "# 2048 x 8 x 8", "\n", "\n", "conv5_feat", "=", "self", ".", "layer5", "(", "x4", ")", "\n", "# put position attention at bottleneck of network", "\n", "conv5_feat", "=", "self", ".", "pam_attention", "(", "conv5_feat", ")", "\n", "# put channel attention at bottleneck of network", "\n", "# conv5_feat = self.cam_attention(conv5_feat)", "\n", "conv2_feat", "=", "self", ".", "conv2", "(", "x2", ")", "\n", "conv3_feat", "=", "self", ".", "upsample2", "(", "self", ".", "conv3", "(", "x3", ")", ")", "\n", "conv4_feat", "=", "self", ".", "upsample2", "(", "self", ".", "conv4", "(", "x4", ")", ")", "\n", "conv5_feat", "=", "self", ".", "upsample2", "(", "conv5_feat", ")", "\n", "\n", "cat_feat", "=", "self", ".", "relu", "(", "torch", ".", "cat", "(", "(", "conv2_feat", ",", "conv3_feat", ",", "conv4_feat", ",", "conv5_feat", ")", ",", "1", ")", ")", "\n", "\n", "# residual channel attention", "\n", "cat_feat", "=", "self", ".", "racb_layer", "(", "cat_feat", ")", "\n", "cat_feat", "=", "self", ".", "layer6", "(", "cat_feat", ")", "\n", "\n", "return", "self", ".", "upsample", "(", "cat_feat", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.backbone.Saliency_feat_encoder.initialize_weights": [[199, 217], ["torchvision.resnet50", "torchvision.resnet50.state_dict", "backbone.Saliency_feat_encoder.resnet.state_dict().items", "backbone.Saliency_feat_encoder.resnet.load_state_dict", "len", "len", "backbone.Saliency_feat_encoder.resnet.state_dict", "models.resnet50.state_dict.keys", "all_params.keys", "backbone.Saliency_feat_encoder.resnet.state_dict().keys", "backbone.Saliency_feat_encoder.resnet.state_dict", "k.split", "k.split", "k.split", "k.split"], "methods", ["None"], ["", "def", "initialize_weights", "(", "self", ")", ":", "\n", "        ", "res50", "=", "models", ".", "resnet50", "(", "pretrained", "=", "True", ")", "\n", "pretrained_dict", "=", "res50", ".", "state_dict", "(", ")", "\n", "all_params", "=", "{", "}", "\n", "for", "k", ",", "v", "in", "self", ".", "resnet", ".", "state_dict", "(", ")", ".", "items", "(", ")", ":", "\n", "            ", "if", "k", "in", "pretrained_dict", ".", "keys", "(", ")", ":", "\n", "                ", "v", "=", "pretrained_dict", "[", "k", "]", "\n", "all_params", "[", "k", "]", "=", "v", "\n", "", "elif", "'_1'", "in", "k", ":", "\n", "                ", "name", "=", "k", ".", "split", "(", "'_1'", ")", "[", "0", "]", "+", "k", ".", "split", "(", "'_1'", ")", "[", "1", "]", "\n", "v", "=", "pretrained_dict", "[", "name", "]", "\n", "all_params", "[", "k", "]", "=", "v", "\n", "", "elif", "'_2'", "in", "k", ":", "\n", "                ", "name", "=", "k", ".", "split", "(", "'_2'", ")", "[", "0", "]", "+", "k", ".", "split", "(", "'_2'", ")", "[", "1", "]", "\n", "v", "=", "pretrained_dict", "[", "name", "]", "\n", "all_params", "[", "k", "]", "=", "v", "\n", "", "", "assert", "len", "(", "all_params", ".", "keys", "(", ")", ")", "==", "len", "(", "self", ".", "resnet", ".", "state_dict", "(", ")", ".", "keys", "(", ")", ")", "\n", "self", ".", "resnet", ".", "load_state_dict", "(", "all_params", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CAM_Module.__init__": [[28, 41], ["torch.Module.__init__", "torch.nn.Parameter", "torch.nn.Parameter", "torch.nn.Parameter", "torch.nn.Softmax", "torch.nn.Softmax", "torch.nn.Softmax", "torch.ReLU", "torch.ReLU", "torch.ReLU", "range", "torch.Sequential", "torch.Sequential", "torch.Sequential", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "modules_body.append", "ResNet_models.CAM_Module.default_conv", "modules_body.append", "modules_body.append", "torch.BatchNorm2d", "torch.BatchNorm2d", "torch.BatchNorm2d"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CAM_Module.default_conv"], ["return", "fix_pred", ",", "cod_pred1", ",", "cod_pred2", "\n", "\n", "", "", "class", "PAM_Module", "(", "nn", ".", "Module", ")", ":", "\n", "    ", "\"\"\" Position attention module\"\"\"", "\n", "#paper: Dual Attention Network for Scene Segmentation", "\n", "def", "__init__", "(", "self", ",", "in_dim", ")", ":", "\n", "        ", "super", "(", "PAM_Module", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "chanel_in", "=", "in_dim", "\n", "\n", "self", ".", "query_conv", "=", "nn", ".", "Conv2d", "(", "in_channels", "=", "in_dim", ",", "out_channels", "=", "in_dim", "//", "8", ",", "kernel_size", "=", "1", ")", "\n", "self", ".", "key_conv", "=", "nn", ".", "Conv2d", "(", "in_channels", "=", "in_dim", ",", "out_channels", "=", "in_dim", "//", "8", ",", "kernel_size", "=", "1", ")", "\n", "self", ".", "value_conv", "=", "nn", ".", "Conv2d", "(", "in_channels", "=", "in_dim", ",", "out_channels", "=", "in_dim", ",", "kernel_size", "=", "1", ")", "\n", "self", ".", "gamma", "=", "Parameter", "(", "torch", ".", "zeros", "(", "1", ")", ")", "\n", "self", ".", "softmax", "=", "Softmax", "(", "dim", "=", "-", "1", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CAM_Module.default_conv": [[41, 43], ["torch.Conv2d", "torch.Conv2d", "torch.Conv2d"], "methods", ["None"], ["self", ".", "softmax", "=", "Softmax", "(", "dim", "=", "-", "1", ")", "\n", "\n", "", "def", "forward", "(", "self", ",", "x", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.model.ResNet_models.CAM_Module.forward": [[44, 66], ["ResNet_models.CAM_Module.body", "ResNet_models.CAM_Module.size", "ResNet_models.CAM_Module.view", "ResNet_models.CAM_Module.view().permute", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "ResNet_models.CAM_Module.softmax", "ResNet_models.CAM_Module.view", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "torch.bmm", "out.view.view.view", "[].expand_as", "ResNet_models.CAM_Module.view", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max", "torch.max"], "methods", ["None"], ["        ", "\"\"\"\n            inputs :\n                x : input feature maps( B X C X H X W)\n            returns :\n                out : attention value + input feature ( B X C X H X W)\n                attention: B X (HxW) X (HxW)\n        \"\"\"", "\n", "m_batchsize", ",", "C", ",", "height", ",", "width", "=", "x", ".", "size", "(", ")", "\n", "proj_query", "=", "self", ".", "query_conv", "(", "x", ")", ".", "view", "(", "m_batchsize", ",", "-", "1", ",", "width", "*", "height", ")", ".", "permute", "(", "0", ",", "2", ",", "1", ")", "\n", "proj_key", "=", "self", ".", "key_conv", "(", "x", ")", ".", "view", "(", "m_batchsize", ",", "-", "1", ",", "width", "*", "height", ")", "\n", "energy", "=", "torch", ".", "bmm", "(", "proj_query", ",", "proj_key", ")", "\n", "attention", "=", "self", ".", "softmax", "(", "energy", ")", "\n", "proj_value", "=", "self", ".", "value_conv", "(", "x", ")", ".", "view", "(", "m_batchsize", ",", "-", "1", ",", "width", "*", "height", ")", "\n", "\n", "out", "=", "torch", ".", "bmm", "(", "proj_value", ",", "attention", ".", "permute", "(", "0", ",", "2", ",", "1", ")", ")", "\n", "out", "=", "out", ".", "view", "(", "m_batchsize", ",", "C", ",", "height", ",", "width", ")", "\n", "\n", "out", "=", "self", ".", "gamma", "*", "out", "+", "x", "\n", "return", "out", "\n", "\n", "\n", "", "", "class", "Classifier_Module", "(", "nn", ".", "Module", ")", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "dilation_series", ",", "padding_series", ",", "NoLabels", ",", "input_channel", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.train.structure_loss": [[48, 58], ["torch.binary_cross_entropy_with_logits", "torch.sigmoid", "torch.sigmoid", "weit.sum", "torch.abs", "torch.abs", "torch.avg_pool2d"], "function", ["None"], ["def", "structure_loss", "(", "pred", ",", "mask", ")", ":", "\n", "    ", "weit", "=", "1", "+", "5", "*", "torch", ".", "abs", "(", "F", ".", "avg_pool2d", "(", "mask", ",", "kernel_size", "=", "31", ",", "stride", "=", "1", ",", "padding", "=", "15", ")", "-", "mask", ")", "\n", "wbce", "=", "F", ".", "binary_cross_entropy_with_logits", "(", "pred", ",", "mask", ",", "reduce", "=", "'none'", ")", "\n", "wbce", "=", "(", "weit", "*", "wbce", ")", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "/", "weit", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "\n", "\n", "pred", "=", "torch", ".", "sigmoid", "(", "pred", ")", "\n", "inter", "=", "(", "(", "pred", "*", "mask", ")", "*", "weit", ")", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "\n", "union", "=", "(", "(", "pred", "+", "mask", ")", "*", "weit", ")", ".", "sum", "(", "dim", "=", "(", "2", ",", "3", ")", ")", "\n", "wiou", "=", "1", "-", "(", "inter", "+", "1", ")", "/", "(", "union", "-", "inter", "+", "1", ")", "\n", "return", "(", "wbce", "+", "wiou", ")", ".", "mean", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.train.visualize_prediction_init": [[59, 69], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "def", "visualize_gt", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_gt.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.train.visualize_gt": [[70, 80], ["range", "pred_edge_kk.astype.detach().cpu().numpy().squeeze", "pred_edge_kk.astype.astype", "cv2.imwrite", "pred_edge_kk.astype.detach().cpu().numpy", "pred_edge_kk.astype.detach().cpu", "pred_edge_kk.astype.detach"], "function", ["None"], ["", "", "def", "visualize_cod1", "(", "var_map", ")", ":", "\n", "\n", "    ", "for", "kk", "in", "range", "(", "var_map", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "pred_edge_kk", "=", "var_map", "[", "kk", ",", ":", ",", ":", ",", ":", "]", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "detach", "(", ")", ".", "cpu", "(", ")", ".", "numpy", "(", ")", ".", "squeeze", "(", ")", "\n", "pred_edge_kk", "*=", "255.0", "\n", "pred_edge_kk", "=", "pred_edge_kk", ".", "astype", "(", "np", ".", "uint8", ")", "\n", "save_path", "=", "'./temp/'", "\n", "name", "=", "'{:02d}_cod1.png'", ".", "format", "(", "kk", ")", "\n", "cv2", ".", "imwrite", "(", "save_path", "+", "name", ",", "pred_edge_kk", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.__init__": [[108, 126], ["sorted", "sorted", "torch.SalObjDataset.filter_files", "len", "torchvision.Compose", "torchvision.Compose", "os.listdir", "f.endswith", "os.listdir", "torchvision.Resize", "torchvision.ToTensor", "torchvision.Normalize", "torchvision.Resize", "torchvision.ToTensor", "f.endswith", "f.endswith"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.filter_files"], ["self", ".", "filter_files", "(", ")", "\n", "self", ".", "size", "=", "len", "(", "self", ".", "images", ")", "\n", "self", ".", "img_transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "trainsize", ",", "self", ".", "trainsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", ",", "\n", "transforms", ".", "Normalize", "(", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "[", "0.229", ",", "0.224", ",", "0.225", "]", ")", "]", ")", "\n", "self", ".", "gt_transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "trainsize", ",", "self", ".", "trainsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", "]", ")", "\n", "self", ".", "fix_transform", "=", "transforms", ".", "Compose", "(", "[", "\n", "transforms", ".", "Resize", "(", "(", "self", ".", "trainsize", ",", "self", ".", "trainsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", "]", ")", "\n", "\n", "", "def", "__getitem__", "(", "self", ",", "index", ")", ":", "\n", "        ", "image", "=", "self", ".", "rgb_loader", "(", "self", ".", "images", "[", "index", "]", ")", "\n", "gt", "=", "self", ".", "binary_loader", "(", "self", ".", "gts", "[", "index", "]", ")", "\n", "fix", "=", "self", ".", "binary_loader", "(", "self", ".", "fixs", "[", "index", "]", ")", "\n", "image", ",", "fix", ",", "gt", "=", "cv_random_flip", "(", "image", ",", "fix", ",", "gt", ")", "\n", "image", ",", "fix", ",", "gt", "=", "randomCrop", "(", "image", ",", "fix", ",", "gt", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.__getitem__": [[127, 141], ["torch.SalObjDataset.rgb_loader", "torch.SalObjDataset.binary_loader", "data.cv_random_flip", "data.randomCrop", "data.randomRotation", "data.colorEnhance", "data.randomPeper", "torch.SalObjDataset.img_transform", "torch.SalObjDataset.gt_transform"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.rgb_loader", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.binary_loader", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.cv_random_flip", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomCrop", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomRotation", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.colorEnhance", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomPeper"], ["image", ",", "fix", ",", "gt", "=", "randomRotation", "(", "image", ",", "fix", ",", "gt", ")", "\n", "image", "=", "colorEnhance", "(", "image", ")", "\n", "# gt=randomGaussian(gt)", "\n", "gt", "=", "randomPeper", "(", "gt", ")", "\n", "image", "=", "self", ".", "img_transform", "(", "image", ")", "\n", "gt", "=", "self", ".", "gt_transform", "(", "gt", ")", "\n", "fix", "=", "self", ".", "gt_transform", "(", "fix", ")", "\n", "return", "image", ",", "gt", ",", "fix", "\n", "\n", "", "def", "filter_files", "(", "self", ")", ":", "\n", "        ", "assert", "len", "(", "self", ".", "images", ")", "==", "len", "(", "self", ".", "gts", ")", "\n", "assert", "len", "(", "self", ".", "images", ")", "==", "len", "(", "self", ".", "fixs", ")", "\n", "images", "=", "[", "]", "\n", "gts", "=", "[", "]", "\n", "fixs", "=", "[", "]", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.filter_files": [[143, 158], ["zip", "PIL.Image.open", "PIL.Image.open", "len", "len", "len", "len", "images.append", "gts.append"], "methods", ["None"], ["            ", "img", "=", "Image", ".", "open", "(", "img_path", ")", "\n", "gt", "=", "Image", ".", "open", "(", "gt_path", ")", "\n", "fix", "=", "Image", ".", "open", "(", "fix_path", ")", "\n", "if", "img", ".", "size", "==", "gt", ".", "size", ":", "\n", "                ", "images", ".", "append", "(", "img_path", ")", "\n", "gts", ".", "append", "(", "gt_path", ")", "\n", "fixs", ".", "append", "(", "fix_path", ")", "\n", "", "", "self", ".", "images", "=", "images", "\n", "self", ".", "gts", "=", "gts", "\n", "self", ".", "fixs", "=", "fixs", "\n", "\n", "", "def", "rgb_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "return", "img", ".", "convert", "(", "'RGB'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.rgb_loader": [[159, 163], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["", "", "def", "binary_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "# return img.convert('1')", "\n", "return", "img", ".", "convert", "(", "'L'", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.binary_loader": [[164, 168], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["\n", "", "", "def", "resize", "(", "self", ",", "img", ",", "gt", ",", "fix", ")", ":", "\n", "        ", "assert", "img", ".", "size", "==", "gt", ".", "size", "\n", "assert", "img", ".", "size", "==", "fix", ".", "size", "\n", "w", ",", "h", "=", "img", ".", "size", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.resize": [[169, 178], ["max", "max", "img.resize", "gt.resize"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.resize", "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.resize"], ["if", "h", "<", "self", ".", "trainsize", "or", "w", "<", "self", ".", "trainsize", ":", "\n", "            ", "h", "=", "max", "(", "h", ",", "self", ".", "trainsize", ")", "\n", "w", "=", "max", "(", "w", ",", "self", ".", "trainsize", ")", "\n", "return", "img", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "BILINEAR", ")", ",", "gt", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "NEAREST", ")", ",", "fix", ".", "resize", "(", "(", "w", ",", "h", ")", ",", "Image", ".", "NEAREST", ")", "\n", "", "else", ":", "\n", "            ", "return", "img", ",", "gt", ",", "fix", "\n", "\n", "", "", "def", "__len__", "(", "self", ")", ":", "\n", "        ", "return", "self", ".", "size", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.SalObjDataset.__len__": [[179, 181], ["None"], "methods", ["None"], ["\n", "", "", "def", "get_loader", "(", "image_root", ",", "gt_root", ",", "fix_root", ",", "batchsize", ",", "trainsize", ",", "shuffle", "=", "True", ",", "num_workers", "=", "12", ",", "pin_memory", "=", "True", ")", ":", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.__init__": [[197, 208], ["sorted", "torchvision.Compose", "len", "os.listdir", "torchvision.Resize", "torchvision.ToTensor", "torchvision.Normalize", "f.endswith", "f.endswith"], "methods", ["None"], ["transforms", ".", "Resize", "(", "(", "self", ".", "testsize", ",", "self", ".", "testsize", ")", ")", ",", "\n", "transforms", ".", "ToTensor", "(", ")", ",", "\n", "transforms", ".", "Normalize", "(", "[", "0.485", ",", "0.456", ",", "0.406", "]", ",", "[", "0.229", ",", "0.224", ",", "0.225", "]", ")", "]", ")", "\n", "self", ".", "size", "=", "len", "(", "self", ".", "images", ")", "\n", "self", ".", "index", "=", "0", "\n", "\n", "", "def", "load_data", "(", "self", ")", ":", "\n", "        ", "image", "=", "self", ".", "rgb_loader", "(", "self", ".", "images", "[", "self", ".", "index", "]", ")", "\n", "HH", "=", "image", ".", "size", "[", "0", "]", "\n", "WW", "=", "image", ".", "size", "[", "1", "]", "\n", "image", "=", "self", ".", "transform", "(", "image", ")", ".", "unsqueeze", "(", "0", ")", "\n", "name", "=", "self", ".", "images", "[", "self", ".", "index", "]", ".", "split", "(", "'/'", ")", "[", "-", "1", "]", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.load_data": [[209, 219], ["torch.test_dataset.rgb_loader", "torch.test_dataset.transform().unsqueeze", "name.endswith", "torch.test_dataset.images[].split", "torch.test_dataset.transform", "name.split"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.rgb_loader"], ["if", "name", ".", "endswith", "(", "'.jpg'", ")", ":", "\n", "            ", "name", "=", "name", ".", "split", "(", "'.jpg'", ")", "[", "0", "]", "+", "'.png'", "\n", "", "self", ".", "index", "+=", "1", "\n", "return", "image", ",", "HH", ",", "WW", ",", "name", "\n", "\n", "", "def", "rgb_loader", "(", "self", ",", "path", ")", ":", "\n", "        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "return", "img", ".", "convert", "(", "'RGB'", ")", "\n", "\n", "", "", "def", "binary_loader", "(", "self", ",", "path", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.rgb_loader": [[220, 224], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["        ", "with", "open", "(", "path", ",", "'rb'", ")", "as", "f", ":", "\n", "            ", "img", "=", "Image", ".", "open", "(", "f", ")", "\n", "return", "img", ".", "convert", "(", "'L'", ")", "\n", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.test_dataset.binary_loader": [[225, 229], ["open", "PIL.Image.open", "PIL.Image.open.convert"], "methods", ["None"], ["", "", "", ""]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.cv_random_flip": [[11, 25], ["random.randint", "img.transpose.transpose", "label.transpose.transpose"], "function", ["None"], ["    ", "flip_flag", "=", "random", ".", "randint", "(", "0", ",", "1", ")", "\n", "# flip_flag2= random.randint(0,1)", "\n", "# left right flip", "\n", "if", "flip_flag", "==", "1", ":", "\n", "        ", "img", "=", "img", ".", "transpose", "(", "Image", ".", "FLIP_LEFT_RIGHT", ")", "\n", "fix", "=", "fix", ".", "transpose", "(", "Image", ".", "FLIP_LEFT_RIGHT", ")", "\n", "gt", "=", "gt", ".", "transpose", "(", "Image", ".", "FLIP_LEFT_RIGHT", ")", "\n", "", "return", "img", ",", "fix", ",", "gt", "\n", "\n", "\n", "", "def", "randomCrop", "(", "image", ",", "fix", ",", "gt", ")", ":", "\n", "    ", "border", "=", "30", "\n", "image_width", "=", "image", ".", "size", "[", "0", "]", "\n", "image_height", "=", "image", ".", "size", "[", "1", "]", "\n", "crop_win_width", "=", "np", ".", "random", ".", "randint", "(", "image_width", "-", "border", ",", "image_width", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomCrop": [[27, 37], ["numpy.random.randint", "numpy.random.randint", "image.crop", "label.crop"], "function", ["None"], ["random_region", "=", "(", "\n", "(", "image_width", "-", "crop_win_width", ")", ">>", "1", ",", "(", "image_height", "-", "crop_win_height", ")", ">>", "1", ",", "(", "image_width", "+", "crop_win_width", ")", ">>", "1", ",", "\n", "(", "image_height", "+", "crop_win_height", ")", ">>", "1", ")", "\n", "return", "image", ".", "crop", "(", "random_region", ")", ",", "fix", ".", "crop", "(", "random_region", ")", ",", "gt", ".", "crop", "(", "random_region", ")", "\n", "\n", "\n", "", "def", "randomRotation", "(", "image", ",", "fix", ",", "gt", ")", ":", "\n", "    ", "mode", "=", "Image", ".", "BICUBIC", "\n", "if", "random", ".", "random", "(", ")", ">", "0.8", ":", "\n", "        ", "random_angle", "=", "np", ".", "random", ".", "randint", "(", "-", "15", ",", "15", ")", "\n", "image", "=", "image", ".", "rotate", "(", "random_angle", ",", "mode", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomRotation": [[39, 46], ["random.random", "numpy.random.randint", "image.rotate.rotate", "label.rotate.rotate"], "function", ["None"], ["gt", "=", "gt", ".", "rotate", "(", "random_angle", ",", "mode", ")", "\n", "", "return", "image", ",", "fix", ",", "gt", "\n", "\n", "\n", "", "def", "colorEnhance", "(", "image", ")", ":", "\n", "    ", "bright_intensity", "=", "random", ".", "randint", "(", "5", ",", "15", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Brightness", "(", "image", ")", ".", "enhance", "(", "bright_intensity", ")", "\n", "contrast_intensity", "=", "random", ".", "randint", "(", "5", ",", "15", ")", "/", "10.0", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.colorEnhance": [[48, 58], ["PIL.ImageEnhance.Brightness().enhance", "PIL.ImageEnhance.Contrast().enhance", "PIL.ImageEnhance.Color().enhance", "PIL.ImageEnhance.Sharpness().enhance", "random.randint", "random.randint", "random.randint", "random.randint", "PIL.ImageEnhance.Brightness", "PIL.ImageEnhance.Contrast", "PIL.ImageEnhance.Color", "PIL.ImageEnhance.Sharpness"], "function", ["None"], ["color_intensity", "=", "random", ".", "randint", "(", "0", ",", "20", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Color", "(", "image", ")", ".", "enhance", "(", "color_intensity", ")", "\n", "sharp_intensity", "=", "random", ".", "randint", "(", "0", ",", "30", ")", "/", "10.0", "\n", "image", "=", "ImageEnhance", ".", "Sharpness", "(", "image", ")", ".", "enhance", "(", "sharp_intensity", ")", "\n", "return", "image", "\n", "\n", "\n", "", "def", "randomGaussian", "(", "image", ",", "mean", "=", "0", ",", "sigma", "=", "0.15", ")", ":", "\n", "    ", "def", "gaussianNoisy", "(", "im", ",", "mean", "=", "mean", ",", "sigma", "=", "sigma", ")", ":", "\n", "        ", "for", "_i", "in", "range", "(", "len", "(", "im", ")", ")", ":", "\n", "            ", "im", "[", "_i", "]", "+=", "random", ".", "gauss", "(", "mean", ",", "sigma", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomGaussian": [[60, 71], ["numpy.asarray", "data.randomGaussian.gaussianNoisy"], "function", ["None"], ["\n", "", "img", "=", "np", ".", "asarray", "(", "image", ")", "\n", "width", ",", "height", "=", "img", ".", "shape", "\n", "img", "=", "gaussianNoisy", "(", "img", "[", ":", "]", ".", "flatten", "(", ")", ",", "mean", ",", "sigma", ")", "\n", "img", "=", "img", ".", "reshape", "(", "[", "width", ",", "height", "]", ")", "\n", "return", "Image", ".", "fromarray", "(", "np", ".", "uint8", "(", "img", ")", ")", "\n", "\n", "", "def", "randomGaussian1", "(", "image", ",", "mean", "=", "0.1", ",", "sigma", "=", "0.35", ")", ":", "\n", "    ", "def", "gaussianNoisy", "(", "im", ",", "mean", "=", "mean", ",", "sigma", "=", "sigma", ")", ":", "\n", "        ", "for", "_i", "in", "range", "(", "len", "(", "im", ")", ")", ":", "\n", "            ", "im", "[", "_i", "]", "+=", "random", ".", "gauss", "(", "mean", ",", "sigma", ")", "\n", "", "return", "im", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomGaussian1": [[72, 83], ["numpy.asarray", "data.randomGaussian.gaussianNoisy"], "function", ["None"], ["\n", "", "img", "=", "np", ".", "asarray", "(", "image", ")", "\n", "width", ",", "height", "=", "img", ".", "shape", "\n", "img", "=", "gaussianNoisy", "(", "img", "[", ":", "]", ".", "flatten", "(", ")", ",", "mean", ",", "sigma", ")", "\n", "img", "=", "img", ".", "reshape", "(", "[", "width", ",", "height", "]", ")", "\n", "return", "Image", ".", "fromarray", "(", "np", ".", "uint8", "(", "img", ")", ")", "\n", "\n", "\n", "", "def", "randomPeper", "(", "img", ")", ":", "\n", "    ", "img", "=", "np", ".", "array", "(", "img", ")", "\n", "noiseNum", "=", "int", "(", "0.0015", "*", "img", ".", "shape", "[", "0", "]", "*", "img", ".", "shape", "[", "1", "]", ")", "\n", "for", "i", "in", "range", "(", "noiseNum", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.randomPeper": [[85, 102], ["numpy.array", "int", "range", "PIL.Image.fromarray", "random.randint", "random.randint", "random.randint"], "function", ["None"], ["        ", "randX", "=", "random", ".", "randint", "(", "0", ",", "img", ".", "shape", "[", "0", "]", "-", "1", ")", "\n", "\n", "randY", "=", "random", ".", "randint", "(", "0", ",", "img", ".", "shape", "[", "1", "]", "-", "1", ")", "\n", "\n", "if", "random", ".", "randint", "(", "0", ",", "1", ")", "==", "0", ":", "\n", "\n", "            ", "img", "[", "randX", ",", "randY", "]", "=", "0", "\n", "\n", "", "else", ":", "\n", "\n", "            ", "img", "[", "randX", ",", "randY", "]", "=", "255", "\n", "", "", "return", "Image", ".", "fromarray", "(", "img", ")", "\n", "\n", "", "class", "SalObjDataset", "(", "data", ".", "Dataset", ")", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "image_root", ",", "gt_root", ",", "fix_root", ",", "trainsize", ")", ":", "\n", "        ", "self", ".", "trainsize", "=", "trainsize", "\n", "self", ".", "images", "=", "[", "image_root", "+", "f", "for", "f", "in", "os", ".", "listdir", "(", "image_root", ")", "if", "f", ".", "endswith", "(", "'.jpg'", ")", "]", "\n", "self", ".", "gts", "=", "[", "gt_root", "+", "f", "for", "f", "in", "os", ".", "listdir", "(", "gt_root", ")", "if", "f", ".", "endswith", "(", "'.jpg'", ")", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.data.get_loader": [[184, 192], ["data.SalObjDataset", "torch.DataLoader"], "function", ["None"], ["batch_size", "=", "batchsize", ",", "\n", "shuffle", "=", "shuffle", ",", "\n", "num_workers", "=", "num_workers", ",", "\n", "pin_memory", "=", "pin_memory", ")", "\n", "return", "data_loader", "\n", "\n", "\n", "", "class", "test_dataset", ":", "\n", "    ", "def", "__init__", "(", "self", ",", "image_root", ",", "testsize", ")", ":", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.__init__": [[50, 53], ["utils.AvgMeter.reset"], "methods", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.reset"], ["    ", "def", "__init__", "(", "self", ",", "num", "=", "40", ")", ":", "\n", "        ", "self", ".", "num", "=", "num", "\n", "self", ".", "reset", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.reset": [[54, 60], ["None"], "methods", ["None"], ["", "def", "reset", "(", "self", ")", ":", "\n", "        ", "self", ".", "val", "=", "0", "\n", "self", ".", "avg", "=", "0", "\n", "self", ".", "sum", "=", "0", "\n", "self", ".", "count", "=", "0", "\n", "self", ".", "losses", "=", "[", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.update": [[61, 67], ["utils.AvgMeter.losses.append"], "methods", ["None"], ["", "def", "update", "(", "self", ",", "val", ",", "n", "=", "1", ")", ":", "\n", "        ", "self", ".", "val", "=", "val", "\n", "self", ".", "sum", "+=", "val", "*", "n", "\n", "self", ".", "count", "+=", "n", "\n", "self", ".", "avg", "=", "self", ".", "sum", "/", "self", ".", "count", "\n", "self", ".", "losses", ".", "append", "(", "val", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.AvgMeter.show": [[68, 76], ["len", "numpy.maximum", "torch.mean", "torch.mean", "torch.mean", "torch.mean", "torch.stack", "torch.stack", "torch.stack", "torch.stack"], "methods", ["None"], ["", "def", "show", "(", "self", ")", ":", "\n", "        ", "a", "=", "len", "(", "self", ".", "losses", ")", "\n", "b", "=", "np", ".", "maximum", "(", "a", "-", "self", ".", "num", ",", "0", ")", "\n", "c", "=", "self", ".", "losses", "[", "b", ":", "]", "\n", "#print(c)", "\n", "#d = torch.mean(torch.stack(c))", "\n", "#print(d)", "\n", "return", "torch", ".", "mean", "(", "torch", ".", "stack", "(", "c", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.clip_gradient": [[5, 10], ["param.grad.data.clamp_"], "function", ["None"], ["def", "clip_gradient", "(", "optimizer", ",", "grad_clip", ")", ":", "\n", "    ", "for", "group", "in", "optimizer", ".", "param_groups", ":", "\n", "        ", "for", "param", "in", "group", "[", "'params'", "]", ":", "\n", "            ", "if", "param", ".", "grad", "is", "not", "None", ":", "\n", "                ", "param", ".", "grad", ".", "data", ".", "clamp_", "(", "-", "grad_clip", ",", "grad_clip", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.adjust_lr": [[12, 16], ["None"], "function", ["None"], ["", "", "", "", "def", "adjust_lr", "(", "optimizer", ",", "init_lr", ",", "epoch", ",", "decay_rate", "=", "0.1", ",", "decay_epoch", "=", "5", ")", ":", "\n", "    ", "decay", "=", "decay_rate", "**", "(", "epoch", "//", "decay_epoch", ")", "\n", "for", "param_group", "in", "optimizer", ".", "param_groups", ":", "\n", "        ", "param_group", "[", "'lr'", "]", "*=", "decay", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.truncated_normal_": [[18, 25], ["tensor.new_empty().normal_", "tensor.data.copy_", "tensor.data.mul_().add_", "valid.max", "tensor.new_empty().normal_.gather().squeeze", "tensor.new_empty", "tensor.data.mul_", "tensor.new_empty().normal_.gather"], "function", ["None"], ["", "", "def", "truncated_normal_", "(", "tensor", ",", "mean", "=", "0", ",", "std", "=", "1", ")", ":", "\n", "    ", "size", "=", "tensor", ".", "shape", "\n", "tmp", "=", "tensor", ".", "new_empty", "(", "size", "+", "(", "4", ",", ")", ")", ".", "normal_", "(", ")", "\n", "valid", "=", "(", "tmp", "<", "2", ")", "&", "(", "tmp", ">", "-", "2", ")", "\n", "ind", "=", "valid", ".", "max", "(", "-", "1", ",", "keepdim", "=", "True", ")", "[", "1", "]", "\n", "tensor", ".", "data", ".", "copy_", "(", "tmp", ".", "gather", "(", "-", "1", ",", "ind", ")", ".", "squeeze", "(", "-", "1", ")", ")", "\n", "tensor", ".", "data", ".", "mul_", "(", "std", ")", ".", "add_", "(", "mean", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.init_weights": [[26, 32], ["torch.init.kaiming_normal_", "utils.truncated_normal_", "type", "type"], "function", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.truncated_normal_"], ["", "def", "init_weights", "(", "m", ")", ":", "\n", "    ", "if", "type", "(", "m", ")", "==", "nn", ".", "Conv2d", "or", "type", "(", "m", ")", "==", "nn", ".", "ConvTranspose2d", ":", "\n", "        ", "nn", ".", "init", ".", "kaiming_normal_", "(", "m", ".", "weight", ",", "mode", "=", "'fan_in'", ",", "nonlinearity", "=", "'relu'", ")", "\n", "#nn.init.normal_(m.weight, std=0.001)", "\n", "#nn.init.normal_(m.bias, std=0.001)", "\n", "truncated_normal_", "(", "m", ".", "bias", ",", "mean", "=", "0", ",", "std", "=", "0.001", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.init_weights_orthogonal_normal": [[33, 37], ["torch.init.orthogonal_", "utils.truncated_normal_", "type", "type"], "function", ["home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.truncated_normal_"], ["", "", "def", "init_weights_orthogonal_normal", "(", "m", ")", ":", "\n", "    ", "if", "type", "(", "m", ")", "==", "nn", ".", "Conv2d", "or", "type", "(", "m", ")", "==", "nn", ".", "ConvTranspose2d", ":", "\n", "        ", "nn", ".", "init", ".", "orthogonal_", "(", "m", ".", "weight", ")", "\n", "truncated_normal_", "(", "m", ".", "bias", ",", "mean", "=", "0", ",", "std", "=", "0.001", ")", "\n", "#nn.init.normal_(m.bias, std=0.001)", "\n"]], "home.repos.pwc.inspect_result.JingZhang617_COD-Rank-Localize-and-Segment.cod.utils.l2_regularisation": [[39, 48], ["m.parameters", "W.norm", "W.norm"], "function", ["None"], ["", "", "def", "l2_regularisation", "(", "m", ")", ":", "\n", "    ", "l2_reg", "=", "None", "\n", "\n", "for", "W", "in", "m", ".", "parameters", "(", ")", ":", "\n", "        ", "if", "l2_reg", "is", "None", ":", "\n", "            ", "l2_reg", "=", "W", ".", "norm", "(", "2", ")", "\n", "", "else", ":", "\n", "            ", "l2_reg", "=", "l2_reg", "+", "W", ".", "norm", "(", "2", ")", "\n", "", "", "return", "l2_reg", "\n", "\n"]]}