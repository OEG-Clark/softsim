{"home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Layer.__init__": [[93, 106], ["kwargs.keys", "kwargs.get", "kwargs.get", "bayRel_AML.Layer.__class__.__name__.lower", "str", "bayRel_AML.get_layer_uid"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.get_layer_uid"], ["def", "__init__", "(", "self", ",", "**", "kwargs", ")", ":", "\n", "        ", "allowed_kwargs", "=", "{", "'name'", ",", "'logging'", "}", "\n", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "", "name", "=", "kwargs", ".", "get", "(", "'name'", ")", "\n", "if", "not", "name", ":", "\n", "            ", "layer", "=", "self", ".", "__class__", ".", "__name__", ".", "lower", "(", ")", "\n", "name", "=", "layer", "+", "'_'", "+", "str", "(", "get_layer_uid", "(", "layer", ")", ")", "\n", "", "self", ".", "name", "=", "name", "\n", "self", ".", "vars", "=", "{", "}", "\n", "logging", "=", "kwargs", ".", "get", "(", "'logging'", ",", "False", ")", "\n", "self", ".", "logging", "=", "logging", "\n", "self", ".", "issparse", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvolution.__init__": [[111, 117], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvolution", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvolution.__call__": [[118, 125], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_AML.GraphConvolution.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvolutionSparse.__init__": [[129, 137], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "features_nonzero", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvolutionSparse", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "self", ".", "issparse", "=", "True", "\n", "self", ".", "features_nonzero", "=", "features_nonzero", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvolutionSparse.__call__": [[138, 145], ["bayRel_AML.dropout_sparse", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_AML.GraphConvolutionSparse.act"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.dropout_sparse"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "dropout_sparse", "(", "x", ",", "1", "-", "self", ".", "dropout", ",", "self", ".", "features_nonzero", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvDense.__init__": [[149, 155], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvDense.__call__": [[156, 163], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "bayRel_AML.GraphConvDense.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvBi.__init__": [[167, 173], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvBi", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvBi.__call__": [[174, 190], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "bayRel_AML.GraphConvBi.act", "bayRel_AML.GraphConvBi.act", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.transpose"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "deg_sa", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "deg_ta", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "(", "adj", "/", "deg_sa", ")", "/", "deg_ta", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "tf", ".", "transpose", "(", "(", "adj", "/", "deg_sa", ")", "/", "deg_ta", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvBiDense.__init__": [[194, 200], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvBiDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvBiDense.__call__": [[201, 218], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.sqrt", "tensorflow.sqrt", "bayRel_AML.GraphConvBiDense.act", "bayRel_AML.GraphConvBiDense.act", "tensorflow.reduce_sum", "tensorflow.ones", "tensorflow.reduce_sum", "tensorflow.ones", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.transpose", "tensorflow.transpose"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "root_deg_sa", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "ones", "(", "[", "adj", ".", "shape", "[", "0", "]", ",", "1", "]", ")", ")", "\n", "root_deg_ta", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "ones", "(", "[", "1", ",", "adj", ".", "shape", "[", "1", "]", "]", ")", ")", "\n", "nrm_adj", "=", "(", "adj", "/", "root_deg_sa", ")", "/", "root_deg_ta", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "/", "root_deg_sa", "+", "tf", ".", "matmul", "(", "nrm_adj", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "/", "tf", ".", "transpose", "(", "root_deg_ta", ")", "+", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "nrm_adj", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvTriDense.__init__": [[222, 228], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvTriDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvTriDense.norm_adj": [[229, 240], ["tensorflow.sqrt", "tensorflow.sqrt", "tensorflow.reduce_sum", "tensorflow.sparse_reduce_sum", "tensorflow.reduce_sum", "tensorflow.sparse_reduce_sum", "tensorflow.transpose", "tensorflow.transpose", "tensorflow.ones_like", "tensorflow.ones_like"], "methods", ["None"], ["", "def", "norm_adj", "(", "self", ",", "adj", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "deg_so", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "sparse_reduce_sum", "(", "adj_s", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "root_deg_so", "=", "tf", ".", "sqrt", "(", "deg_so", "+", "tf", ".", "ones_like", "(", "deg_so", ")", ")", "\n", "deg_to", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "sparse_reduce_sum", "(", "adj_t", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "\n", "root_deg_to", "=", "tf", ".", "sqrt", "(", "deg_to", "+", "tf", ".", "ones_like", "(", "deg_to", ")", ")", "\n", "\n", "nrm_adj_s", "=", "(", "adj_s", "/", "root_deg_so", ")", "/", "tf", ".", "transpose", "(", "root_deg_so", ")", "\n", "nrm_adj_t", "=", "(", "adj_t", "/", "root_deg_to", ")", "/", "tf", ".", "transpose", "(", "root_deg_to", ")", "\n", "nrm_adj", "=", "(", "adj", "/", "root_deg_so", ")", "/", "root_deg_to", "\n", "\n", "return", "nrm_adj", ",", "nrm_adj_s", ",", "nrm_adj_t", ",", "root_deg_so", ",", "root_deg_to", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvTriDense.__call__": [[241, 257], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "bayRel_AML.GraphConvTriDense.norm_adj", "bayRel_AML.GraphConvTriDense.act", "bayRel_AML.GraphConvTriDense.act", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.transpose", "tensorflow.transpose"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvTriDense.norm_adj"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "nrm_adj", ",", "nrm_adj_s", ",", "nrm_adj_t", ",", "root_deg_so", ",", "root_deg_to", "=", "self", ".", "norm_adj", "(", "adj", ",", "adj_s", ",", "adj_t", ")", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "/", "root_deg_so", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "nrm_adj_s", ",", "x", ")", "+", "tf", ".", "matmul", "(", "nrm_adj", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "/", "tf", ".", "transpose", "(", "root_deg_to", ")", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "nrm_adj_t", ",", "y", ")", "\n", "+", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "nrm_adj", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvShared.__init__": [[261, 267], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvShared", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.GraphConvShared.__call__": [[268, 282], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_AML.GraphConvShared.act", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_AML.GraphConvShared.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj_s", ",", "x", ")", "\n", "out_s", "=", "self", ".", "act", "(", "x", ")", "\n", "\n", "y", "=", "inp_t", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj_t", ",", "y", ")", "\n", "out_t", "=", "self", ".", "act", "(", "y", ")", "\n", "\n", "return", "out_s", ",", "out_t", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Dense.__init__": [[286, 299], ["bayRel_AML.Layer.__init__", "tensorflow.variable_scope", "bayRel_AML.weight_variable_glorot", "bayRel_AML.Dense._log_vars", "tensorflow.Variable", "tensorflow.zeros"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "bias", "=", "True", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "Dense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "self", ".", "bias", "=", "bias", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "'weights'", ")", "\n", "if", "self", ".", "bias", ":", "\n", "                ", "self", ".", "vars", "[", "'bias'", "]", "=", "tf", ".", "Variable", "(", "tf", ".", "zeros", "(", "[", "output_dim", "]", ",", "dtype", "=", "tf", ".", "float32", ")", ",", "name", "=", "'bias'", ")", "\n", "\n", "", "", "if", "self", ".", "logging", ":", "\n", "            ", "self", ".", "_log_vars", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Dense.__call__": [[300, 314], ["tensorflow.nn.dropout", "tensorflow.matmul", "bayRel_AML.Dense.act"], "methods", ["None"], ["", "", "def", "__call__", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "\n", "# dropout", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "# transform", "\n", "output", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "# bias", "\n", "if", "self", ".", "bias", ":", "\n", "            ", "output", "+=", "self", ".", "vars", "[", "'bias'", "]", "\n", "\n", "", "return", "self", ".", "act", "(", "output", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.InnerProductDecoder.__init__": [[318, 322], ["bayRel_AML.Layer.__init__"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__"], ["def", "__init__", "(", "self", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "sigmoid", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "InnerProductDecoder", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.InnerProductDecoder.__call__": [[323, 330], ["tensorflow.nn.dropout", "tensorflow.transpose", "tensorflow.matmul", "tensorflow.reshape", "bayRel_AML.InnerProductDecoder.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "inputs", "=", "tf", ".", "nn", ".", "dropout", "(", "inputs", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "transpose", "(", "inputs", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "inputs", ",", "x", ")", "\n", "x", "=", "tf", ".", "reshape", "(", "x", ",", "[", "-", "1", "]", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Normal.__init__": [[349, 352], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "means", ",", "logscales", ",", "**", "kwargs", ")", ":", "\n", "        ", "self", ".", "means", "=", "means", "\n", "self", ".", "logscales", "=", "logscales", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Normal.log_prob": [[353, 358], ["tensorflow.pow", "math.log", "tensorflow.exp"], "methods", ["None"], ["", "def", "log_prob", "(", "self", ",", "value", ")", ":", "\n", "        ", "log_prob", "=", "tf", ".", "pow", "(", "value", "-", "self", ".", "means", ",", "2", ")", "\n", "log_prob", "*=", "-", "(", "1", "/", "(", "2.", "*", "tf", ".", "exp", "(", "2", "*", "self", ".", "logscales", ")", ")", ")", "\n", "log_prob", "-=", "self", ".", "logscales", "+", ".5", "*", "math", ".", "log", "(", "2.", "*", "math", ".", "pi", ")", "\n", "return", "log_prob", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.LogitRelaxedBernoulli.__init__": [[430, 433], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "logits", ",", "temperature", "=", "0.3", ",", "**", "kwargs", ")", ":", "\n", "        ", "self", ".", "logits", "=", "logits", "\n", "self", ".", "temperature", "=", "temperature", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.LogitRelaxedBernoulli.rsample": [[434, 438], ["tensorflow.distributions.Uniform().sample", "tensorflow.distributions.Uniform", "tensorflow.math.log", "tensorflow.math.log"], "methods", ["None"], ["", "def", "rsample", "(", "self", ")", ":", "\n", "        ", "eps", "=", "tf", ".", "distributions", ".", "Uniform", "(", "low", "=", "1e-6", ",", "high", "=", "1", "-", "1e-6", ")", ".", "sample", "(", "self", ".", "logits", ".", "shape", ")", "\n", "y", "=", "(", "self", ".", "logits", "+", "tf", ".", "math", ".", "log", "(", "eps", ")", "-", "tf", ".", "math", ".", "log", "(", "1.", "-", "eps", ")", ")", "/", "self", ".", "temperature", "\n", "return", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.LogitRelaxedBernoulli.log_prob": [[439, 441], ["tensorflow.math.softplus", "math.log"], "methods", ["None"], ["", "def", "log_prob", "(", "self", ",", "value", ")", ":", "\n", "        ", "return", "math", ".", "log", "(", "self", ".", "temperature", ")", "-", "self", ".", "temperature", "*", "value", "+", "self", ".", "logits", "-", "2", "*", "tf", ".", "math", ".", "softplus", "(", "-", "self", ".", "temperature", "*", "value", "+", "self", ".", "logits", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Model.__init__": [[465, 481], ["kwargs.keys", "kwargs.keys", "kwargs.get", "kwargs.get", "bayRel_AML.Model.__class__.__name__.lower"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "**", "kwargs", ")", ":", "\n", "        ", "allowed_kwargs", "=", "{", "'name'", ",", "'logging'", "}", "\n", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "\n", "", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "", "name", "=", "kwargs", ".", "get", "(", "'name'", ")", "\n", "if", "not", "name", ":", "\n", "            ", "name", "=", "self", ".", "__class__", ".", "__name__", ".", "lower", "(", ")", "\n", "", "self", ".", "name", "=", "name", "\n", "\n", "logging", "=", "kwargs", ".", "get", "(", "'logging'", ",", "False", ")", "\n", "self", ".", "logging", "=", "logging", "\n", "\n", "self", ".", "vars", "=", "{", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Model._build": [[482, 484], ["None"], "methods", ["None"], ["", "def", "_build", "(", "self", ")", ":", "\n", "        ", "raise", "NotImplementedError", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Model.build": [[485, 491], ["tensorflow.get_collection", "tensorflow.variable_scope", "bayRel_AML.Model._build"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.BAYREL._build"], ["", "def", "build", "(", "self", ")", ":", "\n", "        ", "\"\"\" Wrapper for _build() \"\"\"", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", ")", ":", "\n", "            ", "self", ".", "_build", "(", ")", "\n", "", "variables", "=", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "GLOBAL_VARIABLES", ",", "scope", "=", "self", ".", "name", ")", "\n", "self", ".", "vars", "=", "{", "var", ".", "name", ":", "var", "for", "var", "in", "variables", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Model.fit": [[492, 494], ["None"], "methods", ["None"], ["", "def", "fit", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.Model.predict": [[495, 497], ["None"], "methods", ["None"], ["", "def", "predict", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.BAYREL.__init__": [[500, 526], ["bayRel_AML.Model.__init__", "int", "tensorflow.split", "tensorflow.split", "tensorflow.Variable", "bayRel_AML.BAYREL.build", "math.log", "tensorflow.reshape", "math.sqrt", "bayRel_AML.logitexp", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.build", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.logitexp"], ["    ", "def", "__init__", "(", "self", ",", "placeholders", ",", "num_features_dict", ",", "num_nodes_dict", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "BAYREL", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "\n", "self", ".", "input_dim_s", "=", "num_features_dict", "[", "'source'", "]", "\n", "self", ".", "input_dim_t", "=", "num_features_dict", "[", "'target'", "]", "\n", "self", ".", "inp_dim_u", "=", "int", "(", "self", ".", "input_dim_s", "/", "10.0", ")", "\n", "self", ".", "input_dim_s", "=", "self", ".", "input_dim_s", "-", "self", ".", "inp_dim_u", "\n", "self", ".", "input_dim_t", "=", "self", ".", "input_dim_t", "-", "self", ".", "inp_dim_u", "\n", "self", ".", "inputs_s", ",", "self", ".", "inp_u_s", "=", "tf", ".", "split", "(", "placeholders", "[", "'features_source'", "]", "\n", ",", "[", "self", ".", "input_dim_s", ",", "self", ".", "inp_dim_u", "]", ",", "axis", "=", "1", ")", "\n", "self", ".", "inputs_t", ",", "self", ".", "inp_u_t", "=", "tf", ".", "split", "(", "placeholders", "[", "'features_target'", "]", "\n", ",", "[", "self", ".", "input_dim_t", ",", "self", ".", "inp_dim_u", "]", ",", "axis", "=", "1", ")", "\n", "self", ".", "n_samples_s", "=", "num_nodes_dict", "[", "'source'", "]", "\n", "self", ".", "n_samples_t", "=", "num_nodes_dict", "[", "'target'", "]", "\n", "self", ".", "n_samples_ov", "=", "self", ".", "n_samples_s", "+", "self", ".", "n_samples_t", "\n", "self", ".", "adj_s", "=", "placeholders", "[", "'adj_source'", "]", "\n", "self", ".", "adj_t", "=", "placeholders", "[", "'adj_target'", "]", "\n", "self", ".", "adj_orig_s", "=", "placeholders", "[", "'adj_orig_source'", "]", "\n", "self", ".", "adj_orig_t", "=", "placeholders", "[", "'adj_orig_target'", "]", "\n", "self", ".", "dropout", "=", "placeholders", "[", "'dropout'", "]", "\n", "self", ".", "wu", "=", "placeholders", "[", "'WU'", "]", "\n", "self", ".", "pairwise_g_logscale", "=", "tf", ".", "Variable", "(", "math", ".", "log", "(", "math", ".", "sqrt", "(", "dim_u", ")", ")", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "self", ".", "pairwise_g", "=", "lambda", "x", ":", "tf", ".", "reshape", "(", "logitexp", "(", "-", ".5", "*", "x", "/", "tf", ".", "exp", "(", "self", ".", "pairwise_g_logscale", ")", ")", "\n", ",", "[", "x", ".", "shape", "[", "0", "]", ",", "1", "]", ")", "\n", "self", ".", "training", "=", "placeholders", "[", "'training'", "]", "\n", "self", ".", "build", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.BAYREL._build": [[527, 623], ["bayRel_AML.sample_bipartite", "slim.fully_connected", "slim.fully_connected", "slim.fully_connected", "slim.fully_connected", "bayRel_AML.Normal", "bayRel_AML.Normal", "bayRel_AML.Normal", "bayRel_AML.Normal", "bayRel_AML.GraphConvShared", "bayRel_AML.GraphConvShared", "bayRel_AML.GraphConvShared", "bayRel_AML.InnerProductDecoder", "bayRel_AML.InnerProductDecoder", "bayRel_AML.GraphConvTriDense", "bayRel_AML.GraphConvTriDense", "bayRel_AML.GraphConvTriDense", "bayRel_AML.Dense", "bayRel_AML.Dense", "bayRel_AML.Dense", "bayRel_AML.Dense", "bayRel_AML.Dense", "bayRel_AML.Dense", "bayRel_AML.GraphConvBiDense", "tensorflow.zeros_like", "tensorflow.zeros_like", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sample_bipartite"], ["", "def", "_build", "(", "self", ")", ":", "\n", "# Source and target graph embedding", "\n", "        ", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "=", "GraphConvShared", "(", "input_dim", "=", "self", ".", "inp_dim_u", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "act", "=", "tf", ".", "nn", ".", "relu", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "inp_u_s", ",", "self", ".", "inp_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_mean_s", ",", "self", ".", "u_mean_t", "=", "GraphConvShared", "(", "input_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_lstd_s", ",", "self", ".", "u_lstd_t", "=", "GraphConvShared", "(", "input_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_s", "=", "self", ".", "u_mean_s", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_s", ",", "num_hiddens_s", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "u_lstd_s", ")", "\n", "self", ".", "u_t", "=", "self", ".", "u_mean_t", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_t", ",", "num_hiddens_t", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "u_lstd_t", ")", "\n", "\n", "\n", "\n", "self", ".", "recong_s", "=", "InnerProductDecoder", "(", "act", "=", "lambda", "x", ":", "x", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_s", ")", "\n", "self", ".", "recong_t", "=", "InnerProductDecoder", "(", "act", "=", "lambda", "x", ":", "x", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_t", ")", "\n", "\n", "\n", "# Bipartite graph learning", "\n", "self", ".", "A", "=", "sample_bipartite", "(", "self", ".", "u_s", ",", "self", ".", "u_t", ",", "self", ".", "pairwise_g", ",", "training", "=", "self", ".", "training", ")", "\n", "\n", "\n", "# Embeding features to the same latent spaces", "\n", "self", ".", "h_emb_s", "=", "slim", ".", "fully_connected", "(", "self", ".", "inputs_s", ",", "dim_c", "[", "0", "]", ")", "\n", "self", ".", "emb_s", "=", "slim", ".", "fully_connected", "(", "self", ".", "h_emb_s", ",", "dim_c", "[", "1", "]", ",", "activation_fn", "=", "None", ")", "\n", "self", ".", "h_emb_t", "=", "slim", ".", "fully_connected", "(", "self", ".", "inputs_t", ",", "dim_c", "[", "0", "]", ")", "\n", "self", ".", "emb_t", "=", "slim", ".", "fully_connected", "(", "self", ".", "h_emb_t", ",", "dim_c", "[", "1", "]", ",", "activation_fn", "=", "None", ")", "\n", "\n", "\n", "# zf, latent spaces for feature reconstruction q(zf|A,X,G)", "\n", "self", ".", "h_zf_s", ",", "self", ".", "h_zf_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_c", "[", "1", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "act", "=", "tf", ".", "nn", ".", "relu", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "emb_s", "\n", ",", "self", ".", "emb_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "zf_mean_s", ",", "self", ".", "zf_mean_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_zf_s", "\n", ",", "self", ".", "h_zf_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "zf_lstd_s", ",", "self", ".", "zf_lstd_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_zf_s", "\n", ",", "self", ".", "h_zf_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "q_zf_s", "=", "Normal", "(", "self", ".", "zf_mean_s", ",", "self", ".", "zf_lstd_s", ")", "\n", "self", ".", "q_zf_t", "=", "Normal", "(", "self", ".", "zf_mean_t", ",", "self", ".", "zf_lstd_t", ")", "\n", "self", ".", "zf_s", "=", "self", ".", "zf_mean_s", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_s", ",", "dim_z", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "zf_lstd_s", ")", "\n", "self", ".", "zf_t", "=", "self", ".", "zf_mean_t", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_t", ",", "dim_z", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "zf_lstd_t", ")", "\n", "\n", "\n", "\n", "\n", "# reconstruction p(G|zg), p(X|zf)", "\n", "self", ".", "h_reconf_s_1", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "dim_z", "[", "1", "]", ")", "(", "self", ".", "zf_s", ")", "\n", "self", ".", "h_reconf_s", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "self", ".", "input_dim_s", ")", "(", "self", ".", "h_reconf_s_1", ")", "\n", "self", ".", "reconf_s", "=", "Dense", "(", "input_dim", "=", "self", ".", "input_dim_s", ",", "output_dim", "=", "self", ".", "input_dim_s", "\n", ",", "act", "=", "lambda", "x", ":", "x", ")", "(", "self", ".", "h_reconf_s", ")", "\n", "self", ".", "h_reconf_t_1", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "dim_z", "[", "1", "]", ")", "(", "self", ".", "zf_t", ")", "\n", "self", ".", "h_reconf_t", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "self", ".", "input_dim_s", ")", "(", "self", ".", "h_reconf_t_1", ")", "\n", "self", ".", "reconf_t", "=", "Dense", "(", "input_dim", "=", "self", ".", "input_dim_s", ",", "output_dim", "=", "self", ".", "input_dim_t", "\n", ",", "act", "=", "lambda", "x", ":", "x", ")", "(", "self", ".", "h_reconf_t", ")", "\n", "\n", "# p(zf|A,U)", "\n", "self", ".", "p_zf_mean_s", ",", "self", ".", "p_zf_mean_t", "=", "GraphConvBiDense", "(", "input_dim", "=", "dim_u", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_s", "\n", ",", "self", ".", "u_t", "\n", ",", "self", ".", "A", ")", "\n", "self", ".", "p_zf_s", "=", "Normal", "(", "self", ".", "p_zf_mean_s", ",", "tf", ".", "zeros_like", "(", "self", ".", "p_zf_mean_s", ")", ")", "\n", "self", ".", "p_zf_t", "=", "Normal", "(", "self", ".", "p_zf_mean_t", ",", "tf", ".", "zeros_like", "(", "self", ".", "p_zf_mean_t", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.OptimizerVAE.__init__": [[628, 693], ["tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.train.AdamOptimizer", "bayRel_AML.OptimizerVAE.optimizer.minimize", "bayRel_AML.OptimizerVAE.optimizer.compute_gradients", "tensorflow.metrics.auc", "tensorflow.metrics.auc", "tensorflow.equal", "tensorflow.reduce_mean", "tensorflow.equal", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.squared_difference", "tensorflow.reduce_mean", "tensorflow.squared_difference", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.sigmoid", "tensorflow.sigmoid", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.squared_difference", "tensorflow.squared_difference", "tensorflow.nn.weighted_cross_entropy_with_logits", "tensorflow.nn.weighted_cross_entropy_with_logits", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.greater_equal", "tensorflow.greater_equal", "model.q_zf_s.log_prob", "model.q_zf_t.log_prob", "tensorflow.sigmoid", "tensorflow.sigmoid", "tensorflow.square", "tensorflow.square", "model.p_zf_s.log_prob", "model.p_zf_t.log_prob", "tensorflow.square", "tensorflow.exp", "tensorflow.square", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob"], ["    ", "def", "__init__", "(", "self", ",", "preds_dict", ",", "labels_dict", ",", "model", ",", "num_nodes_dict", ",", "pos_weight_dict", ",", "norm_dict", ")", ":", "\n", "        ", "prd_g_s", "=", "preds_dict", "[", "'adj_source'", "]", "\n", "lbl_g_s", "=", "labels_dict", "[", "'adj_source'", "]", "\n", "prd_f_s", "=", "preds_dict", "[", "'features_source'", "]", "\n", "lbl_f_s", "=", "labels_dict", "[", "'features_source'", "]", "\n", "posw_s", "=", "pos_weight_dict", "[", "'source'", "]", "\n", "num_nodes_s", "=", "num_nodes_dict", "[", "'source'", "]", "\n", "norm_s", "=", "norm_dict", "[", "'source'", "]", "\n", "\n", "prd_g_t", "=", "preds_dict", "[", "'adj_target'", "]", "\n", "lbl_g_t", "=", "labels_dict", "[", "'adj_target'", "]", "\n", "prd_f_t", "=", "preds_dict", "[", "'features_target'", "]", "\n", "lbl_f_t", "=", "labels_dict", "[", "'features_target'", "]", "\n", "posw_t", "=", "pos_weight_dict", "[", "'target'", "]", "\n", "num_nodes_t", "=", "num_nodes_dict", "[", "'target'", "]", "\n", "norm_t", "=", "norm_dict", "[", "'target'", "]", "\n", "\n", "# Reconstruction loss", "\n", "self", ".", "nll_g_s", "=", "norm_s", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "nn", ".", "weighted_cross_entropy_with_logits", "(", "logits", "=", "prd_g_s", "\n", ",", "targets", "=", "lbl_g_s", "\n", ",", "pos_weight", "=", "posw_s", ")", ")", "\n", "self", ".", "nll_f_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_s", ",", "lbl_f_s", ")", ")", "\n", "self", ".", "nll_g_t", "=", "norm_t", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "nn", ".", "weighted_cross_entropy_with_logits", "(", "logits", "=", "prd_g_t", "\n", ",", "targets", "=", "lbl_g_t", "\n", ",", "pos_weight", "=", "posw_t", ")", ")", "\n", "self", ".", "nll_f_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_t", ",", "lbl_f_t", ")", ")", "\n", "self", ".", "nll_s", "=", "self", ".", "nll_g_s", "+", "self", ".", "nll_f_s", "\n", "self", ".", "nll_t", "=", "self", ".", "nll_g_t", "+", "self", ".", "nll_f_t", "\n", "self", ".", "nll", "=", "self", ".", "nll_s", "+", "self", ".", "nll_t", "\n", "\n", "# Latent loss U", "\n", "self", ".", "kl_u_s", "=", "(", "-", "0.5", "/", "num_nodes_s", ")", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "1", "+", "2", "*", "model", ".", "u_lstd_s", "\n", "-", "tf", ".", "square", "(", "model", ".", "u_mean_s", ")", "\n", "-", "tf", ".", "square", "(", "tf", ".", "exp", "(", "model", ".", "u_lstd_s", ")", ")", ",", "1", ")", ")", "\n", "self", ".", "kl_u_t", "=", "(", "-", "0.5", "/", "num_nodes_t", ")", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "1", "+", "2", "*", "model", ".", "u_lstd_t", "\n", "-", "tf", ".", "square", "(", "model", ".", "u_mean_t", ")", "\n", "-", "tf", ".", "square", "(", "tf", ".", "exp", "(", "model", ".", "u_lstd_t", ")", ")", ",", "1", ")", ")", "\n", "self", ".", "kl_u", "=", "self", ".", "kl_u_s", "+", "self", ".", "kl_u_t", "\n", "\n", "# Latent loss zg", "\n", "self", ".", "qpzf_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "model", ".", "q_zf_s", ".", "log_prob", "(", "model", ".", "zf_s", ")", "\n", "-", "30", "*", "model", ".", "p_zf_s", ".", "log_prob", "(", "model", ".", "zf_s", ")", ",", "1", ")", ")", "\n", "self", ".", "qpzf_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "model", ".", "q_zf_t", ".", "log_prob", "(", "model", ".", "zf_t", ")", "\n", "-", "30", "*", "model", ".", "p_zf_t", ".", "log_prob", "(", "model", ".", "zf_t", ")", ",", "1", ")", ")", "\n", "self", ".", "qpzf", "=", "self", ".", "qpzf_s", "+", "self", ".", "qpzf_t", "\n", "self", ".", "qpz", "=", "self", ".", "qpzf", "\n", "\n", "self", ".", "cost", "=", "self", ".", "nll", "+", "self", ".", "kl_u", "+", "self", ".", "qpz", "\n", "\n", "self", ".", "optimizer", "=", "tf", ".", "train", ".", "AdamOptimizer", "(", "learning_rate", "=", "learning_rate", ")", "\n", "self", ".", "opt_op", "=", "self", ".", "optimizer", ".", "minimize", "(", "self", ".", "cost", ")", "\n", "self", ".", "grads_vars", "=", "self", ".", "optimizer", ".", "compute_gradients", "(", "self", ".", "cost", ")", "\n", "\n", "self", ".", "recong_s_auc", ",", "_", "=", "tf", ".", "metrics", ".", "auc", "(", "tf", ".", "sigmoid", "(", "prd_g_s", ")", ",", "lbl_g_s", ")", "\n", "self", ".", "recong_t_auc", ",", "_", "=", "tf", ".", "metrics", ".", "auc", "(", "tf", ".", "sigmoid", "(", "prd_g_t", ")", ",", "lbl_g_t", ")", "\n", "\n", "self", ".", "corp_s", "=", "tf", ".", "equal", "(", "tf", ".", "cast", "(", "tf", ".", "greater_equal", "(", "tf", ".", "sigmoid", "(", "prd_g_s", ")", ",", "0.5", ")", ",", "tf", ".", "int32", ")", "\n", ",", "tf", ".", "cast", "(", "lbl_g_s", ",", "tf", ".", "int32", ")", ")", "\n", "self", ".", "acc_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "cast", "(", "self", ".", "corp_s", ",", "tf", ".", "float32", ")", ")", "\n", "self", ".", "corp_t", "=", "tf", ".", "equal", "(", "tf", ".", "cast", "(", "tf", ".", "greater_equal", "(", "tf", ".", "sigmoid", "(", "prd_g_t", ")", ",", "0.5", ")", ",", "tf", ".", "int32", ")", "\n", ",", "tf", ".", "cast", "(", "lbl_g_t", ",", "tf", ".", "int32", ")", ")", "\n", "self", ".", "acc_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "cast", "(", "self", ".", "corp_t", ",", "tf", ".", "float32", ")", ")", "\n", "\n", "self", ".", "reconf_s_rmse", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_s", ",", "lbl_f_s", ")", ")", "\n", "self", ".", "reconf_t_rmse", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_t", ",", "lbl_f_t", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.weight_variable_glorot": [[47, 55], ["numpy.sqrt", "tensorflow.random_uniform", "tensorflow.Variable"], "function", ["None"], ["def", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"\"", ")", ":", "\n", "    ", "\"\"\"Create a weight variable with Glorot & Bengio (AISTATS 2010)\n    initialization.\n    \"\"\"", "\n", "init_range", "=", "np", ".", "sqrt", "(", "6.0", "/", "(", "input_dim", "+", "output_dim", ")", ")", "\n", "initial", "=", "tf", ".", "random_uniform", "(", "[", "input_dim", ",", "output_dim", "]", ",", "minval", "=", "-", "init_range", ",", "\n", "maxval", "=", "init_range", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "return", "tf", ".", "Variable", "(", "initial", ",", "name", "=", "name", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.get_layer_uid": [[60, 69], ["None"], "function", ["None"], ["def", "get_layer_uid", "(", "layer_name", "=", "''", ")", ":", "\n", "    ", "\"\"\"Helper function, assigns unique layer IDs\n    \"\"\"", "\n", "if", "layer_name", "not", "in", "_LAYER_UIDS", ":", "\n", "        ", "_LAYER_UIDS", "[", "layer_name", "]", "=", "1", "\n", "return", "1", "\n", "", "else", ":", "\n", "        ", "_LAYER_UIDS", "[", "layer_name", "]", "+=", "1", "\n", "return", "_LAYER_UIDS", "[", "layer_name", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.dropout_sparse": [[71, 80], ["tensorflow.random_uniform", "tensorflow.cast", "tensorflow.sparse_retain", "tensorflow.floor"], "function", ["None"], ["", "", "def", "dropout_sparse", "(", "x", ",", "keep_prob", ",", "num_nonzero_elems", ")", ":", "\n", "    ", "\"\"\"Dropout for sparse tensors. Currently fails for very large sparse tensors (>1M elements)\n    \"\"\"", "\n", "noise_shape", "=", "[", "num_nonzero_elems", "]", "\n", "random_tensor", "=", "keep_prob", "\n", "random_tensor", "+=", "tf", ".", "random_uniform", "(", "noise_shape", ")", "\n", "dropout_mask", "=", "tf", ".", "cast", "(", "tf", ".", "floor", "(", "random_tensor", ")", ",", "dtype", "=", "tf", ".", "bool", ")", "\n", "pre_out", "=", "tf", ".", "sparse_retain", "(", "x", ",", "dropout_mask", ")", "\n", "return", "pre_out", "*", "(", "1.", "/", "keep_prob", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.dense_to_sparse": [[332, 346], ["tensorflow.SparseTensor", "tensorflow.name_scope", "tensorflow.convert_to_tensor", "tensorflow.where", "tensorflow.cast", "tensorflow.not_equal", "tensorflow.gather_nd", "tensorflow.shape", "bayRel_AML.base_dtype", "bayRel_AML.as_numpy_dtype"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.base_dtype", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.as_numpy_dtype"], ["", "", "def", "dense_to_sparse", "(", "x", ",", "ignore_value", "=", "None", ",", "name", "=", "None", ")", ":", "\n", "    ", "with", "tf", ".", "name_scope", "(", "name", "or", "'dense_to_sparse'", ")", ":", "\n", "        ", "x", "=", "tf", ".", "convert_to_tensor", "(", "x", ",", "name", "=", "'x'", ")", "\n", "if", "ignore_value", "is", "None", ":", "\n", "            ", "if", "base_dtype", "(", "x", ".", "dtype", ")", "==", "tf", ".", "string", ":", "\n", "# Exception due to TF strings are converted to numpy objects by default.", "\n", "                ", "ignore_value", "=", "''", "\n", "", "else", ":", "\n", "                ", "ignore_value", "=", "as_numpy_dtype", "(", "x", ".", "dtype", ")", "(", "0", ")", "\n", "", "ignore_value", "=", "tf", ".", "cast", "(", "ignore_value", ",", "x", ".", "dtype", ",", "name", "=", "'ignore_value'", ")", "\n", "", "indices", "=", "tf", ".", "where", "(", "tf", ".", "not_equal", "(", "x", ",", "ignore_value", ")", ",", "name", "=", "'indices'", ")", "\n", "", "return", "tf", ".", "SparseTensor", "(", "indices", "=", "indices", ",", "\n", "values", "=", "tf", ".", "gather_nd", "(", "x", ",", "indices", ",", "name", "=", "'values'", ")", ",", "\n", "dense_shape", "=", "tf", ".", "shape", "(", "x", ",", "out_type", "=", "tf", ".", "int64", ",", "name", "=", "'dense_shape'", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.construct_feed_dict": [[360, 370], ["dict", "dict.update", "dict.update", "dict.update", "dict.update", "dict.update", "dict.update"], "function", ["None"], ["", "", "def", "construct_feed_dict", "(", "adj_normal_s", ",", "adj_normal_t", ",", "adj_s", ",", "adj_t", ",", "features_s", ",", "features_t", ",", "placeholders", ")", ":", "\n", "# construct feed dictionary", "\n", "    ", "feed_dict", "=", "dict", "(", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'features_source'", "]", ":", "features_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'features_target'", "]", ":", "features_t", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_source'", "]", ":", "adj_normal_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_target'", "]", ":", "adj_normal_t", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_orig_source'", "]", ":", "adj_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_orig_target'", "]", ":", "adj_t", "}", ")", "\n", "return", "feed_dict", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.as_numpy_dtype": [[372, 378], ["tensorflow.as_dtype", "hasattr"], "function", ["None"], ["", "def", "as_numpy_dtype", "(", "dtype", ")", ":", "\n", "  ", "\"\"\"Returns a `np.dtype` based on this `dtype`.\"\"\"", "\n", "dtype", "=", "tf", ".", "as_dtype", "(", "dtype", ")", "\n", "if", "hasattr", "(", "dtype", ",", "'as_numpy_dtype'", ")", ":", "\n", "    ", "return", "dtype", ".", "as_numpy_dtype", "\n", "", "return", "dtype", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.base_dtype": [[380, 386], ["tensorflow.as_dtype", "hasattr"], "function", ["None"], ["", "def", "base_dtype", "(", "dtype", ")", ":", "\n", "  ", "\"\"\"Returns a non-reference `dtype` based on this `dtype`.\"\"\"", "\n", "dtype", "=", "tf", ".", "as_dtype", "(", "dtype", ")", "\n", "if", "hasattr", "(", "dtype", ",", "'base_dtype'", ")", ":", "\n", "    ", "return", "dtype", ".", "base_dtype", "\n", "", "return", "dtype", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.sparse_to_tuple": [[389, 396], ["numpy.vstack().transpose", "scipy.isspmatrix_coo", "sparse_mx.tocoo.tocoo", "numpy.vstack"], "function", ["None"], ["", "def", "sparse_to_tuple", "(", "sparse_mx", ")", ":", "\n", "    ", "if", "not", "sp", ".", "isspmatrix_coo", "(", "sparse_mx", ")", ":", "\n", "        ", "sparse_mx", "=", "sparse_mx", ".", "tocoo", "(", ")", "\n", "", "coords", "=", "np", ".", "vstack", "(", "(", "sparse_mx", ".", "row", ",", "sparse_mx", ".", "col", ")", ")", ".", "transpose", "(", ")", "\n", "values", "=", "sparse_mx", ".", "data", "\n", "shape", "=", "sparse_mx", ".", "shape", "\n", "return", "coords", ",", "values", ",", "shape", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.preprocess_graph": [[398, 405], ["scipy.coo_matrix", "numpy.array", "scipy.diags", "adj_.dot().transpose().dot().tocoo", "bayRel_AML.sparse_to_tuple", "scipy.eye", "adj_.sum", "numpy.power().flatten", "adj_.dot().transpose().dot", "numpy.power", "adj_.dot().transpose", "adj_.dot"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sparse_to_tuple"], ["", "def", "preprocess_graph", "(", "adj", ")", ":", "\n", "    ", "adj", "=", "sp", ".", "coo_matrix", "(", "adj", ")", "\n", "adj_", "=", "adj", "+", "sp", ".", "eye", "(", "adj", ".", "shape", "[", "0", "]", ")", "\n", "rowsum", "=", "np", ".", "array", "(", "adj_", ".", "sum", "(", "1", ")", ")", "\n", "degree_mat_inv_sqrt", "=", "sp", ".", "diags", "(", "np", ".", "power", "(", "rowsum", ",", "-", "0.5", ")", ".", "flatten", "(", ")", ")", "\n", "adj_normalized", "=", "adj_", ".", "dot", "(", "degree_mat_inv_sqrt", ")", ".", "transpose", "(", ")", ".", "dot", "(", "degree_mat_inv_sqrt", ")", ".", "tocoo", "(", ")", "\n", "return", "sparse_to_tuple", "(", "adj_normalized", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.pairwise_dist": [[408, 427], ["tensorflow.variable_scope", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reshape", "tensorflow.reshape", "tensorflow.sqrt", "tensorflow.square", "tensorflow.square", "tensorflow.maximum", "tensorflow.matmul"], "function", ["None"], ["", "def", "pairwise_dist", "(", "A", ",", "B", ")", ":", "\n", "    ", "\"\"\"Computes pairwise distances between each elements of A and each elements of B.\n    Args:\n        A,    [m,d] matrix\n        B,    [n,d] matrix\n    Returns:\n        D,    [m,n] matrix of pairwise distances\"\"\"", "\n", "with", "tf", ".", "variable_scope", "(", "'pairwise_dist'", ")", ":", "\n", "# squared norms of each row in A and B", "\n", "        ", "na", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "A", ")", ",", "1", ")", "\n", "nb", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "B", ")", ",", "1", ")", "\n", "\n", "# na as a row and nb as a co\"lumn vectors", "\n", "na", "=", "tf", ".", "reshape", "(", "na", ",", "[", "-", "1", ",", "1", "]", ")", "\n", "nb", "=", "tf", ".", "reshape", "(", "nb", ",", "[", "1", ",", "-", "1", "]", ")", "\n", "\n", "# return pairwise euclidead difference matrix", "\n", "D", "=", "tf", ".", "sqrt", "(", "tf", ".", "maximum", "(", "na", "-", "2", "*", "tf", ".", "matmul", "(", "A", ",", "B", ",", "False", ",", "True", ")", "+", "nb", ",", "0.0", ")", ")", "\n", "", "return", "D", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.logitexp": [[443, 449], ["tensorflow.clip_by_value", "tensorflow.clip_by_value", "tensorflow.math.log", "tensorflow.math.log", "tensorflow.clip_by_value", "tensorflow.math.exp", "tensorflow.math.expm1"], "function", ["None"], ["", "", "def", "logitexp", "(", "logp", ")", ":", "\n", "    ", "pos", "=", "tf", ".", "clip_by_value", "(", "logp", ",", "clip_value_min", "=", "-", "0.69314718056", ",", "clip_value_max", "=", "1e6", ")", "\n", "neg", "=", "tf", ".", "clip_by_value", "(", "logp", ",", "clip_value_min", "=", "-", "1e6", ",", "clip_value_max", "=", "-", "0.69314718056", ")", "\n", "neg_val", "=", "neg", "-", "tf", ".", "math", ".", "log", "(", "1", "-", "tf", ".", "math", ".", "exp", "(", "neg", ")", ")", "\n", "pos_val", "=", "-", "tf", ".", "math", ".", "log", "(", "tf", ".", "clip_by_value", "(", "tf", ".", "math", ".", "expm1", "(", "-", "pos", ")", ",", "clip_value_min", "=", "1e-20", ",", "clip_value_max", "=", "1e6", ")", ")", "\n", "return", "pos_val", "+", "neg_val", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.sample_bipartite": [[451, 460], ["tensorflow.abs", "tensorflow.cond", "tensorflow.reshape", "tensorflow.reshape", "tensorflow.matmul", "tensorflow.sigmoid", "tensorflow_probability.distributions.Bernoulli().sample", "tensorflow.transpose", "bayRel_AML.LogitRelaxedBernoulli.rsample", "tensorflow_probability.distributions.Bernoulli", "bayRel_AML.LogitRelaxedBernoulli"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.rsample"], ["", "def", "sample_bipartite", "(", "Z1", ",", "Z2", ",", "g", ",", "training", "=", "True", ",", "temperature", "=", "0.3", ")", ":", "\n", "    ", "logits", "=", "tf", ".", "abs", "(", "tf", ".", "reshape", "(", "tf", ".", "matmul", "(", "Z1", ",", "tf", ".", "transpose", "(", "Z2", ")", ")", ",", "[", "-", "1", ",", "1", "]", ")", ")", "\n", "A_vals", "=", "tf", ".", "cond", "(", "training", ",", "lambda", ":", "tf", ".", "sigmoid", "(", "LogitRelaxedBernoulli", "(", "logits", "=", "logits", "\n", ",", "temperature", "=", "temperature", ")", ".", "rsample", "(", ")", ")", "\n", ",", "lambda", ":", "tfp", ".", "distributions", ".", "Bernoulli", "(", "logits", "=", "logits", ",", "dtype", "=", "tf", ".", "float32", ")", ".", "sample", "(", ")", ")", "\n", "\n", "\n", "A", "=", "tf", ".", "reshape", "(", "A_vals", ",", "[", "Z1", ".", "shape", "[", "0", "]", ",", "Z2", ".", "shape", "[", "0", "]", "]", ")", "\n", "return", "A", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.pos_val": [[771, 778], ["enumerate", "len"], "function", ["None"], ["", "def", "pos_val", "(", "biadj", ",", "val_interacts", ")", ":", "\n", "    ", "counter", "=", "0.0", "\n", "for", "i", ",", "e", "in", "enumerate", "(", "val_interacts", ")", ":", "\n", "        ", "if", "biadj", "[", "e", "[", "0", "]", ",", "e", "[", "1", "]", "]", ":", "\n", "            ", "counter", "+=", "1.0", "\n", "\n", "", "", "return", "counter", "/", "(", "1.0", "*", "len", "(", "val_interacts", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_AML.single_class": [[798, 827], ["range", "len", "range", "range", "numpy.mean", "numpy.mean", "numpy.where", "numpy.sum", "dc_scores.append", "di_scores.append", "dc_scores.append", "di_scores.append"], "function", ["None"], ["", "def", "single_class", "(", "biadj", ",", "class_node_dict", ")", ":", "\n", "    ", "dc_scores", "=", "[", "]", "\n", "di_scores", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "len", "(", "class_node_dict", ")", ")", ":", "\n", "        ", "dc_score_temp", "=", "0.0", "\n", "di_score_temp", "=", "0.0", "\n", "d_c_max", "=", "class_node_dict", "[", "i", "]", ".", "shape", "[", "0", "]", "\n", "for", "j", "in", "range", "(", "d_c_max", ")", ":", "\n", "            ", "if", "j", "==", "0", ":", "\n", "                ", "row_sum", "=", "biadj", "[", "class_node_dict", "[", "i", "]", "[", "j", "]", ",", ":", "]", "\n", "", "else", ":", "\n", "                ", "row_sum", "+=", "biadj", "[", "class_node_dict", "[", "i", "]", "[", "j", "]", ",", ":", "]", "\n", "", "", "all_genes_ids", "=", "np", ".", "where", "(", "row_sum", ">", "0", ")", "[", "0", "]", "\n", "\n", "counter", "=", "0", "\n", "for", "j", "in", "range", "(", "all_genes_ids", ".", "shape", "[", "0", "]", ")", ":", "\n", "            ", "d_i", "=", "np", ".", "sum", "(", "biadj", "[", ":", ",", "all_genes_ids", "[", "j", "]", "]", ")", "\n", "d_c_i", "=", "row_sum", "[", "all_genes_ids", "[", "j", "]", "]", "\n", "dc_score_temp", "+=", "d_c_i", "/", "d_c_max", "\n", "di_score_temp", "+=", "d_c_i", "/", "d_i", "\n", "counter", "+=", "1.0", "\n", "\n", "", "if", "counter", ">", "0", ":", "\n", "            ", "dc_scores", ".", "append", "(", "dc_score_temp", "/", "counter", ")", "\n", "di_scores", ".", "append", "(", "di_score_temp", "/", "counter", ")", "\n", "", "else", ":", "\n", "            ", "dc_scores", ".", "append", "(", "0", ")", "\n", "di_scores", ".", "append", "(", "0", ")", "\n", "", "", "return", "np", ".", "mean", "(", "dc_scores", ")", ",", "np", ".", "mean", "(", "di_scores", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Layer.__init__": [[95, 108], ["kwargs.keys", "kwargs.get", "kwargs.get", "bayRel_CF.Layer.__class__.__name__.lower", "str", "bayRel_CF.get_layer_uid"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.get_layer_uid"], ["def", "__init__", "(", "self", ",", "**", "kwargs", ")", ":", "\n", "        ", "allowed_kwargs", "=", "{", "'name'", ",", "'logging'", "}", "\n", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "", "name", "=", "kwargs", ".", "get", "(", "'name'", ")", "\n", "if", "not", "name", ":", "\n", "            ", "layer", "=", "self", ".", "__class__", ".", "__name__", ".", "lower", "(", ")", "\n", "name", "=", "layer", "+", "'_'", "+", "str", "(", "get_layer_uid", "(", "layer", ")", ")", "\n", "", "self", ".", "name", "=", "name", "\n", "self", ".", "vars", "=", "{", "}", "\n", "logging", "=", "kwargs", ".", "get", "(", "'logging'", ",", "False", ")", "\n", "self", ".", "logging", "=", "logging", "\n", "self", ".", "issparse", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvolution.__init__": [[112, 118], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvolution", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvolution.__call__": [[119, 126], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_CF.GraphConvolution.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvolutionSparse.__init__": [[130, 138], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "features_nonzero", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvolutionSparse", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "self", ".", "issparse", "=", "True", "\n", "self", ".", "features_nonzero", "=", "features_nonzero", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvolutionSparse.__call__": [[139, 146], ["bayRel_CF.dropout_sparse", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_CF.GraphConvolutionSparse.act"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.dropout_sparse"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "dropout_sparse", "(", "x", ",", "1", "-", "self", ".", "dropout", ",", "self", ".", "features_nonzero", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvDense.__init__": [[150, 156], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvDense.__call__": [[157, 164], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "bayRel_CF.GraphConvDense.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvBi.__init__": [[168, 174], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvBi", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvBi.__call__": [[175, 191], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "bayRel_CF.GraphConvBi.act", "bayRel_CF.GraphConvBi.act", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.transpose"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "deg_sa", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "deg_ta", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "(", "adj", "/", "deg_sa", ")", "/", "deg_ta", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "tf", ".", "transpose", "(", "(", "adj", "/", "deg_sa", ")", "/", "deg_ta", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvBiDense.__init__": [[195, 201], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvBiDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvBiDense.__call__": [[202, 219], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.sqrt", "tensorflow.sqrt", "bayRel_CF.GraphConvBiDense.act", "bayRel_CF.GraphConvBiDense.act", "tensorflow.reduce_sum", "tensorflow.ones", "tensorflow.reduce_sum", "tensorflow.ones", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.transpose", "tensorflow.transpose"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "root_deg_sa", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "ones", "(", "[", "adj", ".", "shape", "[", "0", "]", ",", "1", "]", ")", ")", "\n", "root_deg_ta", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "ones", "(", "[", "1", ",", "adj", ".", "shape", "[", "1", "]", "]", ")", ")", "\n", "nrm_adj", "=", "(", "adj", "/", "root_deg_sa", ")", "/", "root_deg_ta", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "/", "root_deg_sa", "+", "tf", ".", "matmul", "(", "nrm_adj", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "/", "tf", ".", "transpose", "(", "root_deg_ta", ")", "+", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "nrm_adj", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvTriDense.__init__": [[223, 229], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvTriDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvTriDense.norm_adj": [[230, 241], ["tensorflow.sqrt", "tensorflow.sqrt", "tensorflow.reduce_sum", "tensorflow.sparse_reduce_sum", "tensorflow.reduce_sum", "tensorflow.sparse_reduce_sum", "tensorflow.transpose", "tensorflow.transpose", "tensorflow.ones_like", "tensorflow.ones_like"], "methods", ["None"], ["", "def", "norm_adj", "(", "self", ",", "adj", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "deg_so", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "sparse_reduce_sum", "(", "adj_s", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "root_deg_so", "=", "tf", ".", "sqrt", "(", "deg_so", "+", "tf", ".", "ones_like", "(", "deg_so", ")", ")", "\n", "deg_to", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "sparse_reduce_sum", "(", "adj_t", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "\n", "root_deg_to", "=", "tf", ".", "sqrt", "(", "deg_to", "+", "tf", ".", "ones_like", "(", "deg_to", ")", ")", "\n", "\n", "nrm_adj_s", "=", "(", "adj_s", "/", "root_deg_so", ")", "/", "tf", ".", "transpose", "(", "root_deg_so", ")", "\n", "nrm_adj_t", "=", "(", "adj_t", "/", "root_deg_to", ")", "/", "tf", ".", "transpose", "(", "root_deg_to", ")", "\n", "nrm_adj", "=", "(", "adj", "/", "root_deg_so", ")", "/", "root_deg_to", "\n", "\n", "return", "nrm_adj", ",", "nrm_adj_s", ",", "nrm_adj_t", ",", "root_deg_so", ",", "root_deg_to", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvTriDense.__call__": [[242, 258], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "bayRel_CF.GraphConvTriDense.norm_adj", "bayRel_CF.GraphConvTriDense.act", "bayRel_CF.GraphConvTriDense.act", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.transpose", "tensorflow.transpose"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvTriDense.norm_adj"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "nrm_adj", ",", "nrm_adj_s", ",", "nrm_adj_t", ",", "root_deg_so", ",", "root_deg_to", "=", "self", ".", "norm_adj", "(", "adj", ",", "adj_s", ",", "adj_t", ")", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "/", "root_deg_so", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "nrm_adj_s", ",", "x", ")", "+", "tf", ".", "matmul", "(", "nrm_adj", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "/", "tf", ".", "transpose", "(", "root_deg_to", ")", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "nrm_adj_t", ",", "y", ")", "\n", "+", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "nrm_adj", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvShared.__init__": [[262, 268], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvShared", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.GraphConvShared.__call__": [[269, 283], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_CF.GraphConvShared.act", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_CF.GraphConvShared.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj_s", ",", "x", ")", "\n", "out_s", "=", "self", ".", "act", "(", "x", ")", "\n", "\n", "y", "=", "inp_t", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj_t", ",", "y", ")", "\n", "out_t", "=", "self", ".", "act", "(", "y", ")", "\n", "\n", "return", "out_s", ",", "out_t", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Dense.__init__": [[287, 300], ["bayRel_CF.Layer.__init__", "tensorflow.variable_scope", "bayRel_CF.weight_variable_glorot", "bayRel_CF.Dense._log_vars", "tensorflow.Variable", "tensorflow.zeros"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "bias", "=", "True", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "Dense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "self", ".", "bias", "=", "bias", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "'weights'", ")", "\n", "if", "self", ".", "bias", ":", "\n", "                ", "self", ".", "vars", "[", "'bias'", "]", "=", "tf", ".", "Variable", "(", "tf", ".", "zeros", "(", "[", "output_dim", "]", ",", "dtype", "=", "tf", ".", "float32", ")", ",", "name", "=", "'bias'", ")", "\n", "\n", "", "", "if", "self", ".", "logging", ":", "\n", "            ", "self", ".", "_log_vars", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Dense.__call__": [[301, 315], ["tensorflow.nn.dropout", "tensorflow.matmul", "bayRel_CF.Dense.act"], "methods", ["None"], ["", "", "def", "__call__", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "\n", "# dropout", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "# transform", "\n", "output", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "# bias", "\n", "if", "self", ".", "bias", ":", "\n", "            ", "output", "+=", "self", ".", "vars", "[", "'bias'", "]", "\n", "\n", "", "return", "self", ".", "act", "(", "output", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.InnerProductDecoder.__init__": [[319, 323], ["bayRel_CF.Layer.__init__"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__"], ["def", "__init__", "(", "self", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "sigmoid", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "InnerProductDecoder", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.InnerProductDecoder.__call__": [[324, 331], ["tensorflow.nn.dropout", "tensorflow.transpose", "tensorflow.matmul", "tensorflow.reshape", "bayRel_CF.InnerProductDecoder.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "inputs", "=", "tf", ".", "nn", ".", "dropout", "(", "inputs", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "transpose", "(", "inputs", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "inputs", ",", "x", ")", "\n", "x", "=", "tf", ".", "reshape", "(", "x", ",", "[", "-", "1", "]", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Normal.__init__": [[350, 353], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "means", ",", "logscales", ",", "**", "kwargs", ")", ":", "\n", "        ", "self", ".", "means", "=", "means", "\n", "self", ".", "logscales", "=", "logscales", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Normal.log_prob": [[354, 359], ["tensorflow.pow", "math.log", "tensorflow.exp"], "methods", ["None"], ["", "def", "log_prob", "(", "self", ",", "value", ")", ":", "\n", "        ", "log_prob", "=", "tf", ".", "pow", "(", "value", "-", "self", ".", "means", ",", "2", ")", "\n", "log_prob", "*=", "-", "(", "1", "/", "(", "2.", "*", "tf", ".", "exp", "(", "2", "*", "self", ".", "logscales", ")", ")", ")", "\n", "log_prob", "-=", "self", ".", "logscales", "+", ".5", "*", "math", ".", "log", "(", "2.", "*", "math", ".", "pi", ")", "\n", "return", "log_prob", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.LogitRelaxedBernoulli.__init__": [[432, 435], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "logits", ",", "temperature", "=", "0.3", ",", "**", "kwargs", ")", ":", "\n", "        ", "self", ".", "logits", "=", "logits", "\n", "self", ".", "temperature", "=", "temperature", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.LogitRelaxedBernoulli.rsample": [[436, 440], ["tensorflow.distributions.Uniform().sample", "tensorflow.distributions.Uniform", "tensorflow.math.log", "tensorflow.math.log"], "methods", ["None"], ["", "def", "rsample", "(", "self", ")", ":", "\n", "        ", "eps", "=", "tf", ".", "distributions", ".", "Uniform", "(", "low", "=", "1e-6", ",", "high", "=", "1", "-", "1e-6", ")", ".", "sample", "(", "self", ".", "logits", ".", "shape", ")", "\n", "y", "=", "(", "self", ".", "logits", "+", "tf", ".", "math", ".", "log", "(", "eps", ")", "-", "tf", ".", "math", ".", "log", "(", "1.", "-", "eps", ")", ")", "/", "self", ".", "temperature", "\n", "return", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.LogitRelaxedBernoulli.log_prob": [[441, 443], ["tensorflow.math.softplus", "math.log"], "methods", ["None"], ["", "def", "log_prob", "(", "self", ",", "value", ")", ":", "\n", "        ", "return", "math", ".", "log", "(", "self", ".", "temperature", ")", "-", "self", ".", "temperature", "*", "value", "+", "self", ".", "logits", "-", "2", "*", "tf", ".", "math", ".", "softplus", "(", "-", "self", ".", "temperature", "*", "value", "+", "self", ".", "logits", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Model.__init__": [[466, 482], ["kwargs.keys", "kwargs.keys", "kwargs.get", "kwargs.get", "bayRel_CF.Model.__class__.__name__.lower"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "**", "kwargs", ")", ":", "\n", "        ", "allowed_kwargs", "=", "{", "'name'", ",", "'logging'", "}", "\n", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "\n", "", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "", "name", "=", "kwargs", ".", "get", "(", "'name'", ")", "\n", "if", "not", "name", ":", "\n", "            ", "name", "=", "self", ".", "__class__", ".", "__name__", ".", "lower", "(", ")", "\n", "", "self", ".", "name", "=", "name", "\n", "\n", "logging", "=", "kwargs", ".", "get", "(", "'logging'", ",", "False", ")", "\n", "self", ".", "logging", "=", "logging", "\n", "\n", "self", ".", "vars", "=", "{", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Model._build": [[483, 485], ["None"], "methods", ["None"], ["", "def", "_build", "(", "self", ")", ":", "\n", "        ", "raise", "NotImplementedError", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Model.build": [[486, 492], ["tensorflow.get_collection", "tensorflow.variable_scope", "bayRel_CF.Model._build"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.BAYREL._build"], ["", "def", "build", "(", "self", ")", ":", "\n", "        ", "\"\"\" Wrapper for _build() \"\"\"", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", ")", ":", "\n", "            ", "self", ".", "_build", "(", ")", "\n", "", "variables", "=", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "GLOBAL_VARIABLES", ",", "scope", "=", "self", ".", "name", ")", "\n", "self", ".", "vars", "=", "{", "var", ".", "name", ":", "var", "for", "var", "in", "variables", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Model.fit": [[493, 495], ["None"], "methods", ["None"], ["", "def", "fit", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.Model.predict": [[496, 498], ["None"], "methods", ["None"], ["", "def", "predict", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.BAYREL.__init__": [[501, 527], ["bayRel_CF.Model.__init__", "int", "tensorflow.split", "tensorflow.split", "tensorflow.Variable", "bayRel_CF.BAYREL.build", "math.log", "tensorflow.reshape", "math.sqrt", "bayRel_CF.logitexp", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.build", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.logitexp"], ["    ", "def", "__init__", "(", "self", ",", "placeholders", ",", "num_features_dict", ",", "num_nodes_dict", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "BAYREL", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "\n", "self", ".", "input_dim_s", "=", "num_features_dict", "[", "'source'", "]", "\n", "self", ".", "input_dim_t", "=", "num_features_dict", "[", "'target'", "]", "\n", "self", ".", "inp_dim_u", "=", "int", "(", "self", ".", "input_dim_s", "/", "10.0", ")", "\n", "self", ".", "input_dim_s", "=", "self", ".", "input_dim_s", "-", "self", ".", "inp_dim_u", "\n", "self", ".", "input_dim_t", "=", "self", ".", "input_dim_t", "-", "self", ".", "inp_dim_u", "\n", "self", ".", "inputs_s", ",", "self", ".", "inp_u_s", "=", "tf", ".", "split", "(", "placeholders", "[", "'features_source'", "]", "\n", ",", "[", "self", ".", "input_dim_s", ",", "self", ".", "inp_dim_u", "]", ",", "axis", "=", "1", ")", "\n", "self", ".", "inputs_t", ",", "self", ".", "inp_u_t", "=", "tf", ".", "split", "(", "placeholders", "[", "'features_target'", "]", "\n", ",", "[", "self", ".", "input_dim_t", ",", "self", ".", "inp_dim_u", "]", ",", "axis", "=", "1", ")", "\n", "self", ".", "n_samples_s", "=", "num_nodes_dict", "[", "'source'", "]", "\n", "self", ".", "n_samples_t", "=", "num_nodes_dict", "[", "'target'", "]", "\n", "self", ".", "n_samples_ov", "=", "self", ".", "n_samples_s", "+", "self", ".", "n_samples_t", "\n", "self", ".", "adj_s", "=", "placeholders", "[", "'adj_source'", "]", "\n", "self", ".", "adj_t", "=", "placeholders", "[", "'adj_target'", "]", "\n", "self", ".", "adj_orig_s", "=", "placeholders", "[", "'adj_orig_source'", "]", "\n", "self", ".", "adj_orig_t", "=", "placeholders", "[", "'adj_orig_target'", "]", "\n", "self", ".", "dropout", "=", "placeholders", "[", "'dropout'", "]", "\n", "self", ".", "wu", "=", "placeholders", "[", "'WU'", "]", "\n", "self", ".", "pairwise_g_logscale", "=", "tf", ".", "Variable", "(", "math", ".", "log", "(", "math", ".", "sqrt", "(", "dim_u", ")", ")", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "self", ".", "pairwise_g", "=", "lambda", "x", ":", "tf", ".", "reshape", "(", "logitexp", "(", "-", ".5", "*", "x", "/", "tf", ".", "exp", "(", "self", ".", "pairwise_g_logscale", ")", ")", "\n", ",", "[", "x", ".", "shape", "[", "0", "]", ",", "1", "]", ")", "\n", "self", ".", "training", "=", "placeholders", "[", "'training'", "]", "\n", "self", ".", "build", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.BAYREL._build": [[528, 620], ["bayRel_CF.sample_bipartite", "slim.fully_connected", "slim.fully_connected", "slim.fully_connected", "slim.fully_connected", "bayRel_CF.Normal", "bayRel_CF.Normal", "bayRel_CF.Normal", "bayRel_CF.Normal", "bayRel_CF.GraphConvShared", "bayRel_CF.GraphConvShared", "bayRel_CF.GraphConvShared", "bayRel_CF.InnerProductDecoder", "bayRel_CF.InnerProductDecoder", "bayRel_CF.GraphConvTriDense", "bayRel_CF.GraphConvTriDense", "bayRel_CF.GraphConvTriDense", "bayRel_CF.Dense", "bayRel_CF.Dense", "bayRel_CF.Dense", "bayRel_CF.Dense", "bayRel_CF.Dense", "bayRel_CF.Dense", "bayRel_CF.GraphConvBiDense", "tensorflow.zeros_like", "tensorflow.zeros_like", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sample_bipartite"], ["", "def", "_build", "(", "self", ")", ":", "\n", "# Source and target graph embedding", "\n", "        ", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "=", "GraphConvShared", "(", "input_dim", "=", "self", ".", "inp_dim_u", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "act", "=", "tf", ".", "nn", ".", "relu", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "inp_u_s", ",", "self", ".", "inp_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_mean_s", ",", "self", ".", "u_mean_t", "=", "GraphConvShared", "(", "input_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_lstd_s", ",", "self", ".", "u_lstd_t", "=", "GraphConvShared", "(", "input_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_s", "=", "self", ".", "u_mean_s", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_s", ",", "num_hiddens_s", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "u_lstd_s", ")", "\n", "self", ".", "u_t", "=", "self", ".", "u_mean_t", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_t", ",", "num_hiddens_t", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "u_lstd_t", ")", "\n", "\n", "\n", "self", ".", "recong_s", "=", "InnerProductDecoder", "(", "act", "=", "lambda", "x", ":", "x", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_s", ")", "\n", "self", ".", "recong_t", "=", "InnerProductDecoder", "(", "act", "=", "lambda", "x", ":", "x", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_t", ")", "\n", "\n", "\n", "# Bipartite graph learning", "\n", "self", ".", "A", "=", "sample_bipartite", "(", "self", ".", "u_s", ",", "self", ".", "u_t", ",", "self", ".", "pairwise_g", ",", "training", "=", "self", ".", "training", ")", "\n", "\n", "\n", "# Embeding features to the same latent spaces", "\n", "self", ".", "h_emb_s", "=", "slim", ".", "fully_connected", "(", "self", ".", "inputs_s", ",", "dim_c", "[", "0", "]", ")", "\n", "self", ".", "emb_s", "=", "slim", ".", "fully_connected", "(", "self", ".", "h_emb_s", ",", "dim_c", "[", "1", "]", ",", "activation_fn", "=", "None", ")", "\n", "self", ".", "h_emb_t", "=", "slim", ".", "fully_connected", "(", "self", ".", "inputs_t", ",", "dim_c", "[", "0", "]", ")", "\n", "self", ".", "emb_t", "=", "slim", ".", "fully_connected", "(", "self", ".", "h_emb_t", ",", "dim_c", "[", "1", "]", ",", "activation_fn", "=", "None", ")", "\n", "\n", "\n", "# zf, latent spaces for feature reconstruction q(zf|A,X,G)", "\n", "self", ".", "h_zf_s", ",", "self", ".", "h_zf_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_c", "[", "1", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "act", "=", "tf", ".", "nn", ".", "relu", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "emb_s", "\n", ",", "self", ".", "emb_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "zf_mean_s", ",", "self", ".", "zf_mean_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_zf_s", "\n", ",", "self", ".", "h_zf_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "zf_lstd_s", ",", "self", ".", "zf_lstd_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_zf_s", "\n", ",", "self", ".", "h_zf_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "q_zf_s", "=", "Normal", "(", "self", ".", "zf_mean_s", ",", "self", ".", "zf_lstd_s", ")", "\n", "self", ".", "q_zf_t", "=", "Normal", "(", "self", ".", "zf_mean_t", ",", "self", ".", "zf_lstd_t", ")", "\n", "self", ".", "zf_s", "=", "self", ".", "zf_mean_s", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_s", ",", "dim_z", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "zf_lstd_s", ")", "\n", "self", ".", "zf_t", "=", "self", ".", "zf_mean_t", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_t", ",", "dim_z", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "zf_lstd_t", ")", "\n", "\n", "# reconstruction p(G|zg), p(X|zf)", "\n", "self", ".", "h_reconf_s_1", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "dim_z", "[", "1", "]", ")", "(", "self", ".", "zf_s", ")", "\n", "self", ".", "h_reconf_s", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "self", ".", "input_dim_s", ")", "(", "self", ".", "h_reconf_s_1", ")", "\n", "self", ".", "reconf_s", "=", "Dense", "(", "input_dim", "=", "self", ".", "input_dim_s", ",", "output_dim", "=", "self", ".", "input_dim_s", "\n", ",", "act", "=", "lambda", "x", ":", "x", ")", "(", "self", ".", "h_reconf_s", ")", "\n", "self", ".", "h_reconf_t_1", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "dim_z", "[", "1", "]", ")", "(", "self", ".", "zf_t", ")", "\n", "self", ".", "h_reconf_t", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "self", ".", "input_dim_s", ")", "(", "self", ".", "h_reconf_t_1", ")", "\n", "self", ".", "reconf_t", "=", "Dense", "(", "input_dim", "=", "self", ".", "input_dim_s", ",", "output_dim", "=", "self", ".", "input_dim_t", "\n", ",", "act", "=", "lambda", "x", ":", "x", ")", "(", "self", ".", "h_reconf_t", ")", "\n", "\n", "# p(zf|A,U)", "\n", "self", ".", "p_zf_mean_s", ",", "self", ".", "p_zf_mean_t", "=", "GraphConvBiDense", "(", "input_dim", "=", "dim_u", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_s", "\n", ",", "self", ".", "u_t", "\n", ",", "self", ".", "A", ")", "\n", "self", ".", "p_zf_s", "=", "Normal", "(", "self", ".", "p_zf_mean_s", ",", "tf", ".", "zeros_like", "(", "self", ".", "p_zf_mean_s", ")", ")", "\n", "self", ".", "p_zf_t", "=", "Normal", "(", "self", ".", "p_zf_mean_t", ",", "tf", ".", "zeros_like", "(", "self", ".", "p_zf_mean_t", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.OptimizerVAE.__init__": [[625, 690], ["tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.train.AdamOptimizer", "bayRel_CF.OptimizerVAE.optimizer.minimize", "bayRel_CF.OptimizerVAE.optimizer.compute_gradients", "tensorflow.metrics.auc", "tensorflow.metrics.auc", "tensorflow.equal", "tensorflow.reduce_mean", "tensorflow.equal", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.squared_difference", "tensorflow.reduce_mean", "tensorflow.squared_difference", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.sigmoid", "tensorflow.sigmoid", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.squared_difference", "tensorflow.squared_difference", "tensorflow.nn.weighted_cross_entropy_with_logits", "tensorflow.nn.weighted_cross_entropy_with_logits", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.greater_equal", "tensorflow.greater_equal", "model.q_zf_s.log_prob", "model.q_zf_t.log_prob", "tensorflow.sigmoid", "tensorflow.sigmoid", "tensorflow.square", "tensorflow.square", "model.p_zf_s.log_prob", "model.p_zf_t.log_prob", "tensorflow.square", "tensorflow.exp", "tensorflow.square", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob"], ["    ", "def", "__init__", "(", "self", ",", "preds_dict", ",", "labels_dict", ",", "model", ",", "num_nodes_dict", ",", "pos_weight_dict", ",", "norm_dict", ")", ":", "\n", "        ", "prd_g_s", "=", "preds_dict", "[", "'adj_source'", "]", "\n", "lbl_g_s", "=", "labels_dict", "[", "'adj_source'", "]", "\n", "prd_f_s", "=", "preds_dict", "[", "'features_source'", "]", "\n", "lbl_f_s", "=", "labels_dict", "[", "'features_source'", "]", "\n", "posw_s", "=", "pos_weight_dict", "[", "'source'", "]", "\n", "num_nodes_s", "=", "num_nodes_dict", "[", "'source'", "]", "\n", "norm_s", "=", "norm_dict", "[", "'source'", "]", "\n", "\n", "prd_g_t", "=", "preds_dict", "[", "'adj_target'", "]", "\n", "lbl_g_t", "=", "labels_dict", "[", "'adj_target'", "]", "\n", "prd_f_t", "=", "preds_dict", "[", "'features_target'", "]", "\n", "lbl_f_t", "=", "labels_dict", "[", "'features_target'", "]", "\n", "posw_t", "=", "pos_weight_dict", "[", "'target'", "]", "\n", "num_nodes_t", "=", "num_nodes_dict", "[", "'target'", "]", "\n", "norm_t", "=", "norm_dict", "[", "'target'", "]", "\n", "\n", "# Reconstruction loss", "\n", "self", ".", "nll_g_s", "=", "norm_s", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "nn", ".", "weighted_cross_entropy_with_logits", "(", "logits", "=", "prd_g_s", "\n", ",", "targets", "=", "lbl_g_s", "\n", ",", "pos_weight", "=", "posw_s", ")", ")", "\n", "self", ".", "nll_f_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_s", ",", "lbl_f_s", ")", ")", "\n", "self", ".", "nll_g_t", "=", "norm_t", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "nn", ".", "weighted_cross_entropy_with_logits", "(", "logits", "=", "prd_g_t", "\n", ",", "targets", "=", "lbl_g_t", "\n", ",", "pos_weight", "=", "posw_t", ")", ")", "\n", "self", ".", "nll_f_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_t", ",", "lbl_f_t", ")", ")", "\n", "self", ".", "nll_s", "=", "self", ".", "nll_g_s", "+", "self", ".", "nll_f_s", "\n", "self", ".", "nll_t", "=", "self", ".", "nll_g_t", "+", "self", ".", "nll_f_t", "\n", "self", ".", "nll", "=", "self", ".", "nll_s", "+", "self", ".", "nll_t", "\n", "\n", "# Latent loss U", "\n", "self", ".", "kl_u_s", "=", "(", "-", "0.5", "/", "num_nodes_s", ")", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "1", "+", "2", "*", "model", ".", "u_lstd_s", "\n", "-", "tf", ".", "square", "(", "model", ".", "u_mean_s", ")", "\n", "-", "tf", ".", "square", "(", "tf", ".", "exp", "(", "model", ".", "u_lstd_s", ")", ")", ",", "1", ")", ")", "\n", "self", ".", "kl_u_t", "=", "(", "-", "0.5", "/", "num_nodes_t", ")", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "1", "+", "2", "*", "model", ".", "u_lstd_t", "\n", "-", "tf", ".", "square", "(", "model", ".", "u_mean_t", ")", "\n", "-", "tf", ".", "square", "(", "tf", ".", "exp", "(", "model", ".", "u_lstd_t", ")", ")", ",", "1", ")", ")", "\n", "self", ".", "kl_u", "=", "self", ".", "kl_u_s", "+", "self", ".", "kl_u_t", "\n", "\n", "# Latent loss zg", "\n", "self", ".", "qpzf_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "model", ".", "q_zf_s", ".", "log_prob", "(", "model", ".", "zf_s", ")", "\n", "-", "30", "*", "model", ".", "p_zf_s", ".", "log_prob", "(", "model", ".", "zf_s", ")", ",", "1", ")", ")", "\n", "self", ".", "qpzf_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "model", ".", "q_zf_t", ".", "log_prob", "(", "model", ".", "zf_t", ")", "\n", "-", "30", "*", "model", ".", "p_zf_t", ".", "log_prob", "(", "model", ".", "zf_t", ")", ",", "1", ")", ")", "\n", "self", ".", "qpzf", "=", "self", ".", "qpzf_s", "+", "self", ".", "qpzf_t", "\n", "self", ".", "qpz", "=", "self", ".", "qpzf", "\n", "\n", "self", ".", "cost", "=", "self", ".", "nll", "+", "self", ".", "kl_u", "+", "self", ".", "qpz", "\n", "\n", "self", ".", "optimizer", "=", "tf", ".", "train", ".", "AdamOptimizer", "(", "learning_rate", "=", "learning_rate", ")", "\n", "self", ".", "opt_op", "=", "self", ".", "optimizer", ".", "minimize", "(", "self", ".", "cost", ")", "\n", "self", ".", "grads_vars", "=", "self", ".", "optimizer", ".", "compute_gradients", "(", "self", ".", "cost", ")", "\n", "\n", "self", ".", "recong_s_auc", ",", "_", "=", "tf", ".", "metrics", ".", "auc", "(", "tf", ".", "sigmoid", "(", "prd_g_s", ")", ",", "lbl_g_s", ")", "\n", "self", ".", "recong_t_auc", ",", "_", "=", "tf", ".", "metrics", ".", "auc", "(", "tf", ".", "sigmoid", "(", "prd_g_t", ")", ",", "lbl_g_t", ")", "\n", "\n", "self", ".", "corp_s", "=", "tf", ".", "equal", "(", "tf", ".", "cast", "(", "tf", ".", "greater_equal", "(", "tf", ".", "sigmoid", "(", "prd_g_s", ")", ",", "0.5", ")", ",", "tf", ".", "int32", ")", "\n", ",", "tf", ".", "cast", "(", "lbl_g_s", ",", "tf", ".", "int32", ")", ")", "\n", "self", ".", "acc_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "cast", "(", "self", ".", "corp_s", ",", "tf", ".", "float32", ")", ")", "\n", "self", ".", "corp_t", "=", "tf", ".", "equal", "(", "tf", ".", "cast", "(", "tf", ".", "greater_equal", "(", "tf", ".", "sigmoid", "(", "prd_g_t", ")", ",", "0.5", ")", ",", "tf", ".", "int32", ")", "\n", ",", "tf", ".", "cast", "(", "lbl_g_t", ",", "tf", ".", "int32", ")", ")", "\n", "self", ".", "acc_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "cast", "(", "self", ".", "corp_t", ",", "tf", ".", "float32", ")", ")", "\n", "\n", "self", ".", "reconf_s_rmse", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_s", ",", "lbl_f_s", ")", ")", "\n", "self", ".", "reconf_t_rmse", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_t", ",", "lbl_f_t", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.weight_variable_glorot": [[49, 57], ["numpy.sqrt", "tensorflow.random_uniform", "tensorflow.Variable"], "function", ["None"], ["def", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"\"", ")", ":", "\n", "    ", "\"\"\"Create a weight variable with Glorot & Bengio (AISTATS 2010)\n    initialization.\n    \"\"\"", "\n", "init_range", "=", "np", ".", "sqrt", "(", "6.0", "/", "(", "input_dim", "+", "output_dim", ")", ")", "\n", "initial", "=", "tf", ".", "random_uniform", "(", "[", "input_dim", ",", "output_dim", "]", ",", "minval", "=", "-", "init_range", ",", "\n", "maxval", "=", "init_range", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "return", "tf", ".", "Variable", "(", "initial", ",", "name", "=", "name", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.get_layer_uid": [[62, 71], ["None"], "function", ["None"], ["def", "get_layer_uid", "(", "layer_name", "=", "''", ")", ":", "\n", "    ", "\"\"\"Helper function, assigns unique layer IDs\n    \"\"\"", "\n", "if", "layer_name", "not", "in", "_LAYER_UIDS", ":", "\n", "        ", "_LAYER_UIDS", "[", "layer_name", "]", "=", "1", "\n", "return", "1", "\n", "", "else", ":", "\n", "        ", "_LAYER_UIDS", "[", "layer_name", "]", "+=", "1", "\n", "return", "_LAYER_UIDS", "[", "layer_name", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.dropout_sparse": [[73, 82], ["tensorflow.random_uniform", "tensorflow.cast", "tensorflow.sparse_retain", "tensorflow.floor"], "function", ["None"], ["", "", "def", "dropout_sparse", "(", "x", ",", "keep_prob", ",", "num_nonzero_elems", ")", ":", "\n", "    ", "\"\"\"Dropout for sparse tensors. Currently fails for very large sparse tensors (>1M elements)\n    \"\"\"", "\n", "noise_shape", "=", "[", "num_nonzero_elems", "]", "\n", "random_tensor", "=", "keep_prob", "\n", "random_tensor", "+=", "tf", ".", "random_uniform", "(", "noise_shape", ")", "\n", "dropout_mask", "=", "tf", ".", "cast", "(", "tf", ".", "floor", "(", "random_tensor", ")", ",", "dtype", "=", "tf", ".", "bool", ")", "\n", "pre_out", "=", "tf", ".", "sparse_retain", "(", "x", ",", "dropout_mask", ")", "\n", "return", "pre_out", "*", "(", "1.", "/", "keep_prob", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.dense_to_sparse": [[333, 347], ["tensorflow.SparseTensor", "tensorflow.name_scope", "tensorflow.convert_to_tensor", "tensorflow.where", "tensorflow.cast", "tensorflow.not_equal", "tensorflow.gather_nd", "tensorflow.shape", "bayRel_CF.base_dtype", "bayRel_CF.as_numpy_dtype"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.base_dtype", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.as_numpy_dtype"], ["", "", "def", "dense_to_sparse", "(", "x", ",", "ignore_value", "=", "None", ",", "name", "=", "None", ")", ":", "\n", "    ", "with", "tf", ".", "name_scope", "(", "name", "or", "'dense_to_sparse'", ")", ":", "\n", "        ", "x", "=", "tf", ".", "convert_to_tensor", "(", "x", ",", "name", "=", "'x'", ")", "\n", "if", "ignore_value", "is", "None", ":", "\n", "            ", "if", "base_dtype", "(", "x", ".", "dtype", ")", "==", "tf", ".", "string", ":", "\n", "# Exception due to TF strings are converted to numpy objects by default.", "\n", "                ", "ignore_value", "=", "''", "\n", "", "else", ":", "\n", "                ", "ignore_value", "=", "as_numpy_dtype", "(", "x", ".", "dtype", ")", "(", "0", ")", "\n", "", "ignore_value", "=", "tf", ".", "cast", "(", "ignore_value", ",", "x", ".", "dtype", ",", "name", "=", "'ignore_value'", ")", "\n", "", "indices", "=", "tf", ".", "where", "(", "tf", ".", "not_equal", "(", "x", ",", "ignore_value", ")", ",", "name", "=", "'indices'", ")", "\n", "", "return", "tf", ".", "SparseTensor", "(", "indices", "=", "indices", ",", "\n", "values", "=", "tf", ".", "gather_nd", "(", "x", ",", "indices", ",", "name", "=", "'values'", ")", ",", "\n", "dense_shape", "=", "tf", ".", "shape", "(", "x", ",", "out_type", "=", "tf", ".", "int64", ",", "name", "=", "'dense_shape'", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.construct_feed_dict": [[361, 371], ["dict", "dict.update", "dict.update", "dict.update", "dict.update", "dict.update", "dict.update"], "function", ["None"], ["", "", "def", "construct_feed_dict", "(", "adj_normal_s", ",", "adj_normal_t", ",", "adj_s", ",", "adj_t", ",", "features_s", ",", "features_t", ",", "placeholders", ")", ":", "\n", "# construct feed dictionary", "\n", "    ", "feed_dict", "=", "dict", "(", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'features_source'", "]", ":", "features_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'features_target'", "]", ":", "features_t", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_source'", "]", ":", "adj_normal_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_target'", "]", ":", "adj_normal_t", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_orig_source'", "]", ":", "adj_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_orig_target'", "]", ":", "adj_t", "}", ")", "\n", "return", "feed_dict", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.as_numpy_dtype": [[373, 379], ["tensorflow.as_dtype", "hasattr"], "function", ["None"], ["", "def", "as_numpy_dtype", "(", "dtype", ")", ":", "\n", "  ", "\"\"\"Returns a `np.dtype` based on this `dtype`.\"\"\"", "\n", "dtype", "=", "tf", ".", "as_dtype", "(", "dtype", ")", "\n", "if", "hasattr", "(", "dtype", ",", "'as_numpy_dtype'", ")", ":", "\n", "    ", "return", "dtype", ".", "as_numpy_dtype", "\n", "", "return", "dtype", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.base_dtype": [[381, 387], ["tensorflow.as_dtype", "hasattr"], "function", ["None"], ["", "def", "base_dtype", "(", "dtype", ")", ":", "\n", "  ", "\"\"\"Returns a non-reference `dtype` based on this `dtype`.\"\"\"", "\n", "dtype", "=", "tf", ".", "as_dtype", "(", "dtype", ")", "\n", "if", "hasattr", "(", "dtype", ",", "'base_dtype'", ")", ":", "\n", "    ", "return", "dtype", ".", "base_dtype", "\n", "", "return", "dtype", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.sparse_to_tuple": [[390, 397], ["numpy.vstack().transpose", "scipy.isspmatrix_coo", "sparse_mx.tocoo.tocoo", "numpy.vstack"], "function", ["None"], ["", "def", "sparse_to_tuple", "(", "sparse_mx", ")", ":", "\n", "    ", "if", "not", "sp", ".", "isspmatrix_coo", "(", "sparse_mx", ")", ":", "\n", "        ", "sparse_mx", "=", "sparse_mx", ".", "tocoo", "(", ")", "\n", "", "coords", "=", "np", ".", "vstack", "(", "(", "sparse_mx", ".", "row", ",", "sparse_mx", ".", "col", ")", ")", ".", "transpose", "(", ")", "\n", "values", "=", "sparse_mx", ".", "data", "\n", "shape", "=", "sparse_mx", ".", "shape", "\n", "return", "coords", ",", "values", ",", "shape", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.preprocess_graph": [[399, 406], ["scipy.coo_matrix", "numpy.array", "scipy.diags", "adj_.dot().transpose().dot().tocoo", "bayRel_CF.sparse_to_tuple", "scipy.eye", "adj_.sum", "numpy.power().flatten", "adj_.dot().transpose().dot", "numpy.power", "adj_.dot().transpose", "adj_.dot"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sparse_to_tuple"], ["", "def", "preprocess_graph", "(", "adj", ")", ":", "\n", "    ", "adj", "=", "sp", ".", "coo_matrix", "(", "adj", ")", "\n", "adj_", "=", "adj", "+", "sp", ".", "eye", "(", "adj", ".", "shape", "[", "0", "]", ")", "\n", "rowsum", "=", "np", ".", "array", "(", "adj_", ".", "sum", "(", "1", ")", ")", "\n", "degree_mat_inv_sqrt", "=", "sp", ".", "diags", "(", "np", ".", "power", "(", "rowsum", ",", "-", "0.5", ")", ".", "flatten", "(", ")", ")", "\n", "adj_normalized", "=", "adj_", ".", "dot", "(", "degree_mat_inv_sqrt", ")", ".", "transpose", "(", ")", ".", "dot", "(", "degree_mat_inv_sqrt", ")", ".", "tocoo", "(", ")", "\n", "return", "sparse_to_tuple", "(", "adj_normalized", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.pairwise_dist": [[410, 429], ["tensorflow.variable_scope", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reshape", "tensorflow.reshape", "tensorflow.sqrt", "tensorflow.square", "tensorflow.square", "tensorflow.maximum", "tensorflow.matmul"], "function", ["None"], ["", "def", "pairwise_dist", "(", "A", ",", "B", ")", ":", "\n", "    ", "\"\"\"Computes pairwise distances between each elements of A and each elements of B.\n    Args:\n        A,    [m,d] matrix\n        B,    [n,d] matrix\n    Returns:\n        D,    [m,n] matrix of pairwise distances\"\"\"", "\n", "with", "tf", ".", "variable_scope", "(", "'pairwise_dist'", ")", ":", "\n", "# squared norms of each row in A and B", "\n", "        ", "na", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "A", ")", ",", "1", ")", "\n", "nb", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "B", ")", ",", "1", ")", "\n", "\n", "# na as a row and nb as a co\"lumn vectors", "\n", "na", "=", "tf", ".", "reshape", "(", "na", ",", "[", "-", "1", ",", "1", "]", ")", "\n", "nb", "=", "tf", ".", "reshape", "(", "nb", ",", "[", "1", ",", "-", "1", "]", ")", "\n", "\n", "# return pairwise euclidead difference matrix", "\n", "D", "=", "tf", ".", "sqrt", "(", "tf", ".", "maximum", "(", "na", "-", "2", "*", "tf", ".", "matmul", "(", "A", ",", "B", ",", "False", ",", "True", ")", "+", "nb", ",", "0.0", ")", ")", "\n", "", "return", "D", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.logitexp": [[445, 451], ["tensorflow.clip_by_value", "tensorflow.clip_by_value", "tensorflow.math.log", "tensorflow.math.log", "tensorflow.clip_by_value", "tensorflow.math.exp", "tensorflow.math.expm1"], "function", ["None"], ["", "", "def", "logitexp", "(", "logp", ")", ":", "\n", "    ", "pos", "=", "tf", ".", "clip_by_value", "(", "logp", ",", "clip_value_min", "=", "-", "0.69314718056", ",", "clip_value_max", "=", "1e6", ")", "\n", "neg", "=", "tf", ".", "clip_by_value", "(", "logp", ",", "clip_value_min", "=", "-", "1e6", ",", "clip_value_max", "=", "-", "0.69314718056", ")", "\n", "neg_val", "=", "neg", "-", "tf", ".", "math", ".", "log", "(", "1", "-", "tf", ".", "math", ".", "exp", "(", "neg", ")", ")", "\n", "pos_val", "=", "-", "tf", ".", "math", ".", "log", "(", "tf", ".", "clip_by_value", "(", "tf", ".", "math", ".", "expm1", "(", "-", "pos", ")", ",", "clip_value_min", "=", "1e-20", ",", "clip_value_max", "=", "1e6", ")", ")", "\n", "return", "pos_val", "+", "neg_val", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.sample_bipartite": [[453, 461], ["tensorflow.reshape", "tensorflow.cond", "tensorflow.reshape", "tensorflow.matmul", "tensorflow.transpose", "tensorflow.sigmoid", "tensorflow_probability.distributions.Bernoulli().sample", "bayRel_CF.LogitRelaxedBernoulli.rsample", "tensorflow_probability.distributions.Bernoulli", "bayRel_CF.LogitRelaxedBernoulli"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.rsample"], ["", "def", "sample_bipartite", "(", "Z1", ",", "Z2", ",", "g", ",", "training", "=", "True", ",", "temperature", "=", "0.3", ")", ":", "\n", "    ", "logits", "=", "tf", ".", "reshape", "(", "tf", ".", "matmul", "(", "Z1", ",", "tf", ".", "transpose", "(", "Z2", ")", ")", ",", "[", "-", "1", ",", "1", "]", ")", "\n", "A_vals", "=", "tf", ".", "cond", "(", "training", ",", "lambda", ":", "tf", ".", "sigmoid", "(", "LogitRelaxedBernoulli", "(", "logits", "=", "logits", "\n", ",", "temperature", "=", "temperature", ")", ".", "rsample", "(", ")", ")", "\n", ",", "lambda", ":", "tfp", ".", "distributions", ".", "Bernoulli", "(", "logits", "=", "logits", ",", "dtype", "=", "tf", ".", "float32", ")", ".", "sample", "(", ")", ")", "\n", "\n", "A", "=", "tf", ".", "reshape", "(", "A_vals", ",", "[", "Z1", ".", "shape", "[", "0", "]", ",", "Z2", ".", "shape", "[", "0", "]", "]", ")", "\n", "return", "A", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.pos_val": [[783, 790], ["enumerate", "len"], "function", ["None"], ["", "def", "pos_val", "(", "biadj", ",", "val_interacts", ")", ":", "\n", "    ", "counter", "=", "0.0", "\n", "for", "i", ",", "e", "in", "enumerate", "(", "val_interacts", ")", ":", "\n", "        ", "if", "biadj", "[", "e", "[", "0", "]", ",", "e", "[", "1", "]", "]", ":", "\n", "            ", "counter", "+=", "1.0", "\n", "\n", "", "", "return", "counter", "/", "(", "1.0", "*", "len", "(", "val_interacts", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_CF.neg_val": [[791, 800], ["len", "len", "range", "range", "numpy.sum"], "function", ["None"], ["", "def", "neg_val", "(", "biadj", ",", "ng_val_src1", ",", "ng_val_src2", ")", ":", "\n", "    ", "len_src1", "=", "len", "(", "ng_val_src1", ")", "\n", "len_src2", "=", "len", "(", "ng_val_src2", ")", "\n", "counter", "=", "0.0", "\n", "for", "i", "in", "range", "(", "len_src1", ")", ":", "\n", "        ", "for", "j", "in", "range", "(", "len_src2", ")", ":", "\n", "            ", "counter", "+=", "np", ".", "sum", "(", "biadj", "[", "ng_val_src1", "[", "i", "]", ",", ":", "]", "*", "biadj", "[", "ng_val_src2", "[", "j", "]", ",", ":", "]", ")", "\n", "\n", "", "", "return", "1.0", "-", "counter", "/", "(", "1.0", "*", "len_src1", "*", "len_src2", "*", "biadj", ".", "shape", "[", "1", "]", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Layer.__init__": [[95, 108], ["kwargs.keys", "kwargs.get", "kwargs.get", "bayRel_TCGA.Layer.__class__.__name__.lower", "str", "bayRel_TCGA.get_layer_uid"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.get_layer_uid"], ["def", "__init__", "(", "self", ",", "**", "kwargs", ")", ":", "\n", "        ", "allowed_kwargs", "=", "{", "'name'", ",", "'logging'", "}", "\n", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "", "name", "=", "kwargs", ".", "get", "(", "'name'", ")", "\n", "if", "not", "name", ":", "\n", "            ", "layer", "=", "self", ".", "__class__", ".", "__name__", ".", "lower", "(", ")", "\n", "name", "=", "layer", "+", "'_'", "+", "str", "(", "get_layer_uid", "(", "layer", ")", ")", "\n", "", "self", ".", "name", "=", "name", "\n", "self", ".", "vars", "=", "{", "}", "\n", "logging", "=", "kwargs", ".", "get", "(", "'logging'", ",", "False", ")", "\n", "self", ".", "logging", "=", "logging", "\n", "self", ".", "issparse", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvolution.__init__": [[112, 118], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvolution", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvolution.__call__": [[119, 126], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_TCGA.GraphConvolution.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvolutionSparse.__init__": [[130, 138], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "features_nonzero", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvolutionSparse", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "self", ".", "issparse", "=", "True", "\n", "self", ".", "features_nonzero", "=", "features_nonzero", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvolutionSparse.__call__": [[139, 146], ["bayRel_TCGA.dropout_sparse", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_TCGA.GraphConvolutionSparse.act"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.dropout_sparse"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "dropout_sparse", "(", "x", ",", "1", "-", "self", ".", "dropout", ",", "self", ".", "features_nonzero", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvDense.__init__": [[150, 156], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvDense.__call__": [[157, 164], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "bayRel_TCGA.GraphConvDense.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "adj", ",", "x", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvBi.__init__": [[168, 174], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvBi", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvBi.__call__": [[175, 191], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "bayRel_TCGA.GraphConvBi.act", "bayRel_TCGA.GraphConvBi.act", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.transpose"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "deg_sa", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "deg_ta", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "(", "adj", "/", "deg_sa", ")", "/", "deg_ta", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "tf", ".", "transpose", "(", "(", "adj", "/", "deg_sa", ")", "/", "deg_ta", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvBiDense.__init__": [[195, 201], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvBiDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvBiDense.__call__": [[202, 219], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.sqrt", "tensorflow.sqrt", "bayRel_TCGA.GraphConvBiDense.act", "bayRel_TCGA.GraphConvBiDense.act", "tensorflow.reduce_sum", "tensorflow.ones", "tensorflow.reduce_sum", "tensorflow.ones", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.transpose", "tensorflow.transpose"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "root_deg_sa", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "ones", "(", "[", "adj", ".", "shape", "[", "0", "]", ",", "1", "]", ")", ")", "\n", "root_deg_ta", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "ones", "(", "[", "1", ",", "adj", ".", "shape", "[", "1", "]", "]", ")", ")", "\n", "nrm_adj", "=", "(", "adj", "/", "root_deg_sa", ")", "/", "root_deg_ta", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "/", "root_deg_sa", "+", "tf", ".", "matmul", "(", "nrm_adj", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "/", "tf", ".", "transpose", "(", "root_deg_ta", ")", "+", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "nrm_adj", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvTriDense.__init__": [[223, 229], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvTriDense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvTriDense.norm_adj": [[230, 241], ["tensorflow.sqrt", "tensorflow.sqrt", "tensorflow.reduce_sum", "tensorflow.sparse_reduce_sum", "tensorflow.reduce_sum", "tensorflow.sparse_reduce_sum", "tensorflow.transpose", "tensorflow.transpose", "tensorflow.ones_like", "tensorflow.ones_like"], "methods", ["None"], ["", "def", "norm_adj", "(", "self", ",", "adj", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "deg_so", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "sparse_reduce_sum", "(", "adj_s", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "root_deg_so", "=", "tf", ".", "sqrt", "(", "deg_so", "+", "tf", ".", "ones_like", "(", "deg_so", ")", ")", "\n", "deg_to", "=", "tf", ".", "reduce_sum", "(", "adj", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "+", "tf", ".", "sparse_reduce_sum", "(", "adj_t", ",", "axis", "=", "0", ",", "keepdims", "=", "True", ")", "\n", "root_deg_to", "=", "tf", ".", "sqrt", "(", "deg_to", "+", "tf", ".", "ones_like", "(", "deg_to", ")", ")", "\n", "\n", "nrm_adj_s", "=", "(", "adj_s", "/", "root_deg_so", ")", "/", "tf", ".", "transpose", "(", "root_deg_so", ")", "\n", "nrm_adj_t", "=", "(", "adj_t", "/", "root_deg_to", ")", "/", "tf", ".", "transpose", "(", "root_deg_to", ")", "\n", "nrm_adj", "=", "(", "adj", "/", "root_deg_so", ")", "/", "root_deg_to", "\n", "\n", "return", "nrm_adj", ",", "nrm_adj_s", ",", "nrm_adj_t", ",", "root_deg_so", ",", "root_deg_to", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvTriDense.__call__": [[242, 258], ["tensorflow.nn.dropout", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.matmul", "bayRel_TCGA.GraphConvTriDense.norm_adj", "bayRel_TCGA.GraphConvTriDense.act", "bayRel_TCGA.GraphConvTriDense.act", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.sparse_tensor_dense_matmul", "tensorflow.transpose", "tensorflow.transpose"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvTriDense.norm_adj"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "y", "=", "inp_t", "\n", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "nrm_adj", ",", "nrm_adj_s", ",", "nrm_adj_t", ",", "root_deg_so", ",", "root_deg_to", "=", "self", ".", "norm_adj", "(", "adj", ",", "adj_s", ",", "adj_t", ")", "\n", "\n", "x", "=", "self", ".", "act", "(", "x", "/", "root_deg_so", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "nrm_adj_s", ",", "x", ")", "+", "tf", ".", "matmul", "(", "nrm_adj", ",", "y", ")", ")", "\n", "y", "=", "self", ".", "act", "(", "y", "/", "tf", ".", "transpose", "(", "root_deg_to", ")", "+", "tf", ".", "sparse_tensor_dense_matmul", "(", "nrm_adj_t", ",", "y", ")", "\n", "+", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "nrm_adj", ")", ",", "x", ")", ")", "\n", "return", "x", ",", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvShared.__init__": [[262, 268], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "GraphConvShared", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"weights\"", ")", "\n", "", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.GraphConvShared.__call__": [[269, 283], ["tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_TCGA.GraphConvShared.act", "tensorflow.nn.dropout", "tensorflow.matmul", "tensorflow.sparse_tensor_dense_matmul", "bayRel_TCGA.GraphConvShared.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inp_s", ",", "inp_t", ",", "adj_s", ",", "adj_t", ")", ":", "\n", "        ", "x", "=", "inp_s", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "x", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj_s", ",", "x", ")", "\n", "out_s", "=", "self", ".", "act", "(", "x", ")", "\n", "\n", "y", "=", "inp_t", "\n", "y", "=", "tf", ".", "nn", ".", "dropout", "(", "y", ",", "1", "-", "self", ".", "dropout", ")", "\n", "y", "=", "tf", ".", "matmul", "(", "y", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "y", "=", "tf", ".", "sparse_tensor_dense_matmul", "(", "adj_t", ",", "y", ")", "\n", "out_t", "=", "self", ".", "act", "(", "y", ")", "\n", "\n", "return", "out_s", ",", "out_t", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Dense.__init__": [[287, 300], ["bayRel_TCGA.Layer.__init__", "tensorflow.variable_scope", "bayRel_TCGA.weight_variable_glorot", "bayRel_TCGA.Dense._log_vars", "tensorflow.Variable", "tensorflow.zeros"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot"], ["def", "__init__", "(", "self", ",", "input_dim", ",", "output_dim", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "relu", ",", "bias", "=", "True", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "Dense", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "self", ".", "bias", "=", "bias", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", "+", "'_vars'", ")", ":", "\n", "            ", "self", ".", "vars", "[", "'weights'", "]", "=", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "'weights'", ")", "\n", "if", "self", ".", "bias", ":", "\n", "                ", "self", ".", "vars", "[", "'bias'", "]", "=", "tf", ".", "Variable", "(", "tf", ".", "zeros", "(", "[", "output_dim", "]", ",", "dtype", "=", "tf", ".", "float32", ")", ",", "name", "=", "'bias'", ")", "\n", "\n", "", "", "if", "self", ".", "logging", ":", "\n", "            ", "self", ".", "_log_vars", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Dense.__call__": [[301, 315], ["tensorflow.nn.dropout", "tensorflow.matmul", "bayRel_TCGA.Dense.act"], "methods", ["None"], ["", "", "def", "__call__", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "x", "=", "inputs", "\n", "\n", "# dropout", "\n", "x", "=", "tf", ".", "nn", ".", "dropout", "(", "x", ",", "1", "-", "self", ".", "dropout", ")", "\n", "\n", "# transform", "\n", "output", "=", "tf", ".", "matmul", "(", "x", ",", "self", ".", "vars", "[", "'weights'", "]", ")", "\n", "\n", "# bias", "\n", "if", "self", ".", "bias", ":", "\n", "            ", "output", "+=", "self", ".", "vars", "[", "'bias'", "]", "\n", "\n", "", "return", "self", ".", "act", "(", "output", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.InnerProductDecoder.__init__": [[319, 323], ["bayRel_TCGA.Layer.__init__"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__"], ["def", "__init__", "(", "self", ",", "dropout", "=", "0.", ",", "act", "=", "tf", ".", "nn", ".", "sigmoid", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "InnerProductDecoder", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "act", "=", "act", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.InnerProductDecoder.__call__": [[324, 331], ["tensorflow.nn.dropout", "tensorflow.transpose", "tensorflow.matmul", "tensorflow.reshape", "bayRel_TCGA.InnerProductDecoder.act"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "inputs", ")", ":", "\n", "        ", "inputs", "=", "tf", ".", "nn", ".", "dropout", "(", "inputs", ",", "1", "-", "self", ".", "dropout", ")", "\n", "x", "=", "tf", ".", "transpose", "(", "inputs", ")", "\n", "x", "=", "tf", ".", "matmul", "(", "inputs", ",", "x", ")", "\n", "x", "=", "tf", ".", "reshape", "(", "x", ",", "[", "-", "1", "]", ")", "\n", "outputs", "=", "self", ".", "act", "(", "x", ")", "\n", "return", "outputs", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Normal.__init__": [[350, 353], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "means", ",", "logscales", ",", "**", "kwargs", ")", ":", "\n", "        ", "self", ".", "means", "=", "means", "\n", "self", ".", "logscales", "=", "logscales", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Normal.log_prob": [[354, 359], ["tensorflow.pow", "math.log", "tensorflow.exp"], "methods", ["None"], ["", "def", "log_prob", "(", "self", ",", "value", ")", ":", "\n", "        ", "log_prob", "=", "tf", ".", "pow", "(", "value", "-", "self", ".", "means", ",", "2", ")", "\n", "log_prob", "*=", "-", "(", "1", "/", "(", "2.", "*", "tf", ".", "exp", "(", "2", "*", "self", ".", "logscales", ")", ")", ")", "\n", "log_prob", "-=", "self", ".", "logscales", "+", ".5", "*", "math", ".", "log", "(", "2.", "*", "math", ".", "pi", ")", "\n", "return", "log_prob", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.__init__": [[432, 435], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "logits", ",", "temperature", "=", "0.3", ",", "**", "kwargs", ")", ":", "\n", "        ", "self", ".", "logits", "=", "logits", "\n", "self", ".", "temperature", "=", "temperature", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.rsample": [[436, 440], ["tensorflow.distributions.Uniform().sample", "tensorflow.distributions.Uniform", "tensorflow.math.log", "tensorflow.math.log"], "methods", ["None"], ["", "def", "rsample", "(", "self", ")", ":", "\n", "        ", "eps", "=", "tf", ".", "distributions", ".", "Uniform", "(", "low", "=", "1e-6", ",", "high", "=", "1", "-", "1e-6", ")", ".", "sample", "(", "self", ".", "logits", ".", "shape", ")", "\n", "y", "=", "(", "self", ".", "logits", "+", "tf", ".", "math", ".", "log", "(", "eps", ")", "-", "tf", ".", "math", ".", "log", "(", "1.", "-", "eps", ")", ")", "/", "self", ".", "temperature", "\n", "return", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob": [[441, 443], ["tensorflow.math.softplus", "math.log"], "methods", ["None"], ["", "def", "log_prob", "(", "self", ",", "value", ")", ":", "\n", "        ", "return", "math", ".", "log", "(", "self", ".", "temperature", ")", "-", "self", ".", "temperature", "*", "value", "+", "self", ".", "logits", "-", "2", "*", "tf", ".", "math", ".", "softplus", "(", "-", "self", ".", "temperature", "*", "value", "+", "self", ".", "logits", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.__init__": [[467, 483], ["kwargs.keys", "kwargs.keys", "kwargs.get", "kwargs.get", "bayRel_TCGA.Model.__class__.__name__.lower"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "**", "kwargs", ")", ":", "\n", "        ", "allowed_kwargs", "=", "{", "'name'", ",", "'logging'", "}", "\n", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "\n", "", "for", "kwarg", "in", "kwargs", ".", "keys", "(", ")", ":", "\n", "            ", "assert", "kwarg", "in", "allowed_kwargs", ",", "'Invalid keyword argument: '", "+", "kwarg", "\n", "", "name", "=", "kwargs", ".", "get", "(", "'name'", ")", "\n", "if", "not", "name", ":", "\n", "            ", "name", "=", "self", ".", "__class__", ".", "__name__", ".", "lower", "(", ")", "\n", "", "self", ".", "name", "=", "name", "\n", "\n", "logging", "=", "kwargs", ".", "get", "(", "'logging'", ",", "False", ")", "\n", "self", ".", "logging", "=", "logging", "\n", "\n", "self", ".", "vars", "=", "{", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model._build": [[484, 486], ["None"], "methods", ["None"], ["", "def", "_build", "(", "self", ")", ":", "\n", "        ", "raise", "NotImplementedError", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.build": [[487, 493], ["tensorflow.get_collection", "tensorflow.variable_scope", "bayRel_TCGA.Model._build"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.BAYREL._build"], ["", "def", "build", "(", "self", ")", ":", "\n", "        ", "\"\"\" Wrapper for _build() \"\"\"", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", ")", ":", "\n", "            ", "self", ".", "_build", "(", ")", "\n", "", "variables", "=", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "GLOBAL_VARIABLES", ",", "scope", "=", "self", ".", "name", ")", "\n", "self", ".", "vars", "=", "{", "var", ".", "name", ":", "var", "for", "var", "in", "variables", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.fit": [[494, 496], ["None"], "methods", ["None"], ["", "def", "fit", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.predict": [[497, 499], ["None"], "methods", ["None"], ["", "def", "predict", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.BAYREL.__init__": [[502, 528], ["bayRel_TCGA.Model.__init__", "int", "tensorflow.split", "tensorflow.split", "tensorflow.Variable", "bayRel_TCGA.BAYREL.build", "math.log", "tensorflow.reshape", "math.sqrt", "bayRel_TCGA.logitexp", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.Model.build", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.logitexp"], ["    ", "def", "__init__", "(", "self", ",", "placeholders", ",", "num_features_dict", ",", "num_nodes_dict", ",", "**", "kwargs", ")", ":", "\n", "        ", "super", "(", "BAYREL", ",", "self", ")", ".", "__init__", "(", "**", "kwargs", ")", "\n", "\n", "self", ".", "input_dim_s", "=", "num_features_dict", "[", "'source'", "]", "\n", "self", ".", "input_dim_t", "=", "num_features_dict", "[", "'target'", "]", "\n", "self", ".", "inp_dim_u", "=", "int", "(", "self", ".", "input_dim_s", "/", "10.0", ")", "\n", "self", ".", "input_dim_s", "=", "self", ".", "input_dim_s", "-", "self", ".", "inp_dim_u", "\n", "self", ".", "input_dim_t", "=", "self", ".", "input_dim_t", "-", "self", ".", "inp_dim_u", "\n", "self", ".", "inputs_s", ",", "self", ".", "inp_u_s", "=", "tf", ".", "split", "(", "placeholders", "[", "'features_source'", "]", "\n", ",", "[", "self", ".", "input_dim_s", ",", "self", ".", "inp_dim_u", "]", ",", "axis", "=", "1", ")", "\n", "self", ".", "inputs_t", ",", "self", ".", "inp_u_t", "=", "tf", ".", "split", "(", "placeholders", "[", "'features_target'", "]", "\n", ",", "[", "self", ".", "input_dim_t", ",", "self", ".", "inp_dim_u", "]", ",", "axis", "=", "1", ")", "\n", "self", ".", "n_samples_s", "=", "num_nodes_dict", "[", "'source'", "]", "\n", "self", ".", "n_samples_t", "=", "num_nodes_dict", "[", "'target'", "]", "\n", "self", ".", "n_samples_ov", "=", "self", ".", "n_samples_s", "+", "self", ".", "n_samples_t", "\n", "self", ".", "adj_s", "=", "placeholders", "[", "'adj_source'", "]", "\n", "self", ".", "adj_t", "=", "placeholders", "[", "'adj_target'", "]", "\n", "self", ".", "adj_orig_s", "=", "placeholders", "[", "'adj_orig_source'", "]", "\n", "self", ".", "adj_orig_t", "=", "placeholders", "[", "'adj_orig_target'", "]", "\n", "self", ".", "dropout", "=", "placeholders", "[", "'dropout'", "]", "\n", "self", ".", "wu", "=", "placeholders", "[", "'WU'", "]", "\n", "self", ".", "pairwise_g_logscale", "=", "tf", ".", "Variable", "(", "math", ".", "log", "(", "math", ".", "sqrt", "(", "dim_u", ")", ")", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "self", ".", "pairwise_g", "=", "lambda", "x", ":", "tf", ".", "reshape", "(", "logitexp", "(", "-", ".5", "*", "x", "/", "tf", ".", "exp", "(", "self", ".", "pairwise_g_logscale", ")", ")", "\n", ",", "[", "x", ".", "shape", "[", "0", "]", ",", "1", "]", ")", "\n", "self", ".", "training", "=", "placeholders", "[", "'training'", "]", "\n", "self", ".", "build", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.BAYREL._build": [[529, 622], ["bayRel_TCGA.sample_bipartite", "slim.fully_connected", "slim.fully_connected", "slim.fully_connected", "slim.fully_connected", "bayRel_TCGA.Normal", "bayRel_TCGA.Normal", "bayRel_TCGA.Normal", "bayRel_TCGA.Normal", "bayRel_TCGA.GraphConvShared", "bayRel_TCGA.GraphConvShared", "bayRel_TCGA.GraphConvShared", "bayRel_TCGA.InnerProductDecoder", "bayRel_TCGA.InnerProductDecoder", "bayRel_TCGA.GraphConvTriDense", "bayRel_TCGA.GraphConvTriDense", "bayRel_TCGA.GraphConvTriDense", "bayRel_TCGA.Dense", "bayRel_TCGA.Dense", "bayRel_TCGA.Dense", "bayRel_TCGA.Dense", "bayRel_TCGA.Dense", "bayRel_TCGA.Dense", "bayRel_TCGA.GraphConvBiDense", "tensorflow.zeros_like", "tensorflow.zeros_like", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp", "tensorflow.random_normal", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sample_bipartite"], ["", "def", "_build", "(", "self", ")", ":", "\n", "# Source and target graph embedding", "\n", "        ", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "=", "GraphConvShared", "(", "input_dim", "=", "self", ".", "inp_dim_u", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "act", "=", "tf", ".", "nn", ".", "relu", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "inp_u_s", ",", "self", ".", "inp_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_mean_s", ",", "self", ".", "u_mean_t", "=", "GraphConvShared", "(", "input_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_lstd_s", ",", "self", ".", "u_lstd_t", "=", "GraphConvShared", "(", "input_dim", "=", "num_hiddens_s", "[", "0", "]", "\n", ",", "output_dim", "=", "num_hiddens_s", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_u_s", ",", "self", ".", "h_u_t", "\n", ",", "self", ".", "adj_s", ",", "self", ".", "adj_t", ")", "\n", "self", ".", "u_s", "=", "self", ".", "u_mean_s", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_s", ",", "num_hiddens_s", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "u_lstd_s", ")", "\n", "self", ".", "u_t", "=", "self", ".", "u_mean_t", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_t", ",", "num_hiddens_t", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "u_lstd_t", ")", "\n", "\n", "\n", "self", ".", "recong_s", "=", "InnerProductDecoder", "(", "act", "=", "lambda", "x", ":", "x", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_s", ")", "\n", "self", ".", "recong_t", "=", "InnerProductDecoder", "(", "act", "=", "lambda", "x", ":", "x", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_t", ")", "\n", "\n", "\n", "# Bipartite graph learning", "\n", "self", ".", "A", "=", "sample_bipartite", "(", "self", ".", "u_s", ",", "self", ".", "u_t", ",", "self", ".", "pairwise_g", ",", "training", "=", "self", ".", "training", ")", "\n", "\n", "# Embeding features to the same latent spaces", "\n", "self", ".", "h_emb_s", "=", "slim", ".", "fully_connected", "(", "self", ".", "inputs_s", ",", "dim_c", "[", "0", "]", ")", "\n", "self", ".", "emb_s", "=", "slim", ".", "fully_connected", "(", "self", ".", "h_emb_s", ",", "dim_c", "[", "1", "]", ",", "activation_fn", "=", "None", ")", "\n", "self", ".", "h_emb_t", "=", "slim", ".", "fully_connected", "(", "self", ".", "inputs_t", ",", "dim_c", "[", "0", "]", ")", "\n", "self", ".", "emb_t", "=", "slim", ".", "fully_connected", "(", "self", ".", "h_emb_t", ",", "dim_c", "[", "1", "]", ",", "activation_fn", "=", "None", ")", "\n", "\n", "\n", "# zf, latent spaces for feature reconstruction q(zf|A,X,G)", "\n", "self", ".", "h_zf_s", ",", "self", ".", "h_zf_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_c", "[", "1", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "act", "=", "tf", ".", "nn", ".", "relu", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "emb_s", "\n", ",", "self", ".", "emb_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "zf_mean_s", ",", "self", ".", "zf_mean_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_zf_s", "\n", ",", "self", ".", "h_zf_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "zf_lstd_s", ",", "self", ".", "zf_lstd_t", "=", "GraphConvTriDense", "(", "input_dim", "=", "dim_z", "[", "0", "]", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "h_zf_s", "\n", ",", "self", ".", "h_zf_t", "\n", ",", "self", ".", "wu", "*", "self", ".", "A", "\n", ",", "self", ".", "adj_orig_s", "\n", ",", "self", ".", "adj_orig_t", ")", "\n", "self", ".", "q_zf_s", "=", "Normal", "(", "self", ".", "zf_mean_s", ",", "self", ".", "zf_lstd_s", ")", "\n", "self", ".", "q_zf_t", "=", "Normal", "(", "self", ".", "zf_mean_t", ",", "self", ".", "zf_lstd_t", ")", "\n", "self", ".", "zf_s", "=", "self", ".", "zf_mean_s", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_s", ",", "dim_z", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "zf_lstd_s", ")", "\n", "self", ".", "zf_t", "=", "self", ".", "zf_mean_t", "+", "tf", ".", "random_normal", "(", "[", "self", ".", "n_samples_t", ",", "dim_z", "[", "1", "]", "]", ")", "*", "tf", ".", "exp", "(", "self", ".", "zf_lstd_t", ")", "\n", "\n", "\n", "# reconstruction p(G|zg), p(X|zf)", "\n", "self", ".", "h_reconf_s_1", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "dim_z", "[", "1", "]", ")", "(", "self", ".", "zf_s", ")", "\n", "self", ".", "h_reconf_s", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "self", ".", "input_dim_s", ")", "(", "self", ".", "h_reconf_s_1", ")", "\n", "self", ".", "reconf_s", "=", "Dense", "(", "input_dim", "=", "self", ".", "input_dim_s", ",", "output_dim", "=", "self", ".", "input_dim_s", "\n", ",", "act", "=", "lambda", "x", ":", "x", ")", "(", "self", ".", "h_reconf_s", ")", "\n", "self", ".", "h_reconf_t_1", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "dim_z", "[", "1", "]", ")", "(", "self", ".", "zf_t", ")", "\n", "self", ".", "h_reconf_t", "=", "Dense", "(", "input_dim", "=", "dim_z", "[", "1", "]", ",", "output_dim", "=", "self", ".", "input_dim_s", ")", "(", "self", ".", "h_reconf_t_1", ")", "\n", "self", ".", "reconf_t", "=", "Dense", "(", "input_dim", "=", "self", ".", "input_dim_s", ",", "output_dim", "=", "self", ".", "input_dim_t", "\n", ",", "act", "=", "lambda", "x", ":", "x", ")", "(", "self", ".", "h_reconf_t", ")", "\n", "\n", "\n", "# p(zf|A,U)", "\n", "self", ".", "p_zf_mean_s", ",", "self", ".", "p_zf_mean_t", "=", "GraphConvBiDense", "(", "input_dim", "=", "dim_u", "\n", ",", "output_dim", "=", "dim_z", "[", "1", "]", "\n", ",", "act", "=", "lambda", "x", ":", "x", "\n", ",", "dropout", "=", "self", ".", "dropout", "\n", ",", "logging", "=", "self", ".", "logging", ")", "(", "self", ".", "u_s", "\n", ",", "self", ".", "u_t", "\n", ",", "self", ".", "A", ")", "\n", "self", ".", "p_zf_s", "=", "Normal", "(", "self", ".", "p_zf_mean_s", ",", "tf", ".", "zeros_like", "(", "self", ".", "p_zf_mean_s", ")", ")", "\n", "self", ".", "p_zf_t", "=", "Normal", "(", "self", ".", "p_zf_mean_t", ",", "tf", ".", "zeros_like", "(", "self", ".", "p_zf_mean_t", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.OptimizerVAE.__init__": [[628, 693], ["tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.train.AdamOptimizer", "bayRel_TCGA.OptimizerVAE.optimizer.minimize", "bayRel_TCGA.OptimizerVAE.optimizer.compute_gradients", "tensorflow.metrics.auc", "tensorflow.metrics.auc", "tensorflow.equal", "tensorflow.reduce_mean", "tensorflow.equal", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.squared_difference", "tensorflow.reduce_mean", "tensorflow.squared_difference", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.sigmoid", "tensorflow.sigmoid", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.cast", "tensorflow.squared_difference", "tensorflow.squared_difference", "tensorflow.nn.weighted_cross_entropy_with_logits", "tensorflow.nn.weighted_cross_entropy_with_logits", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.greater_equal", "tensorflow.greater_equal", "model.q_zf_s.log_prob", "model.q_zf_t.log_prob", "tensorflow.sigmoid", "tensorflow.sigmoid", "tensorflow.square", "tensorflow.square", "model.p_zf_s.log_prob", "model.p_zf_t.log_prob", "tensorflow.square", "tensorflow.exp", "tensorflow.square", "tensorflow.exp"], "methods", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.log_prob"], ["    ", "def", "__init__", "(", "self", ",", "preds_dict", ",", "labels_dict", ",", "model", ",", "num_nodes_dict", ",", "pos_weight_dict", ",", "norm_dict", ")", ":", "\n", "        ", "prd_g_s", "=", "preds_dict", "[", "'adj_source'", "]", "\n", "lbl_g_s", "=", "labels_dict", "[", "'adj_source'", "]", "\n", "prd_f_s", "=", "preds_dict", "[", "'features_source'", "]", "\n", "lbl_f_s", "=", "labels_dict", "[", "'features_source'", "]", "\n", "posw_s", "=", "pos_weight_dict", "[", "'source'", "]", "\n", "num_nodes_s", "=", "num_nodes_dict", "[", "'source'", "]", "\n", "norm_s", "=", "norm_dict", "[", "'source'", "]", "\n", "\n", "prd_g_t", "=", "preds_dict", "[", "'adj_target'", "]", "\n", "lbl_g_t", "=", "labels_dict", "[", "'adj_target'", "]", "\n", "prd_f_t", "=", "preds_dict", "[", "'features_target'", "]", "\n", "lbl_f_t", "=", "labels_dict", "[", "'features_target'", "]", "\n", "posw_t", "=", "pos_weight_dict", "[", "'target'", "]", "\n", "num_nodes_t", "=", "num_nodes_dict", "[", "'target'", "]", "\n", "norm_t", "=", "norm_dict", "[", "'target'", "]", "\n", "\n", "# Reconstruction loss", "\n", "self", ".", "nll_g_s", "=", "norm_s", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "nn", ".", "weighted_cross_entropy_with_logits", "(", "logits", "=", "prd_g_s", "\n", ",", "targets", "=", "lbl_g_s", "\n", ",", "pos_weight", "=", "posw_s", ")", ")", "\n", "self", ".", "nll_f_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_s", ",", "lbl_f_s", ")", ")", "\n", "self", ".", "nll_g_t", "=", "norm_t", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "nn", ".", "weighted_cross_entropy_with_logits", "(", "logits", "=", "prd_g_t", "\n", ",", "targets", "=", "lbl_g_t", "\n", ",", "pos_weight", "=", "posw_t", ")", ")", "\n", "self", ".", "nll_f_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_t", ",", "lbl_f_t", ")", ")", "\n", "self", ".", "nll_s", "=", "self", ".", "nll_g_s", "+", "self", ".", "nll_f_s", "\n", "self", ".", "nll_t", "=", "self", ".", "nll_g_t", "+", "self", ".", "nll_f_t", "\n", "self", ".", "nll", "=", "self", ".", "nll_s", "+", "self", ".", "nll_t", "\n", "\n", "# Latent loss U", "\n", "self", ".", "kl_u_s", "=", "(", "-", "0.5", "/", "num_nodes_s", ")", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "1", "+", "2", "*", "model", ".", "u_lstd_s", "\n", "-", "tf", ".", "square", "(", "model", ".", "u_mean_s", ")", "\n", "-", "tf", ".", "square", "(", "tf", ".", "exp", "(", "model", ".", "u_lstd_s", ")", ")", ",", "1", ")", ")", "\n", "self", ".", "kl_u_t", "=", "(", "-", "0.5", "/", "num_nodes_t", ")", "*", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "1", "+", "2", "*", "model", ".", "u_lstd_t", "\n", "-", "tf", ".", "square", "(", "model", ".", "u_mean_t", ")", "\n", "-", "tf", ".", "square", "(", "tf", ".", "exp", "(", "model", ".", "u_lstd_t", ")", ")", ",", "1", ")", ")", "\n", "self", ".", "kl_u", "=", "self", ".", "kl_u_s", "+", "self", ".", "kl_u_t", "\n", "\n", "# Latent loss zg", "\n", "self", ".", "qpzf_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "model", ".", "q_zf_s", ".", "log_prob", "(", "model", ".", "zf_s", ")", "\n", "-", "30", "*", "model", ".", "p_zf_s", ".", "log_prob", "(", "model", ".", "zf_s", ")", ",", "1", ")", ")", "\n", "self", ".", "qpzf_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "reduce_sum", "(", "model", ".", "q_zf_t", ".", "log_prob", "(", "model", ".", "zf_t", ")", "\n", "-", "30", "*", "model", ".", "p_zf_t", ".", "log_prob", "(", "model", ".", "zf_t", ")", ",", "1", ")", ")", "\n", "self", ".", "qpzf", "=", "self", ".", "qpzf_s", "+", "self", ".", "qpzf_t", "\n", "self", ".", "qpz", "=", "self", ".", "qpzf", "\n", "\n", "self", ".", "cost", "=", "self", ".", "nll", "+", "self", ".", "kl_u", "+", "self", ".", "qpz", "\n", "\n", "self", ".", "optimizer", "=", "tf", ".", "train", ".", "AdamOptimizer", "(", "learning_rate", "=", "learning_rate", ")", "\n", "self", ".", "opt_op", "=", "self", ".", "optimizer", ".", "minimize", "(", "self", ".", "cost", ")", "\n", "self", ".", "grads_vars", "=", "self", ".", "optimizer", ".", "compute_gradients", "(", "self", ".", "cost", ")", "\n", "\n", "self", ".", "recong_s_auc", ",", "_", "=", "tf", ".", "metrics", ".", "auc", "(", "tf", ".", "sigmoid", "(", "prd_g_s", ")", ",", "lbl_g_s", ")", "\n", "self", ".", "recong_t_auc", ",", "_", "=", "tf", ".", "metrics", ".", "auc", "(", "tf", ".", "sigmoid", "(", "prd_g_t", ")", ",", "lbl_g_t", ")", "\n", "\n", "self", ".", "corp_s", "=", "tf", ".", "equal", "(", "tf", ".", "cast", "(", "tf", ".", "greater_equal", "(", "tf", ".", "sigmoid", "(", "prd_g_s", ")", ",", "0.5", ")", ",", "tf", ".", "int32", ")", "\n", ",", "tf", ".", "cast", "(", "lbl_g_s", ",", "tf", ".", "int32", ")", ")", "\n", "self", ".", "acc_s", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "cast", "(", "self", ".", "corp_s", ",", "tf", ".", "float32", ")", ")", "\n", "self", ".", "corp_t", "=", "tf", ".", "equal", "(", "tf", ".", "cast", "(", "tf", ".", "greater_equal", "(", "tf", ".", "sigmoid", "(", "prd_g_t", ")", ",", "0.5", ")", ",", "tf", ".", "int32", ")", "\n", ",", "tf", ".", "cast", "(", "lbl_g_t", ",", "tf", ".", "int32", ")", ")", "\n", "self", ".", "acc_t", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "cast", "(", "self", ".", "corp_t", ",", "tf", ".", "float32", ")", ")", "\n", "\n", "self", ".", "reconf_s_rmse", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_s", ",", "lbl_f_s", ")", ")", "\n", "self", ".", "reconf_t_rmse", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "squared_difference", "(", "prd_f_t", ",", "lbl_f_t", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.weight_variable_glorot": [[49, 57], ["numpy.sqrt", "tensorflow.random_uniform", "tensorflow.Variable"], "function", ["None"], ["def", "weight_variable_glorot", "(", "input_dim", ",", "output_dim", ",", "name", "=", "\"\"", ")", ":", "\n", "    ", "\"\"\"Create a weight variable with Glorot & Bengio (AISTATS 2010)\n    initialization.\n    \"\"\"", "\n", "init_range", "=", "np", ".", "sqrt", "(", "6.0", "/", "(", "input_dim", "+", "output_dim", ")", ")", "\n", "initial", "=", "tf", ".", "random_uniform", "(", "[", "input_dim", ",", "output_dim", "]", ",", "minval", "=", "-", "init_range", ",", "\n", "maxval", "=", "init_range", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "return", "tf", ".", "Variable", "(", "initial", ",", "name", "=", "name", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.get_layer_uid": [[62, 71], ["None"], "function", ["None"], ["def", "get_layer_uid", "(", "layer_name", "=", "''", ")", ":", "\n", "    ", "\"\"\"Helper function, assigns unique layer IDs\n    \"\"\"", "\n", "if", "layer_name", "not", "in", "_LAYER_UIDS", ":", "\n", "        ", "_LAYER_UIDS", "[", "layer_name", "]", "=", "1", "\n", "return", "1", "\n", "", "else", ":", "\n", "        ", "_LAYER_UIDS", "[", "layer_name", "]", "+=", "1", "\n", "return", "_LAYER_UIDS", "[", "layer_name", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.dropout_sparse": [[73, 82], ["tensorflow.random_uniform", "tensorflow.cast", "tensorflow.sparse_retain", "tensorflow.floor"], "function", ["None"], ["", "", "def", "dropout_sparse", "(", "x", ",", "keep_prob", ",", "num_nonzero_elems", ")", ":", "\n", "    ", "\"\"\"Dropout for sparse tensors. Currently fails for very large sparse tensors (>1M elements)\n    \"\"\"", "\n", "noise_shape", "=", "[", "num_nonzero_elems", "]", "\n", "random_tensor", "=", "keep_prob", "\n", "random_tensor", "+=", "tf", ".", "random_uniform", "(", "noise_shape", ")", "\n", "dropout_mask", "=", "tf", ".", "cast", "(", "tf", ".", "floor", "(", "random_tensor", ")", ",", "dtype", "=", "tf", ".", "bool", ")", "\n", "pre_out", "=", "tf", ".", "sparse_retain", "(", "x", ",", "dropout_mask", ")", "\n", "return", "pre_out", "*", "(", "1.", "/", "keep_prob", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.dense_to_sparse": [[333, 347], ["tensorflow.SparseTensor", "tensorflow.name_scope", "tensorflow.convert_to_tensor", "tensorflow.where", "tensorflow.cast", "tensorflow.not_equal", "tensorflow.gather_nd", "tensorflow.shape", "bayRel_TCGA.base_dtype", "bayRel_TCGA.as_numpy_dtype"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.base_dtype", "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.as_numpy_dtype"], ["", "", "def", "dense_to_sparse", "(", "x", ",", "ignore_value", "=", "None", ",", "name", "=", "None", ")", ":", "\n", "    ", "with", "tf", ".", "name_scope", "(", "name", "or", "'dense_to_sparse'", ")", ":", "\n", "        ", "x", "=", "tf", ".", "convert_to_tensor", "(", "x", ",", "name", "=", "'x'", ")", "\n", "if", "ignore_value", "is", "None", ":", "\n", "            ", "if", "base_dtype", "(", "x", ".", "dtype", ")", "==", "tf", ".", "string", ":", "\n", "# Exception due to TF strings are converted to numpy objects by default.", "\n", "                ", "ignore_value", "=", "''", "\n", "", "else", ":", "\n", "                ", "ignore_value", "=", "as_numpy_dtype", "(", "x", ".", "dtype", ")", "(", "0", ")", "\n", "", "ignore_value", "=", "tf", ".", "cast", "(", "ignore_value", ",", "x", ".", "dtype", ",", "name", "=", "'ignore_value'", ")", "\n", "", "indices", "=", "tf", ".", "where", "(", "tf", ".", "not_equal", "(", "x", ",", "ignore_value", ")", ",", "name", "=", "'indices'", ")", "\n", "", "return", "tf", ".", "SparseTensor", "(", "indices", "=", "indices", ",", "\n", "values", "=", "tf", ".", "gather_nd", "(", "x", ",", "indices", ",", "name", "=", "'values'", ")", ",", "\n", "dense_shape", "=", "tf", ".", "shape", "(", "x", ",", "out_type", "=", "tf", ".", "int64", ",", "name", "=", "'dense_shape'", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.construct_feed_dict": [[361, 371], ["dict", "dict.update", "dict.update", "dict.update", "dict.update", "dict.update", "dict.update"], "function", ["None"], ["", "", "def", "construct_feed_dict", "(", "adj_normal_s", ",", "adj_normal_t", ",", "adj_s", ",", "adj_t", ",", "features_s", ",", "features_t", ",", "placeholders", ")", ":", "\n", "# construct feed dictionary", "\n", "    ", "feed_dict", "=", "dict", "(", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'features_source'", "]", ":", "features_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'features_target'", "]", ":", "features_t", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_source'", "]", ":", "adj_normal_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_target'", "]", ":", "adj_normal_t", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_orig_source'", "]", ":", "adj_s", "}", ")", "\n", "feed_dict", ".", "update", "(", "{", "placeholders", "[", "'adj_orig_target'", "]", ":", "adj_t", "}", ")", "\n", "return", "feed_dict", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.as_numpy_dtype": [[373, 379], ["tensorflow.as_dtype", "hasattr"], "function", ["None"], ["", "def", "as_numpy_dtype", "(", "dtype", ")", ":", "\n", "  ", "\"\"\"Returns a `np.dtype` based on this `dtype`.\"\"\"", "\n", "dtype", "=", "tf", ".", "as_dtype", "(", "dtype", ")", "\n", "if", "hasattr", "(", "dtype", ",", "'as_numpy_dtype'", ")", ":", "\n", "    ", "return", "dtype", ".", "as_numpy_dtype", "\n", "", "return", "dtype", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.base_dtype": [[381, 387], ["tensorflow.as_dtype", "hasattr"], "function", ["None"], ["", "def", "base_dtype", "(", "dtype", ")", ":", "\n", "  ", "\"\"\"Returns a non-reference `dtype` based on this `dtype`.\"\"\"", "\n", "dtype", "=", "tf", ".", "as_dtype", "(", "dtype", ")", "\n", "if", "hasattr", "(", "dtype", ",", "'base_dtype'", ")", ":", "\n", "    ", "return", "dtype", ".", "base_dtype", "\n", "", "return", "dtype", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sparse_to_tuple": [[390, 397], ["numpy.vstack().transpose", "scipy.isspmatrix_coo", "sparse_mx.tocoo.tocoo", "numpy.vstack"], "function", ["None"], ["", "def", "sparse_to_tuple", "(", "sparse_mx", ")", ":", "\n", "    ", "if", "not", "sp", ".", "isspmatrix_coo", "(", "sparse_mx", ")", ":", "\n", "        ", "sparse_mx", "=", "sparse_mx", ".", "tocoo", "(", ")", "\n", "", "coords", "=", "np", ".", "vstack", "(", "(", "sparse_mx", ".", "row", ",", "sparse_mx", ".", "col", ")", ")", ".", "transpose", "(", ")", "\n", "values", "=", "sparse_mx", ".", "data", "\n", "shape", "=", "sparse_mx", ".", "shape", "\n", "return", "coords", ",", "values", ",", "shape", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.preprocess_graph": [[399, 406], ["scipy.coo_matrix", "numpy.array", "scipy.diags", "adj_.dot().transpose().dot().tocoo", "bayRel_TCGA.sparse_to_tuple", "scipy.eye", "adj_.sum", "numpy.power().flatten", "adj_.dot().transpose().dot", "numpy.power", "adj_.dot().transpose", "adj_.dot"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sparse_to_tuple"], ["", "def", "preprocess_graph", "(", "adj", ")", ":", "\n", "    ", "adj", "=", "sp", ".", "coo_matrix", "(", "adj", ")", "\n", "adj_", "=", "adj", "+", "sp", ".", "eye", "(", "adj", ".", "shape", "[", "0", "]", ")", "\n", "rowsum", "=", "np", ".", "array", "(", "adj_", ".", "sum", "(", "1", ")", ")", "\n", "degree_mat_inv_sqrt", "=", "sp", ".", "diags", "(", "np", ".", "power", "(", "rowsum", ",", "-", "0.5", ")", ".", "flatten", "(", ")", ")", "\n", "adj_normalized", "=", "adj_", ".", "dot", "(", "degree_mat_inv_sqrt", ")", ".", "transpose", "(", ")", ".", "dot", "(", "degree_mat_inv_sqrt", ")", ".", "tocoo", "(", ")", "\n", "return", "sparse_to_tuple", "(", "adj_normalized", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.pairwise_dist": [[410, 429], ["tensorflow.variable_scope", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reshape", "tensorflow.reshape", "tensorflow.sqrt", "tensorflow.square", "tensorflow.square", "tensorflow.maximum", "tensorflow.matmul"], "function", ["None"], ["", "def", "pairwise_dist", "(", "A", ",", "B", ")", ":", "\n", "    ", "\"\"\"Computes pairwise distances between each elements of A and each elements of B.\n    Args:\n        A,    [m,d] matrix\n        B,    [n,d] matrix\n    Returns:\n        D,    [m,n] matrix of pairwise distances\"\"\"", "\n", "with", "tf", ".", "variable_scope", "(", "'pairwise_dist'", ")", ":", "\n", "# squared norms of each row in A and B", "\n", "        ", "na", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "A", ")", ",", "1", ")", "\n", "nb", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "B", ")", ",", "1", ")", "\n", "\n", "# na as a row and nb as a co\"lumn vectors", "\n", "na", "=", "tf", ".", "reshape", "(", "na", ",", "[", "-", "1", ",", "1", "]", ")", "\n", "nb", "=", "tf", ".", "reshape", "(", "nb", ",", "[", "1", ",", "-", "1", "]", ")", "\n", "\n", "# return pairwise euclidead difference matrix", "\n", "D", "=", "tf", ".", "sqrt", "(", "tf", ".", "maximum", "(", "na", "-", "2", "*", "tf", ".", "matmul", "(", "A", ",", "B", ",", "False", ",", "True", ")", "+", "nb", ",", "0.0", ")", ")", "\n", "", "return", "D", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.logitexp": [[445, 451], ["tensorflow.clip_by_value", "tensorflow.clip_by_value", "tensorflow.math.log", "tensorflow.math.log", "tensorflow.clip_by_value", "tensorflow.math.exp", "tensorflow.math.expm1"], "function", ["None"], ["", "", "def", "logitexp", "(", "logp", ")", ":", "\n", "    ", "pos", "=", "tf", ".", "clip_by_value", "(", "logp", ",", "clip_value_min", "=", "-", "0.69314718056", ",", "clip_value_max", "=", "1e6", ")", "\n", "neg", "=", "tf", ".", "clip_by_value", "(", "logp", ",", "clip_value_min", "=", "-", "1e6", ",", "clip_value_max", "=", "-", "0.69314718056", ")", "\n", "neg_val", "=", "neg", "-", "tf", ".", "math", ".", "log", "(", "1", "-", "tf", ".", "math", ".", "exp", "(", "neg", ")", ")", "\n", "pos_val", "=", "-", "tf", ".", "math", ".", "log", "(", "tf", ".", "clip_by_value", "(", "tf", ".", "math", ".", "expm1", "(", "-", "pos", ")", ",", "clip_value_min", "=", "1e-20", ",", "clip_value_max", "=", "1e6", ")", ")", "\n", "return", "pos_val", "+", "neg_val", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.sample_bipartite": [[453, 462], ["tensorflow.reshape", "tensorflow.cond", "tensorflow.reshape", "tensorflow.matmul", "tensorflow.transpose", "tensorflow.sigmoid", "tensorflow_probability.distributions.Bernoulli().sample", "bayRel_TCGA.LogitRelaxedBernoulli.rsample", "tensorflow_probability.distributions.Bernoulli", "bayRel_TCGA.LogitRelaxedBernoulli"], "function", ["home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.LogitRelaxedBernoulli.rsample"], ["", "def", "sample_bipartite", "(", "Z1", ",", "Z2", ",", "g", ",", "training", "=", "True", ",", "temperature", "=", "0.3", ")", ":", "\n", "    ", "logits", "=", "tf", ".", "reshape", "(", "tf", ".", "matmul", "(", "Z1", ",", "tf", ".", "transpose", "(", "Z2", ")", ")", ",", "[", "-", "1", ",", "1", "]", ")", "\n", "A_vals", "=", "tf", ".", "cond", "(", "training", ",", "lambda", ":", "tf", ".", "sigmoid", "(", "LogitRelaxedBernoulli", "(", "logits", "=", "logits", "\n", ",", "temperature", "=", "temperature", ")", ".", "rsample", "(", ")", ")", "\n", ",", "lambda", ":", "tfp", ".", "distributions", ".", "Bernoulli", "(", "logits", "=", "logits", ",", "dtype", "=", "tf", ".", "float32", ")", ".", "sample", "(", ")", ")", "\n", "\n", "\n", "A", "=", "tf", ".", "reshape", "(", "A_vals", ",", "[", "Z1", ".", "shape", "[", "0", "]", ",", "Z2", ".", "shape", "[", "0", "]", "]", ")", "\n", "return", "A", "\n", "\n"]], "home.repos.pwc.inspect_result.ehsanhajiramezanali_BayReL.src.bayRel_TCGA.pos_val": [[770, 777], ["enumerate", "len"], "function", ["None"], ["", "def", "pos_val", "(", "biadj", ",", "val_interacts", ")", ":", "\n", "    ", "counter", "=", "0.0", "\n", "for", "i", ",", "e", "in", "enumerate", "(", "val_interacts", ")", ":", "\n", "        ", "if", "biadj", "[", "e", "[", "0", "]", ",", "e", "[", "1", "]", "]", ":", "\n", "            ", "counter", "+=", "1.0", "\n", "\n", "", "", "return", "counter", "/", "(", "1.0", "*", "len", "(", "val_interacts", ")", ")", "\n", "\n"]]}