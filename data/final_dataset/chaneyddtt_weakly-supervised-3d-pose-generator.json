{"home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Camnet.__init__": [[6, 10], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "latent_dim", ",", "output_dim", ",", "name_scope", "=", "'Camnet'", ")", ":", "\n", "        ", "self", ".", "latent_dim", "=", "latent_dim", "\n", "self", ".", "name_scope", "=", "name_scope", "\n", "self", ".", "output_dim", "=", "output_dim", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Camnet.forward": [[11, 25], ["tensorflow.variable_scope", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer_linear"], "methods", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer_linear"], ["", "def", "forward", "(", "self", ",", "input_feature", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "self", ".", "name_scope", ")", ":", "\n", "\n", "            ", "lc11", "=", "fc_layer", "(", "input_feature", ",", "self", ".", "latent_dim", ",", "name", "=", "'camfc1'", ")", "\n", "lc12", "=", "fc_layer", "(", "lc11", ",", "self", ".", "latent_dim", ",", "name", "=", "'camfc2'", ")", "\n", "lc13", "=", "input_feature", "+", "lc12", "\n", "\n", "lc21", "=", "fc_layer", "(", "lc13", ",", "self", ".", "latent_dim", ",", "name", "=", "'camfc3'", ")", "\n", "lc22", "=", "fc_layer", "(", "lc21", ",", "self", ".", "latent_dim", ",", "name", "=", "'camfc4'", ")", "\n", "lc23", "=", "lc13", "+", "lc22", "\n", "\n", "lc_out", "=", "fc_layer_linear", "(", "lc23", ",", "self", ".", "output_dim", ",", "name", "=", "'camfc5'", ")", "\n", "\n", "return", "lc_out", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Posenet.__init__": [[28, 33], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "latent_dim", ",", "output_dim", ",", "name_scope", "=", "'Posenet'", ")", ":", "\n", "\n", "        ", "self", ".", "latent_dim", "=", "latent_dim", "\n", "self", ".", "name_scope", "=", "name_scope", "\n", "self", ".", "output_dim", "=", "output_dim", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Posenet.forward": [[34, 47], ["tensorflow.variable_scope", "tensorflow.concat", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer_linear"], "methods", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer_linear"], ["", "def", "forward", "(", "self", ",", "input_feature", ",", "noise", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "self", ".", "name_scope", ")", ":", "\n", "            ", "concat", "=", "tf", ".", "concat", "(", "[", "input_feature", ",", "noise", "]", ",", "axis", "=", "-", "1", ")", "\n", "lp11", "=", "fc_layer", "(", "concat", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc1'", ")", "\n", "lp12", "=", "fc_layer", "(", "lp11", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc2'", ")", "\n", "lp13", "=", "input_feature", "+", "lp12", "\n", "\n", "lp21", "=", "fc_layer", "(", "lp13", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc3'", ")", "\n", "lp22", "=", "fc_layer", "(", "lp21", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc4'", ")", "\n", "lp23", "=", "lp13", "+", "lp22", "\n", "lc_out", "=", "fc_layer_linear", "(", "lp23", ",", "self", ".", "output_dim", ",", "name", "=", "'posefc5'", ")", "\n", "\n", "return", "lc_out", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Encoder.__init__": [[50, 54], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "latent_dim", ",", "output_dim", ",", "name_scope", "=", "'Encoder'", ")", ":", "\n", "        ", "self", ".", "latent_dim", "=", "latent_dim", "\n", "self", ".", "output_dim", "=", "output_dim", "\n", "self", ".", "name_scope", "=", "name_scope", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Encoder.forward": [[55, 63], ["tensorflow.variable_scope", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer_linear"], "methods", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer_linear"], ["", "def", "forward", "(", "self", ",", "input_pose", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "self", ".", "name_scope", ")", ":", "\n", "            ", "le10", "=", "fc_layer", "(", "input_pose", ",", "self", ".", "latent_dim", ",", "name", "=", "'encfc1'", ")", "\n", "le11", "=", "fc_layer", "(", "le10", ",", "self", ".", "latent_dim", ",", "name", "=", "'encfc2'", ")", "\n", "le12", "=", "fc_layer", "(", "le11", ",", "self", ".", "latent_dim", ",", "name", "=", "'encfc3'", ")", "\n", "le13", "=", "le10", "+", "le12", "\n", "le_out", "=", "fc_layer_linear", "(", "le13", ",", "self", ".", "output_dim", ",", "name", "=", "'encfc4'", ")", "\n", "return", "le_out", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Posenet_repnet.__init__": [[66, 71], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "latent_dim", ",", "output_dim", ",", "name_scope", "=", "'Posenet'", ")", ":", "\n", "\n", "        ", "self", ".", "latent_dim", "=", "latent_dim", "\n", "self", ".", "name_scope", "=", "name_scope", "\n", "self", ".", "output_dim", "=", "output_dim", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.Posenet_repnet.forward": [[72, 84], ["tensorflow.variable_scope", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer_linear"], "methods", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer_linear"], ["", "def", "forward", "(", "self", ",", "input_feature", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "self", ".", "name_scope", ")", ":", "\n", "            ", "lp11", "=", "fc_layer", "(", "input_feature", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc1'", ")", "\n", "lp12", "=", "fc_layer", "(", "lp11", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc2'", ")", "\n", "lp13", "=", "input_feature", "+", "lp12", "\n", "\n", "lp21", "=", "fc_layer", "(", "lp13", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc3'", ")", "\n", "lp22", "=", "fc_layer", "(", "lp21", ",", "self", ".", "latent_dim", ",", "name", "=", "'posefc4'", ")", "\n", "lp23", "=", "lp13", "+", "lp22", "\n", "lc_out", "=", "fc_layer_linear", "(", "lp23", ",", "self", ".", "output_dim", ",", "name", "=", "'posefc5'", ")", "\n", "\n", "return", "lc_out", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.__init__": [[87, 92], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "latent_dim_pose", ",", "latent_dim_kcs", ",", "output_dim", ",", "name_scope", "=", "'Discriminator'", ")", ":", "\n", "        ", "self", ".", "latent_dim_pose", "=", "latent_dim_pose", "\n", "self", ".", "latent_dim_kcs", "=", "latent_dim_kcs", "\n", "self", ".", "output_dim", "=", "output_dim", "\n", "self", ".", "name_scope", "=", "name_scope", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward": [[93, 117], ["tensorflow.variable_scope", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "layers.fc_layer", "tensorflow.concat", "layers.fc_layer_linear", "vs.reuse_variables"], "methods", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer_linear"], ["", "def", "forward", "(", "self", ",", "pose", ",", "kcs", ",", "reuse", "=", "False", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "self", ".", "name_scope", ")", "as", "vs", ":", "\n", "            ", "if", "(", "reuse", ")", ":", "\n", "                ", "vs", ".", "reuse_variables", "(", ")", "\n", "", "ldp10", "=", "fc_layer", "(", "pose", ",", "self", ".", "latent_dim_pose", ",", "name", "=", "'discfc0'", ")", "\n", "ldp11", "=", "fc_layer", "(", "ldp10", ",", "self", ".", "latent_dim_pose", ",", "name", "=", "'discfc1'", ")", "\n", "ldp12", "=", "fc_layer", "(", "ldp11", ",", "self", ".", "latent_dim_pose", ",", "name", "=", "'discfc2'", ")", "\n", "ldp13", "=", "ldp10", "+", "ldp12", "\n", "ldp21", "=", "fc_layer", "(", "ldp13", ",", "self", ".", "latent_dim_pose", ",", "name", "=", "'discfc3'", ")", "\n", "ldp22", "=", "fc_layer", "(", "ldp21", ",", "self", ".", "latent_dim_pose", ",", "name", "=", "'discfc4'", ")", "\n", "ldp23", "=", "ldp13", "+", "ldp22", "\n", "\n", "ldk10", "=", "fc_layer", "(", "kcs", ",", "self", ".", "latent_dim_kcs", ",", "name", "=", "'discfc5'", ")", "\n", "ldk11", "=", "fc_layer", "(", "ldk10", ",", "self", ".", "latent_dim_kcs", ",", "name", "=", "'discfc6'", ")", "\n", "ldk12", "=", "fc_layer", "(", "ldk11", ",", "self", ".", "latent_dim_kcs", ",", "name", "=", "'discfc7'", ")", "\n", "ldk13", "=", "ldk10", "+", "ldk12", "\n", "ldk21", "=", "fc_layer", "(", "ldk13", ",", "self", ".", "latent_dim_kcs", ",", "name", "=", "'discfc8'", ")", "\n", "ldk22", "=", "fc_layer", "(", "ldk21", ",", "self", ".", "latent_dim_kcs", ",", "name", "=", "'discfc9'", ")", "\n", "ldk23", "=", "ldk13", "+", "ldk22", "\n", "\n", "ld", "=", "tf", ".", "concat", "(", "[", "ldp23", ",", "ldk23", "]", ",", "axis", "=", "-", "1", ")", "\n", "ld_out", "=", "fc_layer_linear", "(", "ld", ",", "self", ".", "output_dim", ",", "name", "=", "'dicsfc10'", ")", "\n", "\n", "return", "ld_out", "\n", "", "", "", ""]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmdgan_mh_enc.Pose_mmdgan_enc.__init__": [[10, 37], ["tensorflow.summary.FileWriter", "tensorflow.summary.FileWriter", "tensorflow.summary.FileWriter", "tensorflow.summary.FileWriter", "tensorflow.Variable", "tensorflow.Variable", "os.path.join", "os.path.join"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "posenet", ",", "camnet", ",", "critic", ",", "encoder", ",", "latent_dim", ",", "batchsize", ",", "summary_dir", ",", "epochs", ",", "pose2d_dim", ",", "pose3d_dim", ",", "kernel", ",", "\n", "reproweight", "=", "100.0", ",", "cam_weight", "=", "100.0", ",", "gp_weight", "=", "1.0", ",", "reg_weight", "=", "10.0", ",", "dot_weight", "=", "10.0", ",", "enc_weight", "=", "10.0", ",", "\n", "beta1", "=", "0.5", ",", "\n", "dtype", "=", "tf", ".", "float32", ")", ":", "\n", "        ", "self", ".", "posenet", "=", "posenet", "\n", "self", ".", "camnet", "=", "camnet", "\n", "self", ".", "critic", "=", "critic", "\n", "self", ".", "encoder", "=", "encoder", "\n", "self", ".", "latent_dim", "=", "latent_dim", "\n", "self", ".", "inputsize", "=", "pose2d_dim", "\n", "self", ".", "outputsize", "=", "pose3d_dim", "\n", "self", ".", "kernel", "=", "kernel", "\n", "self", ".", "dtype", "=", "dtype", "\n", "self", ".", "batchsize", "=", "batchsize", "\n", "self", ".", "summary_dir", "=", "summary_dir", "\n", "self", ".", "epochs", "=", "epochs", "\n", "self", ".", "training_ratio", "=", "5", "\n", "self", ".", "repro_weight", "=", "reproweight", "\n", "self", ".", "cam_weight", "=", "cam_weight", "\n", "self", ".", "gp_weight", "=", "gp_weight", "\n", "self", ".", "reg_weight", "=", "reg_weight", "\n", "self", ".", "enc_weight", "=", "enc_weight", "\n", "self", ".", "beta1", "=", "beta1", "\n", "self", ".", "dot_weight", "=", "dot_weight", "\n", "self", ".", "train_writer", "=", "tf", ".", "summary", ".", "FileWriter", "(", "os", ".", "path", ".", "join", "(", "summary_dir", ",", "'train'", ")", ")", "\n", "self", ".", "test_writer", "=", "tf", ".", "summary", ".", "FileWriter", "(", "os", ".", "path", ".", "join", "(", "summary_dir", ",", "'test'", ")", ")", "\n", "self", ".", "global_step", "=", "tf", ".", "Variable", "(", "0", ",", "trainable", "=", "False", ",", "name", "=", "'global_step'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmdgan_mh_enc.Pose_mmdgan_enc.build_model": [[38, 117], ["tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "layers.kcs_layer", "tensorflow.flatten", "tensorflow.flatten", "layers.kcs_layer", "tensorflow.flatten", "tensorflow.flatten", "ops.weightedsample", "layers.kcs_layer", "tensorflow.flatten", "tensorflow.flatten", "layers.reprojection_layer", "tensorflow.trainable_variables", "tensorflow.trainable_variables", "tensorflow.train.AdamOptimizer", "tensorflow.train.AdamOptimizer", "tensorflow.train.AdamOptimizer", "tensorflow.train.AdamOptimizer", "mmdgan_mh_enc.Pose_mmdgan_enc.d_optimim.compute_gradients", "mmdgan_mh_enc.Pose_mmdgan_enc.g_optimim.compute_gradients", "mmdgan_mh_enc.Pose_mmdgan_enc.d_optimim.apply_gradients", "mmdgan_mh_enc.Pose_mmdgan_enc.g_optimim.apply_gradients", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.summary.scalar", "tensorflow.train.Saver", "tensorflow.train.Saver", "tensorflow.variable_scope", "tensorflow.variable_scope", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.placeholder", "tensorflow.variable_scope", "tensorflow.variable_scope", "layers.fc_layer", "layers.resisual_block", "mmdgan_mh_enc.Pose_mmdgan_enc.posenet.forward", "mmdgan_mh_enc.Pose_mmdgan_enc.camnet.forward", "mmdgan_mh_enc.Pose_mmdgan_enc.encoder.forward", "tensorflow.variable_scope", "tensorflow.variable_scope", "mmdgan_mh_enc.Pose_mmdgan_enc.critic.forward", "mmdgan_mh_enc.Pose_mmdgan_enc.critic.forward", "mmdgan_mh_enc.Pose_mmdgan_enc.critic.forward", "tensorflow.variable_scope", "tensorflow.variable_scope", "ops.weighted_pose_2d_loss", "ops.cam_loss", "ops.regularizer", "getattr", "getattr.", "mmd.mmd2", "mmd.gp_loss", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.global_variables", "tensorflow.global_variables", "tensorflow.abs", "tensorflow.abs"], "methods", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.kcs_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.kcs_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.weightedsample", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.kcs_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.reprojection_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.resisual_block", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.base_module.discriminator.forward", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.weighted_pose_2d_loss", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.cam_loss", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.regularizer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd.mmd2", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd.gp_loss"], ["", "def", "build_model", "(", "self", ")", ":", "\n", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "'Input'", ")", ":", "\n", "            ", "generator_in", "=", "tf", ".", "placeholder", "(", "self", ".", "dtype", ",", "shape", "=", "[", "self", ".", "batchsize", ",", "self", ".", "inputsize", "]", ",", "name", "=", "'generator_in'", ")", "\n", "generator_in_noise", "=", "tf", ".", "placeholder", "(", "self", ".", "dtype", ",", "shape", "=", "[", "self", ".", "batchsize", ",", "self", ".", "latent_dim", "]", ",", "name", "=", "'generator_in_noise'", ")", "\n", "discriminator_in", "=", "tf", ".", "placeholder", "(", "self", ".", "dtype", ",", "shape", "=", "[", "self", ".", "batchsize", ",", "self", ".", "outputsize", "]", ",", "name", "=", "'discriminator_in'", ")", "\n", "\n", "", "self", ".", "generator_in", "=", "generator_in", "\n", "self", ".", "discriminator_in", "=", "discriminator_in", "\n", "self", ".", "generator_in_noise", "=", "generator_in_noise", "\n", "self", ".", "isTraining", "=", "tf", ".", "placeholder", "(", "tf", ".", "bool", ",", "name", "=", "'isTrainingflag'", ")", "\n", "self", ".", "lr_d", "=", "tf", ".", "placeholder", "(", "self", ".", "dtype", ",", "name", "=", "'learning_rate_d'", ")", "\n", "self", ".", "lr_g", "=", "tf", ".", "placeholder", "(", "self", ".", "dtype", ",", "name", "=", "'learning_rate_g'", ")", "\n", "\n", "with", "tf", ".", "variable_scope", "(", "'Generator'", ")", ":", "\n", "            ", "h1", "=", "fc_layer", "(", "generator_in", ",", "self", ".", "latent_dim", ",", "name", "=", "'genfc1'", ")", "\n", "h2", "=", "resisual_block", "(", "h1", ",", "self", ".", "latent_dim", ",", "name_scope", "=", "'Block1'", ")", "\n", "pose_out", "=", "self", ".", "posenet", ".", "forward", "(", "h2", ",", "generator_in_noise", ")", "\n", "cam_out", "=", "self", ".", "camnet", ".", "forward", "(", "h2", ")", "\n", "enc_out", "=", "self", ".", "encoder", ".", "forward", "(", "pose_out", ")", "\n", "\n", "", "psi_out", "=", "kcs_layer", "(", "pose_out", ")", "\n", "psi_vec_out", "=", "tcl", ".", "flatten", "(", "psi_out", ")", "\n", "\n", "psi_real", "=", "kcs_layer", "(", "discriminator_in", ")", "\n", "psi_vec_real", "=", "tcl", ".", "flatten", "(", "psi_real", ")", "\n", "\n", "average_samples", "=", "ops", ".", "weightedsample", "(", "discriminator_in", ",", "pose_out", ")", "\n", "psi_average_samples", "=", "kcs_layer", "(", "average_samples", ")", "\n", "psi_average_samples_vec", "=", "tcl", ".", "flatten", "(", "psi_average_samples", ")", "\n", "\n", "pose2d_repro", "=", "reprojection_layer", "(", "cam_out", ",", "pose_out", ")", "\n", "\n", "with", "tf", ".", "variable_scope", "(", "'Discriminator'", ")", ":", "\n", "            ", "d_fake", "=", "self", ".", "critic", ".", "forward", "(", "pose_out", ",", "psi_vec_out", ")", "\n", "d_real", "=", "self", ".", "critic", ".", "forward", "(", "discriminator_in", ",", "psi_vec_real", ",", "reuse", "=", "True", ")", "\n", "d_average", "=", "self", ".", "critic", ".", "forward", "(", "average_samples", ",", "psi_average_samples_vec", ",", "reuse", "=", "True", ")", "\n", "", "self", ".", "d_real", "=", "d_real", "\n", "self", ".", "d_fake", "=", "d_fake", "\n", "\n", "with", "tf", ".", "variable_scope", "(", "'loss'", ")", ":", "\n", "            ", "self", ".", "loss_reprojection", "=", "ops", ".", "weighted_pose_2d_loss", "(", "generator_in", ",", "pose2d_repro", ")", "\n", "self", ".", "loss_cam", "=", "ops", ".", "cam_loss", "(", "cam_out", ")", "\n", "self", ".", "loss_reg", "=", "ops", ".", "regularizer", "(", "pose_out", ",", "generator_in_noise", ")", "\n", "\n", "kernel", "=", "getattr", "(", "mmd", ",", "'_%s_kernel'", "%", "self", ".", "kernel", ")", "\n", "K_XX", ",", "K_XY", ",", "K_YY", ",", "wts", "=", "kernel", "(", "d_fake", ",", "d_real", ",", "add_dot", "=", "self", ".", "dot_weight", ")", "\n", "self", ".", "loss_g", "=", "mmd", ".", "mmd2", "(", "[", "K_XX", ",", "K_XY", ",", "K_YY", ",", "False", "]", ")", "\n", "self", ".", "loss_d", "=", "-", "self", ".", "loss_g", "\n", "self", ".", "loss_gp", "=", "mmd", ".", "gp_loss", "(", "d_average", ",", "average_samples", ",", "d_real", ",", "d_fake", ",", "kernel", ",", "self", ".", "dot_weight", ")", "\n", "self", ".", "loss_enc", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "abs", "(", "enc_out", "-", "self", ".", "generator_in_noise", ")", ")", "\n", "", "total_loss_g", "=", "self", ".", "repro_weight", "*", "self", ".", "loss_reprojection", "+", "self", ".", "cam_weight", "*", "self", ".", "loss_cam", "+", "self", ".", "loss_g", "+", "self", ".", "reg_weight", "*", "self", ".", "loss_reg", "+", "self", ".", "enc_weight", "*", "self", ".", "loss_enc", "\n", "total_loss_d", "=", "self", ".", "gp_weight", "*", "self", ".", "loss_gp", "+", "self", ".", "loss_d", "\n", "\n", "self", ".", "output_pose", "=", "pose_out", "\n", "self", ".", "camout", "=", "cam_out", "\n", "\n", "t_vars", "=", "tf", ".", "trainable_variables", "(", ")", "\n", "self", ".", "d_vars", "=", "[", "var", "for", "var", "in", "t_vars", "if", "'Discriminator'", "in", "var", ".", "name", "]", "\n", "self", ".", "g_var", "=", "[", "var", "for", "var", "in", "t_vars", "if", "'Generator'", "in", "var", ".", "name", "]", "\n", "self", ".", "d_optimim", "=", "tf", ".", "train", ".", "AdamOptimizer", "(", "self", ".", "lr_d", ",", "beta1", "=", "self", ".", "beta1", ",", "beta2", "=", "0.9", ")", "\n", "self", ".", "g_optimim", "=", "tf", ".", "train", ".", "AdamOptimizer", "(", "self", ".", "lr_g", ",", "beta1", "=", "self", ".", "beta1", ",", "beta2", "=", "0.9", ")", "\n", "dgradients", "=", "self", ".", "d_optimim", ".", "compute_gradients", "(", "total_loss_d", ",", "self", ".", "d_vars", ")", "\n", "ggradients", "=", "self", ".", "g_optimim", ".", "compute_gradients", "(", "total_loss_g", ",", "self", ".", "g_var", ")", "\n", "# dgradients = [(tf.clip_by_norm(dd, 1.0), vv) for dd, vv in dgradients]", "\n", "# ggradients = [(tf.clip_by_norm(gg, 1.0), vv) for gg, vv in ggradients]", "\n", "self", ".", "dupdates", "=", "self", ".", "d_optimim", ".", "apply_gradients", "(", "dgradients", ",", "global_step", "=", "self", ".", "global_step", ")", "\n", "self", ".", "gupdates", "=", "self", ".", "g_optimim", ".", "apply_gradients", "(", "ggradients", ",", "global_step", "=", "self", ".", "global_step", ")", "\n", "\n", "self", ".", "loss_repro_summ", "=", "tf", ".", "summary", ".", "scalar", "(", "'loss/loss_repro'", ",", "self", ".", "loss_reprojection", ",", "collections", "=", "[", "'train'", ",", "'test'", "]", ")", "\n", "self", ".", "loss_cam_summ", "=", "tf", ".", "summary", ".", "scalar", "(", "'loss/loss_cam'", ",", "self", ".", "loss_cam", ",", "collections", "=", "[", "'train'", ",", "'test'", "]", ")", "\n", "self", ".", "loss_gp_summ", "=", "tf", ".", "summary", ".", "scalar", "(", "'loss/loss_gp'", ",", "self", ".", "loss_gp", ",", "collections", "=", "[", "'train'", "]", ")", "\n", "self", ".", "loss_d_summ", "=", "tf", ".", "summary", ".", "scalar", "(", "'loss/loss_d'", ",", "self", ".", "loss_d", ",", "collections", "=", "[", "'train'", "]", ")", "\n", "self", ".", "loss_g_summ", "=", "tf", ".", "summary", ".", "scalar", "(", "'loss/loss_g'", ",", "self", ".", "loss_g", ",", "collections", "=", "[", "'train'", "]", ")", "\n", "self", ".", "learning_rate_summary_d", "=", "tf", ".", "summary", ".", "scalar", "(", "'learning_rate_d'", ",", "self", ".", "lr_d", ")", "\n", "self", ".", "learning_rate_summary_g", "=", "tf", ".", "summary", ".", "scalar", "(", "'learning_rate_g'", ",", "self", ".", "lr_g", ")", "\n", "\n", "self", ".", "saver", "=", "tf", ".", "train", ".", "Saver", "(", "tf", ".", "global_variables", "(", ")", ",", "max_to_keep", "=", "10", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmdgan_mh_enc.Pose_mmdgan_enc.DStep": [[118, 134], ["sess.run"], "methods", ["None"], ["", "def", "DStep", "(", "self", ",", "sess", ",", "poses2d", ",", "poses3d", ",", "noise", ",", "lr_d", ",", "isTraining", ")", ":", "\n", "        ", "_", ",", "loss_d", ",", "loss_gp", ",", "loss_d_summ", ",", "loss_g_summ", ",", "lr_summ", "=", "sess", ".", "run", "(", "[", "self", ".", "dupdates", ",", "\n", "self", ".", "loss_d", ",", "\n", "self", ".", "loss_gp", ",", "\n", "self", ".", "loss_d_summ", ",", "\n", "self", ".", "loss_gp_summ", ",", "\n", "self", ".", "learning_rate_summary_d", "]", ",", "\n", "feed_dict", "=", "{", "self", ".", "generator_in", ":", "poses2d", ",", "\n", "self", ".", "discriminator_in", ":", "poses3d", ",", "\n", "self", ".", "generator_in_noise", ":", "noise", ",", "\n", "self", ".", "lr_d", ":", "lr_d", ",", "\n", "self", ".", "isTraining", ":", "isTraining", "}", ")", "\n", "# self.train_writer.add_summary(loss_d_summ, self.global_step)", "\n", "# self.train_writer.add_summary(loss_g_summ, self.global_step)", "\n", "# self.train_writer.add_summary(lr_summ, self.global_step)", "\n", "return", "loss_d", ",", "loss_gp", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmdgan_mh_enc.Pose_mmdgan_enc.Gstep": [[135, 152], ["sess.run"], "methods", ["None"], ["", "def", "Gstep", "(", "self", ",", "sess", ",", "poses2d", ",", "poses3d", ",", "noise", ",", "lr_g", ",", "isTraining", ")", ":", "\n", "        ", "_", ",", "loss_g", ",", "loss_repro", ",", "loss_cam", ",", "loss_reg", ",", "loss_enc", ",", "loss_g_summ", ",", "loss_repro_summ", ",", "loss_cam_summ", "=", "sess", ".", "run", "(", "[", "self", ".", "gupdates", ",", "\n", "self", ".", "loss_g", ",", "\n", "self", ".", "loss_reprojection", ",", "\n", "self", ".", "loss_cam", ",", "\n", "self", ".", "loss_reg", ",", "\n", "self", ".", "loss_enc", ",", "\n", "self", ".", "loss_g_summ", ",", "\n", "self", ".", "loss_repro_summ", ",", "\n", "self", ".", "loss_cam_summ", "]", ",", "\n", "feed_dict", "=", "{", "self", ".", "generator_in", ":", "poses2d", ",", "\n", "self", ".", "discriminator_in", ":", "poses3d", ",", "\n", "self", ".", "generator_in_noise", ":", "noise", ",", "\n", "self", ".", "lr_g", ":", "lr_g", ",", "\n", "self", ".", "isTraining", ":", "isTraining", "}", ")", "\n", "\n", "return", "loss_g", ",", "loss_repro", ",", "loss_cam", ",", "loss_reg", ",", "loss_enc", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmdgan_mh_enc.Pose_mmdgan_enc.inference": [[153, 162], ["sess.run"], "methods", ["None"], ["", "def", "inference", "(", "self", ",", "sess", ",", "poses2d", ",", "poses3d", ",", "noise", ",", "lr_g", ")", ":", "\n", "        ", "pose_out", ",", "cam_out", ",", "d_real", ",", "d_fake", "=", "sess", ".", "run", "(", "[", "self", ".", "output_pose", ",", "self", ".", "camout", ",", "self", ".", "d_real", ",", "self", ".", "d_fake", "]", ",", "\n", "feed_dict", "=", "{", "self", ".", "generator_in", ":", "poses2d", ",", "\n", "self", ".", "discriminator_in", ":", "poses3d", ",", "\n", "self", ".", "generator_in_noise", ":", "noise", ",", "\n", "self", ".", "lr_g", ":", "lr_g", ",", "\n", "self", ".", "isTraining", ":", "False", "}", ")", "\n", "\n", "return", "pose_out", ",", "cam_out", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.weightedsample": [[5, 8], ["tensorflow.random.uniform", "tensorflow.shape"], "function", ["None"], ["def", "weightedsample", "(", "realsample", ",", "fakesample", ")", ":", "\n", "    ", "alpha", "=", "tf", ".", "random", ".", "uniform", "(", "shape", "=", "[", "tf", ".", "shape", "(", "realsample", ")", "[", "0", "]", ",", "1", "]", ")", "\n", "return", "alpha", "*", "realsample", "+", "(", "1.0", "-", "alpha", ")", "*", "fakesample", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.weighted_pose_2d_loss": [[10, 25], ["tensorflow.to_float", "tensorflow.to_float", "tensorflow.tile", "tensorflow.multiply", "tensorflow.reduce_mean", "tensorflow.abs", "numpy.array", "tensorflow.reshape", "tensorflow.reduce_sum", "tensorflow.shape"], "function", ["None"], ["", "def", "weighted_pose_2d_loss", "(", "pose2d_gt", ",", "pose2d_repro", ")", ":", "\n", "\n", "    ", "diff", "=", "tf", ".", "to_float", "(", "tf", ".", "abs", "(", "pose2d_gt", "-", "pose2d_repro", ")", ")", "\n", "\n", "# weighting the joints", "\n", "weights_t", "=", "tf", ".", "to_float", "(", "\n", "np", ".", "array", "(", "[", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "0", ",", "1", ",", "0.1", ",", "0.1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "0", ",", "1", ",", "0.1", ",", "0.1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", "]", ")", ")", "\n", "\n", "weights", "=", "tf", ".", "tile", "(", "tf", ".", "reshape", "(", "weights_t", ",", "(", "1", ",", "32", ")", ")", ",", "(", "tf", ".", "shape", "(", "pose2d_repro", ")", "[", "0", "]", ",", "1", ")", ")", "\n", "\n", "tmp", "=", "tf", ".", "multiply", "(", "weights", ",", "diff", ")", "\n", "\n", "loss", "=", "tf", ".", "reduce_sum", "(", "tmp", ",", "axis", "=", "1", ")", "/", "32", "\n", "\n", "return", "tf", ".", "reduce_mean", "(", "loss", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.weighted_pose_2d_loss_mj": [[27, 39], ["tensorflow.to_float", "tensorflow.to_float", "tensorflow.tile", "tensorflow.multiply", "tensorflow.multiply", "tensorflow.reduce_mean", "tensorflow.abs", "numpy.array", "tensorflow.reshape", "tensorflow.reduce_sum", "tensorflow.shape"], "function", ["None"], ["", "def", "weighted_pose_2d_loss_mj", "(", "pose2d_gt", ",", "pose2d_repro", ",", "missing_idx", ")", ":", "\n", "    ", "diff", "=", "tf", ".", "to_float", "(", "tf", ".", "abs", "(", "pose2d_gt", "-", "pose2d_repro", ")", ")", "\n", "\n", "# weighting the joints", "\n", "weights_t", "=", "tf", ".", "to_float", "(", "\n", "np", ".", "array", "(", "[", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "0", ",", "1", ",", "0.1", ",", "0.1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "0", ",", "1", ",", "0.1", ",", "0.1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", ",", "1", "]", ")", ")", "\n", "weights", "=", "tf", ".", "tile", "(", "tf", ".", "reshape", "(", "weights_t", ",", "(", "1", ",", "32", ")", ")", ",", "(", "tf", ".", "shape", "(", "pose2d_repro", ")", "[", "0", "]", ",", "1", ")", ")", "\n", "weights_f", "=", "tf", ".", "multiply", "(", "missing_idx", ",", "weights", ")", "\n", "tmp", "=", "tf", ".", "multiply", "(", "weights_f", ",", "diff", ")", "\n", "loss", "=", "tf", ".", "reduce_sum", "(", "tmp", ",", "axis", "=", "1", ")", "/", "32", "\n", "\n", "return", "tf", ".", "reduce_mean", "(", "loss", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.wassertein_loss": [[41, 44], ["tensorflow.reduce_mean"], "function", ["None"], ["", "def", "wassertein_loss", "(", "d_real", ",", "d_fake", ")", ":", "\n", "    ", "loss", "=", "tf", ".", "reduce_mean", "(", "d_fake", "-", "d_real", ")", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.cam_loss": [[46, 56], ["tensorflow.reshape", "tensorflow.matmul", "tensorflow.reduce_sum", "tensorflow.reduce_mean", "tensorflow.transpose", "tensorflow.eye", "tensorflow.abs", "tensorflow.reshape", "tensorflow.trace"], "function", ["None"], ["", "def", "cam_loss", "(", "cam_param", ")", ":", "\n", "    ", "m", "=", "tf", ".", "reshape", "(", "cam_param", ",", "[", "-", "1", ",", "2", ",", "3", "]", ")", "\n", "\n", "m_sq", "=", "tf", ".", "matmul", "(", "m", ",", "tf", ".", "transpose", "(", "m", ",", "perm", "=", "[", "0", ",", "2", ",", "1", "]", ")", ")", "\n", "\n", "loss_mat", "=", "tf", ".", "reshape", "(", "(", "2", "/", "tf", ".", "trace", "(", "m_sq", ")", ")", ",", "[", "-", "1", ",", "1", ",", "1", "]", ")", "*", "m_sq", "-", "tf", ".", "eye", "(", "2", ")", "\n", "\n", "loss", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "abs", "(", "loss_mat", ")", ",", "axis", "=", "[", "1", ",", "2", "]", ")", "\n", "\n", "return", "tf", ".", "reduce_mean", "(", "loss", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.gp_loss": [[58, 65], ["tensorflow.sqrt", "tensorflow.reduce_mean", "tensorflow.gradients", "tensorflow.reduce_sum", "tensorflow.square"], "function", ["None"], ["", "def", "gp_loss", "(", "d_out", ",", "average_samples", ")", ":", "\n", "\n", "    ", "gradients", "=", "tf", ".", "gradients", "(", "d_out", ",", "[", "average_samples", "]", ")", "[", "0", "]", "\n", "slopes", "=", "tf", ".", "sqrt", "(", "tf", ".", "reduce_sum", "(", "tf", ".", "square", "(", "gradients", ")", ",", "reduction_indices", "=", "[", "1", "]", ")", ")", "\n", "gradient_penalty", "=", "tf", ".", "reduce_mean", "(", "(", "slopes", "-", "1.", ")", "**", "2", ")", "\n", "\n", "return", "gradient_penalty", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.regularizer": [[67, 78], ["tensorflow.to_int32", "tensorflow.slice", "tensorflow.slice", "tensorflow.slice", "tensorflow.slice", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.nn.relu", "tensorflow.reduce_mean", "tensorflow.abs", "tensorflow.abs", "tensorflow.shape"], "function", ["None"], ["", "def", "regularizer", "(", "g_out", ",", "z", ")", ":", "\n", "    ", "batch_size_h", "=", "tf", ".", "to_int32", "(", "tf", ".", "shape", "(", "g_out", ")", "[", "0", "]", "/", "2", ")", "\n", "pose1", "=", "tf", ".", "slice", "(", "g_out", ",", "[", "0", ",", "0", "]", ",", "[", "batch_size_h", ",", "-", "1", "]", ")", "\n", "pose2", "=", "tf", ".", "slice", "(", "g_out", ",", "[", "batch_size_h", ",", "0", "]", ",", "[", "batch_size_h", ",", "-", "1", "]", ")", "\n", "z1", "=", "tf", ".", "slice", "(", "z", ",", "[", "0", ",", "0", "]", ",", "[", "batch_size_h", ",", "-", "1", "]", ")", "\n", "z2", "=", "tf", ".", "slice", "(", "z", ",", "[", "batch_size_h", ",", "0", "]", ",", "[", "batch_size_h", ",", "-", "1", "]", ")", "\n", "pose_diff", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "abs", "(", "pose1", "-", "pose2", ")", ",", "axis", "=", "1", ")", "\n", "z_diff", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "abs", "(", "z1", "-", "z2", ")", ",", "axis", "=", "1", ")", "\n", "loss", "=", "tf", ".", "nn", ".", "relu", "(", "1.0", "-", "pose_diff", "/", "z_diff", ")", "\n", "\n", "return", "tf", ".", "reduce_mean", "(", "loss", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.ops.compute_R": [[80, 94], ["numpy.linalg.norm", "numpy.cross", "numpy.zeros", "range"], "function", ["None"], ["", "def", "compute_R", "(", "K", ")", ":", "\n", "    ", "s", "=", "np", ".", "linalg", ".", "norm", "(", "K", ",", "ord", "=", "2", ",", "axis", "=", "(", "1", ",", "2", ")", ",", "keepdims", "=", "True", ")", "\n", "r", "=", "K", "/", "s", "\n", "# s = np.sqrt(np.trace(np.matmul(K, np.transpose(K, [0, 2, 1])), axis1=1, axis2=2)/2)", "\n", "# s = s[:, np.newaxis, np.newaxis]", "\n", "# r = K/s", "\n", "r_x", "=", "r", "[", ":", ",", "0", ":", "1", ",", ":", "]", "\n", "r_y", "=", "r", "[", ":", ",", "1", ":", "2", ",", ":", "]", "\n", "r_z", "=", "np", ".", "cross", "(", "r_x", ",", "r_y", ")", "\n", "R", "=", "np", ".", "zeros", "(", "[", "r", ".", "shape", "[", "0", "]", ",", "3", ",", "3", "]", ")", "\n", "for", "i", "in", "range", "(", "r", ".", "shape", "[", "0", "]", ")", ":", "\n", "        ", "R", "[", "i", ",", "0", ":", "2", ",", ":", "]", "=", "r", "[", "i", ",", ":", ",", ":", "]", "\n", "R", "[", "i", ",", "2", ",", ":", "]", "=", "r_z", "[", "i", ",", ":", ",", ":", "]", "\n", "", "return", "R", "\n", "", ""]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.main_mh.log_arguments": [[59, 64], ["logger.info", "logger.info", "getattr", "vars"], "function", ["None"], ["def", "log_arguments", "(", ")", ":", "\n", "    ", "logger", ".", "info", "(", "'Command: %s'", ",", "' '", ".", "join", "(", "sys", ".", "argv", ")", ")", "\n", "s", "=", "'\\n'", ".", "join", "(", "[", "'    {}: {}'", ".", "format", "(", "arg", ",", "getattr", "(", "args", ",", "arg", ")", ")", "for", "arg", "in", "vars", "(", "args", ")", "]", ")", "\n", "s", "=", "'Arguments:\\n'", "+", "s", "\n", "logger", ".", "info", "(", "s", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.eval.log_arguments": [[63, 68], ["logger.info", "logger.info", "getattr", "vars"], "function", ["None"], ["def", "log_arguments", "(", ")", ":", "\n", "    ", "logger", ".", "info", "(", "'Command: %s'", ",", "' '", ".", "join", "(", "sys", ".", "argv", ")", ")", "\n", "s", "=", "'\\n'", ".", "join", "(", "[", "'    {}: {}'", ".", "format", "(", "arg", ",", "getattr", "(", "args", ",", "arg", ")", ")", "for", "arg", "in", "vars", "(", "args", ")", "]", ")", "\n", "s", "=", "'Arguments:\\n'", "+", "s", "\n", "logger", ".", "info", "(", "s", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.weight_variable": [[4, 11], ["tensorflow.contrib.layers.variance_scaling_initializer", "tensorflow.get_variable"], "function", ["None"], ["def", "weight_variable", "(", "name", ",", "shape", ")", ":", "\n", "\n", "    ", "initer", "=", "tf", ".", "contrib", ".", "layers", ".", "variance_scaling_initializer", "(", ")", "\n", "return", "tf", ".", "get_variable", "(", "'W_'", "+", "name", ",", "\n", "dtype", "=", "tf", ".", "float32", ",", "\n", "shape", "=", "shape", ",", "\n", "initializer", "=", "initer", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.bias_variable": [[13, 19], ["tensorflow.constant", "tensorflow.get_variable"], "function", ["None"], ["", "def", "bias_variable", "(", "name", ",", "shape", ")", ":", "\n", "\n", "    ", "initial", "=", "tf", ".", "constant", "(", "0.", ",", "shape", "=", "shape", ",", "dtype", "=", "tf", ".", "float32", ")", "\n", "return", "tf", ".", "get_variable", "(", "'b_'", "+", "name", ",", "\n", "dtype", "=", "tf", ".", "float32", ",", "\n", "initializer", "=", "initial", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer_linear": [[21, 29], ["layers.weight_variable", "layers.bias_variable", "tensorflow.matmul", "x.get_shape"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.weight_variable", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.bias_variable"], ["", "def", "fc_layer_linear", "(", "x", ",", "num_units", ",", "name", ")", ":", "\n", "\n", "    ", "in_dim", "=", "x", ".", "get_shape", "(", ")", "[", "1", "]", "\n", "W", "=", "weight_variable", "(", "name", ",", "shape", "=", "[", "in_dim", ",", "num_units", "]", ")", "\n", "b", "=", "bias_variable", "(", "name", ",", "[", "num_units", "]", ")", "\n", "layer", "=", "tf", ".", "matmul", "(", "x", ",", "W", ")", "\n", "layer", "+=", "b", "\n", "return", "layer", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer": [[31, 40], ["layers.weight_variable", "layers.bias_variable", "tensorflow.matmul", "tensorflow.nn.leaky_relu", "x.get_shape"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.weight_variable", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.bias_variable"], ["", "def", "fc_layer", "(", "x", ",", "num_units", ",", "name", ")", ":", "\n", "\n", "    ", "in_dim", "=", "x", ".", "get_shape", "(", ")", "[", "1", "]", "\n", "W", "=", "weight_variable", "(", "name", ",", "shape", "=", "[", "in_dim", ",", "num_units", "]", ")", "\n", "b", "=", "bias_variable", "(", "name", ",", "[", "num_units", "]", ")", "\n", "layer", "=", "tf", ".", "matmul", "(", "x", ",", "W", ")", "\n", "layer", "+=", "b", "\n", "layer", "=", "tf", ".", "nn", ".", "leaky_relu", "(", "layer", ")", "\n", "return", "layer", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.reprojection_layer": [[42, 48], ["tensorflow.reshape", "tensorflow.reshape", "tensorflow.reshape", "tensorflow.to_float", "tensorflow.to_float", "tensorflow.matmul"], "function", ["None"], ["", "def", "reprojection_layer", "(", "cam", ",", "pose3d", ")", ":", "\n", "\n", "    ", "cam", "=", "tf", ".", "reshape", "(", "tf", ".", "to_float", "(", "cam", ")", ",", "[", "-", "1", ",", "2", ",", "3", "]", ")", "\n", "pose3d", "=", "tf", ".", "reshape", "(", "tf", ".", "to_float", "(", "pose3d", ")", ",", "[", "-", "1", ",", "3", ",", "16", "]", ")", "\n", "pose2d", "=", "tf", ".", "reshape", "(", "tf", ".", "matmul", "(", "cam", ",", "pose3d", ")", ",", "[", "-", "1", ",", "32", "]", ")", "\n", "return", "pose2d", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.kcs_layer": [[50, 77], ["tensorflow.constant", "tensorflow.reshape", "tensorflow.to_float", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.tile", "tensorflow.reshape", "tensorflow.transpose", "tensorflow.shape"], "function", ["None"], ["", "def", "kcs_layer", "(", "pose3d", ")", ":", "\n", "# modify the last two columns of the orginal matrix left hip->hip, right hip->hip", "\n", "    ", "Ct", "=", "tf", ".", "constant", "(", "[", "\n", "[", "1.", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "1", "]", ",", "\n", "[", "-", "1", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "-", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "1", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "-", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "-", "1", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "1", ",", "0", ",", "0", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "1", ",", "0", ",", "0", "]", ",", "\n", "[", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "-", "1", ",", "0", ",", "0", "]", "]", ")", "\n", "\n", "C", "=", "tf", ".", "reshape", "(", "tf", ".", "tile", "(", "Ct", ",", "(", "tf", ".", "shape", "(", "pose3d", ")", "[", "0", "]", ",", "1", ")", ")", ",", "(", "-", "1", ",", "16", ",", "15", ")", ")", "\n", "\n", "poses3", "=", "tf", ".", "to_float", "(", "tf", ".", "reshape", "(", "pose3d", ",", "[", "-", "1", ",", "3", ",", "16", "]", ")", ")", "\n", "B", "=", "tf", ".", "matmul", "(", "poses3", ",", "C", ")", "\n", "Psi", "=", "tf", ".", "matmul", "(", "tf", ".", "transpose", "(", "B", ",", "perm", "=", "[", "0", ",", "2", ",", "1", "]", ")", ",", "B", ")", "\n", "\n", "return", "Psi", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.resisual_block": [[79, 86], ["tensorflow.name_scope", "layers.fc_layer", "layers.fc_layer"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer", "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.layers.fc_layer"], ["", "def", "resisual_block", "(", "input", ",", "latent_dim", ",", "name_scope", ")", ":", "\n", "    ", "with", "tf", ".", "name_scope", "(", "name_scope", ")", ":", "\n", "        ", "l1", "=", "fc_layer", "(", "input", ",", "latent_dim", ",", "name", "=", "'fc1'", ")", "\n", "l2", "=", "fc_layer", "(", "l1", ",", "latent_dim", ",", "name", "=", "'fc2'", ")", "\n", "out", "=", "input", "+", "l2", "\n", "\n", "", "return", "out", "", "", ""]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._dot_kernel": [[7, 16], ["tensorflow.matmul", "tensorflow.matmul", "tensorflow.matmul"], "function", ["None"], ["def", "_dot_kernel", "(", "X", ",", "Y", ",", "K_XY_only", "=", "False", ")", ":", "\n", "    ", "K_XY", "=", "tf", ".", "matmul", "(", "X", ",", "Y", ",", "transpose_b", "=", "True", ")", "\n", "if", "K_XY_only", ":", "\n", "        ", "return", "K_XY", "\n", "\n", "", "K_XX", "=", "tf", ".", "matmul", "(", "X", ",", "X", ",", "transpose_b", "=", "True", ")", "\n", "K_YY", "=", "tf", ".", "matmul", "(", "Y", ",", "Y", ",", "transpose_b", "=", "True", ")", "\n", "\n", "return", "K_XX", ",", "K_XY", ",", "K_YY", ",", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._mix_rbf_kernel": [[18, 51], ["tensorflow.matmul", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.diag_part", "tensorflow.diag_part", "zip", "zip", "tensorflow.expand_dims", "tensorflow.expand_dims", "r", "r", "r", "tensorflow.reduce_sum", "len", "c", "tensorflow.exp", "c", "c", "tensorflow.exp", "tensorflow.exp"], "function", ["None"], ["", "def", "_mix_rbf_kernel", "(", "X", ",", "Y", ",", "sigmas", "=", "[", "2.0", ",", "5.0", ",", "10.0", ",", "20.0", ",", "40.0", ",", "80.0", "]", ",", "wts", "=", "None", ",", "\n", "K_XY_only", "=", "False", ")", ":", "\n", "    ", "if", "wts", "is", "None", ":", "\n", "        ", "wts", "=", "[", "1", "]", "*", "len", "(", "sigmas", ")", "\n", "\n", "", "XX", "=", "tf", ".", "matmul", "(", "X", ",", "X", ",", "transpose_b", "=", "True", ")", "\n", "XY", "=", "tf", ".", "matmul", "(", "X", ",", "Y", ",", "transpose_b", "=", "True", ")", "\n", "YY", "=", "tf", ".", "matmul", "(", "Y", ",", "Y", ",", "transpose_b", "=", "True", ")", "\n", "\n", "X_sqnorms", "=", "tf", ".", "diag_part", "(", "XX", ")", "\n", "Y_sqnorms", "=", "tf", ".", "diag_part", "(", "YY", ")", "\n", "\n", "r", "=", "lambda", "x", ":", "tf", ".", "expand_dims", "(", "x", ",", "0", ")", "\n", "c", "=", "lambda", "x", ":", "tf", ".", "expand_dims", "(", "x", ",", "1", ")", "\n", "\n", "K_XX", ",", "K_XY", ",", "K_YY", "=", "0", ",", "0", ",", "0", "\n", "\n", "XYsqnorm", "=", "-", "2", "*", "XY", "+", "c", "(", "X_sqnorms", ")", "+", "r", "(", "Y_sqnorms", ")", "\n", "for", "sigma", ",", "wt", "in", "zip", "(", "sigmas", ",", "wts", ")", ":", "\n", "        ", "gamma", "=", "1", "/", "(", "2", "*", "sigma", "**", "2", ")", "\n", "K_XY", "+=", "wt", "*", "tf", ".", "exp", "(", "-", "gamma", "*", "XYsqnorm", ")", "\n", "\n", "", "if", "K_XY_only", ":", "\n", "        ", "return", "K_XY", "\n", "\n", "", "XXsqnorm", "=", "-", "2", "*", "XX", "+", "c", "(", "X_sqnorms", ")", "+", "r", "(", "X_sqnorms", ")", "\n", "YYsqnorm", "=", "-", "2", "*", "YY", "+", "c", "(", "Y_sqnorms", ")", "+", "r", "(", "Y_sqnorms", ")", "\n", "for", "sigma", ",", "wt", "in", "zip", "(", "sigmas", ",", "wts", ")", ":", "\n", "        ", "gamma", "=", "1", "/", "(", "2", "*", "sigma", "**", "2", ")", "\n", "K_XX", "+=", "wt", "*", "tf", ".", "exp", "(", "-", "gamma", "*", "XXsqnorm", ")", "\n", "K_YY", "+=", "wt", "*", "tf", ".", "exp", "(", "-", "gamma", "*", "YYsqnorm", ")", "\n", "\n", "", "return", "K_XX", ",", "K_XY", ",", "K_YY", ",", "tf", ".", "reduce_sum", "(", "wts", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._mix_rq_dot_kernel": [[53, 55], ["mmd._mix_rq_kernel"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._mix_rq_kernel"], ["", "def", "_mix_rq_dot_kernel", "(", "X", ",", "Y", ",", "alphas", "=", "[", ".1", ",", "1.", ",", "10.", "]", ",", "wts", "=", "None", ",", "K_XY_only", "=", "False", ")", ":", "\n", "    ", "return", "_mix_rq_kernel", "(", "X", ",", "Y", ",", "alphas", "=", "alphas", ",", "wts", "=", "wts", ",", "K_XY_only", "=", "K_XY_only", ",", "add_dot", "=", "10", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._mix_rq_kernel": [[57, 103], ["tensorflow.matmul", "tensorflow.matmul", "tensorflow.matmul", "tensorflow.diag_part", "tensorflow.diag_part", "tensorflow.maximum", "zip", "tensorflow.maximum", "tensorflow.maximum", "zip", "tensorflow.reduce_sum", "tensorflow.expand_dims", "tensorflow.expand_dims", "tensorflow.log", "tensorflow.log", "tensorflow.log", "tensorflow.cast", "len", "r", "tensorflow.exp", "tensorflow.cast", "r", "r", "tensorflow.exp", "tensorflow.exp", "tensorflow.cast", "tensorflow.cast", "c", "c", "c"], "function", ["None"], ["", "def", "_mix_rq_kernel", "(", "X", ",", "Y", ",", "alphas", "=", "[", ".1", ",", "1.", ",", "10.", "]", ",", "wts", "=", "None", ",", "K_XY_only", "=", "False", ",", "add_dot", "=", ".0", ")", ":", "\n", "    ", "\"\"\"\n    Rational quadratic kernel\n    http://www.cs.toronto.edu/~duvenaud/cookbook/index.html\n    \"\"\"", "\n", "if", "wts", "is", "None", ":", "\n", "        ", "wts", "=", "[", "1.", "]", "*", "len", "(", "alphas", ")", "\n", "\n", "", "XX", "=", "tf", ".", "matmul", "(", "X", ",", "X", ",", "transpose_b", "=", "True", ")", "\n", "XY", "=", "tf", ".", "matmul", "(", "X", ",", "Y", ",", "transpose_b", "=", "True", ")", "\n", "YY", "=", "tf", ".", "matmul", "(", "Y", ",", "Y", ",", "transpose_b", "=", "True", ")", "\n", "\n", "X_sqnorms", "=", "tf", ".", "diag_part", "(", "XX", ")", "\n", "Y_sqnorms", "=", "tf", ".", "diag_part", "(", "YY", ")", "\n", "\n", "r", "=", "lambda", "x", ":", "tf", ".", "expand_dims", "(", "x", ",", "0", ")", "\n", "c", "=", "lambda", "x", ":", "tf", ".", "expand_dims", "(", "x", ",", "1", ")", "\n", "\n", "K_XX", ",", "K_XY", ",", "K_YY", "=", "0.", ",", "0.", ",", "0.", "\n", "\n", "XYsqnorm", "=", "tf", ".", "maximum", "(", "-", "2.", "*", "XY", "+", "c", "(", "X_sqnorms", ")", "+", "r", "(", "Y_sqnorms", ")", ",", "0.", ")", "\n", "\n", "for", "alpha", ",", "wt", "in", "zip", "(", "alphas", ",", "wts", ")", ":", "\n", "        ", "logXY", "=", "tf", ".", "log", "(", "1.", "+", "XYsqnorm", "/", "(", "2.", "*", "alpha", ")", ")", "\n", "K_XY", "+=", "wt", "*", "tf", ".", "exp", "(", "-", "alpha", "*", "logXY", ")", "\n", "", "if", "add_dot", ">", "0", ":", "\n", "        ", "K_XY", "+=", "tf", ".", "cast", "(", "add_dot", ",", "tf", ".", "float32", ")", "*", "XY", "\n", "\n", "", "if", "K_XY_only", ":", "\n", "        ", "return", "K_XY", "\n", "\n", "", "XXsqnorm", "=", "tf", ".", "maximum", "(", "-", "2.", "*", "XX", "+", "c", "(", "X_sqnorms", ")", "+", "r", "(", "X_sqnorms", ")", ",", "0.", ")", "\n", "YYsqnorm", "=", "tf", ".", "maximum", "(", "-", "2.", "*", "YY", "+", "c", "(", "Y_sqnorms", ")", "+", "r", "(", "Y_sqnorms", ")", ",", "0.", ")", "\n", "\n", "for", "alpha", ",", "wt", "in", "zip", "(", "alphas", ",", "wts", ")", ":", "\n", "        ", "logXX", "=", "tf", ".", "log", "(", "1.", "+", "XXsqnorm", "/", "(", "2.", "*", "alpha", ")", ")", "\n", "logYY", "=", "tf", ".", "log", "(", "1.", "+", "YYsqnorm", "/", "(", "2.", "*", "alpha", ")", ")", "\n", "K_XX", "+=", "wt", "*", "tf", ".", "exp", "(", "-", "alpha", "*", "logXX", ")", "\n", "K_YY", "+=", "wt", "*", "tf", ".", "exp", "(", "-", "alpha", "*", "logYY", ")", "\n", "", "if", "add_dot", ">", "0", ":", "\n", "        ", "K_XX", "+=", "tf", ".", "cast", "(", "add_dot", ",", "tf", ".", "float32", ")", "*", "XX", "\n", "K_YY", "+=", "tf", ".", "cast", "(", "add_dot", ",", "tf", ".", "float32", ")", "*", "YY", "\n", "\n", "# wts = tf.reduce_sum(tf.cast(wts, tf.float32))", "\n", "", "wts", "=", "tf", ".", "reduce_sum", "(", "tf", ".", "cast", "(", "wts", ",", "tf", ".", "float32", ")", ")", "\n", "return", "K_XX", ",", "K_XY", ",", "K_YY", ",", "wts", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._mmd2": [[105, 127], ["tensorflow.cast", "tensorflow.cast", "K_XX.get_shape", "K_YY.get_shape", "tensorflow.cast", "tensorflow.trace", "tensorflow.trace", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reduce_sum", "tensorflow.reduce_sum"], "function", ["None"], ["", "def", "_mmd2", "(", "K_XX", ",", "K_XY", ",", "K_YY", ",", "const_diagonal", "=", "False", ",", "biased", "=", "False", ")", ":", "\n", "    ", "m", "=", "tf", ".", "cast", "(", "K_XX", ".", "get_shape", "(", ")", "[", "0", "]", ",", "tf", ".", "float32", ")", "\n", "n", "=", "tf", ".", "cast", "(", "K_YY", ".", "get_shape", "(", ")", "[", "0", "]", ",", "tf", ".", "float32", ")", "\n", "\n", "if", "biased", ":", "\n", "        ", "mmd2", "=", "(", "tf", ".", "reduce_sum", "(", "K_XX", ")", "/", "(", "m", "*", "m", ")", "\n", "+", "tf", ".", "reduce_sum", "(", "K_YY", ")", "/", "(", "n", "*", "n", ")", "\n", "-", "2", "*", "tf", ".", "reduce_sum", "(", "K_XY", ")", "/", "(", "m", "*", "n", ")", ")", "\n", "", "else", ":", "\n", "        ", "if", "const_diagonal", "is", "not", "False", ":", "\n", "            ", "const_diagonal", "=", "tf", ".", "cast", "(", "const_diagonal", ",", "tf", ".", "float32", ")", "\n", "trace_X", "=", "m", "*", "const_diagonal", "\n", "trace_Y", "=", "n", "*", "const_diagonal", "\n", "", "else", ":", "\n", "            ", "trace_X", "=", "tf", ".", "trace", "(", "K_XX", ")", "\n", "trace_Y", "=", "tf", ".", "trace", "(", "K_YY", ")", "\n", "\n", "", "mmd2", "=", "(", "(", "tf", ".", "reduce_sum", "(", "K_XX", ")", "-", "trace_X", ")", "/", "(", "m", "*", "(", "m", "-", "1", ")", ")", "\n", "+", "(", "tf", ".", "reduce_sum", "(", "K_YY", ")", "-", "trace_Y", ")", "/", "(", "n", "*", "(", "n", "-", "1", ")", ")", "\n", "-", "2", "*", "tf", ".", "reduce_sum", "(", "K_XY", ")", "/", "(", "m", "*", "n", ")", ")", "\n", "\n", "", "return", "mmd2", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd.mmd2": [[129, 132], ["mmd._mmd2"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd._mmd2"], ["", "def", "mmd2", "(", "K", ",", "biased", "=", "False", ")", ":", "\n", "    ", "K_XX", ",", "K_XY", ",", "K_YY", ",", "const_diagonal", "=", "K", "\n", "return", "_mmd2", "(", "K_XX", ",", "K_XY", ",", "K_YY", ",", "const_diagonal", ",", "biased", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd.gp_loss": [[134, 143], ["tensorflow.reduce_mean", "tensorflow.reduce_mean", "Ekx", "Ekx", "tensorflow.gradients", "tensorflow.square", "kernel", "mmd.safer_norm"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd.safer_norm"], ["", "def", "gp_loss", "(", "d_average", ",", "average_sample", ",", "d_fake", ",", "d_real", ",", "kernel", ",", "add_dot", ")", ":", "\n", "\n", "    ", "Ekx", "=", "lambda", "yy", ":", "tf", ".", "reduce_mean", "(", "kernel", "(", "d_average", ",", "yy", ",", "K_XY_only", "=", "True", ",", "add_dot", "=", "add_dot", ")", ",", "axis", "=", "1", ")", "\n", "Ekxr", ",", "Ekxf", "=", "Ekx", "(", "d_real", ")", ",", "Ekx", "(", "d_fake", ")", "\n", "witness", "=", "Ekxr", "-", "Ekxf", "\n", "gradients", "=", "tf", ".", "gradients", "(", "witness", ",", "[", "average_sample", "]", ")", "[", "0", "]", "\n", "\n", "penalty", "=", "tf", ".", "reduce_mean", "(", "tf", ".", "square", "(", "safer_norm", "(", "gradients", ",", "axis", "=", "1", ")", "-", "1.0", ")", ")", "\n", "return", "penalty", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.mmd.safer_norm": [[145, 149], ["tensorflow.square", "tensorflow.reduce_sum", "tensorflow.sqrt"], "function", ["None"], ["", "def", "safer_norm", "(", "tensor", ",", "axis", "=", "None", ",", "keep_dims", "=", "False", ",", "epsilon", "=", "_eps", ")", ":", "\n", "    ", "sq", "=", "tf", ".", "square", "(", "tensor", ")", "\n", "squares", "=", "tf", ".", "reduce_sum", "(", "sq", ",", "axis", "=", "axis", ",", "keep_dims", "=", "keep_dims", ")", "\n", "return", "tf", ".", "sqrt", "(", "squares", "+", "epsilon", ")", "", "", ""]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.eval_functions.procrustes": [[4, 77], ["X.mean", "Y.mean", "numpy.sqrt", "numpy.sqrt", "numpy.dot", "numpy.linalg.svd", "numpy.dot", "s.sum", "numpy.concatenate", "numpy.linalg.det", "numpy.dot", "numpy.dot", "numpy.zeros", "numpy.dot", "numpy.dot"], "function", ["None"], ["def", "procrustes", "(", "X", ",", "Y", ",", "scaling", "=", "True", ",", "reflection", "=", "'best'", ")", ":", "\n", "    ", "\"\"\"\n    Reimplementation of MATLAB's `procrustes` function to Numpy.\n\n    \"\"\"", "\n", "\n", "n", ",", "m", "=", "X", ".", "shape", "\n", "ny", ",", "my", "=", "Y", ".", "shape", "\n", "\n", "muX", "=", "X", ".", "mean", "(", "0", ")", "\n", "muY", "=", "Y", ".", "mean", "(", "0", ")", "\n", "\n", "X0", "=", "X", "-", "muX", "\n", "Y0", "=", "Y", "-", "muY", "\n", "\n", "ssX", "=", "(", "X0", "**", "2.", ")", ".", "sum", "(", ")", "\n", "ssY", "=", "(", "Y0", "**", "2.", ")", ".", "sum", "(", ")", "\n", "\n", "# centred Frobenius norm", "\n", "normX", "=", "np", ".", "sqrt", "(", "ssX", ")", "\n", "normY", "=", "np", ".", "sqrt", "(", "ssY", ")", "\n", "\n", "# scale to equal (unit) norm", "\n", "X0", "/=", "normX", "\n", "Y0", "/=", "normY", "\n", "\n", "if", "my", "<", "m", ":", "\n", "        ", "Y0", "=", "np", ".", "concatenate", "(", "(", "Y0", ",", "np", ".", "zeros", "(", "n", ",", "m", "-", "my", ")", ")", ",", "0", ")", "\n", "\n", "# optimum rotation matrix of Y", "\n", "", "A", "=", "np", ".", "dot", "(", "X0", ".", "T", ",", "Y0", ")", "\n", "U", ",", "s", ",", "Vt", "=", "np", ".", "linalg", ".", "svd", "(", "A", ",", "full_matrices", "=", "False", ")", "\n", "V", "=", "Vt", ".", "T", "\n", "T", "=", "np", ".", "dot", "(", "V", ",", "U", ".", "T", ")", "\n", "\n", "if", "reflection", "is", "not", "'best'", ":", "\n", "\n", "# does the current solution use a reflection?", "\n", "        ", "have_reflection", "=", "np", ".", "linalg", ".", "det", "(", "T", ")", "<", "0", "\n", "\n", "# if that's not what was specified, force another reflection", "\n", "if", "reflection", "!=", "have_reflection", ":", "\n", "            ", "V", "[", ":", ",", "-", "1", "]", "*=", "-", "1", "\n", "s", "[", "-", "1", "]", "*=", "-", "1", "\n", "T", "=", "np", ".", "dot", "(", "V", ",", "U", ".", "T", ")", "\n", "\n", "", "", "traceTA", "=", "s", ".", "sum", "(", ")", "\n", "\n", "if", "scaling", ":", "\n", "\n", "# optimum scaling of Y", "\n", "        ", "b", "=", "traceTA", "*", "normX", "/", "normY", "\n", "\n", "# standarised distance between X and b*Y*T + c", "\n", "d", "=", "1", "-", "traceTA", "**", "2", "\n", "\n", "# transformed coords", "\n", "Z", "=", "normX", "*", "traceTA", "*", "np", ".", "dot", "(", "Y0", ",", "T", ")", "+", "muX", "\n", "\n", "", "else", ":", "\n", "        ", "b", "=", "1", "\n", "d", "=", "1", "+", "ssY", "/", "ssX", "-", "2", "*", "traceTA", "*", "normY", "/", "normX", "\n", "Z", "=", "normY", "*", "np", ".", "dot", "(", "Y0", ",", "T", ")", "+", "muX", "\n", "\n", "# transformation matrix", "\n", "", "if", "my", "<", "m", ":", "\n", "        ", "T", "=", "T", "[", ":", "my", ",", ":", "]", "\n", "", "c", "=", "muX", "-", "b", "*", "np", ".", "dot", "(", "muY", ",", "T", ")", "\n", "\n", "#transformation values", "\n", "tform", "=", "{", "'rotation'", ":", "T", ",", "'scale'", ":", "b", ",", "'translation'", ":", "c", "}", "\n", "\n", "return", "d", ",", "Z", ",", "tform", "\n", "\n"]], "home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.eval_functions.err_3dpe": [[79, 103], ["range", "p.reshape.reshape", "p_ref.reshape.reshape", "eval_functions.procrustes", "numpy.linalg.norm", "numpy.sum", "int", "int"], "function", ["home.repos.pwc.inspect_result.chaneyddtt_weakly-supervised-3d-pose-generator.None.eval_functions.procrustes"], ["", "def", "err_3dpe", "(", "p_ref", ",", "p", ",", "procruste", "=", "True", ")", ":", "\n", "    ", "import", "numpy", "as", "np", "\n", "\n", "# reshape pose if necessary", "\n", "if", "p", ".", "shape", "[", "0", "]", "==", "1", ":", "\n", "        ", "p", "=", "p", ".", "reshape", "(", "3", ",", "int", "(", "p", ".", "shape", "[", "1", "]", "/", "3", ")", ")", "\n", "\n", "", "if", "p_ref", ".", "shape", "[", "0", "]", "==", "1", ":", "\n", "        ", "p_ref", "=", "p_ref", ".", "reshape", "(", "3", ",", "int", "(", "p_ref", ".", "shape", "[", "1", "]", "/", "3", ")", ")", "\n", "", "if", "procruste", ":", "\n", "        ", "d", ",", "Z", ",", "tform", "=", "procrustes", "(", "p_ref", ".", "T", ",", "p", ".", "T", ")", "\n", "\n", "Z", "=", "Z", ".", "T", "\n", "", "else", ":", "\n", "        ", "Z", "=", "p", "\n", "\n", "", "sum_dist", "=", "0", "\n", "\n", "for", "i", "in", "range", "(", "p", ".", "shape", "[", "1", "]", ")", ":", "\n", "        ", "sum_dist", "+=", "np", ".", "linalg", ".", "norm", "(", "Z", "[", ":", ",", "i", "]", "-", "p_ref", "[", ":", ",", "i", "]", ",", "2", ")", "\n", "\n", "", "err", "=", "np", ".", "sum", "(", "sum_dist", ")", "/", "(", "Z", ".", "shape", "[", "1", "]", ")", "\n", "\n", "return", "err", "\n", "\n"]]}