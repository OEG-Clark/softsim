{"home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.three_pic": [[20, 64], ["path.split", "print", "a[].split", "print", "print", "mystr1.join", "a[].split.append", "mystr1.join", "path.split.append", "path.split.append", "mystr2.join", "path.split.append", "path.split.append", "mystr2.join", "path.split.append", "path.split.append", "mystr2.join", "len", "len"], "function", ["None"], ["def", "three_pic", "(", "path", ")", ":", "\n", "# path\u4e3a\u539f\u56fe\u5730\u5740\uff0c\u7ed3\u6784.../ori/aachen_000000_000019_leftImg8bit.png", "\n", "    ", "a", "=", "path", ".", "split", "(", "'/'", ")", "\n", "print", "(", "a", ")", "# a\u662f\u6309/\u5206\u5f00\u7684\u6570\u7ec4[...][ori][aachen_000000_000019_leftImg8bit.png]", "\n", "mystr1", "=", "'_'", "\n", "name", "=", "a", "[", "len", "(", "a", ")", "-", "1", "]", ".", "split", "(", "'_'", ")", "# \u6700\u540e\u4e00\u4e2a\u5355\u8bcdaachen_000000_000019_leftImg8bit.png\u5206\u5f00\uff0c\u53d6\u524d\u4e09\u4e2a", "\n", "mystr0", "=", "'.'", "\n", "global", "file_name", "\n", "global", "oripicnum", "\n", "file_name", "=", "'_'", ".", "join", "(", "[", "name", "[", "1", "]", ",", "name", "[", "2", "]", ",", "name", "[", "3", "]", "]", ")", "#\u65b0\u5efa\u4e86\u6587\u6863\uff0c\u6240\u4ee5\u53d6\u7b2c2~4\u4e2a\uff08\u6807\u53f71 2 3\uff09", "\n", "#file_name = '_'.join([name[0], name[1], name[2]])", "\n", "print", "(", "\"file_name\"", ",", "file_name", ")", "\n", "print", "(", "\"name\"", ",", "name", ")", "\n", "oripicnum", "=", "name", "[", "0", "]", "\n", "ins_name", "=", "mystr1", ".", "join", "(", "[", "name", "[", "1", "]", ",", "name", "[", "2", "]", ",", "name", "[", "3", "]", ",", "name", "[", "4", "]", "]", ")", "#\u6700\u540e\u4e00\u4e2a\u5730\u5740", "\n", "ori_name", "=", "a", "[", "len", "(", "a", ")", "-", "1", "]", "\n", "del", "(", "name", "[", "-", "1", "]", ")", "# name\u5269\u4e0b0 aachen  000000  000019", "\n", "#del (name[0])", "\n", "name", ".", "append", "(", "\"gtFine_color.png\"", ")", "\n", "stuff_name", "=", "mystr1", ".", "join", "(", "[", "name", "[", "1", "]", ",", "name", "[", "2", "]", ",", "name", "[", "3", "]", ",", "name", "[", "4", "]", "]", ")", "\n", "mystr2", "=", "'/'", "\n", "\n", "del", "(", "a", "[", "-", "1", "]", ")", "\n", "del", "(", "a", "[", "-", "1", "]", ")", "# \u5220\u6389a\u6700\u540e\u4e24\u4e2a\u5143\u7d20", "\n", "# \u8865\u5145\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u540d\u5b57", "\n", "a", ".", "append", "(", "\"ins\"", ")", "\n", "a", ".", "append", "(", "ins_name", ")", "\n", "path_ins", "=", "mystr2", ".", "join", "(", "a", ")", "\n", "\n", "del", "(", "a", "[", "-", "1", "]", ")", "\n", "del", "(", "a", "[", "-", "1", "]", ")", "# \u5220\u6389a\u6700\u540e\u4e24\u4e2a\u5143\u7d20", "\n", "# \u8865\u5145\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u540d\u5b57", "\n", "a", ".", "append", "(", "\"stuff\"", ")", "\n", "a", ".", "append", "(", "stuff_name", ")", "\n", "path_stuff", "=", "mystr2", ".", "join", "(", "a", ")", "\n", "\n", "del", "(", "a", "[", "-", "1", "]", ")", "\n", "del", "(", "a", "[", "-", "1", "]", ")", "# \u5220\u6389a\u6700\u540e\u4e24\u4e2a\u5143\u7d20", "\n", "# \u8865\u5145\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u540d\u5b57", "\n", "a", ".", "append", "(", "\"ori\"", ")", "\n", "a", ".", "append", "(", "ori_name", ")", "\n", "path_ori", "=", "mystr2", ".", "join", "(", "a", ")", "\n", "\n", "return", "(", "path_ori", ",", "path_stuff", ",", "path_ins", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.encoding": [[66, 114], ["ins.load", "stuff.load", "numpy.zeros", "range", "range", "inslis.append", "stufflis.append", "int", "zb.append", "ins_to_stuff.append", "inslis.index", "len", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "encoding", "(", "stuff", ",", "ins", ")", ":", "\n", "# stuff = Image.open(path_stuff)", "\n", "# ins = Image.open(path_ins)", "\n", "    ", "pix", "=", "ins", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "pix_stuff", "=", "stuff", ".", "load", "(", ")", "# \u7c7b\u578b\u56fe", "\n", "# \u7406\u8bba\u4e0a\u4e09\u4e2a\u56fe\u7247\u7684\u5927\u5c0f\u5e94\u8be5\u662f\u76f8\u540c\u7684", "\n", "global", "width", ",", "height", "\n", "width", "=", "ins", ".", "size", "[", "0", "]", "\n", "height", "=", "ins", ".", "size", "[", "1", "]", "\n", "insid", "=", "np", ".", "zeros", "(", "(", "height", ",", "width", ")", ")", "# \u5b58\u653e\u50cf\u7d20\u5b9e\u4f8bid\u77e9\u9635", "\n", "inslis", "=", "[", "]", "#", "\n", "stufflis", "=", "[", "]", "# \u5b58\u653e\u5b9e\u4f8bid\u5bf9\u5e94\u7684\u7c7b\u522b\u50cf\u7d20\u989c\u8272", "\n", "ins_to_stuff", "=", "[", "]", "# \u5b58\u653e\u5b9e\u4f8bid-\u7c7b\u522bid\uff08\u88681\uff09", "\n", "zb", "=", "[", "]", "# \u8bb0\u5f55\u5404\u4e2a\u65b0\u5b9e\u4f8b\u5f00\u59cb\u7684\u5750\u6807", "\n", "\n", "#for i in range(width):  # 2048", "\n", "#    for j in range(height):  # 1024", "\n", "#        if(i)", "\n", "#print(\"pix[0, 0]\",pix[0, 0]==(0,0,0))", "\n", "ins_color", "=", "[", "(", "220", ",", "20", ",", "60", ",", "255", ")", ",", "(", "255", ",", "0", ",", "0", ",", "255", ")", ",", "(", "0", ",", "0", ",", "142", ",", "255", ")", ",", "(", "0", ",", "0", ",", "70", ",", "255", ")", ",", "(", "0", ",", "60", ",", "100", ",", "255", ")", ",", "(", "0", ",", "0", ",", "90", ",", "255", ")", ",", "(", "0", ",", "0", ",", "110", ",", "255", ")", ",", "(", "0", ",", "80", ",", "100", ",", "255", ")", ",", "(", "0", ",", "0", ",", "230", ",", "255", ")", ",", "(", "119", ",", "11", ",", "32", ",", "255", ")", ",", "(", "0", ",", "0", ",", "1", ",", "255", ")", "]", "\n", "#print(pix_stuff[1590, 440] not in ins_color)", "\n", "#print(pix_stuff[1590, 440] != (0, 0, 0))", "\n", "#print(pix[1590, 440] == (0, 0, 0))", "\n", "#print(pix_stuff[1590, 440])", "\n", "\n", "for", "i", "in", "range", "(", "width", ")", ":", "# 2048", "\n", "        ", "for", "j", "in", "range", "(", "height", ")", ":", "# 1024", "\n", "# r,g,b=pix[i, j]", "\n", "            ", "if", "pix_stuff", "[", "i", ",", "j", "]", "!=", "(", "0", ",", "0", ",", "0", ",", "255", ")", "and", "pix", "[", "i", ",", "j", "]", "==", "(", "0", ",", "0", ",", "0", ")", "and", "(", "pix_stuff", "[", "i", ",", "j", "]", "not", "in", "ins_color", ")", ":", "\n", "#\u5982\u679c \u7c7b\u578b\u4e0d\u662f\u7a7a  \u5e76\u4e14  \u5b9e\u4f8b\u662f\u9ed1\u8272\u7684  \u5e76\u4e14  \u7c7b\u578b\u4e0d\u662f\u8f66\u5b50\u548c\u4eba", "\n", "                ", "pix", "[", "i", ",", "j", "]", "=", "pix_stuff", "[", "i", ",", "j", "]", "\n", "", "if", "(", "pix", "[", "i", ",", "j", "]", "not", "in", "inslis", ")", ":", "# \u5b9e\u4f8b\u56fe\u4e2d \u5982\u679c\u662f\u65b0\u51fa\u73b0\u7684\u989c\u8272(\u65b0\u7684\u5b9e\u4f8b)", "\n", "                ", "inslis", ".", "append", "(", "pix", "[", "i", ",", "j", "]", ")", "# \u5b9e\u4f8b\u989c\u8272\u5217\u8868+1", "\n", "stufflis", ".", "append", "(", "pix_stuff", "[", "i", ",", "j", "]", ")", "# \u6bcf\u4e2a\u5b9e\u4f8b\u5bf9\u5e94\u7c7b\u522b\u989c\u8272\u5217\u8868+1", "\n", "insid", "[", "j", ",", "i", "]", "=", "int", "(", "len", "(", "inslis", ")", "-", "1", ")", "# \u5b9e\u4f8bid+1", "\n", "zb", ".", "append", "(", "(", "i", ",", "j", ")", ")", "\n", "new_stuff", "=", "[", "insid", "[", "j", ",", "i", "]", ",", "color2label", "[", "pix_stuff", "[", "i", ",", "j", "]", "[", "0", ":", "3", "]", "]", ".", "id", ",", "i", ",", "j", ",", "i", ",", "j", "]", "# \u6bcf\u4e2a\u5b9e\u4f8bid,\u6240\u5c5e\u7c7b\u522bid  #\u987a\u4fbf\u8bb0\u5f55\u4e0b\u6bcf\u4e2a\u5750\u6807\u6700\u5de6\u8fb9\u548c\u6700\u4e0a\u9762\u7684\u4f4d\u7f6e,2ll(\u8fd9\u4e2a\u80af\u5b9a\u662f\u4e0d\u53d8\u7684),3uu,4rr,5dd", "\n", "ins_to_stuff", ".", "append", "(", "new_stuff", ")", "\n", "", "else", ":", "\n", "                ", "insid", "[", "j", ",", "i", "]", "=", "inslis", ".", "index", "(", "pix", "[", "i", ",", "j", "]", ")", "# \u5982\u679c\u662f\u51fa\u73b0\u8fc7\u7684\u989c\u8272\uff0c\u5728\u50cf\u7d20\u4e0a\u6807\u6ce8\u4e0b\u5b9e\u4f8bid\u7684\u989c\u8272\u5c31\u597d", "\n", "if", "j", "<", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "3", "]", ":", "#\u5982\u679c\u6bd4\u6700\u5c0f\u7684\u4e0a\u754c\u5c0f", "\n", "                    ", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "3", "]", "=", "j", "\n", "", "if", "j", ">", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "5", "]", ":", "# \u5982\u679c\u6bd4\u6700\u5927\u7684\u4e0b\u754c\u4e0b", "\n", "                    ", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "5", "]", "=", "j", "\n", "", "if", "i", ">", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "4", "]", ":", "# \u5982\u679c\u6bd4\u6700\u5927\u7684\u53f3\u754c\u5927(\u8fd9\u91cc\u611f\u89c9\u8fd8\u53ef\u4ee5\u4f18\u5316)", "\n", "                    ", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "4", "]", "=", "i", "\n", "\n", "", "", "", "", "return", "(", "insid", ",", "ins_to_stuff", ")", "# insid\u5b58\u653e\u50cf\u7d20\u5b9e\u4f8bid\u77e9\u9635 ins_to_stuff\u5b58\u653e\u5b9e\u4f8bid-\u7c7b\u522bid\uff08\u88681\uff09", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.q_ori": [[117, 122], ["int", "int"], "function", ["None"], ["", "def", "q_ori", "(", "x", ",", "y", ")", ":", "\n", "    ", "global", "k", "\n", "ori_x", "=", "int", "(", "k", "*", "x", ")", "\n", "ori_y", "=", "int", "(", "k", "*", "y", ")", "\n", "return", "(", "ori_x", ",", "ori_y", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.q_id": [[125, 128], ["None"], "function", ["None"], ["", "def", "q_id", "(", "x", ",", "y", ")", ":", "\n", "    ", "global", "insid", "\n", "return", "insid", "[", "y", ",", "x", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.q_label": [[131, 135], ["int"], "function", ["None"], ["", "def", "q_label", "(", "x", ",", "y", ")", ":", "\n", "    ", "global", "insid", "\n", "global", "ins_to_stuff", "\n", "return", "ins_to_stuff", "[", "int", "(", "insid", "[", "y", ",", "x", "]", ")", "]", "[", "1", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.q_layer": [[137, 149], ["int"], "function", ["None"], ["", "def", "q_layer", "(", "myid", ")", ":", "# \u6c42\u67d0\u4e2a\u5b9e\u4f8bid\u6240\u5728\u5c42 \u662fid\u6c42\u5c42\uff0c\u4e0d\u662f\u7c7b\u522b\u6c42\u5c42\uff01\uff01\uff01\uff01", "\n", "    ", "labelid", "=", "ins_to_stuff", "[", "int", "(", "myid", ")", "]", "[", "1", "]", "\n", "# q_label", "\n", "if", "labelid", "in", "foregroundid", ":", "\n", "        ", "layerid", "=", "2", "\n", "", "if", "labelid", "in", "flatid", ":", "\n", "        ", "layerid", "=", "3", "\n", "", "if", "labelid", "in", "conid", ":", "\n", "        ", "layerid", "=", "4", "\n", "", "if", "labelid", "in", "noneid", ":", "\n", "        ", "layerid", "=", "-", "1", "\n", "", "return", "layerid", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.addTransparency": [[159, 164], ["Image.blend.convert", "PIL.Image.new", "PIL.Image.blend"], "function", ["None"], ["", "def", "addTransparency", "(", "img", ",", "factor", "=", "0.7", ")", ":", "\n", "    ", "img", "=", "img", ".", "convert", "(", "'RGBA'", ")", "\n", "img_blender", "=", "Image", ".", "new", "(", "'RGBA'", ",", "img", ".", "size", ",", "(", "0", ",", "0", ",", "0", ",", "0", ")", ")", "\n", "img", "=", "Image", ".", "blend", "(", "img_blender", ",", "img", ",", "factor", ")", "\n", "return", "img", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.new_file": [[169, 301], ["tkinter.filedialog.askopenfilename", "main_old.three_pic", "PIL.Image.open", "PIL.Image.open", "PIL.Image.open", "v.set", "v22.set", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "range", "range", "range", "Image.new.convert", "Image.new.convert", "PIL.Image.blend", "PIL.Image.blend", "Image.blend.save", "Image.new.save", "Image.new.save", "Image.new.save", "main_old.encoding", "PIL.ImageTk.PhotoImage", "image_box.pack", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "sg_box.pack", "copy.deepcopy", "copy.deepcopy", "h5py.File", "[].tolist", "[].tolist", "range", "range", "range", "os.path.exists", "h5py.File", "h5.File.create_dataset", "h5.File.create_dataset"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.three_pic", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.encoding"], ["", "def", "new_file", "(", ")", ":", "\n", "    ", "global", "if_open", "\n", "if", "if_open", "==", "1", ":", "\n", "        ", "return", "\n", "\n", "", "path", "=", "tk", ".", "filedialog", ".", "askopenfilename", "(", ")", "# \u8fd4\u56de\u539f\u59cb\u56fe\u7247\u7684\u6587\u4ef6\u540d", "\n", "if", "path", "==", "\"\"", ":", "#\u5982\u679c\u6ca1\u6709\u6210\u529f\u6253\u5f00", "\n", "        ", "return", "\n", "", "path_ori", ",", "path_stuff", ",", "path_ins", "=", "three_pic", "(", "path", ")", "\n", "\n", "ori", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "stuff", "=", "Image", ".", "open", "(", "path_stuff", ")", "\n", "ins", "=", "Image", ".", "open", "(", "path_ins", ")", "\n", "\n", "if_open", "=", "1", "\n", "\n", "# \u8c03\u6574\u56fe\u7247\u5927\u5c0f\u5e76\u8bb0\u5f55\u6bd4\u4f8b", "\n", "global", "k", "\n", "# k = 2  # \u7f29\u653e\u6bd4\u4f8b", "\n", "# im\u662f\u5927\u539f\u56fe\uff0cim2\u662f\u5927\u5b9e\u4f8b\u56fe\uff0cim3\u662f\u5927\u7c7b\u522b\u56fe", "\n", "# imnew\u662f\u5c0f\u539f\u56fe\uff0cimnew2\u662f\u5c0f\u5b9e\u4f8b\u56fe\uff0cimnew3\u662f\u5c0f\u7c7b\u522b\u56fe\uff0cimg\u662f\u5c0f\u6df7\u5408\u56fe", "\n", "\n", "global", "v2int", ",", "v22int", "\n", "v2int", "=", "1", "\n", "v22int", "=", "1", "\n", "v", ".", "set", "(", "1", ")", "\n", "v22", ".", "set", "(", "1", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "img_back", "#img_back\u4e3a\u5e95\u5c42\u663e\u793a", "\n", "im", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "pix", "=", "im", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "width", "=", "im", ".", "size", "[", "0", "]", "\n", "height", "=", "im", ".", "size", "[", "1", "]", "\n", "imnew", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew", "=", "imnew", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "\n", "im2", "=", "Image", ".", "open", "(", "path_ins", ")", "# \u5b9e\u4f8b\u56fe", "\n", "pix2", "=", "im2", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "width2", "=", "im2", ".", "size", "[", "0", "]", "\n", "height2", "=", "im2", ".", "size", "[", "1", "]", "\n", "imnew2", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width2", "//", "k", ",", "height2", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew2", "=", "imnew2", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "\n", "im3", "=", "Image", ".", "open", "(", "path_stuff", ")", "# \u5b9e\u4f8b\u56fe", "\n", "pix3", "=", "im3", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "width3", "=", "im3", ".", "size", "[", "0", "]", "\n", "height3", "=", "im3", ".", "size", "[", "1", "]", "\n", "imnew3", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width3", "//", "k", ",", "height3", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew3", "=", "imnew3", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "\n", "for", "x", "in", "range", "(", "width", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew", "[", "x", ",", "y", "]", "=", "pix", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width2", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height2", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew2", "[", "x", ",", "y", "]", "=", "pix2", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width3", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height3", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew3", "[", "x", ",", "y", "]", "=", "pix3", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "img1", "=", "imnew", ".", "convert", "(", "'RGBA'", ")", "\n", "img2", "=", "imnew2", ".", "convert", "(", "'RGBA'", ")", "\n", "img", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.3", ")", "\n", "img_back", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.8", ")", "\n", "\n", "img", ".", "save", "(", "'img.png'", ")", "\n", "imnew", ".", "save", "(", "'imnew.png'", ")", "\n", "imnew2", ".", "save", "(", "'imnew2.png'", ")", "\n", "imnew3", ".", "save", "(", "'imnew3.png'", ")", "\n", "\n", "###\u5bf9\u56fe\u50cf\u4fe1\u606f\u8fdb\u884c\u7f16\u7801", "\n", "global", "insid", "\n", "global", "ins_to_stuff", "\n", "insid", ",", "ins_to_stuff", "=", "encoding", "(", "stuff", ",", "ins", ")", "# \u5bf9stuff\u548cins\u8fdb\u884c\u7f16\u7801", "\n", "# \u5f97\u5230\u4e00\u4e2a\u6bcf\u4e2a\u5b9e\u4f8bid\u7684label\u8bb0\u505ains_to_stuff\u548c\u4e00\u4e2ahxw\u7684\u6bcf\u4e2a\u50cf\u7d20\u7684\u5b9e\u4f8bid\u56fe", "\n", "##\u6bcf\u4e00\u4e2a\u50cf\u7d20\u70b9\u5305\u542b\uff1a\u5b9e\u4f8bid\u548clabel\u548c\u5c42\u6b21", "\n", "\n", "# \u5728image_box\u4e2d\u663e\u793a\u56fe\u7247", "\n", "# new_image=Image.open(path)#\u521b\u5efaLabel\u7ec4\u4ef6\uff0c\u901a\u8fc7Image=photo\u8bbe\u7f6e\u8981\u5c55\u793a\u7684\u56fe\u7247", "\n", "global", "rect", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "img", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "# rect[0]=mycan.create_image(0,0,image= new_photo)  #\u8fd9\u91cc\u6dfb\u52a0\u7684\u56fe\u7247\u663e\u793a\u4e0d\u51fa\u6765\uff1f\u53ea\u80fd\u5728\u5916\uff1f", "\n", "# rect.append(mycan.create_image(0,0,image= new_photo))", "\n", "# mycan.create_image(0, 0, image=new_photo)", "\n", "# mycan.pack(side='left')", "\n", "\n", "# \u6d4b\u8bd5\u90e8\u5206", "\n", "# image_test = Image.open('white.png')  # \u521b\u5efaLabel\u7ec4\u4ef6\uff0c\u901a\u8fc7Image=photo\u8bbe\u7f6e\u8981\u5c55\u793a\u7684\u56fe\u7247", "\n", "# image_photo_test = ImageTk.PhotoImage(image_test)  # \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "# rect.append(mycan.create_image(0, 0, image=image_photo_test,anchor='NW'))", "\n", "# mycan.itemconfigure(rect[0], image=image_photo_test)  #\u548c\u56fe\u7247\u5185\u5bb9\u6ca1\u5173\u7cfb \u5e94\u8be5\u662f\u539f\u672c\u7684\u3002", "\n", "#", "\n", "# mycan.tag_raise(rect[1])", "\n", "# rect.append(mycan.create_rectangle(10,10,110,110,fill=\"yellow\"))", "\n", "# mycan.tag_raise(rect[0]) #\u628arect\u91cc\u9762\u7684\u6240\u6709\u90fdraise\u4e00\u904d", "\n", "# mycan.delete(rect[0])", "\n", "\n", "# \u628a\u573a\u666f\u56fe\u663e\u793a\u5728\u65b0\u7a97\u53e3", "\n", "sg_image", "=", "Image", ".", "open", "(", "'anewsg.gv.png'", ")", "# \u521b\u5efaLabel\u7ec4\u4ef6\uff0c\u901a\u8fc7Image=photo\u8bbe\u7f6e\u8981\u5c55\u793a\u7684\u56fe\u7247", "\n", "sg_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sg_image", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "# \u60f3\u8ba9sg_box\u8fd9\u4e2alabel\u76f4\u63a5\u663e\u793a\u5728window2\u4e0a", "\n", "sg_box", ".", "x", "=", "sg_photo", "\n", "sg_box", "[", "'image'", "]", "=", "sg_photo", "\n", "sg_box", ".", "state", "=", "\"on\"", "\n", "sg_box", ".", "pack", "(", ")", "# \u5c55\u793aLabel\u5bf9\u8c61", "\n", "\n", "# new_photo2=ImageTk.PhotoImage(imnew2)#\u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "# image2_box.x = new_photo2", "\n", "# image2_box['image'] = new_photo2", "\n", "# image2_box.pack()", "\n", "\n", "# print(ins_to_stuff)", "\n", "global", "insid_cluster", ",", "ins_to_stuff_cluster", "\n", "insid_cluster", "=", "copy", ".", "deepcopy", "(", "insid", ")", "\n", "ins_to_stuff_cluster", "=", "copy", ".", "deepcopy", "(", "ins_to_stuff", ")", "\n", "\n", "#\u6253\u5f00\u8bed\u5bf9base", "\n", "#\u6253\u5f00base  \u4ecebase\u91cc\u8bfb\u53d6\u8bed\u5bf9\u4fe1\u606f", "\n", "if", "(", "os", ".", "path", ".", "exists", "(", "\"motif_attr.h5\"", ")", "==", "False", ")", ":", "\n", "        ", "f", "=", "h5", ".", "File", "(", "'motif_attr.h5'", ",", "'w'", ")", "\n", "f", ".", "create_dataset", "(", "'motif_attr'", ",", "data", "=", "[", "]", ")", "\n", "f", ".", "create_dataset", "(", "'motif_attr_attr'", ",", "data", "=", "[", "]", ")", "\n", "\n", "", "motif_attr", "=", "h5", ".", "File", "(", "\"motif_attr.h5\"", ",", "'r'", ")", "\n", "global", "m_a", ",", "m_a_a", "\n", "m_a", "=", "motif_attr", "[", "'motif_attr'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "m_a_a", "=", "motif_attr", "[", "'motif_attr_attr'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.open_file": [[304, 413], ["tkinter.filedialog.askopenfilename", "main_old.three_pic", "PIL.Image.open", "PIL.Image.open", "PIL.Image.open", "v.set", "v22.set", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "range", "range", "range", "Image.new.convert", "Image.new.convert", "PIL.Image.blend", "main_old.encoding", "PIL.ImageTk.PhotoImage", "image_box.pack", "h5py.File", "[].tolist", "print", "print", "main_old.show_me_sgimage", "anno_rel.delete", "anno_rel.insert", "range", "range", "range", "type", "b.join", "anno_rel.insert", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.three_pic", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.encoding", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.show_me_sgimage"], ["", "def", "open_file", "(", ")", ":", "\n", "    ", "path", "=", "tk", ".", "filedialog", ".", "askopenfilename", "(", ")", "# \u8fd4\u56de\u539f\u77f3\u56fe\u7247\u7684\u6587\u4ef6\u540d", "\n", "path_ori", ",", "path_stuff", ",", "path_ins", "=", "three_pic", "(", "path", ")", "\n", "ori", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "stuff", "=", "Image", ".", "open", "(", "path_stuff", ")", "\n", "ins", "=", "Image", ".", "open", "(", "path_ins", ")", "\n", "\n", "global", "if_open", "\n", "if_open", "=", "1", "\n", "\n", "global", "v2int", ",", "v22int", "\n", "v2int", "=", "1", "\n", "v22int", "=", "1", "\n", "v", ".", "set", "(", "1", ")", "\n", "v22", ".", "set", "(", "1", ")", "\n", "\n", "# \u8c03\u6574\u56fe\u7247\u5927\u5c0f\u5e76\u8bb0\u5f55\u6bd4\u4f8b", "\n", "global", "k", "\n", "# k = 2  # \u7f29\u653e\u6bd4\u4f8b", "\n", "# im\u662f\u5927\u539f\u56fe\uff0cim2\u662f\u5927\u5b9e\u4f8b\u56fe\uff0cim3\u662f\u5927\u7c7b\u522b\u56fe", "\n", "# imnew\u662f\u5c0f\u539f\u56fe\uff0cimnew2\u662f\u5c0f\u5b9e\u4f8b\u56fe\uff0cimnew3\u662f\u5c0f\u7c7b\u522b\u56fe\uff0cimg\u662f\u5c0f\u6df7\u5408\u56fe", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", "\n", "im", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "pix", "=", "im", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "width", "=", "im", ".", "size", "[", "0", "]", "\n", "height", "=", "im", ".", "size", "[", "1", "]", "\n", "imnew", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew", "=", "imnew", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "\n", "im2", "=", "Image", ".", "open", "(", "path_ins", ")", "# \u5b9e\u4f8b\u56fe", "\n", "pix2", "=", "im2", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "width2", "=", "im2", ".", "size", "[", "0", "]", "\n", "height2", "=", "im2", ".", "size", "[", "1", "]", "\n", "imnew2", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width2", "//", "k", ",", "height2", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew2", "=", "imnew2", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "\n", "im3", "=", "Image", ".", "open", "(", "path_stuff", ")", "# \u5b9e\u4f8b\u56fe", "\n", "pix3", "=", "im3", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "width3", "=", "im3", ".", "size", "[", "0", "]", "\n", "height3", "=", "im3", ".", "size", "[", "1", "]", "\n", "imnew3", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width3", "//", "k", ",", "height3", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew3", "=", "imnew3", ".", "load", "(", ")", "# \u5b9e\u4f8b\u56fe", "\n", "\n", "for", "x", "in", "range", "(", "width", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew", "[", "x", ",", "y", "]", "=", "pix", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width2", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height2", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew2", "[", "x", ",", "y", "]", "=", "pix2", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width3", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height3", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew3", "[", "x", ",", "y", "]", "=", "pix3", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "img1", "=", "imnew", ".", "convert", "(", "'RGBA'", ")", "\n", "img2", "=", "imnew2", ".", "convert", "(", "'RGBA'", ")", "\n", "img", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.3", ")", "\n", "\n", "###\u5bf9\u56fe\u50cf\u4fe1\u606f\u8fdb\u884c\u7f16\u7801", "\n", "global", "insid", "\n", "global", "ins_to_stuff", "\n", "insid", ",", "ins_to_stuff", "=", "encoding", "(", "stuff", ",", "ins", ")", "# \u5bf9stuff\u548cins\u8fdb\u884c\u7f16\u7801", "\n", "# \u5f97\u5230\u4e00\u4e2a\u6bcf\u4e2a\u5b9e\u4f8bid\u7684label\u8bb0\u505ains_to_stuff\u548c\u4e00\u4e2ahxw\u7684\u6bcf\u4e2a\u50cf\u7d20\u7684\u5b9e\u4f8bid\u56fe", "\n", "##\u6bcf\u4e00\u4e2a\u50cf\u7d20\u70b9\u5305\u542b\uff1a\u5b9e\u4f8bid\u548clabel\u548c\u5c42\u6b21", "\n", "\n", "# \u5728image_box\u4e2d\u663e\u793a\u56fe\u7247", "\n", "# new_image=Image.open(path)#\u521b\u5efaLabel\u7ec4\u4ef6\uff0c\u901a\u8fc7Image=photo\u8bbe\u7f6e\u8981\u5c55\u793a\u7684\u56fe\u7247", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "img", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "# \u4e0d\u5e94\u8be5\u662f\u6253\u5f00\u8fd9\u5f20\u56fe\uff0c\u800c\u5e94\u8be5\u662f\u8bc6\u522b\u4e86\u76f8\u5173\u4fe1\u606f\u7136\u540e\u76f4\u63a5\u751f\u6210\u573a\u666f\u56fe", "\n", "global", "file_name", ",", "sub_rel_ob", "\n", "# \u628a\u573a\u666f\u56fe\u663e\u793a\u5728\u65b0\u7a97\u53e3", "\n", "# sg_image = Image.open(''.join([file_name,'.gv.png']))  # \u521b\u5efaLabel\u7ec4\u4ef6\uff0c\u901a\u8fc7Image=photo\u8bbe\u7f6e\u8981\u5c55\u793a\u7684\u56fe\u7247", "\n", "# sg_photo = ImageTk.PhotoImage(sg_image)  # \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "# \u60f3\u8ba9sg_box\u8fd9\u4e2alabel\u76f4\u63a5\u663e\u793a\u5728window2\u4e0a", "\n", "# sg_box.x = sg_photo", "\n", "# sg_box['image'] = sg_photo", "\n", "# sg_box.state = \"on\"", "\n", "# sg_box.pack()  # \u5c55\u793aLabel\u5bf9\u8c61", "\n", "\n", "imdb", "=", "h5", ".", "File", "(", "''", ".", "join", "(", "[", "file_name", ",", "'.h5'", "]", ")", ",", "'r'", ")", "\n", "# num_im, _, _, _ = imdb['images'].shape", "\n", "# imdb['images'].shape\u7684\u503c\u662f(2, 3, 1024, 1024)\uff0c\u8868\u793a\u67092\u4e2a\u56fe\uff0c3\u662f\u5e38\u91cf\u8868\u793a3\u4e2a\u901a\u9053\uff0c\u540e\u9762\u662f\u56fe\u50cf\u5927\u5c0f", "\n", "# img_long_sizes = [512, 1024]", "\n", "sub_rel_ob", "=", "imdb", "[", "'sub_rel_ob'", "]", "[", ":", "]", ".", "tolist", "(", ")", "# valid image indices", "\n", "print", "(", "type", "(", "sub_rel_ob", ")", ")", "\n", "print", "(", "sub_rel_ob", ")", "\n", "show_me_sgimage", "(", ")", "\n", "global", "anno_rel", ",", "anno_num", "\n", "\n", "anno_rel", ".", "delete", "(", "0", ")", "\n", "for", "i", "in", "sub_rel_ob", ":", "\n", "        ", "if", "i", "!=", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ":", "\n", "            ", "anno_num", "=", "anno_num", "+", "1", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "name_rel_str", "=", "rel_list_all", "[", "int", "(", "i", "[", "1", "]", ")", "]", "\n", "name_ob_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", "[", "2", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "a", "=", "[", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "]", "\n", "b", "=", "\"-\"", "\n", "c", "=", "b", ".", "join", "(", "a", ")", "\n", "# \u5904\u7406\u548c\u5220\u9664\u663e\u793a\u7684\u5217\u8868", "\n", "###size()=1\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u662fnum=0\uff0c\u6240\u4ee5\u8981\u5224\u65ad\u9009\u4e2d\u7684\u662f\u4fee\u6539\u8fd8\u662f\u6dfb\u52a0", "\n", "# \u4e0d\u7ba1\u662f\u5220\u9664\u7684\u8fd8\u662f\u65b0\u589e\u7684\uff0c\u90fd\u662f\u5220\u9664\u7d22\u5f15\uff0c\u7136\u540e\u5728\u7d22\u5f15\u4f4d\u7f6e\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u3002\u5982\u679c\u662f\u65b0\u589e\u7684\u5c31num+1\uff0c\u5982\u679c\u662f\u4fee\u6539\u7684\u5c31num\u4e0d\u53d8", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"\"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.save_file": [[416, 457], ["print", "print", "print", "print", "h5py.File", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "range", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "graphviz.Digraph", "graphviz.Source.from_file", "Source.from_file.render", "Source.from_file.render", "h5py.File", "h5.File.create_dataset", "h5.File.create_dataset", "len", "len_a.append", "len"], "function", ["None"], ["", "def", "save_file", "(", ")", ":", "\n", "    ", "global", "sub_rel_ob", ",", "ins_to_stuff_cluster", ",", "ins_to_stuff", ",", "insid_cluster", ",", "insid", ",", "rect1", ",", "rect2", ",", "sub_rel_ob_attri", ",", "allcluster", ",", "direc", "\n", "#a = tk.filedialog.askopenfilename()  # \u8fd4\u56de\u6587\u4ef6\u540d \u5565\u73a9\u610f\u513f \u600e\u4e48\u4f1a\u6709\u8fd9\u53e5\u8bdd\uff1f\uff1f", "\n", "print", "(", "\"sub_rel_ob:\"", ")", "\n", "print", "(", "sub_rel_ob", ")", "\n", "print", "(", "\"ins_to_stuff:\"", ")", "\n", "print", "(", "ins_to_stuff", ")", "\n", "global", "file_name", "\n", "global", "oripicnum", "\n", "f", "=", "h5", ".", "File", "(", "'D:\\\\h5_data\\\\'", "+", "oripicnum", "+", "'_'", "+", "''", ".", "join", "(", "[", "file_name", ",", "'.h5'", "]", ")", ",", "'w'", ")", "\n", "f", ".", "create_dataset", "(", "'sub_rel_ob'", ",", "data", "=", "sub_rel_ob", ")", "\n", "f", ".", "create_dataset", "(", "'sub_rel_ob_attri'", ",", "data", "=", "sub_rel_ob_attri", ")", "\n", "f", ".", "create_dataset", "(", "'ins_to_stuff'", ",", "data", "=", "ins_to_stuff", ")", "\n", "f", ".", "create_dataset", "(", "'ins_to_stuff_cluster'", ",", "data", "=", "ins_to_stuff_cluster", ")", "\n", "f", ".", "create_dataset", "(", "'insid'", ",", "data", "=", "insid", ")", "\n", "f", ".", "create_dataset", "(", "'insid_cluster'", ",", "data", "=", "insid_cluster", ")", "\n", "f", ".", "create_dataset", "(", "'rect1'", ",", "data", "=", "rect1", ")", "\n", "f", ".", "create_dataset", "(", "'rect2'", ",", "data", "=", "rect2", ")", "\n", "a", "=", "[", "j", "for", "i", "in", "allcluster", "for", "j", "in", "i", "]", "\n", "len_a", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "len", "(", "allcluster", ")", ")", ":", "\n", "        ", "len_a", ".", "append", "(", "len", "(", "allcluster", "[", "i", "]", ")", ")", "\n", "", "f", ".", "create_dataset", "(", "'allcluster_num'", ",", "data", "=", "len_a", ")", "\n", "f", ".", "create_dataset", "(", "'allcluster'", ",", "data", "=", "a", ")", "\n", "f", ".", "create_dataset", "(", "'direc'", ",", "data", "=", "direc", ")", "\n", "scene_graph_save", "=", "Digraph", "(", "comment", "=", "'Scene Graph'", ",", "format", "=", "'png'", ",", "engine", "=", "'fdp'", ")", "\n", "scene_graph_save", "=", "Source", ".", "from_file", "(", "'alala.gv'", ")", "\n", "scene_graph_save", ".", "render", "(", "''", ".", "join", "(", "[", "file_name", ",", "'.gv'", "]", ")", ",", "view", "=", "False", ")", "\n", "scene_graph_save", ".", "render", "(", "''", ".", "join", "(", "[", "file_name", ",", "'.gv'", "]", ")", ",", "format", "=", "'png'", ",", "view", "=", "False", ")", "\n", "#img_name = ''.join([file_name, '.h5'])", "\n", "#img_name_new = 'D:\\\\h5_data\\\\' + ''.join([file_name, '.h5'])", "\n", "#shutil.copyfile(img_name, \"ttt.h5\")", "\n", "\n", "fma", "=", "h5", ".", "File", "(", "'..\\\\motif_attr.h5'", ",", "'w'", ")", "\n", "global", "new_m_a", ",", "m_a", ",", "new_m_a_a", ",", "m_a_a", "\n", "#for i in new_m_a:", "\n", "#    m_a.append(i)", "\n", "out_m_a", "=", "new_m_a", "+", "m_a", "\n", "out_m_a_a", "=", "new_m_a_a", "+", "m_a_a", "\n", "fma", ".", "create_dataset", "(", "'motif_attr'", ",", "data", "=", "out_m_a", ")", "\n", "fma", ".", "create_dataset", "(", "'motif_attr_attr'", ",", "data", "=", "out_m_a_a", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.show_me_sgimage": [[516, 592], ["graphviz.Digraph", "graphviz.Digraph.render", "PIL.Image.open", "print", "PIL.ImageTk.PhotoImage", "sg_box.pack", "max", "print", "print", "sg_image.resize.resize", "graphviz.Digraph.node", "graphviz.Digraph.edge", "graphviz.Digraph.edge", "int", "int", "int", "int", "mylis.append", "graphviz.Digraph.node", "mylis.append", "graphviz.Digraph.node", "int", "int", "int"], "function", ["None"], ["def", "show_me_sgimage", "(", ")", ":", "\n", "    ", "scene_graph", "=", "Digraph", "(", "comment", "=", "'Scene Graph'", ",", "format", "=", "'png'", ",", "engine", "=", "'fdp'", ")", "\n", "# scene_graph = Digraph(\"Digraph.gv\")", "\n", "global", "sub_rel_ob", ",", "ins_to_stuff", "\n", "# \u5b9e\u9a8c\u4e00\u4e0b\u80fd\u4e0d\u80fd\u5f39\u51fa\u7a97\u53e3", "\n", "# scene_graph.node(\"node1\",\"my scene graph\",color=\"#97816a\", fillcolor=\"#f5d0e1\", fontcolor=\"#fe8c82\", shape=\"box\", style=\"filled\")", "\n", "# scene_graph.node(\"node2\", \"hhh\", color=\"#97816a\", fillcolor=\"#f5d0e1\", fontcolor=\"#fe8c82\", shape=\"box\",style=\"filled\")", "\n", "########\u4fee\u6539\u5185\u5bb9\u5206\u754c\u7ebf", "\n", "\n", "mylis", "=", "[", "]", "# \u8bb0\u5f55\u5df2\u7ecf\u751f\u6210\u7684\u8282\u70b9", "\n", "k", "=", "-", "1", "\n", "\n", "# for i in list(gt_rels): #\u6bcf\u4e2ai\u90fd\u662f('6-head', 'of', '4-man')", "\n", "# xx=i[0].split(\"-\")  #xx\u4e3a(6,head)", "\n", "# yy=i[2].split(\"-\")", "\n", "# \u5bf9\u4e8e\u7b2c\u4e00\u7ec4\u5173\u7cfb", "\n", "for", "i", "in", "sub_rel_ob", ":", "# \u6ce8\u610f\u4e00\u4e0b\uff0csubrelob\u6700\u540e\u4e00\u4e2a\u59cb\u7ec8\u4e3a[-1,-1,-1],\u6240\u4ee5i\u8981\u6ce8\u610f\u4e00\u4e0b", "\n", "        ", "if", "i", "!=", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ":", "\n", "            ", "xx", "=", "(", "int", "(", "i", "[", "0", "]", ")", ",", "id2label", "[", "\n", "ins_to_stuff", "[", "int", "(", "i", "[", "0", "]", ")", "]", "[", "1", "]", "]", ".", "name", ")", "# (\u5b9e\u4f8bid,\u7c7b\u578b\u540d\u79f0)   int(i[0])\u662f\u5b9e\u4f8bid  ins_to_stuff[int(i[0])][1]\u662f\u7c7b\u578bId", "\n", "yy", "=", "(", "int", "(", "i", "[", "2", "]", ")", ",", "id2label", "[", "ins_to_stuff", "[", "int", "(", "i", "[", "2", "]", ")", "]", "[", "1", "]", "]", ".", "name", ")", "# (\u5b9e\u4f8bid,\u7c7b\u578b)", "\n", "\n", "if", "(", "xx", "[", "0", "]", "not", "in", "mylis", ")", ":", "# \u770b\u4e00\u4e0b\u8282\u70b91\u6709\u4e86\u6ca1\uff0c\u5982\u679c\u6ca1\u6709\u5219\u751f\u6210", "\n", "                ", "mylis", ".", "append", "(", "xx", "[", "0", "]", ")", "\n", "point_name", "=", "xx", "[", "0", "]", "\n", "point_context", "=", "xx", "[", "1", "]", "\n", "scene_graph", ".", "node", "(", "'%s%s'", "%", "(", "'gt_boxes'", ",", "point_name", ")", ",", "'%s%s%s'", "%", "(", "point_name", ",", "\"-\"", ",", "point_context", ")", ",", "\n", "color", "=", "\"#000000\"", ",", "fillcolor", "=", "\"#f5d0e1\"", ",", "fontcolor", "=", "\"#000000\"", ",", "shape", "=", "\"box\"", ",", "style", "=", "\"filled\"", ")", "\n", "\n", "", "k", "=", "k", "+", "1", "# \u8fde\u63a5Ob\u548crel", "\n", "# \u6ce8\u610f\uff01\uff01\uff01\u56e0\u4e3a\u7f16\u7801\u7684\u65f6\u5019 \u5173\u7cfblis\u662f\u4ece1\u5f00\u59cb\u7f16\u53f7 \u6240\u4ee5\u8fd9\u4e2a\u5730\u65b9value\u8981-1\uff01\uff01\uff01", "\n", "scene_graph", ".", "node", "(", "'%s%s'", "%", "(", "'gt_rels'", ",", "k", ")", ",", "rel_list_all", "[", "int", "(", "i", "[", "1", "]", ")", "]", ",", "color", "=", "\"#000000\"", ",", "fillcolor", "=", "\"#c9fcd3\"", ",", "\n", "fontcolor", "=", "\"#000000\"", ",", "style", "=", "\"filled\"", ")", "\n", "# style=\"filled\")", "\n", "scene_graph", ".", "edge", "(", "'%s%s'", "%", "(", "'gt_boxes'", ",", "xx", "[", "0", "]", ")", ",", "'%s%s'", "%", "(", "'gt_rels'", ",", "k", ")", ",", "color", "=", "\"#000000\"", ")", "\n", "if", "(", "yy", "[", "0", "]", "not", "in", "mylis", ")", ":", "# \u770b\u4e00\u4e0b\u8282\u70b91\u6709\u4e86\u6ca1\uff0c\u5982\u679c\u6ca1\u6709\u5219\u751f\u6210", "\n", "                ", "mylis", ".", "append", "(", "yy", "[", "0", "]", ")", "\n", "point_name", "=", "yy", "[", "0", "]", "\n", "point_context", "=", "yy", "[", "1", "]", "\n", "scene_graph", ".", "node", "(", "'%s%s'", "%", "(", "'gt_boxes'", ",", "point_name", ")", ",", "'%s%s%s'", "%", "(", "point_name", ",", "\"-\"", ",", "point_context", ")", ",", "\n", "color", "=", "\"#000000\"", ",", "fillcolor", "=", "\"#f5d0e1\"", ",", "fontcolor", "=", "\"#000000\"", ",", "shape", "=", "\"box\"", ",", "style", "=", "\"filled\"", ")", "\n", "", "scene_graph", ".", "edge", "(", "'%s%s'", "%", "(", "'gt_rels'", ",", "k", ")", ",", "'%s%s'", "%", "(", "'gt_boxes'", ",", "yy", "[", "0", "]", ")", ",", "color", "=", "\"#000000\"", ")", "\n", "\n", "########\u4fee\u6539\u5185\u5bb9\u5206\u754c\u7ebf", "\n", "\n", "# del scene_graph.body[0]", "\n", "# scene_graph = Source.from_file('Digraph.gv')", "\n", "# for i in scene_graph.body:", "\n", "#    print(i)", "\n", "##\u4fdd\u5b58", "\n", "", "", "scene_graph", ".", "render", "(", "\"alala.gv\"", ",", "view", "=", "False", ")", "\n", "# \u628a\u573a\u666f\u56fe\u663e\u793a\u5728\u65b0\u7a97\u53e3", "\n", "\n", "#\u5728\u8fd9\u91cc\u628a\u573a\u666f\u56fe\u5927\u5c0f\u66ff\u6362", "\n", "\n", "sg_image", "=", "Image", ".", "open", "(", "'alala.gv.png'", ")", "# \u521b\u5efaLabel\u7ec4\u4ef6\uff0c\u901a\u8fc7Image=photo\u8bbe\u7f6e\u8981\u5c55\u793a\u7684\u56fe\u7247", "\n", "\n", "width", "=", "sg_image", ".", "size", "[", "0", "]", "\n", "height", "=", "sg_image", ".", "size", "[", "1", "]", "\n", "global", "w", ",", "h", "\n", "print", "(", "\"wh\"", ",", "width", ",", "height", ")", "\n", "if", "(", "width", ">", "(", "w", "-", "100", ")", ")", "or", "(", "height", ">", "(", "h", "-", "100", ")", ")", ":", "\n", "        ", "k", "=", "max", "(", "width", "/", "(", "w", "-", "100", ")", ",", "height", "/", "(", "h", "-", "100", ")", ")", "#k\u8868\u793a\u662f\u51e0\u500d", "\n", "print", "(", "\"k\"", ",", "k", ")", "\n", "target_size", "=", "(", "int", "(", "width", "/", "k", ")", ",", "int", "(", "height", "/", "k", ")", ")", "\n", "print", "(", "\"ts\"", ",", "target_size", ")", "\n", "sg_image", "=", "sg_image", ".", "resize", "(", "target_size", ")", "\n", "#target_size = (500,500)", "\n", "#sg_image = sg_image.resize(target_size)", "\n", "\n", "", "sg_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sg_image", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "# \u60f3\u8ba9sg_box\u8fd9\u4e2alabel\u76f4\u63a5\u663e\u793a\u5728window2\u4e0a", "\n", "sg_box", ".", "x", "=", "sg_photo", "\n", "sg_box", "[", "'image'", "]", "=", "sg_photo", "\n", "sg_box", ".", "state", "=", "\"on\"", "\n", "sg_box", ".", "pack", "(", ")", "# \u5c55\u793aLabel\u5bf9\u8c61", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.howto_help": [[593, 599], ["tkinter.Toplevel", "tk.Toplevel.title", "tk.Toplevel.geometry", "tkinter.Label", "tk.Label.pack"], "function", ["None"], ["", "def", "howto_help", "(", ")", ":", "\n", "    ", "window3", "=", "tk", ".", "Toplevel", "(", ")", "# \u663e\u793a\u573a\u666f\u56fe", "\n", "window3", ".", "title", "(", "'How to label'", ")", "\n", "window3", ".", "geometry", "(", "'300x300'", ")", "\n", "howto", "=", "tk", ".", "Label", "(", "window3", ",", "text", "=", "'\u9009\u62e9\u4e3b\u8bed\uff1a\u9f20\u6807\u5de6\u952e\\n\\n\u9009\u62e9\u5bbe\u8bed\uff1ashift+\u9f20\u6807\u5de6\u952e\\n\\n\u6807\u6ce8region\uff1a\u9f20\u6807\u53f3\u952e\u62d6\u52a8'", ")", "\n", "howto", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.about_help": [[600, 606], ["tkinter.Toplevel", "tk.Toplevel.title", "tk.Toplevel.geometry", "tkinter.Label", "tk.Label.pack"], "function", ["None"], ["", "def", "about_help", "(", ")", ":", "\n", "    ", "window4", "=", "tk", ".", "Toplevel", "(", ")", "# \u663e\u793a\u573a\u666f\u56fe", "\n", "window4", ".", "title", "(", "'About us'", ")", "\n", "window4", ".", "geometry", "(", "'300x300'", ")", "\n", "aboutus", "=", "tk", ".", "Label", "(", "window4", ",", "text", "=", "\"Emotion Computing Group\\n\\nXi\u2019an Jiaotong University\"", ")", "\n", "aboutus", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func1": [[613, 631], ["main_old.color_for_subnob", "main_old.play_func12", "main_old.play_func22", "main_old.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "def", "play_func1", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "1", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "#new_photo = ImageTk.PhotoImage(img)  # \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "#image_box.x = new_photo", "\n", "#image_box['image'] = new_photo", "\n", "#image_box.pack()", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func2": [[633, 651], ["main_old.color_for_subnob", "main_old.play_func12", "main_old.play_func22", "main_old.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "", "def", "play_func2", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "2", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "#new_photo = ImageTk.PhotoImage(imnew)  # \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "#image_box.x = new_photo", "\n", "#image_box['image'] = new_photo", "\n", "#image_box.pack()", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func3": [[653, 671], ["main_old.color_for_subnob", "main_old.play_func12", "main_old.play_func22", "main_old.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "", "def", "play_func3", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "3", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "#new_photo = ImageTk.PhotoImage(imnew2)  # \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "#image_box.x = new_photo", "\n", "#image_box['image'] = new_photo", "\n", "#image_box.pack()", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func4": [[673, 691], ["main_old.color_for_subnob", "main_old.play_func12", "main_old.play_func22", "main_old.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "", "def", "play_func4", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "4", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "#new_photo = ImageTk.PhotoImage(imnew3)  # \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "#image_box.x = new_photo", "\n", "#image_box['image'] = new_photo", "\n", "#image_box.pack()", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func12": [[695, 721], ["cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.rectangle", "int", "int", "int", "int"], "function", ["None"], ["", "", "def", "play_func12", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", "\n", "v22int", "=", "1", "\n", "global", "rect1", ",", "rect2", ",", "renum", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "global", "focus_region", "\n", "if", "rect1", "!=", "[", "]", "and", "rect2", "!=", "[", "]", ":", "\n", "        ", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1", "[", "int", "(", "focus_region", ")", "]", "[", "0", "]", ",", "rect1", "[", "int", "(", "focus_region", ")", "]", "[", "1", "]", ")", ",", "\n", "(", "rect2", "[", "int", "(", "focus_region", ")", "]", "[", "0", "]", ",", "rect2", "[", "int", "(", "focus_region", ")", "]", "[", "1", "]", ")", ",", "(", "0", ",", "0", ",", "255", ")", ",", "2", ")", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func22": [[723, 747], ["range", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.rectangle"], "function", ["None"], ["", "def", "play_func22", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", "\n", "v22int", "=", "2", "\n", "global", "rect1", ",", "rect2", ",", "renum", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "for", "i", "in", "range", "(", "renum", ")", ":", "\n", "        ", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1", "[", "i", "]", "[", "0", "]", ",", "rect1", "[", "i", "]", "[", "1", "]", ")", ",", "(", "rect2", "[", "i", "]", "[", "0", "]", ",", "rect2", "[", "i", "]", "[", "1", "]", ")", ",", "(", "0", ",", "0", ",", "255", ")", ",", "2", ")", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.play_func32": [[750, 772], ["cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread"], "function", ["None"], ["", "def", "play_func32", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", "\n", "v22int", "=", "3", "\n", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.small_label": [[774, 776], ["print"], "function", ["None"], ["", "def", "small_label", "(", "self", ")", ":", "\n", "    ", "print", "(", "rel_list_all", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.q_dpic2": [[778, 800], ["Image.new.load", "opic.convert", "opic.convert.load", "imnew.convert", "imnew.convert.load", "range", "PIL.Image.blend", "PIL.Image.new", "PIL.Image.new", "PIL.Image.new", "range"], "function", ["None"], ["", "def", "q_dpic2", "(", "opic", ",", "idnum", ",", "mycolor", ")", ":", "#\u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272,2\u8868\u793a\u9ec4\u8272", "\n", "#\u529f\u80fd\uff1a\u5728\u539f\u59cb\u56fe\u7247opic\u4e0a\uff0c\u628aid\u6240\u5728\u56fe\u5c42\u53d8\u6210\u539f\u56fe\uff0c\u7136\u540e\u628aid\u4ee5\u5916\u7684dpic_mini\u53d8\u6210opic\uff0c\u6700\u540e\u8fd4\u56de\u878d\u5408\u7684\u56fe\u7247", "\n", "    ", "global", "insid", ",", "width", ",", "height", ",", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "insid_cluster", "\n", "if", "mycolor", "==", "0", ":", "\n", "        ", "dpic_mini", "=", "Image", ".", "new", "(", "'RGBA'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"red\"", ")", "\n", "", "if", "mycolor", "==", "1", ":", "\n", "        ", "dpic_mini", "=", "Image", ".", "new", "(", "'RGBA'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"blue\"", ")", "\n", "", "if", "mycolor", "==", "2", ":", "\n", "        ", "dpic_mini", "=", "Image", ".", "new", "(", "'RGBA'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"yellow\"", ")", "\n", "", "pixdpic_mini", "=", "dpic_mini", ".", "load", "(", ")", "#\u53e0\u52a0\u5c42\u50cf\u7d20pixdpic_mini", "\n", "opic_rgba", "=", "opic", ".", "convert", "(", "'RGBA'", ")", "# opic\u7684RGAB\u7248\u672c", "\n", "pixopic", "=", "opic_rgba", ".", "load", "(", ")", "# oopic\u7684\u50cf\u7d20", "\n", "imnew_rgba", "=", "imnew", ".", "convert", "(", "'RGBA'", ")", "# \u539f\u56fe\u7684RGAB\u7248\u672c", "\n", "piximnew", "=", "imnew_rgba", ".", "load", "(", ")", "# \u539f\u56fe\u7684\u50cf\u7d20", "\n", "for", "x", "in", "range", "(", "width", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height", "//", "k", ")", ":", "# 1024", "\n", "            ", "if", "insid_cluster", "[", "y", "*", "k", ",", "x", "*", "k", "]", "!=", "idnum", ":", "#\u53e0\u52a0\u5c42\u672c\u6765\u662f\u5168\u7ea2\u8272\uff0c\u5982\u679c\u662fid\u4ee5\u5916\u7684\u90e8\u5206", "\n", "                ", "pixdpic_mini", "[", "x", ",", "y", "]", "=", "pixopic", "[", "x", ",", "y", "]", "\n", "", "else", ":", "\n", "                ", "pixopic", "[", "x", ",", "y", "]", "=", "piximnew", "[", "x", ",", "y", "]", "\n", "", "", "", "bl_img", "=", "Image", ".", "blend", "(", "opic_rgba", ",", "dpic_mini", ",", "0.4", ")", "\n", "return", "bl_img", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.color_for_subnob": [[802, 823], ["main_old.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "main_old.q_dpic2", "PIL.ImageTk.PhotoImage"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2"], ["", "def", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", ":", "\n", "    ", "if", "v2int", "==", "1", ":", "\n", "        ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "myimg", "=", "imnew3", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "sub_id", ",", "0", ")", "# \u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272, \u5e76\u7f29\u5c0f", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "if", "ob_id", "!=", "-", "1", ":", "#\u7b49\u4e8e-1\u7684\u65f6\u5019\u8868\u793a\u6ca1\u6709,\u4e0d", "\n", "        ", "sub_img2", "=", "q_dpic2", "(", "sub_img", ",", "ob_id", ",", "1", ")", "# \u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272, \u5e76\u7f29\u5c0f", "\n", "# \u4f7f\u5f97\u4e3b\u8bed\u6240\u5728\u50cf\u7d20\u9ad8\u4eae", "\n", "# \u5b9e\u9a8c\u90e8\u5206 \u663e\u793a\u8bfb\u53d6\u56fe\u50cf", "\n", "# img1 = img.convert('RGBA')", "\n", "#    sub_img = Image.blend(img, sub_dpic, 0.3)", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img2", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_sub": [[826, 875], ["main_old.q_ori", "main_old.q_id", "name_sub.set", "name_ob.set", "name_rel.set", "main_old.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "select_cluster.append", "cluster_list.insert", "str", "str", "str", "main_old.q_label", "int", "int", "main_old.q_label"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label"], ["", "def", "select_sub", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "", "x", ",", "y", "=", "q_ori", "(", "event", ".", "x", ",", "event", ".", "y", ")", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u539f\u59cb\u56fe\u7247\u4e2d\u7684\uff1a\",x, y)", "\n", "# print(\"\u5b9e\u4f8bid\u662f\uff1a\",q_id(x,y))", "\n", "# print(\"label id\u662f\uff1a\",q_label(x,y))", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", ",", "name_rel", "\n", "#print(\"x\",x,\"y\",y)", "\n", "sub_id", "=", "q_id", "(", "x", ",", "y", ")", "\n", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", ")", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_sub_str", "=", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", "\n", "name_ob_str", "=", "\"There is ob\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "ob_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", ",", "select_cluster", "\n", "global", "if_select_cluster", "\n", "if_select_cluster", "=", "False", "\n", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "myimg", "=", "imnew3", "\n", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "sub_id", ",", "0", ")", "#\u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272, \u5e76\u7f29\u5c0f", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "if", "if_start_cluster", "==", "True", ":", "#\u5982\u679c\u6b64\u65f6\u662f\u6b63\u5728\u6807\u6ce8\u8fc7\u7a0b\uff0c\u5219\u5b58\u50a8\u4e0bsubid \u5e76\u4e14\u5728cluster_list\u91cc\u663e\u793a", "\n", "        ", "select_cluster", ".", "append", "(", "sub_id", ")", "\n", "c", "=", "[", "str", "(", "int", "(", "sub_id", ")", ")", ",", "\"-\"", ",", "name_sub_str", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "cluster_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_direc": [[878, 923], ["main_old.q_ori", "main_old.q_id", "name_sub.set", "name_ob.set", "name_rel.set", "main_old.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "str", "str", "main_old.q_label", "int", "main_old.q_label"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label"], ["", "def", "select_direc", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "", "x", ",", "y", "=", "q_ori", "(", "event", ".", "x", ",", "event", ".", "y", ")", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u539f\u59cb\u56fe\u7247\u4e2d\u7684\uff1a\",x, y)", "\n", "# print(\"\u5b9e\u4f8bid\u662f\uff1a\",q_id(x,y))", "\n", "# print(\"label id\u662f\uff1a\",q_label(x,y))", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", ",", "name_rel", "\n", "sub_id", "=", "q_id", "(", "x", ",", "y", ")", "\n", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", ")", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_sub_str", "=", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", "\n", "name_ob_str", "=", "\"There is ob\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "ob_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", ",", "select_cluster", "\n", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "myimg", "=", "imnew3", "\n", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "sub_id", ",", "2", ")", "#\u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272,2\u8868\u793a\u9ec4\u8272 \u5e76\u7f29\u5c0f", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "\n", "#direc_set.insert(\"end\",\"Forward\")#\u63d2\u5165\u671d\u524d", "\n", "#direc_set.insert(\"forward\", \"Backward\")  # \u63d2\u5165\u671d\u540e", "\n", "#direc_set.insert(\"forward\", \"Leftward\")  # \u63d2\u5165\u671d\u5de6", "\n", "#direc_set.insert(\"forward\", \"Righttward\")  # \u63d2\u5165\u671d\u53f3", "\n", "f_text", ".", "set", "(", "\"  \u2191  \"", ")", "\n", "b_text", ".", "set", "(", "\"  \u2193  \"", ")", "\n", "l_text", ".", "set", "(", "\"  \u2190  \"", ")", "\n", "r_text", ".", "set", "(", "\"  \u2192  \"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.q_rel_list_now": [[929, 979], ["rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append"], "function", ["None"], ["", "def", "q_rel_list_now", "(", "a", ",", "b", ")", ":", "\n", "# \u5982\u679c\u662f11\u5bf9\u5e9400=0 12\u5bf9\u5e9401=1", "\n", "#     21\u5bf9\u5e9410=5", "\n", "    ", "rel_list_now", "=", "[", "]", "\n", "global", "rel_list_now_id", "\n", "rel_list_now_id", "=", "[", "]", "# \u5b9a\u4f4d\u663e\u793a\u7684\u5173\u7cfb\u5728\u5173\u7cfb\u5217\u8868\u91cc\u7684id", "\n", "rel_list_now_type", "=", "rel_list_layer", "[", "(", "a", "-", "1", ")", "*", "5", "+", "(", "b", "-", "1", ")", "]", "# \u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982rel_list_now_type=[\"s\",\"p\",\"v\",\"o\"]", "\n", "'''\u539f\u6765\u7684\u65b9\u6cd5\n    for i in range(len(rel_list_all_type)):  #i=1~61\n        if rel_list_all_type[i] in rel_list_now_type: #\u5f53\u5217\u8868\u91cc\u7b2ci\u4e2a\u7684\u7c7b\u578b\u5728rel_list_now_type\u4e2d\uff0c\u5219\u63d0\u53d6\u5979\u3002\n            rel_list_now.append(rel_list_all[i])'''", "\n", "# \u65b0\u65b9\u6cd5", "\n", "for", "i", "in", "rel_list_now_type", ":", "\n", "        ", "if", "i", "==", "\"s\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Spatial----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_s", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"p\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Preposition----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_p", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"v\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Verb----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_v", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"a\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Area----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_a", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"o\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Occlusion----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_o", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"l\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Link----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_l", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "", "return", "rel_list_now", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.popup_rel": [[982, 987], ["main_old.q_rel_list_now", "now_rel.delete", "main_old.q_layer", "main_old.q_layer", "now_rel.insert"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_rel_list_now", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_layer", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_layer"], ["", "def", "popup_rel", "(", "sub_id", ",", "ob_id", ")", ":", "\n", "    ", "rel_list_now", "=", "q_rel_list_now", "(", "q_layer", "(", "sub_id", ")", ",", "q_layer", "(", "ob_id", ")", ")", "\n", "now_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "for", "i", "in", "rel_list_now", ":", "\n", "        ", "now_rel", ".", "insert", "(", "\"end\"", ",", "i", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_ob": [[990, 1019], ["main_old.q_ori", "main_old.q_id", "name_ob.set", "name_rel.set", "main_old.popup_rel", "main_old.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "str", "str", "main_old.q_label", "int", "main_old.q_label"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label"], ["", "", "def", "select_ob", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "ob_id", ",", "sub_id", ",", "rel_id", ",", "name_ob_str", ",", "name_rel_str", ",", "name_rel", ",", "name_ob", "\n", "if", "sub_id", "!=", "-", "1", ":", "# \u5bbe\u8bed\u5fc5\u987b\u5728\u4e3b\u8bed\u9009\u62e9\u540e\u624d\u80fd\u9009\u62e9", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "        ", "x", ",", "y", "=", "q_ori", "(", "event", ".", "x", ",", "event", ".", "y", ")", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u539f\u59cb\u56fe\u7247\u4e2d\u7684\uff1a\",x, y)", "\n", "# print(\"\u5b9e\u4f8bid\u662f\uff1a\",q_id(x,y))", "\n", "# print(\"label id\u662f\uff1a\",q_label(x,y))", "\n", "ob_id", "=", "q_id", "(", "x", ",", "y", ")", "\n", "name_ob", ".", "set", "(", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", ")", ")", "\n", "name_ob_str", "=", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "rel_id", "=", "-", "1", "\n", "popup_rel", "(", "sub_id", ",", "ob_id", ")", "# \u9009\u62e9\u5bbe\u8bed\u540e\u81ea\u52a8\u5f39\u51fa\u5173\u7cfb", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", "\n", "\n", "sub_img2", "=", "q_dpic2", "(", "sub_img", ",", "ob_id", ",", "1", ")", "# \u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272, \u5e76\u7f29\u5c0f", "\n", "# \u4f7f\u5f97\u4e3b\u8bed\u6240\u5728\u50cf\u7d20\u9ad8\u4eae", "\n", "# \u5b9e\u9a8c\u90e8\u5206 \u663e\u793a\u8bfb\u53d6\u56fe\u50cf", "\n", "# img1 = img.convert('RGBA')", "\n", "#    sub_img = Image.blend(img, sub_dpic, 0.3)", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img2", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.certainrel": [[1022, 1140], ["main_old.attri_attach", "main_old.show_me_sgimage", "print", "print", "reco_rel.delete", "anno_rel.delete", "anno_rel.insert", "bt_text.set", "dele_text.set", "sub_rel_ob.append", "sub_rel_ob_attri.append", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "int", "anno_rel.insert", "sub_rel_ob.append", "main_old.attri_attach", "sub_rel_ob_attri.append", "sub_rel_ob.insert", "sub_rel_ob_attri.insert", "anno_rel.insert", "bt_text.set", "dele_text.set", "auto_rel.delete", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "anno_rel.delete", "anno_rel.insert", "sub_rel_ob.insert", "sub_rel_ob_attri.insert", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "anno_rel.insert", "bt_text.set", "dele_text.set", "sub_rel_ob.append", "sub_rel_ob_attri.append", "int", "int", "int", "int", "int", "str", "int", "str", "int", "str", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.attri_attach", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.show_me_sgimage", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.attri_attach"], ["", "", "def", "certainrel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "sub_rel_ob", ",", "sub_rel_ob_attri", "\n", "global", "ob_id", ",", "sub_id", ",", "rel_id", ",", "sub_rel_ob", "\n", "global", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", ",", "name_sub", ",", "name_ob", ",", "name_rel", "\n", "a", "=", "[", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "]", "\n", "b", "=", "\"-\"", "\n", "c", "=", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "name_sub_str", "+", "\"  ---\"", "+", "name_rel_str", "+", "\"---  \"", "+", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "name_ob_str", "\n", "# \u5904\u7406\u548c\u5220\u9664\u663e\u793a\u7684\u5217\u8868", "\n", "###size()=1\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u662fnum=0\uff0c\u6240\u4ee5\u8981\u5224\u65ad\u9009\u4e2d\u7684\u662f\u4fee\u6539\u8fd8\u662f\u6dfb\u52a0", "\n", "global", "anno_num", ",", "anno_index", ",", "auto_index", "\n", "global", "region_rel_list", ",", "recoid", "\n", "newattri1", ",", "newattri2", ",", "newattri3", "=", "attri_attach", "(", "sub_id", ",", "ob_id", ")", "\n", "global", "if_select_cluster", "\n", "\n", "if", "if_select_cluster", "==", "True", ":", "#\u5982\u679c\u662f\u6279\u91cf\u7684", "\n", "#\u770b\u770b\u666e\u901a\u7684\u662f\u600e\u4e48\u589e\u52a0\u7684", "\n", "        ", "anno_rel", ".", "delete", "(", "int", "(", "anno_index", ")", ")", "#\u5220\u9664\u6700\u540e\u4e00\u4e2a\uff0c\u7136\u540e\u5728\u6700\u540e\u6dfb\u52a0\u4e00\u4e32", "\n", "del", "sub_rel_ob", "[", "int", "(", "anno_index", ")", "]", "# \u5220\u9664\u6700\u540e\u7684[-1,-1,-1]", "\n", "del", "sub_rel_ob_attri", "[", "int", "(", "anno_index", ")", "]", "\n", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "c2", "=", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "name_sub_str", "+", "\"  ---\"", "+", "name_rel_str", "+", "\"---  \"", "+", "str", "(", "\n", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "name_ob_str", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "c2", ")", "\n", "# \u8bb0\u5f55\u5728\u6570\u7ec4\u91cc\uff0c\u4e0d\u7ba1\u662f\u5220\u9664\u7684\u8fd8\u662f\u65b0\u589e\u7684\uff0c\u90fd\u662f\u5220\u9664\u7d22\u5f15\uff0c\u7136\u540e\u5728\u7d22\u5f15\u4f4d\u7f6e\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u3002\u5982\u679c\u662f\u65b0\u589e\u7684\u5c31num+1\uff0c\u5982\u679c\u662f\u4fee\u6539\u7684\u5c31num\u4e0d\u53d8", "\n", "# print(\"\u5220\u9664\u5e76\u6dfb\u52a0\uff1a\",int(anno_index))", "\n", "sub_rel_ob", ".", "append", "(", "[", "int", "(", "i", ")", ",", "rel_id", ",", "ob_id", "]", ")", "\n", "newattri12", ",", "newattri22", ",", "newattri32", "=", "attri_attach", "(", "int", "(", "i", ")", ",", "ob_id", ")", "\n", "sub_rel_ob_attri", ".", "append", "(", "[", "newattri12", ",", "newattri22", ",", "newattri32", "]", ")", "\n", "anno_num", "=", "anno_num", "+", "1", "\n", "", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"\"", ")", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "sub_rel_ob", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "sub_rel_ob_attri", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "anno_index", "=", "anno_num", "# index\u59cb\u7ec8\u6307\u5411\u6700\u540e\u4e00\u4e2a", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "# \u786e\u8ba4\u540e\u8fd9\u4e9b\u90fd\u8981\u8df3\u6ca1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "\n", "", "else", ":", "\n", "\n", "        ", "if", "anno_index", "==", "-", "1", "and", "auto_index", "!=", "-", "1", ":", "#\u4fee\u6539\u7684\u662fauto_list", "\n", "            ", "'''\u5982\u679c\u9009\u4e2d\u7684\u662fauto\u5217\u8868\u6309\u4e86\u786e\u8ba4\u952e\u540e\u628aauto\u5217\u8868\u91cc\u7684\u4e1c\u897f\uff08subrelob\uff09\uff1a\n            1.\u4fdd\u5b58\u5728\u540e\u53f0\u6570\u636e\u5e93\u5217\u8868\u91cc\n            2.\u663e\u793a\u5728\u5df2\u6807\u6ce8list\u91cc\n            3.\u66f4\u65b0\u5728autolist\u91cc\uff08\u5220\u9664\u8fd9\u4e00\u9879\u5728auto_rel\u548cregion_rel_list\uff09\n            4.subrelob\u6587\u672c\u6e05\u7a7a \u65b0\u7684\u6307\u6807\u6307\u7740anno\u7684\u65b0\u5efa\u8fd9\u5c42'''", "\n", "# \u529f\u80fd1", "\n", "sub_rel_ob", ".", "insert", "(", "int", "(", "anno_num", ")", ",", "[", "sub_id", ",", "rel_id", ",", "ob_id", "]", ")", "\n", "sub_rel_ob_attri", ".", "insert", "(", "int", "(", "anno_num", ")", ",", "[", "newattri1", ",", "newattri2", ",", "newattri3", "]", ")", "\n", "# \u529f\u80fd2", "\n", "anno_rel", ".", "insert", "(", "int", "(", "anno_num", ")", ",", "c", ")", "\n", "anno_num", "=", "anno_num", "+", "1", "\n", "#anno_rel.insert(\"end\", \"\")", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "#\u529f\u80fd3", "\n", "# \u627e\u4e00\u4e0b\u5173\u4e8eautorel\u663e\u793a\u76f8\u5173\u7684\u5185\u5bb9\uff1a\u548cregion_rel_list\u6709\u5173.\u90a3\u4e48\u8981\u540c\u65f6\u5220\u9664autorel\u548cregion_rel_list", "\n", "#\u4e3a\u4ec0\u4e48\u8981\u540c\u65f6\u5220\u9664\u800c\u4e0d\u662f\u5220\u9664\u5176\u4e2d\u4e00\u4e2a\uff0c\u56e0\u4e3a\u6587\u672c\u663e\u793a\u548cregion_rel_list\u6709\u5173\u3002", "\n", "del", "region_rel_list", "[", "int", "(", "auto_index", ")", "]", "\n", "auto_rel", ".", "delete", "(", "int", "(", "auto_index", ")", ")", "\n", "# \u529f\u80fd4", "\n", "anno_index", "=", "anno_num", "# index\u59cb\u7ec8\u6307\u5411\u6700\u540e\u4e00\u4e2a", "\n", "auto_index", "=", "-", "1", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "# \u786e\u8ba4\u540e\u8fd9\u4e9b\u90fd\u8981\u8df3\u6ca1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "#show_me_sgimage()", "\n", "\n", "", "else", ":", "#\u4fee\u6539\u7684\u4e0d\u662fauto_list", "\n", "# \u4e0d\u7ba1\u662f\u5220\u9664\u7684\u8fd8\u662f\u65b0\u589e\u7684\uff0c\u90fd\u662f\u5220\u9664\u7d22\u5f15\uff0c\u7136\u540e\u5728\u7d22\u5f15\u4f4d\u7f6e\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u3002\u5982\u679c\u662f\u65b0\u589e\u7684\u5c31num+1\uff0c\u5982\u679c\u662f\u4fee\u6539\u7684\u5c31num\u4e0d\u53d8", "\n", "            ", "anno_rel", ".", "delete", "(", "int", "(", "anno_index", ")", ")", "\n", "anno_rel", ".", "insert", "(", "int", "(", "anno_index", ")", ",", "c", ")", "\n", "# \u8bb0\u5f55\u5728\u6570\u7ec4\u91cc\uff0c\u4e0d\u7ba1\u662f\u5220\u9664\u7684\u8fd8\u662f\u65b0\u589e\u7684\uff0c\u90fd\u662f\u5220\u9664\u7d22\u5f15\uff0c\u7136\u540e\u5728\u7d22\u5f15\u4f4d\u7f6e\u6dfb\u52a0\u65b0\u7684\u5185\u5bb9\u3002\u5982\u679c\u662f\u65b0\u589e\u7684\u5c31num+1\uff0c\u5982\u679c\u662f\u4fee\u6539\u7684\u5c31num\u4e0d\u53d8", "\n", "# print(\"\u5220\u9664\u5e76\u6dfb\u52a0\uff1a\",int(anno_index))", "\n", "del", "sub_rel_ob", "[", "int", "(", "anno_index", ")", "]", "\n", "del", "sub_rel_ob_attri", "[", "int", "(", "anno_index", ")", "]", "\n", "sub_rel_ob", ".", "insert", "(", "int", "(", "anno_index", ")", ",", "[", "sub_id", ",", "rel_id", ",", "ob_id", "]", ")", "\n", "sub_rel_ob_attri", ".", "insert", "(", "int", "(", "anno_index", ")", ",", "[", "newattri1", ",", "newattri2", ",", "newattri3", "]", ")", "\n", "if", "anno_index", "==", "anno_num", ":", "# \u65b0\u589e\u7684", "\n", "# num=1:111//000/,index=0\u8868\u793a\u4fee\u6539\uff0cindex=1\u8868\u793a\u65b0\u589e,num=2:111//222//000", "\n", "                ", "anno_num", "=", "anno_num", "+", "1", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"\"", ")", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "sub_rel_ob", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "sub_rel_ob_attri", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "", "anno_index", "=", "anno_num", "# index\u59cb\u7ec8\u6307\u5411\u6700\u540e\u4e00\u4e2a", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "# \u786e\u8ba4\u540e\u8fd9\u4e9b\u90fd\u8981\u8df3\u6ca1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "", "", "show_me_sgimage", "(", ")", "\n", "print", "(", "sub_rel_ob", ")", "\n", "print", "(", "sub_rel_ob_attri", ")", "\n", "reco_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "recoid", "=", "-", "1", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_rel": [[1146, 1159], ["now_rel.curselection", "now_rel.get", "name_rel.set", "now_rel.curselection", "int", "int", "now_rel.curselection", "now_rel.curselection"], "function", ["None"], ["", "def", "select_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "name_rel_str", ",", "rel_id", "# \u5173\u7cfb\u540d\u5b57", "\n", "# name_rel.set(rel_list_now[now_rel.curselection()[0]])", "\n", "# name_rel_str = rel_list_now[now_rel.curselection()[0]]", "\n", "if", "(", "now_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "if", "(", "rel_list_now_id", "[", "int", "(", "now_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "]", "!=", "-", "1", ")", ":", "# \u5982\u679c\u9009\u4e2d\u7684\u4e0d\u662f\u5206\u5272\u7ebf\u4e86\u8bdd\uff08\u5206\u5272\u7ebf\u7684rel_list_now_id=-1\uff09", "\n", "# \u4e3a\u5565\u70b9\u522b\u7684\u65f6\u5019 \u8fd9\u4e2a\u4f1a\u51fa\u9519\uff1f", "\n", "            ", "value", "=", "now_rel", ".", "get", "(", "now_rel", ".", "curselection", "(", ")", ")", "\n", "name_rel", ".", "set", "(", "value", ")", "\n", "name_rel_str", "=", "value", "\n", "rel_id", "=", "rel_list_now_id", "[", "int", "(", "now_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "]", "# \u4e0d\u7b49\u4e8e-1\u7684\u65f6\u5019\u624d\u53ef\u4ee5\u8bb0\u5f55relid~~", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_direc_list": [[1160, 1184], ["direc_list.curselection", "int", "main_old.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "direc_list.curselection"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2"], ["", "", "", "def", "select_direc_list", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "name_rel_str", ",", "rel_id", ",", "direc_list_index", "# \u5173\u7cfb\u540d\u5b57", "\n", "# name_rel.set(rel_list_now[now_rel.curselection()[0]])", "\n", "# name_rel_str = rel_list_now[now_rel.curselection()[0]]", "\n", "if", "(", "direc_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "direc_list_index", "=", "int", "(", "direc_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", "\n", "if", "v2int", "==", "1", ":", "\n", "            ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "            ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "            ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "            ", "myimg", "=", "imnew3", "\n", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "direc", "[", "direc_list_index", "]", "[", "0", "]", ",", "2", ")", "# \u751f\u6210\u4e00\u4e2a\u53e0\u52a0\u56fe,0\u8868\u793a\u7ea2\u8272,1\u8868\u793a\u84dd\u8272,2\u8868\u793a\u9ec4\u8272 \u5e76\u7f29\u5c0f", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_anno_rel": [[1187, 1264], ["anno_rel.curselection", "int", "name_sub.set", "name_rel.set", "name_ob.set", "bt_text.set", "dele_text.set", "PIL.ImageTk.PhotoImage", "image_box.pack", "int", "int", "int", "len", "name_sub.set", "name_ob.set", "name_rel.set", "bt_text.set", "dele_text.set", "main_old.color_for_subnob", "main_old.popup_rel", "anno_rel.curselection", "int", "int", "str", "str", "str", "int", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel"], ["", "", "def", "select_anno_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "# print(anno_rel.curselection())  #\u4e3a\u4ec0\u4e48\u6709\u65f6\u5019\u9009\u62e9\u5df2\u9009\u5173\u7cfb\u4f1a\u51fa\u9519\uff1f", "\n", "", "if", "(", "anno_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "# \u5982\u679c\u4e0d\u7b49\u4e8e\u7a7a\u4e86\u8bdd\uff0c\u5219\u6267\u884c\u540e\u7eed", "\n", "\n", "        ", "num", "=", "int", "(", "anno_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "# \u9009\u62e9\u7684\u662f\u7b2c\u51e0\u6761\u5df2\u6709\u5173\u7cfb", "\n", "# sub_rel_ob[num][0] #sub\u7684id", "\n", "# sub_rel_ob[num][1] #rel\u7684id", "\n", "# sub_rel_ob[num][2] #ob\u7684id", "\n", "global", "ins_to_stuff", "# \u5b9e\u4f8bid-\u6240\u5c5e\u7c7b\u522bid", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", "\n", "# \u5224\u65ad\u4e00\u4e0b\u662f\u4fee\u6539\u8fd8\u662f\u589e\u52a0", "\n", "global", "anno_num", ",", "anno_index", ",", "auto_index", "\n", "anno_index", "=", "num", "\n", "auto_index", "=", "-", "1", "#\u628aauto\u7684\u5f52-1", "\n", "if", "anno_index", "==", "anno_num", ":", "# \u5982\u679c\u7d22\u5f15\u6307\u7740\u6700\u540e\u4e00\u4e2a \u5219\u662f\u65b0\u589e  num=1:111//000/,index=0\u8868\u793a\u4fee\u6539\uff0cindex=1\u8868\u793a\u65b0\u589e", "\n", "# \u65b0\u589e\u7684\u60c5\u51b5", "\n", "            ", "sub_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "ob_id", "=", "-", "1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "\n", "#\u4e0b\u9762\u662f\u4fee\u6539\u7684 \u76ee\u7684\u662f\u628a\u4e4b\u524d\u9009\u4e2d\u7684\u6e05\u7a7a", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", "\n", "if", "v2int", "==", "1", ":", "\n", "                ", "image", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "                ", "image", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "                ", "image", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "                ", "image", "=", "imnew3", "\n", "\n", "", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "image", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "", "else", ":", "# \u4fee\u6539\u7684\u60c5\u51b5", "\n", "# ins_to_stuff[sub_id][1] #type\u7684id", "\n", "            ", "sub_id", "=", "int", "(", "sub_rel_ob", "[", "num", "]", "[", "0", "]", ")", "\n", "rel_id", "=", "int", "(", "sub_rel_ob", "[", "num", "]", "[", "1", "]", ")", "\n", "ob_id", "=", "int", "(", "sub_rel_ob", "[", "num", "]", "[", "2", "]", ")", "\n", "\n", "# \u66f4\u65b0\u878d\u5408\u7684\u5b9e\u4f8b\u7684\u60c5\u51b5", "\n", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "sub_id", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "                ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "sub_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "                ", "subid", "=", "sub_id", "\n", "", "if", "ob_id", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "                ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "ob_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "                ", "obid", "=", "ob_id", "\n", "\n", "", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "name_ob", ".", "set", "(", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_ob_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "\n", "name_rel", ".", "set", "(", "rel_list_all", "[", "rel_id", "]", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_rel_str", "=", "rel_list_all", "[", "rel_id", "]", "\n", "bt_text", ".", "set", "(", "\"Change\"", ")", "\n", "dele_text", ".", "set", "(", "\"Delete\"", ")", "\n", "\n", "###\u4e0b\u9762\u662f\u590d\u5236\u7c98\u8d34\u7684", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "popup_rel", "(", "subid", ",", "obid", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_reco_rel": [[1265, 1280], ["reco_rel.curselection", "name_rel.set", "name_rel.set"], "function", ["None"], ["", "", "", "def", "select_reco_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "# print(anno_rel.curselection())  #\u4e3a\u4ec0\u4e48\u6709\u65f6\u5019\u9009\u62e9\u5df2\u9009\u5173\u7cfb\u4f1a\u51fa\u9519\uff1f", "\n", "", "if", "(", "reco_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "# \u5982\u679c\u4e0d\u7b49\u4e8e\u7a7a\u4e86\u8bdd\uff0c\u5219\u6267\u884c\u540e\u7eed", "\n", "\n", "\n", "        ", "rel_id", "=", "recoid", "\n", "\n", "if", "rel_id", "==", "-", "1", ":", "\n", "            ", "name_rel", ".", "set", "(", "\"NONE\"", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "", "else", ":", "\n", "            ", "name_rel", ".", "set", "(", "rel_list_all", "[", "rel_id", "]", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_rel_str", "=", "rel_list_all", "[", "rel_id", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_auto_rel": [[1282, 1338], ["auto_rel.curselection", "int", "int", "int", "int", "len", "name_sub.set", "name_ob.set", "bt_text.set", "dele_text.set", "main_old.color_for_subnob", "main_old.popup_rel", "int", "int", "name_rel.set", "name_rel.set", "len", "print", "print", "main_old.Recommend", "auto_rel.curselection", "str", "str", "str", "int", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.Recommend"], ["", "", "", "def", "select_auto_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "# print(anno_rel.curselection())  #\u4e3a\u4ec0\u4e48\u6709\u65f6\u5019\u9009\u62e9\u5df2\u9009\u5173\u7cfb\u4f1a\u51fa\u9519\uff1f", "\n", "", "if", "(", "auto_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "# \u5982\u679c\u4e0d\u7b49\u4e8e\u7a7a\u4e86\u8bdd\uff0c\u5219\u6267\u884c\u540e\u7eed", "\n", "\n", "        ", "num", "=", "int", "(", "auto_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "# \u9009\u62e9\u7684\u662f\u7b2c\u51e0\u6761\u5df2\u6709\u5173\u7cfb", "\n", "# sub_rel_ob[num][0] #sub\u7684id", "\n", "# sub_rel_ob[num][1] #rel\u7684id", "\n", "# sub_rel_ob[num][2] #ob\u7684id", "\n", "global", "ins_to_stuff", "# \u5b9e\u4f8bid-\u6240\u5c5e\u7c7b\u522bid", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", "\n", "# \u5224\u65ad\u4e00\u4e0b\u662f\u4fee\u6539\u8fd8\u662f\u589e\u52a0", "\n", "global", "auto_num", ",", "auto_index", ",", "region_rel_list", ",", "anno_index", "\n", "auto_index", "=", "num", "\n", "anno_index", "=", "-", "1", "\n", "sub_id", "=", "int", "(", "region_rel_list", "[", "num", "]", "[", "0", "]", ")", "\n", "rel_id", "=", "int", "(", "region_rel_list", "[", "num", "]", "[", "5", "]", ")", "\n", "ob_id", "=", "int", "(", "region_rel_list", "[", "num", "]", "[", "2", "]", ")", "\n", "\n", "#\u66f4\u65b0\u878d\u5408\u7684\u5b9e\u4f8b\u7684\u60c5\u51b5", "\n", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "sub_id", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "            ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "sub_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "            ", "subid", "=", "sub_id", "\n", "", "if", "ob_id", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "            ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "ob_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "            ", "obid", "=", "ob_id", "\n", "\n", "", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "name_ob", ".", "set", "(", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_ob_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "\n", "if", "rel_id", "==", "-", "1", ":", "\n", "            ", "name_rel", ".", "set", "(", "\"NONE\"", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "", "else", ":", "\n", "            ", "name_rel", ".", "set", "(", "rel_list_all", "[", "rel_id", "]", ")", "# \u9009\u62e9\u4e00\u4e2a\u65b0\u7684\u4e3b\u8bed\u65f6\u5019\uff0c\u5bbe\u8bed\u548c\u5173\u7cfb\u8981\u8df3\u6ca1", "\n", "name_rel_str", "=", "rel_list_all", "[", "rel_id", "]", "\n", "", "bt_text", ".", "set", "(", "\"\u4fee\u6539\"", ")", "\n", "dele_text", ".", "set", "(", "\"\u5220\u9664\"", ")", "\n", "\n", "###\u4e0b\u9762\u662f\u590d\u5236\u7c98\u8d34\u7684", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "popup_rel", "(", "subid", ",", "obid", ")", "\n", "\n", "global", "m_a", ",", "m_a_a", "\n", "if", "len", "(", "m_a", ")", "<", "20", ":", "\n", "            ", "print", "(", "\"\u6570\u91cf\u4e0d\u591f\"", ")", "\n", "", "else", ":", "\n", "            ", "print", "(", "m_a", ",", "m_a_a", ",", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", ",", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ",", "1", ")", "#\u4ee5Init\u4e3a\u51c6", "\n", "Recommend", "(", "m_a", ",", "m_a_a", ",", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", ",", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ",", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.delerel": [[1342, 1368], ["anno_rel.delete", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "bt_text.set", "dele_text.set", "main_old.show_me_sgimage", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.show_me_sgimage"], ["", "", "", "def", "delerel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "sub_rel_ob", "\n", "global", "anno_num", ",", "anno_index", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", "\n", "if", "anno_index", "!=", "anno_num", ":", "# \u5982\u679c\u7d22\u5f15\u6307\u7740\u6700\u540e\u4e00\u4e2a\u5219\u4e0d\u80fd\u5220\u9664", "\n", "        ", "anno_num", "=", "anno_num", "-", "1", "\n", "anno_rel", ".", "delete", "(", "anno_index", ")", "\n", "# print(\"\u5220\u9664\u4e86\uff1a\", int(anno_index))", "\n", "del", "sub_rel_ob", "[", "int", "(", "anno_index", ")", "]", "\n", "del", "sub_rel_ob_attri", "[", "int", "(", "anno_index", ")", "]", "\n", "anno_index", "=", "anno_num", "# \u6307\u5411\u65b0\u7684", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "sub_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "ob_id", "=", "-", "1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "show_me_sgimage", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_anno": [[1370, 1379], ["bt_anno.set", "bt_anno.set", "start_to"], "function", ["None"], ["", "", "def", "to_anno", "(", "event", ")", ":", "\n", "    ", "global", "bt_anno", ",", "if_region", "\n", "if", "if_region", "==", "0", ":", "\n", "        ", "bt_anno", ".", "set", "(", "\"\u5f00\u59cb\u6807\u6ce8\"", ")", "\n", "if_region", "=", "1", "\n", "", "else", ":", "\n", "        ", "bt_anno", ".", "set", "(", "\"\u505c\u6b62\u6807\u6ce8\"", ")", "\n", "if_region", "=", "0", "\n", "start_to", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.start_to1": [[1423, 1432], ["bt_region.set"], "function", ["None"], ["def", "start_to1", "(", "event", ")", ":", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "#x, y = q_ori(event.x, event.y)", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect1_temp", "\n", "rect1_temp", "[", "0", "]", "=", "event", ".", "x", "\n", "rect1_temp", "[", "1", "]", "=", "event", ".", "y", "\n", "bt_region", ".", "set", "(", "\"\u786e\u8ba4region\"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.start_to2": [[1433, 1461], ["cv2.rectangle", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread"], "function", ["None"], ["", "def", "start_to2", "(", "event", ")", ":", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "#x, y = q_ori(event.x, event.y)", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect1_temp", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u539f\u59cb\u56fe\u7247\u4e2d\u7684\uff1a\",x, y)", "\n", "# print(\"\u5b9e\u4f8bid\u662f\uff1a\",q_id(x,y))", "\n", "# print(\"label id\u662f\uff1a\",q_label(x,y))", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1_temp", "[", "0", "]", ",", "rect1_temp", "[", "1", "]", ")", ",", "\n", "(", "event", ".", "x", ",", "event", ".", "y", ")", ",", "(", "0", ",", "127", ",", "255", ")", ",", "2", ")", "\n", "\n", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "# c=[\"region-\",int(cs/2)-1,\",(\",rect1[int(cs/2)-1][0],\",\",rect1[int(cs/2)-1][1],\"),(\",rect2[int(cs/2)-1][0],\",\",rect2[int(cs/2)-1][1],\")\"]", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.start_to3": [[1469, 1477], ["None"], "function", ["None"], ["", "def", "start_to3", "(", "event", ")", ":", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "#x, y = q_ori(event.x, event.y)", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect2_temp", "\n", "rect2_temp", "[", "0", "]", "=", "event", ".", "x", "\n", "rect2_temp", "[", "1", "]", "=", "event", ".", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_region_enter": [[1478, 1515], ["rect1.append", "rect2.append", "region_list.insert", "bt_region.set", "cv2.rectangle", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "str", "str", "str", "str", "str", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "int"], "function", ["None"], ["", "def", "to_region_enter", "(", "event", ")", ":", "\n", "# print(\"\u73b0\u5728\u7684\u4f4d\u7f6e\u662f\u56fe\u7247\u4e2d\u7684\uff1a\", event.x, event.y)", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect1_temp", ",", "rect2_temp", ",", "renum", ",", "renum2", "\n", "#x, y = q_ori(event.x, event.y)", "\n", "global", "rect1", ",", "rect2", "\n", "rect1", ".", "append", "(", "[", "rect1_temp", "[", "0", "]", ",", "rect1_temp", "[", "1", "]", "]", ")", "\n", "rect2", ".", "append", "(", "[", "rect2_temp", "[", "0", "]", ",", "rect2_temp", "[", "1", "]", "]", ")", "\n", "renum", "=", "renum", "+", "1", "\n", "renum2", "=", "renum2", "+", "1", "\n", "c", "=", "[", "\"region-\"", ",", "str", "(", "int", "(", "renum2", ")", ")", ",", "\",(\"", ",", "str", "(", "rect1_temp", "[", "0", "]", ")", ",", "\",\"", ",", "str", "(", "rect1_temp", "[", "1", "]", ")", ",", "\"),(\"", ",", "str", "(", "rect2_temp", "[", "0", "]", ")", ",", "\",\"", ",", "str", "(", "rect2_temp", "[", "1", "]", ")", ",", "\")\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "region_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "bt_region", ".", "set", "(", "\"You haven't select a region\"", ")", "\n", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1_temp", "[", "0", "]", ",", "rect1_temp", "[", "1", "]", ")", ",", "\n", "(", "rect2_temp", "[", "0", "]", ",", "rect2_temp", "[", "1", "]", ")", ",", "(", "0", ",", "0", ",", "255", ")", ",", "2", ")", "\n", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "rect1_temp", "=", "[", "0", ",", "0", "]", "\n", "rect2_temp", "=", "[", "0", ",", "0", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_region": [[1543, 1573], ["region_list.curselection", "int", "v22.set", "cv2.rectangle", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "region_list.curselection"], "function", ["None"], ["def", "select_region", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", ",", "v22", "\n", "global", "renum", ",", "renum2", "\n", "global", "rect1", ",", "rect2", "\n", "if", "(", "region_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "num", "=", "int", "(", "region_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "#\u9009\u4e2d\u7684\u662f\u7b2c\u51e0\u4e2a", "\n", "global", "focus_region", "\n", "focus_region", "=", "num", "\n", "#\u4e0d\u7ba1\u9009\u4e2d\u7b2c\u51e0\u4e2a\uff0c\u90fd\u628agroup2\u6539\u62101", "\n", "v22int", "=", "1", "\n", "v22", ".", "set", "(", "1", ")", "\n", "global", "v2int", ",", "cs", "\n", "if", "v2int", "==", "1", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1", "[", "num", "]", "[", "0", "]", ",", "rect1", "[", "num", "]", "[", "1", "]", ")", ",", "(", "rect2", "[", "num", "]", "[", "0", "]", ",", "rect2", "[", "num", "]", "[", "1", "]", ")", ",", "(", "0", ",", "255", ",", "255", ")", ",", "2", ")", "\n", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_region_del": [[1574, 1606], ["region_list.curselection", "int", "v22.set", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "region_list.delete", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "region_list.curselection"], "function", ["None"], ["", "", "def", "to_region_del", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", ",", "v22", "\n", "global", "renum", ",", "renum2", "\n", "global", "rect1", ",", "rect2", "\n", "if", "(", "region_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "num", "=", "int", "(", "region_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "# \u9009\u4e2d\u7684\u662f\u7b2c\u51e0\u4e2a", "\n", "# \u4e0d\u7ba1\u9009\u4e2d\u7b2c\u51e0\u4e2a\uff0c\u90fd\u628agroup2\u6539\u62101", "\n", "v22int", "=", "1", "\n", "v22", ".", "set", "(", "1", ")", "\n", "global", "v2int", ",", "cs", "\n", "if", "v2int", "==", "1", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "# \u521b\u5efatkinter\u517c\u5bb9\u7684\u56fe\u7247", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "del", "rect1", "[", "num", "]", "\n", "del", "rect2", "[", "num", "]", "\n", "renum", "=", "renum", "-", "1", "\n", "region_list", ".", "delete", "(", "num", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_cluster_enter": [[1607, 1636], ["bt_cluster.set", "cluster_list.delete", "bt_cluster.set", "allcluster.append", "annoedclu.insert", "allcluster.insert", "annoedclu.delete", "annoedclu.insert", "str", "int", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "", "def", "to_cluster_enter", "(", "event", ")", ":", "\n", "    ", "global", "if_start_cluster", ",", "select_cluster", ",", "allcluster", ",", "annoedclu_num", ",", "annoedclu_index", "\n", "if", "(", "if_start_cluster", "==", "True", ")", ":", "\n", "        ", "bt_cluster", ".", "set", "(", "\"Start to annotate cluster\"", ")", "\n", "if_start_cluster", "=", "False", "\n", "if", "annoedclu_index", "==", "annoedclu_num", ":", "#\u5982\u679c\u662f\u65b0\u7684cluster", "\n", "            ", "annoedclu_num", "=", "annoedclu_num", "+", "1", "\n", "allcluster", ".", "append", "(", "select_cluster", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "\"Cluster NO.\"", ",", "str", "(", "int", "(", "annoedclu_num", ")", ")", ",", "\"- \"", ",", "name_sub_str", ",", "\" Class\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "annoedclu", ".", "insert", "(", "annoedclu_num", "-", "1", ",", "mm", ")", "\n", "", "else", ":", "\n", "            ", "del", "allcluster", "[", "int", "(", "annoedclu_index", ")", "]", "\n", "allcluster", ".", "insert", "(", "int", "(", "annoedclu_index", ")", ",", "select_cluster", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "\"\u7b2c\"", ",", "str", "(", "int", "(", "annoedclu_num", ")", ")", ",", "\"\u7ec4cluster- \"", ",", "name_sub_str", ",", "\" \u7c7b\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "annoedclu", ".", "delete", "(", "int", "(", "annoedclu_index", ")", ")", "\n", "annoedclu", ".", "insert", "(", "int", "(", "annoedclu_index", ")", ",", "mm", ")", "\n", "\n", "", "select_cluster", "=", "[", "]", "\n", "cluster_list", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "annoedclu_index", "=", "annoedclu_num", "\n", "\n", "\n", "", "else", ":", "\n", "        ", "bt_cluster", ".", "set", "(", "\"\u505c\u6b62\u6807\u6ce8cluster\"", ")", "\n", "if_start_cluster", "=", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_cluster_list": [[1637, 1652], ["cluster_list.curselection", "int", "cluster_list.curselection"], "function", ["None"], ["", "", "def", "select_cluster_list", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "if", "(", "cluster_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "# \u5982\u679c\u4e0d\u7b49\u4e8e\u7a7a\u4e86\u8bdd\uff0c\u5219\u6267\u884c\u540e\u7eed", "\n", "        ", "num", "=", "int", "(", "cluster_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "# \u9009\u62e9\u7684\u662f\u7b2c\u51e0\u6761\u5df2\u6709\u5173\u7cfb", "\n", "# sub_rel_ob[num][0] #sub\u7684id", "\n", "# sub_rel_ob[num][1] #rel\u7684id", "\n", "# sub_rel_ob[num][2] #ob\u7684id", "\n", "global", "ins_to_stuff", "# \u5b9e\u4f8bid-\u6240\u5c5e\u7c7b\u522bid", "\n", "#global ob_id, rel_id, sub_id, name_ob_str, name_sub_str, name_rel_str", "\n", "# \u5224\u65ad\u4e00\u4e0b\u662f\u4fee\u6539\u8fd8\u662f\u589e\u52a0", "\n", "global", "select_cluster", ",", "cluster_list_index", "\n", "#global anno_num, anno_index", "\n", "cluster_list_index", "=", "num", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.deleclu": [[1657, 1663], ["cluster_list.delete", "int", "int"], "function", ["None"], ["", "", "def", "deleclu", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "cluster_list_index", ",", "select_cluster", "\n", "del", "select_cluster", "[", "int", "(", "cluster_list_index", ")", "]", "\n", "cluster_list", ".", "delete", "(", "int", "(", "cluster_list_index", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.select_annoedclu": [[1664, 1716], ["annoedclu.curselection", "int", "cluster_list.delete", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "int", "int", "name_sub.set", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "cluster_list.insert", "annoedclu.curselection", "str", "str", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "select_annoedclu", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "if", "(", "annoedclu", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "# \u5982\u679c\u4e0d\u7b49\u4e8e\u7a7a\u4e86\u8bdd\uff0c\u5219\u6267\u884c\u540e\u7eed", "\n", "        ", "num", "=", "int", "(", "annoedclu", ".", "curselection", "(", ")", "[", "0", "]", ")", "# \u9009\u62e9\u7684\u662f\u7b2c\u51e0\u6761\u5df2\u6709\u5173\u7cfb", "\n", "# sub_rel_ob[num][0] #sub\u7684id", "\n", "# sub_rel_ob[num][1] #rel\u7684id", "\n", "# sub_rel_ob[num][2] #ob\u7684id", "\n", "global", "ins_to_stuff", "# \u5b9e\u4f8bid-\u6240\u5c5e\u7c7b\u522bid", "\n", "#global ob_id, rel_id, sub_id, name_ob_str, name_sub_str, name_rel_str", "\n", "# \u5224\u65ad\u4e00\u4e0b\u662f\u4fee\u6539\u8fd8\u662f\u589e\u52a0", "\n", "global", "select_cluster", ",", "annoedclu_index", "\n", "global", "if_select_cluster", "\n", "global", "sub_id", ",", "name_sub_str", "\n", "#global anno_num, anno_index", "\n", "annoedclu_index", "=", "num", "#0 1", "\n", "\n", "if", "annoedclu_index", "==", "annoedclu_num", ":", "#\u8bf4\u660e\u9009\u4e2d\u4e86\u7a7a\u767d\u7684", "\n", "            ", "select_cluster", "=", "[", "]", "\n", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "if_select_cluster", "=", "False", "\n", "", "else", ":", "\n", "            ", "select_cluster", "=", "allcluster", "[", "num", "]", "\n", "sub_id", "=", "int", "(", "select_cluster", "[", "0", "]", ")", "\n", "sub_id", "=", "int", "(", "select_cluster", "[", "0", "]", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "\n", "# \u663e\u793a\u4e3b\u8bed", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "\"\u7b2c\"", ",", "str", "(", "int", "(", "annoedclu_num", ")", ")", ",", "\"\u7ec4cluster- \"", ",", "name_sub_str", ",", "\" \u7c7b\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "name_sub", ".", "set", "(", "mm", ")", "\n", "if_select_cluster", "=", "True", "\n", "\n", "#\u6279\u91cf\u65b9\u5411\u6807\u6ce8\u5f00\u542f", "\n", "f_text", ".", "set", "(", "\"  \u2191  \"", ")", "\n", "b_text", ".", "set", "(", "\"  \u2193  \"", ")", "\n", "l_text", ".", "set", "(", "\"  \u2190  \"", ")", "\n", "r_text", ".", "set", "(", "\"  \u2192  \"", ")", "\n", "\n", "#\u6279\u91cf\u5173\u7cfb\u6807\u6ce8\u5f00\u542f", "\n", "\n", "\n", "", "cluster_list", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "for", "i", "in", "select_cluster", ":", "#\u5728\u5de6\u4fa7\u5217\u8868\u4e2d\u663e\u793a\u6bcf\u4e00\u4e2a\u5185\u5bb9", "\n", "            ", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "str", "(", "int", "(", "i", ")", ")", ",", "\"-\"", ",", "name_sub_str", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "cluster_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.deleannoedclu": [[1717, 1732], ["annoedclu.delete", "cluster_list.delete", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "int", "int"], "function", ["None"], ["", "", "", "def", "deleannoedclu", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "cluster_list_index", ",", "select_cluster", ",", "annoedclu_num", ",", "allcluster", ",", "annoedclu_index", "\n", "del", "allcluster", "[", "int", "(", "annoedclu_index", ")", "]", "\n", "annoedclu_num", "=", "annoedclu_num", "-", "1", "\n", "annoedclu", ".", "delete", "(", "int", "(", "annoedclu_index", ")", ")", "\n", "annoedclu_index", "=", "annoedclu_num", "\n", "cluster_list", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "global", "if_select_cluster", "\n", "if_select_cluster", "=", "False", "\n", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_auto": [[1737, 1761], ["copy.deepcopy", "copy.deepcopy", "len", "range", "range", "auto_rel.delete", "main_old.permu", "len", "range", "range", "int", "len", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.permu"], ["", "def", "to_auto", "(", "event", ")", ":", "\n", "#\u5148\u628aInsid\u91cc\u9762\u7684\u4e1c\u897f\u878d\u5408", "\n", "    ", "global", "insid_cluster", ",", "ins_to_stuff_cluster", ",", "ins_to_stuff", "\n", "insid_cluster", "=", "copy", ".", "deepcopy", "(", "insid", ")", "\n", "ins_to_stuff_cluster", "=", "copy", ".", "deepcopy", "(", "ins_to_stuff", ")", "\n", "#inslis_cluster=[]", "\n", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "#\u662f\u6807\u51c6\u7684\u957f\u5ea6\uff0c1-n\u5171\u8ba1n\u4e2a", "\n", "\n", "for", "i", "in", "range", "(", "len", "(", "ins_to_stuff_cluster", ")", ")", ":", "#i\u4e3a0~insid\u7684\u6570\u91cf-1", "\n", "#\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5224\u65ad\u4e00\u4e0b\u6709\u6ca1\u6709\u5728\u805a\u7c7b\u91cc\u3002\u5982\u679c\u6709\uff0c\u5c31\u6539\u53d8\u4ed6\u4eec\u7684\u5b9e\u4f8bid\uff1ains_to_stuff_cluster[i][0]\u3002\u5982\u679c\u6ca1\u6709\uff0c\u5b9e\u4f8b\u7f16\u53f7\u4e0d\u53d8\u3002", "\n", "        ", "for", "j", "in", "range", "(", "len", "(", "allcluster", ")", ")", ":", "\n", "            ", "if", "int", "(", "ins_to_stuff_cluster", "[", "i", "]", "[", "0", "]", ")", "in", "allcluster", "[", "j", "]", ":", "\n", "                ", "ins_to_stuff_cluster", "[", "i", "]", "[", "0", "]", "=", "inslen", "+", "j", "\n", "break", "\n", "\n", "", "", "", "for", "i", "in", "range", "(", "width", ")", ":", "# 2048", "\n", "        ", "for", "j", "in", "range", "(", "height", ")", ":", "# 1024", "\n", "            ", "insid_cluster", "[", "j", ",", "i", "]", "=", "int", "(", "ins_to_stuff_cluster", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "0", "]", ")", "\n", "", "", "global", "region_rel_list", "\n", "region_rel_list", "=", "[", "]", "\n", "auto_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "global", "focus_region", "\n", "permu", "(", "int", "(", "focus_region", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.inter_coor": [[1771, 1810], ["None"], "function", ["None"], ["def", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", ":", "#\u6c42\u4e24\u4e2a\u77e9\u9635\u76f8\u4ea4\u7684\u5750\u6807\u548c\u76f8\u4ea4\u7c7b\u578b", "\n", "    ", "if", "aa", "<=", "ee", "and", "bb", "<=", "ff", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "cc", ",", "dd", "]", ",", "1", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "gg", ",", "dd", "]", ",", "2", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "cc", ",", "hh", "]", ",", "3", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "gg", ",", "hh", "]", ",", "4", ")", "\n", "", "", "if", "aa", ">=", "ee", "and", "aa", "<=", "gg", "and", "bb", "<=", "ff", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "cc", ",", "dd", "]", ",", "5", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "gg", ",", "dd", "]", ",", "6", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "cc", ",", "hh", "]", ",", "7", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "gg", ",", "hh", "]", ",", "8", ")", "\n", "", "", "if", "aa", "<=", "ee", "and", "bb", ">=", "ff", "and", "bb", "<=", "hh", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "cc", ",", "dd", "]", ",", "9", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "gg", ",", "dd", "]", ",", "10", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "cc", ",", "hh", "]", ",", "11", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "gg", ",", "hh", "]", ",", "12", ")", "\n", "", "", "if", "aa", ">=", "ee", "and", "aa", "<=", "gg", "and", "bb", ">=", "ff", "and", "bb", "<=", "hh", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "cc", ",", "dd", "]", ",", "13", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "gg", ",", "dd", "]", ",", "14", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "cc", ",", "hh", "]", ",", "15", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "gg", ",", "hh", "]", ",", "16", ")", "\n", "", "", "else", ":", "\n", "        ", "return", "(", "[", "0", ",", "0", "]", ",", "[", "0", ",", "0", "]", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.rule_flat_to_flat": [[1812, 1860], ["len", "main_old.inter_coor", "int", "int", "main_old.inter_coor", "range", "int", "int", "int", "int", "int", "int", "int", "int", "range", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor"], ["", "", "def", "rule_flat_to_flat", "(", "subid_old", ",", "subkind", ",", "obid_old", ",", "obkind", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", ":", "\n", "#\u5148\u5224\u65ad\u662f\u5426\u5b58\u5728\u5173\u7cfb(\u5bf9\u4e8e\u7fa4 \u56e0\u4e3a\u548c\u522b\u7684\u5173\u7cfb\u4e00\u6837\uff0c\u6240\u4ee5\u8ba4\u4e3a\u9009\u5176\u4e2d\u4e00\u4e2a\u5373\u53ef\uff08\u8fd8\u53ef\u4ee5\u51cf\u5c11\u8ba1\u7b97\uff09)", "\n", "    ", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "subid_old", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "        ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "        ", "subid", "=", "subid_old", "\n", "", "if", "obid_old", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "        ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "        ", "obid", "=", "obid_old", "\n", "\n", "", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "[", "inter_aa", ",", "inter_bb", "]", ",", "[", "inter_cc", ",", "inter_dd", "]", ",", "inter_type", "=", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", "\n", "if", "inter_type", "==", "0", ":", "#\u5982\u679c\u4e3b\u8bed\u548c\u5bbe\u8bed\u4e0d\u76f8\u4ea4\uff0c\u8ba4\u4e3a\u4e0d\u5b58\u5728\u5173\u7cfb", "\n", "#print(\"\u4e3b\u8bed\u548c\u5bbe\u8bed\u4e0d\u76f8\u4ea4\")", "\n", "        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "        ", "[", "inter_ee", ",", "inter_ff", "]", ",", "[", "inter_gg", ",", "inter_hh", "]", ",", "inter_type2", "=", "inter_coor", "(", "inter_aa", ",", "inter_bb", ",", "inter_cc", ",", "inter_dd", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", "\n", "if", "inter_type2", "==", "0", ":", "#\u5982\u679c\u76f8\u4ea4\u533a\u57df\u548cregion\u4e0d\u76f8\u4ea4\uff0c\u8ba4\u4e3a\u4e0d\u5b58\u5728\u5173\u7cfb", "\n", "#print(\"\u76f8\u4ea4\u533a\u57df\u548cregion\u4e0d\u76f8\u4ea4\")", "\n", "            ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "#\u4e3b\u8bed\u5bbe\u8bed\u76f8\u4ea4\u533a\u57df\u548cregion\u4e5f\u76f8\u4ea4", "\n", "            ", "for", "i", "in", "range", "(", "inter_ee", ",", "inter_gg", ")", ":", "\n", "                ", "for", "j", "in", "range", "(", "inter_ff", ",", "inter_hh", ")", ":", "\n", "                    ", "if", "(", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "subid", "and", "insid_cluster", "[", "j", "+", "1", ",", "i", "]", "==", "obid", ")", "or", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "subid", "and", "insid_cluster", "[", "j", ",", "i", "+", "1", "]", "==", "obid", ")", "or", "\n", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "obid", "and", "insid_cluster", "[", "j", "+", "1", ",", "i", "]", "==", "subid", ")", "or", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "obid", "and", "insid_cluster", "[", "j", ",", "i", "+", "1", "]", "==", "subid", ")", ")", ":", "\n", "                        ", "if", "inter_type", "in", "[", "1", ",", "3", ",", "9", ",", "11", "]", ":", "#\u4e3b\u8bed\u5728\u53f3\u8fb9\uff08\u68462\u5728\u5de6\u8fb9\uff09", "\n", "                            ", "return", "(", "True", ",", "55", ")", "\n", "", "if", "inter_type", "in", "[", "6", ",", "8", ",", "14", ",", "16", "]", ":", "#\u4e3b\u8bed\u5728\u5de6\u8fb9\uff08\u68462\u5728\u53f3\u8fb9\uff09", "\n", "                            ", "return", "(", "True", ",", "54", ")", "\n", "", "if", "inter_type", "in", "[", "12", ",", "15", "]", ":", "#\u4e3b\u8bed\u5728\u4e0a\u8fb9\uff08\u68462\u5728\u4e0b\u8fb9\uff09", "\n", "                            ", "return", "(", "True", ",", "56", ")", "\n", "", "if", "inter_type", "in", "[", "2", ",", "5", "]", ":", "#\u4e3b\u8bed\u5728\u4e0b\u8fb9\uff08\u68462\u5728\u4e0a\u8fb9\uff09", "\n", "                            ", "return", "(", "True", ",", "57", ")", "\n", "", "if", "inter_type", "in", "[", "4", ",", "7", ",", "10", "]", ":", "#\u4e3b\u8bed\u5728\u4e2d\u95f4\uff08\u68462\u5728\u5468\u56f4\u8fb9\uff09", "\n", "                            ", "return", "(", "True", ",", "58", ")", "\n", "", "if", "inter_type", "in", "[", "13", "]", ":", "#\u4e3b\u8bed\u5728\u5468\u56f4\u8fb9\uff08\u68462\u5728\u4e2d\u95f4\uff09", "\n", "                            ", "return", "(", "True", ",", "59", ")", "\n", "", "", "", "", "return", "(", "False", ",", "-", "1", ")", "#\u533a\u57df\u76f8\u4ea4\u4f46\u662f\u6ca1\u6709\u8fde\u63a5", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.rule_flat_to_ob": [[1861, 1906], ["print", "print", "len", "print", "print", "main_old.inter_coor", "int", "int", "range", "range", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor"], ["", "", "", "def", "rule_flat_to_ob", "(", "subid_old", ",", "subkind", ",", "obid_old", ",", "obkind", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", ":", "#subid\u662f\u7269\u4f53\u7684\uff0cobid\u662fflat\u7684", "\n", "    ", "global", "ins_to_stuff_cluster", "\n", "print", "(", "\"\u539f\u672c\u7684subid\"", ",", "subid_old", ")", "\n", "print", "(", "\"\u539f\u672c\u7684obid\"", ",", "obid_old", ")", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "subid_old", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "        ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "        ", "subid", "=", "subid_old", "\n", "\n", "", "if", "obid_old", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "        ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "        ", "obid", "=", "obid_old", "\n", "", "print", "(", "\"\u65b0\u7684subid\"", ",", "subid", ")", "\n", "print", "(", "\"\u65b0\u7684obid\"", ",", "obid", ")", "\n", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "#if_rel = False", "\n", "[", "inter_aa", ",", "inter_bb", "]", ",", "[", "inter_cc", ",", "inter_dd", "]", ",", "inter_type", "=", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", "\n", "num", "=", "0", "\n", "if", "inter_type", "==", "0", ":", "# \u5982\u679c\u4e3b\u8bed\u548c\u5bbe\u8bed\u4e0d\u76f8\u4ea4\uff0c\u8ba4\u4e3a\u4e0d\u5b58\u5728\u5173\u7cfb\u3002", "\n", "# print(\"\u4e3b\u8bed\u548c\u5bbe\u8bed\u4e0d\u76f8\u4ea4\")", "\n", "        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "#\u8fd9\u91cc\u6709\u4e2a\u7ec6\u8282\u5904\u7406 \u5bf9\u6bd4flat_to_flat\u5c11\u4e86\u4e00\u4e2a\u548cregion\u7684\u76f8\u4ea4\uff0c\u56e0\u4e3a\u4e00\u822c\u8ba4\u4e3aregion\u5df2\u7ecf\u548cob\u76f8\u4ea4\u4e86", "\n", "# \u5e76\u4e14\u4e0d\u9700\u8981\u8003\u8651\u77e9\u5f62\u76f8\u4ea4\u4f46\u662f\u6ca1\u6709\u76f8\u4ea4\u7684\u60c5\u51b5\uff0c\u5b9e\u5728\u4e0d\u884c\u8ba1\u65700\u5c31\u884c", "\n", "#print(\"inter:\",inter_aa, inter_cc,int(inter_bb+(inter_dd-inter_bb)/3*2), inter_dd)", "\n", "#if (subid == 2 and obid == 9):", "\n", "#    print(insid_cluster[inter_aa:inter_cc,int(inter_bb+(inter_dd-inter_bb)/3*2):inter_dd])", "\n", "#\u4e0d\u662f\u76f8\u4ea4\u76841/3 \u800c\u662fOb\u76841/3\uff01", "\n", "#for i in range(inter_aa, inter_cc):", "\n", "#    for j in range(int(inter_bb+(inter_dd-inter_bb)/3*2), inter_dd): #\u53d6\u5e95\u90e81/3", "\n", "        ", "for", "i", "in", "range", "(", "aa", ",", "cc", ")", ":", "\n", "            ", "for", "j", "in", "range", "(", "int", "(", "bb", "+", "(", "dd", "-", "bb", ")", "/", "3", "*", "2", ")", ",", "dd", ")", ":", "#\u53d6\u5e95\u90e81/3", "\n", "                ", "if", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "subid", "and", "insid_cluster", "[", "j", "+", "1", ",", "i", "]", "==", "obid", ")", ":", "#\u5982\u679c\u76f8\u8fde\u4e86\u8bdd \u8bb0\u5f55\u4e3a1", "\n", "                    ", "num", "=", "num", "+", "1", "\n", "#if_rel=True", "\n", "break", "\n", "", "", "", "return", "(", "True", ",", "num", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.rule_ob_to_ob": [[1907, 1940], ["range", "range"], "function", ["None"], ["", "", "def", "rule_ob_to_ob", "(", "subid", ",", "subkind", ",", "obid", ",", "obkind", ",", "num_one", ",", "num_two", ")", ":", "#\u4e0d\u7528xy\u4e86 \u76f4\u63a5\u7528\u4e24\u4e2aglobal\u548cnum_two", "\n", "    ", "global", "region_rel_list", "\n", "#\u5728region_rel_list_matrix\u7684\u7b2c0\u5217\u627esubid\uff0c\u5e76\u4e14\u5728\u7b2c4\u5217\u627esub_flat", "\n", "#\u5728region_rel_list_matrix\u7684\u7b2c0\u5217\u627eobbid\uff0c\u5e76\u4e14\u5728\u7b2c4\u5217\u627eob_flat", "\n", "#\u5982\u679c\u4e24\u4e2a\u90fd\u6ca1\u6709flat\u6216\u8005\u6709\u4e00\u4e2a\u6ca1\u6709flat \u8ba4\u4e3a\u4e0d\u5b58\u5728\u5173\u7cfb\u3002", "\n", "#\u5426\u5219 \u5982\u679c\u4e24\u4e2a\u90fd\u6709flat  \u5728region_rel_list_matrix\u7684\u7b2c0\u5217\u627esub_flat\u4e14\u5728\u7b2c2\u5217\u627eob_flat\uff0c\u6216\u8005\u5728\u7b2c2\u5217\u627esub_flat\u4e14\u5728\u7b2c0\u5217\u627eob_flat", "\n", "#\u5982\u679c\u5b58\u5728\u5173\u7cfb \u5219\u8fd4\u56detrue-near \u5426\u5219\u8fd4\u56defalse--1", "\n", "obflatid", "=", "-", "1", "\n", "subflatid", "=", "-", "1", "\n", "#print(\"one\",num_one)", "\n", "#print(\"two\", num_two)", "\n", "for", "i", "in", "range", "(", "num_one", ",", "num_two", ")", ":", "\n", "        ", "if", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "obid", "and", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "1", ":", "\n", "            ", "obflatid", "=", "region_rel_list", "[", "i", "]", "[", "2", "]", "\n", "", "if", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "subid", "and", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "1", ":", "\n", "            ", "subflatid", "=", "region_rel_list", "[", "i", "]", "[", "2", "]", "\n", "#print(\"subflatid\", subflatid)", "\n", "#print(\"obflatid\", obflatid)", "\n", "", "", "if", "obflatid", "==", "-", "1", "or", "subflatid", "==", "-", "1", ":", "\n", "        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "#print(\"\u4e24\u4e2a\u90fd\u5b58\u5728\u5e73\u53f0\")", "\n", "        ", "if", "obflatid", "==", "subflatid", ":", "\n", "            ", "return", "(", "True", ",", "23", ")", "\n", "", "else", ":", "\n", "            ", "for", "i", "in", "range", "(", "num_one", ")", ":", "#\u8fd9\u91cc\u8981\u6539 \u8981\u6539\u6210\u4ece\u603b\u7684\u91cc\u9762\u627e\uff0c\u800c\u4e0d\u662f\u53ea\u4ecerel\u91cc\u9762\u627e", "\n", "                ", "if", "(", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "obflatid", "and", "region_rel_list", "[", "i", "]", "[", "2", "]", "==", "subflatid", ")", "or", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "subflatid", "and", "region_rel_list", "[", "i", "]", "[", "2", "]", "==", "obflatid", ")", ")", ":", "\n", "                    ", "if", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "0", ":", "\n", "                        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "                        ", "return", "(", "True", ",", "23", ")", "\n", "", "", "else", ":", "\n", "                    ", "return", "(", "False", ",", "-", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.ifexist": [[1941, 1946], ["None"], "function", ["None"], ["", "", "", "", "", "def", "ifexist", "(", "subid", ",", "obid", ")", ":", "#\u5224\u65ad\u4e3b\u8bed\u548c\u5bbe\u8bed\u7684\u5173\u7cfb\u662f\u5426\u5b58\u5728\u4e0e\u5df2\u6709\u5217\u8868", "\n", "    ", "for", "i", "in", "sub_rel_ob", ":", "\n", "        ", "if", "(", "i", "[", "0", "]", "==", "subid", "and", "i", "[", "2", "]", "==", "obid", ")", ":", "\n", "            ", "return", "True", "\n", "", "", "return", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.attri_attach": [[1947, 2025], ["len", "main_old.inter_coor", "int", "range", "int", "range", "len", "len", "abs", "abs", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor"], ["", "def", "attri_attach", "(", "subid_old", ",", "obid_old", ")", ":", "#\u5224\u65adboundingbox\u63a5\u89e6\u6027", "\n", "#ifattach=False", "\n", "    ", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "subid_old", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "        ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "for", "i", "in", "range", "(", "1", ",", "len", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", ")", ")", ":", "#\u9664\u4e86\u7b2c\u4e00\u4e2a \u540e\u9762\u7684\u4ee5\u6b64\u548c\u7b2c\u4e00\u4e2a\u8fdb\u884c\u6bd4\u8f83 \u9009\u4e00\u4e2a\u6700\u5c0f\u7684", "\n", "            ", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "<", "aa", ":", "\n", "                ", "aa", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "<", "bb", ":", "\n", "                ", "bb", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", ">", "cc", ":", "\n", "                ", "cc", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", ">", "dd", ":", "\n", "                ", "dd", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", "\n", "", "", "", "else", ":", "\n", "        ", "subid", "=", "subid_old", "\n", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "", "if", "obid_old", ">=", "inslen", ":", "# \u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "        ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "# \u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "for", "i", "in", "range", "(", "1", ",", "len", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", ")", ")", ":", "# \u9664\u4e86\u7b2c\u4e00\u4e2a \u540e\u9762\u7684\u4ee5\u6b64\u548c\u7b2c\u4e00\u4e2a\u8fdb\u884c\u6bd4\u8f83 \u9009\u4e00\u4e2a\u6700\u5c0f\u7684", "\n", "            ", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "<", "ee", ":", "\n", "                ", "ee", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "<", "ff", ":", "\n", "                ", "ff", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", ">", "gg", ":", "\n", "                ", "gg", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", ">", "hh", ":", "\n", "                ", "hh", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", "\n", "", "", "", "else", ":", "\n", "        ", "obid", "=", "obid_old", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "", "[", "inter_aa", ",", "inter_bb", "]", ",", "[", "inter_cc", ",", "inter_dd", "]", ",", "inter_type", "=", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", "\n", "if", "inter_type", "==", "0", ":", "# \u5982\u679c\u4e3b\u8bed\u548c\u5bbe\u8bed\u4e0d\u76f8\u4ea4\uff0c\u8ba4\u4e3a\u4e0d\u5b58\u5728\u5173\u7cfb", "\n", "        ", "ifattach", "=", "False", "\n", "if", "aa", "<=", "ee", "and", "cc", "<=", "ee", ":", "#aa\u5728ee\u5de6\u8fb9  \u8fd9\u91cc\u7684\u5224\u65ad and\u8fde\u63a5\u7684\u4e24\u53e5 \u5176\u4e2d\u4e00\u53e5\u662f\u5e9f\u8bdd\u3002\u3002\u7b97\u4e86\u4e0d\u7ba1\u4e86", "\n", "            ", "ifloca", "=", "2", "\n", "", "if", "aa", ">=", "gg", "and", "cc", ">=", "gg", ":", "\n", "            ", "ifloca", "=", "3", "\n", "", "if", "bb", "<=", "ff", "and", "dd", "<=", "ff", ":", "\n", "            ", "ifloca", "=", "0", "\n", "", "if", "bb", ">=", "hh", "and", "dd", ">=", "hh", ":", "\n", "            ", "ifloca", "=", "1", "\n", "# print(\"\u4e3b\u8bed\u548c\u5bbe\u8bed\u4e0d\u76f8\u4ea4\")", "\n", "#return (False, -1)", "\n", "", "", "else", ":", "\n", "        ", "ifattach", "=", "True", "\n", "if", "inter_type", "in", "[", "1", ",", "3", ",", "9", ",", "11", "]", ":", "# \u4e3b\u8bed\u5728\u53f3\u8fb9\uff08\u68462\u5728\u5de6\u8fb9\uff09", "\n", "            ", "ifloca", "=", "3", "\n", "", "if", "inter_type", "in", "[", "6", ",", "8", ",", "14", ",", "16", "]", ":", "# \u4e3b\u8bed\u5728\u5de6\u8fb9\uff08\u68462\u5728\u53f3\u8fb9\uff09", "\n", "            ", "ifloca", "=", "2", "\n", "", "if", "inter_type", "in", "[", "12", ",", "15", "]", ":", "# \u4e3b\u8bed\u5728\u4e0a\u8fb9\uff08\u68462\u5728\u4e0b\u8fb9\uff09", "\n", "            ", "ifloca", "=", "0", "\n", "", "if", "inter_type", "in", "[", "2", ",", "5", "]", ":", "# \u4e3b\u8bed\u5728\u4e0b\u8fb9\uff08\u68462\u5728\u4e0a\u8fb9\uff09", "\n", "            ", "ifloca", "=", "1", "\n", "", "if", "inter_type", "in", "[", "4", ",", "7", ",", "10", "]", ":", "# \u4e3b\u8bed\u5728\u4e2d\u95f4\uff08\u68462\u5728\u5468\u56f4\u8fb9\uff09", "\n", "            ", "ifloca", "=", "4", "\n", "", "if", "inter_type", "in", "[", "13", "]", ":", "# \u4e3b\u8bed\u5728\u5468\u56f4\u8fb9\uff08\u68462\u5728\u4e2d\u95f4\uff09", "\n", "            ", "ifloca", "=", "4", "\n", "", "", "if", "abs", "(", "(", "cc", "-", "aa", ")", "-", "(", "gg", "-", "ee", ")", ")", "/", "(", "cc", "-", "aa", ")", "<", "(", "1", "/", "5", ")", "and", "abs", "(", "(", "dd", "-", "bb", ")", "-", "(", "hh", "-", "ff", ")", ")", "/", "(", "dd", "-", "bb", ")", "<", "(", "1", "/", "5", ")", ":", "\n", "        ", "ifequ", "=", "True", "\n", "", "else", ":", "\n", "        ", "ifequ", "=", "False", "\n", "", "return", "(", "ifattach", ",", "ifequ", ",", "ifloca", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.permu": [[2027, 2155], ["print", "numpy.unique", "print", "len", "print", "print", "range", "len", "range", "print", "len", "range", "print", "range", "print", "print", "main_old.q_ori", "main_old.q_ori", "print", "len", "range", "len", "range", "len", "len", "range", "len", "auto_rel.insert", "int", "new_uni_flat.append", "len", "len", "range", "range", "len", "print", "new_uni_ob.append", "main_old.ifexist", "main_old.rule_flat_to_flat", "region_rel_list.append", "print", "print", "main_old.rule_flat_to_ob", "region_rel_list.append", "print", "main_old.rule_ob_to_ob", "region_rel_list.append", "str", "str", "str", "str", "main_old.ifexist", "main_old.ifexist", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_flat_to_flat", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_flat_to_ob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_ob_to_ob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist"], ["", "def", "permu", "(", "rei", ")", ":", "#\u5bf9\u7b2crei\u4e2aregion\u4e2d\u6d89\u53ca\u7684\u5143\u7d20\u8fdb\u884c\u6392\u5217\u7ec4\u5408  #\u8fd9\u4e2a\u7f16\u53f7\u662f0~n-1", "\n", "#\u5982\u679c\u9ed8\u8ba4\u4e3a-1\uff0c\u5219\u81ea\u52a8\u6807\u6ce8\u6574\u5e45\u56fe", "\n", "    ", "if", "rei", "==", "-", "1", ":", "\n", "#10,10,   2048 1024", "\n", "        ", "x1", "=", "10", "\n", "y1", "=", "10", "\n", "x2", "=", "2040", "\n", "y2", "=", "1020", "\n", "#\u83b7\u53d6\u7b2crei\u4e2aregion\u7684\u4fe1\u606f\uff0c\u5305\u62ec\u8d77\u70b9\u548c\u7ec8\u70b9", "\n", "", "else", ":", "\n", "        ", "print", "(", "rect1", ")", "\n", "print", "(", "rect2", ")", "\n", "qd", "=", "rect1", "[", "rei", "]", "#\u8d77\u70b9\u5750\u6807\u548c\u7ec8\u70b9\u5750\u6807", "\n", "zd", "=", "rect2", "[", "rei", "]", "\n", "x1", ",", "y1", "=", "q_ori", "(", "qd", "[", "0", "]", ",", "qd", "[", "1", "]", ")", "#1\u7ed3\u5c3e\u662f\u8d77\u70b9\uff0c2\u7ed3\u5c3e\u662f\u7ec8\u70b9", "\n", "x2", ",", "y2", "=", "q_ori", "(", "zd", "[", "0", "]", ",", "zd", "[", "1", "]", ")", "\n", "", "print", "(", "x1", ",", "x2", ",", "y1", ",", "y2", ")", "\n", "if", "x1", ">", "x2", ":", "\n", "        ", "x1", ",", "x2", "=", "x2", ",", "x1", "\n", "", "if", "y1", ">", "y2", ":", "\n", "        ", "y1", ",", "y2", "=", "y2", ",", "y1", "\n", "#\u83b7\u53d6\u7b2crei\u4e2aregion\u4e2d\u7684\u5b9e\u4f8b\u4fe1\u606f", "\n", "#print(x1,x2,y1,y2)", "\n", "#print(insid_cluster[y1:(y2 + 1),x1:(x2 + 1)])", "\n", "", "unique_data", "=", "np", ".", "unique", "(", "insid_cluster", "[", "y1", ":", "(", "y2", "+", "1", ")", ",", "x1", ":", "(", "x2", "+", "1", ")", "]", ")", "#\u6240\u6709\u5b9e\u4f8b\u4fe1\u606f", "\n", "print", "(", "unique_data", ")", "\n", "aa", "=", "[", "jj", "for", "ii", "in", "allcluster", "for", "jj", "in", "ii", "]", "\n", "\n", "#\u6309\u7167 \u8def\u9762\u3001\u7269\u4f53\u7684\u987a\u5e8f\u6392\u5e8f", "\n", "new_uni_flat", "=", "[", "]", "\n", "new_uni_ob", "=", "[", "]", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "for", "i", "in", "unique_data", ":", "#\u5bf9unique\u8fdb\u884c\u6392\u5e8f\uff0c\u4f7f\u5f97\u8def\u9762>\u7269\u4f53\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f18\u5148\u5904\u7406#1.\u8def\u9762\u548c\u8def\u9762 2.\u8def\u9762\u548c\u7269\u4f53 3.\u7269\u4f53\u548c\u7269\u4f53\u3002", "\n", "        ", "if", "i", ">=", "inslen", ":", "#\u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "            ", "kind", "=", "ins_to_stuff_cluster", "[", "int", "(", "allcluster", "[", "int", "(", "int", "(", "i", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "]", "[", "1", "]", "#\u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "", "else", ":", "\n", "            ", "kind", "=", "int", "(", "ins_to_stuff_cluster", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "\n", "", "print", "(", "\"\u5b9e\u4f8b\"", ",", "i", ",", "\"\u7684\u7c7b\u578b\u662f\uff1a\"", ",", "kind", ",", "id2label", "[", "int", "(", "kind", ")", "]", ".", "name", ")", "\n", "\n", "if", "kind", "in", "flatid", ":", "\n", "            ", "new_uni_flat", ".", "append", "(", "[", "i", ",", "kind", "]", ")", "\n", "#print(\"\u5c5e\u4e8eflat\")", "\n", "", "elif", "kind", "in", "noneid", ":", "\n", "            ", "print", "(", "\"\u5c5e\u4e8e\u672a\u6807\u6ce8\"", ")", "\n", "", "else", ":", "\n", "            ", "new_uni_ob", ".", "append", "(", "[", "i", ",", "kind", "]", ")", "\n", "#print(\"\u4e0d\u5c5e\u4e8eflat\")", "\n", "#\u8fd9\u6837new_uni\u662f[[\u5b9e\u4f8bid\uff0c\u7c7b\u578b]\u5e76\u4e14flat\u59cb\u7ec8\u6392\u5217\u5728\u524d]", "\n", "", "", "print", "(", "\"ins to stuff clu\"", ",", "ins_to_stuff_cluster", ")", "\n", "print", "(", "\"flat:\"", ",", "new_uni_flat", ",", "\"  ob:\"", ",", "new_uni_ob", ")", "\n", "\n", "global", "region_rel_list", "\n", "region_rel_list", "=", "[", "]", "\n", "#flat\u548cflat", "\n", "for", "i", "in", "range", "(", "len", "(", "new_uni_flat", ")", ")", ":", "#\u5bbe\u8bed", "\n", "        ", "for", "j", "in", "range", "(", "i", "+", "1", ",", "len", "(", "new_uni_flat", ")", ")", ":", "# \u4e3b\u8bed", "\n", "#\u4ee5\u540e\u518d\u6dfb\u52a0\u5224\u65ad\u662f\u5426\u6807\u6ce8\uff0c\u5148\u9ed8\u8ba4\u5168\u90e8\u6ca1\u6807\u6ce8", "\n", "#print(j,i)", "\n", "#print(\"\u4e3b\u8bed\uff1a\",new_uni_flat[j][0],\"-\",id2label[int(new_uni_flat[j][1])].name,\"  \u5bbe\u8bed\uff1a\", new_uni_flat[i][0],\"-\",id2label[int(new_uni_flat[i][1])].name)", "\n", "#print(new_uni_flat[j][0], new_uni_flat[j][1], new_uni_flat[i][0], new_uni_flat[i][1],x1,y1,x2,y2)", "\n", "            ", "if", "ifexist", "(", "new_uni_flat", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ")", "==", "False", ":", "\n", "                ", "rule_if_rel", ",", "rule_rel", "=", "rule_flat_to_flat", "(", "new_uni_flat", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", "\n", "#rule_if_rel\u662f\u662f\u5426\u5b58\u5728\u5173\u7cfb rule_rel\u662f\u5173\u7cfb\u7c7b\u578b", "\n", "region_rel_list", ".", "append", "(", "[", "new_uni_flat", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "rule_if_rel", ",", "rule_rel", "]", ")", "\n", "#print(region_rel_list) \u5b9e\u9a8c\u7528\u7684", "\n", "\n", "# flat\u548cobject", "\n", "#\u8fd9\u4e2a\u5730\u65b9 \u53ef\u4ee5\u53d8\u901a\u4e00\u4e0b\uff0c\u8ba9ob\u548c\u6bcf\u4e00\u4e2aflat\u90fd\u53bb\u8bd5\u4e00\u4e0b", "\n", "", "", "", "num_one", "=", "len", "(", "region_rel_list", ")", "# \u8bb0\u5f55\u4e00\u4e0b\u524d\u9762\u7684\u6570\u636e\u5927\u5c0f", "\n", "for", "j", "in", "range", "(", "len", "(", "new_uni_ob", ")", ")", ":", "# \u4e3b\u8bed", "\n", "        ", "num_max_ob_to_flat", "=", "-", "1", "\n", "index_max_ob_to_flat", "=", "-", "1", "\n", "numob", "=", "0", "\n", "for", "i", "in", "range", "(", "len", "(", "new_uni_flat", ")", ")", ":", "# \u5bbe\u8bed", "\n", "\n", "#\u5224\u65ad\u662f\u5426\u4e3a\u6807\u6ce8\u8fc7\u7684\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219numob=numob+1.\u5224\u65ad\u662f\u5426\u6709\u4e00\u65b9\u5728cluster\u4e2d\uff0c\u56e0\u4e3a\u540e\u9762\u5df2\u7ecf\u6709cluster\u4e86\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u52a01.", "\n", "            ", "if", "(", "ifexist", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ")", "==", "False", ")", "and", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", "not", "in", "aa", ")", ":", "\n", "                ", "numob", "=", "numob", "+", "1", "#\u8bb0\u5f55\u7684\u662f\u8fd9\u4e2aob\u4e2d\u6ca1\u6709\u88ab\u5220\u9664", "\n", "print", "(", "j", ",", "i", ")", "\n", "print", "(", "\"\u4e3b\u8bed\uff1a\"", ",", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "\"-\"", ",", "id2label", "[", "int", "(", "new_uni_ob", "[", "j", "]", "[", "1", "]", ")", "]", ".", "name", ",", "\"  \u5bbe\u8bed\uff1a\"", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "\"-\"", ",", "id2label", "[", "int", "(", "new_uni_flat", "[", "i", "]", "[", "1", "]", ")", "]", ".", "name", ")", "\n", "# print(new_uni_flat[j][0], new_uni_flat[j][1], new_uni_flat[i][0], new_uni_flat[i][1],x1,y1,x2,y2)", "\n", "rule_if_rel", ",", "rule_rel", "=", "rule_flat_to_ob", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "\n", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", "#\u8fd9\u6b21\u8fd4\u56de\u7684 \u7b2c\u4e00\u4e2a\u662f\u5426\u8fde\u901a \u7b2c\u4e8c\u4e2a\u662f\u8fde\u901a\u7684\u4e2a\u6570", "\n", "# rule_if_rel\u662f\u7b2c\u4e00\u4e2a\u662f\u5426\u8fde\u901a rule_rel\u662f\u8fde\u901a\u7684\u4e2a\u6570", "\n", "if", "num_max_ob_to_flat", "<", "rule_rel", ":", "#\u76f4\u63a5\u8bb0\u5f55\u4e0b\u5bf9\u6bcf\u4e2aob\u6765\u8bf4\u6700\u53ef\u80fd\u6240\u5904\u7684flat", "\n", "                    ", "num_max_ob_to_flat", "=", "rule_rel", "\n", "index_max_ob_to_flat", "=", "numob", "\n", "", "region_rel_list", ".", "append", "(", "\n", "[", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "rule_if_rel", ",", "rule_rel", "]", ")", "\n", "#\u7136\u540e\u5728\u8fd9\u4e2a\u4f4d\u7f6e \u5bf9\u524d\u9762\u5904\u7406\u8fc7\u7684\u5173\u4e8e\u4e3b\u8bedob  j  \u7684flat\u518d\u5904\u7406\u4e00\u904d", "\n", "", "", "numlist", "=", "len", "(", "region_rel_list", ")", "\n", "#print(\"\u5bf9\u4e8e\u4e3b\u8bed\",new_uni_ob[j][0],\"\u4fee\u6539\u524d\u7684regionlist\",region_rel_list)", "\n", "if", "num_max_ob_to_flat", "==", "0", ":", "#\u5168\u90e8\u90fd\u662ffalse \u6ca1\u6709\u5728\u5730\u9762\u4e0a", "\n", "            ", "for", "i", "in", "range", "(", "numlist", "-", "1", ",", "numlist", "-", "numob", "-", "1", ",", "-", "1", ")", ":", "\n", "                ", "region_rel_list", "[", "i", "]", "[", "4", "]", "=", "False", "\n", "region_rel_list", "[", "i", "]", "[", "5", "]", "=", "-", "1", "\n", "", "", "else", ":", "\n", "            ", "for", "i", "in", "range", "(", "numlist", "-", "1", ",", "numlist", "-", "numob", "-", "1", ",", "-", "1", ")", ":", "\n", "                ", "if", "i", "!=", "(", "numlist", "-", "numob", "+", "index_max_ob_to_flat", "-", "1", ")", ":", "\n", "                    ", "region_rel_list", "[", "i", "]", "[", "4", "]", "=", "False", "\n", "region_rel_list", "[", "i", "]", "[", "5", "]", "=", "-", "1", "\n", "", "else", ":", "\n", "                    ", "region_rel_list", "[", "i", "]", "[", "5", "]", "=", "4", "\n", "#print(\"\u5bf9\u4e8e\u4e3b\u8bed\", new_uni_ob[j][0], \"\u4fee\u6539\u540e\u7684regionlist\", region_rel_list)", "\n", "", "", "", "", "print", "(", "region_rel_list", ")", "\n", "\n", "\n", "#object\u548cobject", "\n", "num_two", "=", "len", "(", "region_rel_list", ")", "#\u8bb0\u5f55\u4e00\u4e0b\u524d\u9762\u7684\u6570\u636e\u5927\u5c0f", "\n", "global", "region_rel_list_matrix", "\n", "for", "i", "in", "range", "(", "len", "(", "new_uni_ob", ")", ")", ":", "# \u5bbe\u8bed", "\n", "        ", "for", "j", "in", "range", "(", "i", "+", "1", ",", "len", "(", "new_uni_ob", ")", ")", ":", "# \u4e3b\u8bed", "\n", "# \u4ee5\u540e\u518d\u6dfb\u52a0\u5224\u65ad\u662f\u5426\u6807\u6ce8\uff0c\u5148\u9ed8\u8ba4\u5168\u90e8\u6ca1\u6807\u6ce8", "\n", "# gzpd(new_uni[j][0],new_uni[j][1],new_uni[i][0],new_uni[j][1]) #\u53c2\u6570\u5206\u522b\u662f\uff1a\u4e3b\u8bed\u5b9e\u4f8bid \u4e3b\u8bed\u7c7b\u578bid \u5bbe\u8bed\u5b9e\u4f8bid \u5bbe\u8bed\u7c7b\u578bid", "\n", "            ", "if", "(", "ifexist", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "i", "]", "[", "0", "]", ")", "==", "False", ")", "and", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", "not", "in", "aa", ")", "and", "(", "new_uni_ob", "[", "i", "]", "[", "0", "]", "not", "in", "aa", ")", ":", "\n", "                ", "print", "(", "\"\u4e3b\u8bed\uff1a\"", ",", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "\"-\"", ",", "id2label", "[", "int", "(", "new_uni_ob", "[", "j", "]", "[", "1", "]", ")", "]", ".", "name", ",", "\"  \u5bbe\u8bed\uff1a\"", ",", "\n", "new_uni_ob", "[", "i", "]", "[", "0", "]", ",", "\"-\"", ",", "id2label", "[", "int", "(", "new_uni_ob", "[", "i", "]", "[", "1", "]", ")", "]", ".", "name", ")", "\n", "rule_if_rel", ",", "rule_rel", "=", "rule_ob_to_ob", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_ob", "[", "i", "]", "[", "0", "]", ",", "new_uni_ob", "[", "i", "]", "[", "1", "]", ",", "num_one", ",", "num_two", ")", "#\u4e0d\u7528xy\u4e86", "\n", "region_rel_list", ".", "append", "(", "[", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_ob", "[", "i", "]", "[", "0", "]", ",", "new_uni_ob", "[", "i", "]", "[", "1", "]", ",", "rule_if_rel", ",", "rule_rel", "]", ")", "\n", "\n", "", "", "", "print", "(", "region_rel_list", ")", "\n", "#\u89e3\u7801\u6570\u636e\u5e76\u8f93\u51fa\u5230list\u4e2d", "\n", "for", "i", "in", "range", "(", "len", "(", "region_rel_list", ")", ")", ":", "\n", "        ", "if", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "False", ":", "\n", "            ", "c", "=", "[", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "1", "]", ")", "]", ".", "name", ",", "\"  ---          ---  \"", ",", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "2", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "3", "]", ")", "]", ".", "name", "]", "\n", "", "else", ":", "\n", "            ", "c", "=", "[", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "1", "]", ")", "]", ".", "name", ",", "\"  ---\"", ",", "rel_list_all", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "5", "]", ")", "]", ",", "\"---  \"", ",", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "2", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "3", "]", ")", "]", ".", "name", "]", "\n", "", "auto_rel", ".", "insert", "(", "\"end\"", ",", "''", ".", "join", "(", "c", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.Recommend": [[2157, 2216], ["len", "range", "dict", "dict", "print", "print", "dict", "user_tags[].items", "sorted", "print", "reco_rel.delete", "reco_rel.insert", "int", "len", "records.append", "dict.setdefault", "user_tags[].setdefault", "dict.setdefault", "tag_items[].setdefault", "print", "tag_items[].items", "dict.items", "int", "int", "int", "int", "int", "int", "dict", "dict", "str", "int", "str", "str", "str", "str", "str"], "function", ["None"], ["", "", "def", "Recommend", "(", "sub_rel_ob", ",", "sub_rel_ob_attri", ",", "user", ",", "K", ")", ":", "\n", "    ", "records", "=", "[", "]", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "for", "i", "in", "range", "(", "len", "(", "sub_rel_ob", ")", ")", ":", "\n", "        ", "subkind", ",", "relkind", ",", "obidkind", "=", "int", "(", "sub_rel_ob", "[", "i", "]", "[", "0", "]", ")", ",", "int", "(", "sub_rel_ob", "[", "i", "]", "[", "1", "]", ")", ",", "int", "(", "sub_rel_ob", "[", "i", "]", "[", "2", "]", ")", "\n", "attri1", ",", "attri2", ",", "attri3", "=", "int", "(", "sub_rel_ob_attri", "[", "i", "]", "[", "0", "]", ")", ",", "int", "(", "sub_rel_ob_attri", "[", "i", "]", "[", "1", "]", ")", ",", "int", "(", "sub_rel_ob_attri", "[", "i", "]", "[", "2", "]", ")", "\n", "\n", "#if subid>=inslen: #\u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "#    subkind=ins_to_stuff_cluster[int(allcluster[int(int(subid)-inslen)][0])][1]  #\u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "#else:", "\n", "#    subkind=int(ins_to_stuff_cluster[int(subid)][1])", "\n", "#print(\"\u5b9e\u4f8b\",subid,\"\u7684\u7c7b\u578b\u662f\uff1a\",subkind,id2label[int(subkind)].name)", "\n", "#    if obid>=inslen: #\u8bf4\u660e\u662f\u878d\u5408\u7684\u5185\u5bb9", "\n", "#        obkind=ins_to_stuff_cluster[int(allcluster[int(int(obid)-inslen)][0])][1]  #\u67d0\u4e00\u4e2a\u878d\u5408\u7684\u7b2c\u4e00\u4e2a\u5b9e\u4f8b\u7684id", "\n", "#    else:", "\n", "#        obkind=int(ins_to_stuff_cluster[int(obid)][1])", "\n", "#print(\"\u5b9e\u4f8b\",subid,\"\u7684\u7c7b\u578b\u662f\uff1a\",obkind,id2label[int(obkind)].name)", "\n", "#    records.append([''.join([str(subkind),'-',str(obkind)]),str(rel),''.join([str(attri1),str(attri2),str(attri3)])])", "\n", "#print(records)", "\n", "\n", "records", ".", "append", "(", "[", "''", ".", "join", "(", "[", "str", "(", "subkind", ")", ",", "'-'", ",", "str", "(", "obkind", ")", "]", ")", ",", "str", "(", "relkind", ")", ",", "''", ".", "join", "(", "[", "str", "(", "attri1", ")", ",", "str", "(", "attri2", ")", ",", "str", "(", "attri3", ")", "]", ")", "]", ")", "\n", "#print(\"\u5236\u4f5crecords\", subid, \"\u7684\u7c7b\u578b\u662f\uff1a\", obkind, id2label[int(obkind)].name)", "\n", "\n", "", "user_tags", "=", "dict", "(", ")", "# \u8bed\u5bf9\u6253\u8fc7\u6807\u7b7e\u7684\u6b21\u6570", "\n", "tag_items", "=", "dict", "(", ")", "# \u5173\u7cfb\u88ab\u6253\u8fc7\u6807\u7b7e\u7684\u6b21\u6570\uff0c\u4ee3\u8868\u5173\u7cfb\u6d41\u884c\u5ea6", "\n", "for", "user", ",", "item", ",", "tag", "in", "records", ":", "\n", "        ", "user_tags", ".", "setdefault", "(", "user", ",", "dict", "(", ")", ")", "\n", "user_tags", "[", "user", "]", ".", "setdefault", "(", "tag", ",", "0", ")", "\n", "user_tags", "[", "user", "]", "[", "tag", "]", "+=", "1", "\n", "tag_items", ".", "setdefault", "(", "tag", ",", "dict", "(", ")", ")", "\n", "tag_items", "[", "tag", "]", ".", "setdefault", "(", "item", ",", "0", ")", "\n", "tag_items", "[", "tag", "]", "[", "item", "]", "+=", "1", "\n", "print", "(", "user", ",", "item", ",", "tag", ")", "\n", "", "print", "(", "\"\u8bed\u5bf9\u6253\u8fc7\u6807\u7b7e\u7684\u6b21\u6570: \"", ",", "user_tags", ")", "\n", "print", "(", "\"\u5173\u7cfb\u6253\u8fc7\u6807\u7b7e\u7684\u6b21\u6570: \"", ",", "tag_items", ")", "\n", "\n", "recommend_items", "=", "dict", "(", ")", "\n", "for", "tag", ",", "wut", "in", "user_tags", "[", "user", "]", ".", "items", "(", ")", ":", "\n", "        ", "for", "item", ",", "wti", "in", "tag_items", "[", "tag", "]", ".", "items", "(", ")", ":", "\n", "            ", "if", "item", "not", "in", "recommend_items", ":", "\n", "                ", "recommend_items", "[", "item", "]", "=", "wut", "*", "wti", "# \u8ba1\u7b97\u7528\u6237\u5bf9\u7269\u54c1\u5174\u8da3\u5ea6", "\n", "", "else", ":", "\n", "                ", "recommend_items", "[", "item", "]", "+=", "wut", "*", "wti", "\n", "\n", "", "", "", "rec", "=", "sorted", "(", "recommend_items", ".", "items", "(", ")", ",", "key", "=", "lambda", "x", ":", "x", "[", "1", "]", ",", "reverse", "=", "True", ")", "# \u5c06\u63a8\u8350\u6b4c\u66f2\u6309\u5174\u8da3\u5ea6\u6392\u540d", "\n", "print", "(", "\"\u8bed\u5bf9\u5bf9\u5173\u7cfb\u5174\u8da3\u5ea6: \"", ",", "rec", ")", "\n", "reco_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "#for i in rel_list_now:", "\n", "reco_rel", ".", "insert", "(", "\"end\"", ",", "rel_list_all", "[", "int", "(", "rec", "[", "0", "]", "[", "0", "]", ")", "]", ")", "\n", "global", "recoid", "\n", "recoid", "=", "int", "(", "rec", "[", "0", "]", "[", "0", "]", ")", "\n", "\n", "#music = []", "\n", "#print(type(music))", "\n", "'''\n    for i in range(K):\n        music.append(rec[i][0])\n        music = \"/\".join(music)\n        print(\"\u4e3a\u7528\u6237\u63a8\u8350\u6b4c\u66f2: \", music)'''", "\n", "#return music", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_reco": [[2218, 2220], ["main_old.Recommend"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.Recommend"], ["", "def", "to_reco", "(", "event", ")", ":", "\n", "    ", "Recommend", "(", "sub_rel_ob", ",", "sub_rel_ob_attri", ",", "'car-car'", ",", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_ts": [[2221, 2235], ["print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print"], "function", ["None"], ["", "def", "to_ts", "(", "event", ")", ":", "#\u8c03\u8bd5 \u8f93\u51fa\u91cd\u8981\u6570\u636e", "\n", "    ", "print", "(", "\"file_name:\"", ",", "file_name", ")", "\n", "print", "(", "\"sub_rel_ob:\"", ",", "sub_rel_ob", ")", "\n", "print", "(", "\"sub_rel_ob_attri:\"", ",", "sub_rel_ob_attri", ")", "\n", "print", "(", "\"focus_region:\"", ",", "focus_region", ")", "\n", "print", "(", "\"allcluster:\"", ",", "allcluster", ")", "\n", "print", "(", "\"cluster_num:\"", ",", "cluster_num", ")", "\n", "print", "(", "\"cluster_list_index:\"", ",", "cluster_list_index", ")", "\n", "print", "(", "\"annoedclu_index:\"", ",", "annoedclu_index", ")", "\n", "print", "(", "\"auto_index:\"", ",", "auto_index", ")", "\n", "print", "(", "\"sub_id:\"", ",", "sub_id", ")", "\n", "print", "(", "\"ob_id:\"", ",", "ob_id", ")", "\n", "print", "(", "\"rel_id:\"", ",", "rel_id", ")", "\n", "print", "(", "\"direc:\"", ",", "direc", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_lx": [[2236, 2250], ["print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print", "print"], "function", ["None"], ["", "def", "to_lx", "(", "event", ")", ":", "#\u8c03\u8bd5 \u8f93\u51fa\u91cd\u8981\u6570\u636e", "\n", "    ", "print", "(", "\"file_name:\"", ",", "file_name", ")", "\n", "print", "(", "\"sub_rel_ob:\"", ",", "sub_rel_ob", ")", "\n", "print", "(", "\"sub_rel_ob_attri:\"", ",", "sub_rel_ob_attri", ")", "\n", "print", "(", "\"focus_region:\"", ",", "focus_region", ")", "\n", "print", "(", "\"allcluster:\"", ",", "allcluster", ")", "\n", "print", "(", "\"cluster_num:\"", ",", "cluster_num", ")", "\n", "print", "(", "\"cluster_list_index:\"", ",", "cluster_list_index", ")", "\n", "print", "(", "\"annoedclu_index:\"", ",", "annoedclu_index", ")", "\n", "print", "(", "\"auto_index:\"", ",", "auto_index", ")", "\n", "print", "(", "\"sub_id:\"", ",", "sub_id", ")", "\n", "print", "(", "\"ob_id:\"", ",", "ob_id", ")", "\n", "print", "(", "\"rel_id:\"", ",", "rel_id", ")", "\n", "print", "(", "\"direc:\"", ",", "direc", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_direc_f": [[2251, 2275], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "str", "str", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_f", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "1", "]", ")", "\n", "c", "=", "\"\u2191     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "sub_id", ",", "1", "]", ")", "\n", "c", "=", "\"\u2191     \"", "+", "str", "(", "sub_id", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_direc_b": [[2276, 2302], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "str", "str", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_b", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "2", "]", ")", "\n", "c", "=", "\"\u2193     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "sub_id", ",", "2", "]", ")", "\n", "c", "=", "\"\u2193     \"", "+", "str", "(", "sub_id", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_direc_l": [[2303, 2329], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "str", "str", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_l", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "3", "]", ")", "\n", "c", "=", "\"\u2190     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "sub_id", ",", "3", "]", ")", "\n", "c", "=", "\"\u2190     \"", "+", "str", "(", "sub_id", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_direc_r": [[2330, 2356], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "str", "str", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_r", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "4", "]", ")", "\n", "c", "=", "\"\u2192     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "sub_id", ",", "4", "]", ")", "\n", "c", "=", "\"\u2192     \"", "+", "str", "(", "sub_id", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main_old.to_direc_dele": [[2357, 2363], ["direc_list.delete", "int", "int"], "function", ["None"], ["", "def", "to_direc_dele", "(", "event", ")", ":", "\n", "    ", "global", "direc", ",", "direc_list_index", "\n", "if", "direc_list_index", "!=", "-", "1", ":", "\n", "        ", "del", "direc", "[", "int", "(", "direc_list_index", ")", "]", "\n", "direc_list", ".", "delete", "(", "int", "(", "direc_list_index", ")", ")", "\n", "direc_list_index", "=", "-", "1", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.three_pic": [[20, 38], ["path.split", "len"], "function", ["None"], ["def", "three_pic", "(", "path", ")", ":", "\n", "    ", "a", "=", "path", ".", "split", "(", "'/'", ")", "\n", "\n", "global", "file_name", "\n", "#global oripicnum", "\n", "file_name", "=", "a", "[", "len", "(", "a", ")", "-", "1", "]", "\n", "#file_name = '_'.join([name[0], name[1], name[2]])", "\n", "\n", "ins_name", "=", "file_name", "#\u6700\u540e\u4e00\u4e2a\u5730\u5740", "\n", "ori_name", "=", "file_name", "\n", "stuff_name", "=", "file_name", "\n", "\n", "path_ins", "=", "\".\\\\ins\\\\\"", "+", "file_name", "\n", "path_ori", "=", "\".\\\\ori\\\\\"", "+", "file_name", "\n", "path_stuff", "=", "\".\\\\stuff\\\\\"", "+", "file_name", "\n", "\n", "\n", "return", "(", "path_ori", ",", "path_stuff", ",", "path_ins", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.encoding": [[41, 81], ["ins.load", "stuff.load", "numpy.zeros", "range", "range", "inslis.append", "stufflis.append", "int", "zb.append", "ins_to_stuff.append", "inslis.index", "len", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "encoding", "(", "stuff", ",", "ins", ")", ":", "\n", "\n", "    ", "pix", "=", "ins", ".", "load", "(", ")", "\n", "pix_stuff", "=", "stuff", ".", "load", "(", ")", "\n", "\n", "global", "width", ",", "height", "\n", "width", "=", "ins", ".", "size", "[", "0", "]", "\n", "height", "=", "ins", ".", "size", "[", "1", "]", "\n", "insid", "=", "np", ".", "zeros", "(", "(", "height", ",", "width", ")", ")", "\n", "inslis", "=", "[", "]", "#", "\n", "stufflis", "=", "[", "]", "#", "\n", "ins_to_stuff", "=", "[", "]", "#", "\n", "zb", "=", "[", "]", "#", "\n", "\n", "ins_color", "=", "[", "(", "220", ",", "20", ",", "60", ",", "255", ")", ",", "(", "255", ",", "0", ",", "0", ",", "255", ")", ",", "(", "0", ",", "0", ",", "142", ",", "255", ")", ",", "(", "0", ",", "0", ",", "70", ",", "255", ")", ",", "(", "0", ",", "60", ",", "100", ",", "255", ")", ",", "(", "0", ",", "0", ",", "90", ",", "255", ")", ",", "(", "0", ",", "0", ",", "110", ",", "255", ")", ",", "(", "0", ",", "80", ",", "100", ",", "255", ")", ",", "(", "0", ",", "0", ",", "230", ",", "255", ")", ",", "(", "119", ",", "11", ",", "32", ",", "255", ")", ",", "(", "0", ",", "0", ",", "1", ",", "255", ")", "]", "\n", "\n", "\n", "for", "i", "in", "range", "(", "width", ")", ":", "# 2048", "\n", "        ", "for", "j", "in", "range", "(", "height", ")", ":", "# 1024", "\n", "\n", "            ", "if", "pix_stuff", "[", "i", ",", "j", "]", "!=", "(", "0", ",", "0", ",", "0", ",", "255", ")", "and", "pix", "[", "i", ",", "j", "]", "==", "(", "0", ",", "0", ",", "0", ")", "and", "(", "pix_stuff", "[", "i", ",", "j", "]", "not", "in", "ins_color", ")", ":", "\n", "\n", "                ", "pix", "[", "i", ",", "j", "]", "=", "pix_stuff", "[", "i", ",", "j", "]", "\n", "", "if", "(", "pix", "[", "i", ",", "j", "]", "not", "in", "inslis", ")", ":", "\n", "                ", "inslis", ".", "append", "(", "pix", "[", "i", ",", "j", "]", ")", "\n", "stufflis", ".", "append", "(", "pix_stuff", "[", "i", ",", "j", "]", ")", "\n", "insid", "[", "j", ",", "i", "]", "=", "int", "(", "len", "(", "inslis", ")", "-", "1", ")", "\n", "zb", ".", "append", "(", "(", "i", ",", "j", ")", ")", "\n", "new_stuff", "=", "[", "insid", "[", "j", ",", "i", "]", ",", "color2label", "[", "pix_stuff", "[", "i", ",", "j", "]", "[", "0", ":", "3", "]", "]", ".", "id", ",", "i", ",", "j", ",", "i", ",", "j", "]", "\n", "ins_to_stuff", ".", "append", "(", "new_stuff", ")", "\n", "", "else", ":", "\n", "                ", "insid", "[", "j", ",", "i", "]", "=", "inslis", ".", "index", "(", "pix", "[", "i", ",", "j", "]", ")", "\n", "if", "j", "<", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "3", "]", ":", "\n", "                    ", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "3", "]", "=", "j", "\n", "", "if", "j", ">", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "5", "]", ":", "\n", "                    ", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "5", "]", "=", "j", "\n", "", "if", "i", ">", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "4", "]", ":", "\n", "                    ", "ins_to_stuff", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "4", "]", "=", "i", "\n", "\n", "", "", "", "", "return", "(", "insid", ",", "ins_to_stuff", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori": [[83, 88], ["int", "int"], "function", ["None"], ["", "def", "q_ori", "(", "x", ",", "y", ")", ":", "\n", "    ", "global", "k", "\n", "ori_x", "=", "int", "(", "k", "*", "x", ")", "\n", "ori_y", "=", "int", "(", "k", "*", "y", ")", "\n", "return", "(", "ori_x", ",", "ori_y", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id": [[90, 93], ["None"], "function", ["None"], ["", "def", "q_id", "(", "x", ",", "y", ")", ":", "\n", "    ", "global", "insid", "\n", "return", "insid", "[", "y", ",", "x", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label": [[96, 100], ["int"], "function", ["None"], ["", "def", "q_label", "(", "x", ",", "y", ")", ":", "\n", "    ", "global", "insid", "\n", "global", "ins_to_stuff", "\n", "return", "ins_to_stuff", "[", "int", "(", "insid", "[", "y", ",", "x", "]", ")", "]", "[", "1", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_layer": [[102, 114], ["int"], "function", ["None"], ["", "def", "q_layer", "(", "myid", ")", ":", "\n", "    ", "labelid", "=", "ins_to_stuff", "[", "int", "(", "myid", ")", "]", "[", "1", "]", "\n", "# q_label", "\n", "if", "labelid", "in", "foregroundid", ":", "\n", "        ", "layerid", "=", "2", "\n", "", "if", "labelid", "in", "flatid", ":", "\n", "        ", "layerid", "=", "3", "\n", "", "if", "labelid", "in", "conid", ":", "\n", "        ", "layerid", "=", "4", "\n", "", "if", "labelid", "in", "noneid", ":", "\n", "        ", "layerid", "=", "-", "1", "\n", "", "return", "layerid", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.addTransparency": [[118, 123], ["Image.blend.convert", "PIL.Image.new", "PIL.Image.blend"], "function", ["None"], ["", "def", "addTransparency", "(", "img", ",", "factor", "=", "0.7", ")", ":", "\n", "    ", "img", "=", "img", ".", "convert", "(", "'RGBA'", ")", "\n", "img_blender", "=", "Image", ".", "new", "(", "'RGBA'", ",", "img", ".", "size", ",", "(", "0", ",", "0", ",", "0", ",", "0", ")", ")", "\n", "img", "=", "Image", ".", "blend", "(", "img_blender", ",", "img", ",", "factor", ")", "\n", "return", "img", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.new_file": [[126, 234], ["tkinter.filedialog.askopenfilename", "main.three_pic", "PIL.Image.open", "PIL.Image.open", "PIL.Image.open", "annoedclu.insert", "anno_rel.insert", "reco_rel.insert", "v.set", "v22.set", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "range", "range", "range", "Image.new.convert", "Image.new.convert", "PIL.Image.blend", "PIL.Image.blend", "Image.blend.save", "Image.new.save", "Image.new.save", "Image.new.save", "main.encoding", "PIL.ImageTk.PhotoImage", "image_box.pack", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "sg_box.pack", "copy.deepcopy", "copy.deepcopy", "h5py.File", "[].tolist", "[].tolist", "range", "range", "range", "os.path.exists", "h5py.File", "h5.File.create_dataset", "h5.File.create_dataset"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.three_pic", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.encoding"], ["", "def", "new_file", "(", ")", ":", "\n", "    ", "global", "if_open", "\n", "if", "if_open", "==", "1", ":", "\n", "        ", "return", "\n", "\n", "", "path", "=", "tk", ".", "filedialog", ".", "askopenfilename", "(", ")", "\n", "if", "path", "==", "\"\"", ":", "\n", "        ", "return", "\n", "", "path_ori", ",", "path_stuff", ",", "path_ins", "=", "three_pic", "(", "path", ")", "\n", "\n", "ori", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "stuff", "=", "Image", ".", "open", "(", "path_stuff", ")", "\n", "ins", "=", "Image", ".", "open", "(", "path_ins", ")", "\n", "\n", "if_open", "=", "1", "\n", "\n", "global", "k", "\n", "\n", "\n", "annoedclu", ".", "insert", "(", "\"end\"", ",", "\"(Create a new cluster)\"", ")", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"(Create a new relationship)\"", ")", "\n", "reco_rel", ".", "insert", "(", "\"end\"", ",", "\"----Recommended----\"", ")", "\n", "\n", "global", "v2int", ",", "v22int", "\n", "v2int", "=", "1", "\n", "v22int", "=", "1", "\n", "v", ".", "set", "(", "1", ")", "\n", "v22", ".", "set", "(", "1", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "img_back", "\n", "im", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "pix", "=", "im", ".", "load", "(", ")", "#", "\n", "width", "=", "im", ".", "size", "[", "0", "]", "\n", "height", "=", "im", ".", "size", "[", "1", "]", "\n", "imnew", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew", "=", "imnew", ".", "load", "(", ")", "#", "\n", "\n", "im2", "=", "Image", ".", "open", "(", "path_ins", ")", "#", "\n", "pix2", "=", "im2", ".", "load", "(", ")", "#", "\n", "width2", "=", "im2", ".", "size", "[", "0", "]", "\n", "height2", "=", "im2", ".", "size", "[", "1", "]", "\n", "imnew2", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width2", "//", "k", ",", "height2", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew2", "=", "imnew2", ".", "load", "(", ")", "#", "\n", "\n", "im3", "=", "Image", ".", "open", "(", "path_stuff", ")", "#", "\n", "pix3", "=", "im3", ".", "load", "(", ")", "#", "\n", "width3", "=", "im3", ".", "size", "[", "0", "]", "\n", "height3", "=", "im3", ".", "size", "[", "1", "]", "\n", "imnew3", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width3", "//", "k", ",", "height3", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew3", "=", "imnew3", ".", "load", "(", ")", "#", "\n", "\n", "for", "x", "in", "range", "(", "width", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew", "[", "x", ",", "y", "]", "=", "pix", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width2", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height2", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew2", "[", "x", ",", "y", "]", "=", "pix2", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width3", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height3", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew3", "[", "x", ",", "y", "]", "=", "pix3", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "img1", "=", "imnew", ".", "convert", "(", "'RGBA'", ")", "\n", "img2", "=", "imnew2", ".", "convert", "(", "'RGBA'", ")", "\n", "img", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.3", ")", "\n", "img_back", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.8", ")", "\n", "\n", "img", ".", "save", "(", "'img.png'", ")", "\n", "imnew", ".", "save", "(", "'imnew.png'", ")", "\n", "imnew2", ".", "save", "(", "'imnew2.png'", ")", "\n", "imnew3", ".", "save", "(", "'imnew3.png'", ")", "\n", "\n", "###\u5bf9\u56fe\u50cf\u4fe1\u606f\u8fdb\u884c\u7f16\u7801", "\n", "global", "insid", "\n", "global", "ins_to_stuff", "\n", "insid", ",", "ins_to_stuff", "=", "encoding", "(", "stuff", ",", "ins", ")", "\n", "\n", "\n", "global", "rect", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "img", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "sg_image", "=", "Image", ".", "open", "(", "'anewsg.gv.png'", ")", "\n", "sg_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sg_image", ")", "\n", "\n", "sg_box", ".", "x", "=", "sg_photo", "\n", "sg_box", "[", "'image'", "]", "=", "sg_photo", "\n", "sg_box", ".", "state", "=", "\"on\"", "\n", "sg_box", ".", "pack", "(", ")", "\n", "\n", "\n", "\n", "global", "insid_cluster", ",", "ins_to_stuff_cluster", "\n", "insid_cluster", "=", "copy", ".", "deepcopy", "(", "insid", ")", "\n", "ins_to_stuff_cluster", "=", "copy", ".", "deepcopy", "(", "ins_to_stuff", ")", "\n", "\n", "if", "(", "os", ".", "path", ".", "exists", "(", "\"motif_attr.h5\"", ")", "==", "False", ")", ":", "\n", "        ", "f", "=", "h5", ".", "File", "(", "'motif_attr.h5'", ",", "'w'", ")", "\n", "f", ".", "create_dataset", "(", "'motif_attr'", ",", "data", "=", "[", "]", ")", "\n", "f", ".", "create_dataset", "(", "'motif_attr_attr'", ",", "data", "=", "[", "]", ")", "\n", "\n", "", "motif_attr", "=", "h5", ".", "File", "(", "\"motif_attr.h5\"", ",", "'r'", ")", "\n", "global", "m_a", ",", "m_a_a", "\n", "m_a", "=", "motif_attr", "[", "'motif_attr'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "m_a_a", "=", "motif_attr", "[", "'motif_attr_attr'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.open_file": [[236, 363], ["tkinter.filedialog.askopenfilename", "open_three_pic", "PIL.Image.open", "PIL.Image.open", "PIL.Image.open", "h5py.File", "[].tolist", "[].tolist", "[].tolist", "[].tolist", "[].tolist", "[].tolist", "[].tolist", "range", "annoedclu.insert", "anno_rel.insert", "reco_rel.insert", "v.set", "v22.set", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "PIL.Image.open", "Image.open.load", "PIL.Image.new", "Image.new.load", "range", "range", "range", "Image.new.convert", "Image.new.convert", "PIL.Image.blend", "PIL.Image.blend", "Image.blend.save", "Image.new.save", "Image.new.save", "Image.new.save", "main.encoding", "PIL.ImageTk.PhotoImage", "image_box.pack", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "sg_box.pack", "copy.deepcopy", "copy.deepcopy", "h5py.File", "[].tolist", "[].tolist", "len", "region_list.insert", "bt_region.set", "range", "range", "range", "os.path.exists", "h5py.File", "h5.File.create_dataset", "h5.File.create_dataset", "str", "str", "str", "str", "str"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.encoding"], ["", "def", "open_file", "(", ")", ":", "\n", "    ", "global", "if_open", "\n", "if", "if_open", "==", "1", ":", "\n", "        ", "return", "\n", "\n", "", "path", "=", "tk", ".", "filedialog", ".", "askopenfilename", "(", ")", "\n", "if", "path", "==", "\"\"", ":", "\n", "        ", "return", "\n", "\n", "", "path_ori", ",", "path_stuff", ",", "path_ins", "=", "open_three_pic", "(", "path", ")", "\n", "#print(path_ori, path_stuff, path_ins)", "\n", "\n", "ori", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "stuff", "=", "Image", ".", "open", "(", "path_stuff", ")", "\n", "ins", "=", "Image", ".", "open", "(", "path_ins", ")", "\n", "\n", "if_open", "=", "1", "\n", "\n", "global", "k", "\n", "\n", "op_h5file", "=", "h5", ".", "File", "(", "path", ",", "'r'", ")", "\n", "global", "allcluster", ",", "allcluster_num", ",", "direc", ",", "rect2", ",", "rect1", ",", "sub_rel_ob", ",", "sub_rel_ob_attri", "\n", "allcluster", "=", "op_h5file", "[", "'allcluster'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "allcluster_num", "=", "op_h5file", "[", "'allcluster_num'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "direc", "=", "op_h5file", "[", "'direc'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "rect2", "=", "op_h5file", "[", "'rect2'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "rect1", "=", "op_h5file", "[", "'rect1'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "sub_rel_ob", "=", "op_h5file", "[", "'sub_rel_ob'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "sub_rel_ob_attri", "=", "op_h5file", "[", "'sub_rel_ob_attri'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "\n", "global", "renum", ",", "renum2", "\n", "for", "i", "in", "range", "(", "len", "(", "rect1", ")", ")", ":", "\n", "        ", "renum", "=", "renum", "+", "1", "\n", "renum2", "=", "renum2", "+", "1", "\n", "c", "=", "[", "\"region-\"", ",", "str", "(", "i", "+", "1", ")", ",", "\",(\"", ",", "str", "(", "rect1", "[", "i", "]", "[", "0", "]", ")", ",", "\",\"", ",", "str", "(", "rect1", "[", "i", "]", "[", "1", "]", ")", ",", "\"),(\"", ",", "str", "(", "rect2", "[", "i", "]", "[", "0", "]", ")", ",", "\n", "\",\"", ",", "str", "(", "rect2", "[", "i", "]", "[", "1", "]", ")", ",", "\")\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "region_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "bt_region", ".", "set", "(", "\"Enter a region\"", ")", "\n", "\n", "\n", "\n", "", "annoedclu", ".", "insert", "(", "\"end\"", ",", "\"(Create a new cluster)\"", ")", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"(Create a new relationship)\"", ")", "\n", "reco_rel", ".", "insert", "(", "\"end\"", ",", "\"----Recommended----\"", ")", "\n", "\n", "global", "v2int", ",", "v22int", "\n", "v2int", "=", "1", "\n", "v22int", "=", "1", "\n", "v", ".", "set", "(", "1", ")", "\n", "v22", ".", "set", "(", "1", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "img_back", "\n", "im", "=", "Image", ".", "open", "(", "path_ori", ")", "\n", "pix", "=", "im", ".", "load", "(", ")", "#", "\n", "width", "=", "im", ".", "size", "[", "0", "]", "\n", "height", "=", "im", ".", "size", "[", "1", "]", "\n", "imnew", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew", "=", "imnew", ".", "load", "(", ")", "#", "\n", "\n", "im2", "=", "Image", ".", "open", "(", "path_ins", ")", "#", "\n", "pix2", "=", "im2", ".", "load", "(", ")", "#", "\n", "width2", "=", "im2", ".", "size", "[", "0", "]", "\n", "height2", "=", "im2", ".", "size", "[", "1", "]", "\n", "imnew2", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width2", "//", "k", ",", "height2", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew2", "=", "imnew2", ".", "load", "(", ")", "#", "\n", "\n", "im3", "=", "Image", ".", "open", "(", "path_stuff", ")", "#", "\n", "pix3", "=", "im3", ".", "load", "(", ")", "#", "\n", "width3", "=", "im3", ".", "size", "[", "0", "]", "\n", "height3", "=", "im3", ".", "size", "[", "1", "]", "\n", "imnew3", "=", "Image", ".", "new", "(", "'RGB'", ",", "(", "width3", "//", "k", ",", "height3", "//", "k", ")", ",", "\"red\"", ")", "\n", "pixnew3", "=", "imnew3", ".", "load", "(", ")", "#", "\n", "\n", "for", "x", "in", "range", "(", "width", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew", "[", "x", ",", "y", "]", "=", "pix", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width2", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height2", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew2", "[", "x", ",", "y", "]", "=", "pix2", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "for", "x", "in", "range", "(", "width3", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height3", "//", "k", ")", ":", "# 1024", "\n", "            ", "pixnew3", "[", "x", ",", "y", "]", "=", "pix3", "[", "x", "*", "k", ",", "y", "*", "k", "]", "\n", "\n", "", "", "img1", "=", "imnew", ".", "convert", "(", "'RGBA'", ")", "\n", "img2", "=", "imnew2", ".", "convert", "(", "'RGBA'", ")", "\n", "img", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.3", ")", "\n", "img_back", "=", "Image", ".", "blend", "(", "img1", ",", "img2", ",", "0.8", ")", "\n", "\n", "img", ".", "save", "(", "'img.png'", ")", "\n", "imnew", ".", "save", "(", "'imnew.png'", ")", "\n", "imnew2", ".", "save", "(", "'imnew2.png'", ")", "\n", "imnew3", ".", "save", "(", "'imnew3.png'", ")", "\n", "\n", "global", "insid", "\n", "global", "ins_to_stuff", "\n", "insid", ",", "ins_to_stuff", "=", "encoding", "(", "stuff", ",", "ins", ")", "\n", "global", "rect", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "img", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "sg_image", "=", "Image", ".", "open", "(", "'anewsg.gv.png'", ")", "\n", "sg_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sg_image", ")", "\n", "sg_box", ".", "x", "=", "sg_photo", "\n", "sg_box", "[", "'image'", "]", "=", "sg_photo", "\n", "sg_box", ".", "state", "=", "\"on\"", "\n", "sg_box", ".", "pack", "(", ")", "\n", "\n", "#", "\n", "global", "insid_cluster", ",", "ins_to_stuff_cluster", "\n", "insid_cluster", "=", "copy", ".", "deepcopy", "(", "insid", ")", "\n", "ins_to_stuff_cluster", "=", "copy", ".", "deepcopy", "(", "ins_to_stuff", ")", "\n", "\n", "\n", "if", "(", "os", ".", "path", ".", "exists", "(", "\"motif_attr.h5\"", ")", "==", "False", ")", ":", "\n", "        ", "f", "=", "h5", ".", "File", "(", "'motif_attr.h5'", ",", "'w'", ")", "\n", "f", ".", "create_dataset", "(", "'motif_attr'", ",", "data", "=", "[", "]", ")", "\n", "f", ".", "create_dataset", "(", "'motif_attr_attr'", ",", "data", "=", "[", "]", ")", "\n", "\n", "", "motif_attr", "=", "h5", ".", "File", "(", "\"motif_attr.h5\"", ",", "'r'", ")", "\n", "global", "m_a", ",", "m_a_a", "\n", "m_a", "=", "motif_attr", "[", "'motif_attr'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "m_a_a", "=", "motif_attr", "[", "'motif_attr_attr'", "]", "[", ":", "]", ".", "tolist", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.save_file": [[365, 402], ["h5py.File", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "range", "h5.File.create_dataset", "h5.File.create_dataset", "h5.File.create_dataset", "graphviz.Digraph", "graphviz.Source.from_file", "Source.from_file.render", "Source.from_file.render", "h5py.File", "h5.File.create_dataset", "h5.File.create_dataset", "len", "len_a.append", "len", "file_name.split"], "function", ["None"], ["", "def", "save_file", "(", ")", ":", "\n", "    ", "global", "sub_rel_ob", ",", "ins_to_stuff_cluster", ",", "ins_to_stuff", ",", "insid_cluster", ",", "insid", ",", "rect1", ",", "rect2", ",", "sub_rel_ob_attri", ",", "allcluster", ",", "direc", "\n", "\n", "#print(\"sub_rel_ob:\")", "\n", "#print(sub_rel_ob)", "\n", "#print(\"ins_to_stuff:\")", "\n", "#print(ins_to_stuff)", "\n", "global", "file_name", "\n", "global", "oripicnum", "\n", "f", "=", "h5", ".", "File", "(", "'.\\\\'", "+", "''", ".", "join", "(", "[", "file_name", ".", "split", "(", "'.'", ")", "[", "0", "]", ",", "'.h5'", "]", ")", ",", "'w'", ")", "\n", "f", ".", "create_dataset", "(", "'sub_rel_ob'", ",", "data", "=", "sub_rel_ob", ")", "\n", "f", ".", "create_dataset", "(", "'sub_rel_ob_attri'", ",", "data", "=", "sub_rel_ob_attri", ")", "\n", "f", ".", "create_dataset", "(", "'ins_to_stuff'", ",", "data", "=", "ins_to_stuff", ")", "\n", "f", ".", "create_dataset", "(", "'ins_to_stuff_cluster'", ",", "data", "=", "ins_to_stuff_cluster", ")", "\n", "f", ".", "create_dataset", "(", "'insid'", ",", "data", "=", "insid", ")", "\n", "f", ".", "create_dataset", "(", "'insid_cluster'", ",", "data", "=", "insid_cluster", ")", "\n", "f", ".", "create_dataset", "(", "'rect1'", ",", "data", "=", "rect1", ")", "\n", "f", ".", "create_dataset", "(", "'rect2'", ",", "data", "=", "rect2", ")", "\n", "a", "=", "[", "j", "for", "i", "in", "allcluster", "for", "j", "in", "i", "]", "\n", "len_a", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "len", "(", "allcluster", ")", ")", ":", "\n", "        ", "len_a", ".", "append", "(", "len", "(", "allcluster", "[", "i", "]", ")", ")", "\n", "", "f", ".", "create_dataset", "(", "'allcluster_num'", ",", "data", "=", "len_a", ")", "\n", "f", ".", "create_dataset", "(", "'allcluster'", ",", "data", "=", "a", ")", "\n", "f", ".", "create_dataset", "(", "'direc'", ",", "data", "=", "direc", ")", "\n", "scene_graph_save", "=", "Digraph", "(", "comment", "=", "'Scene Graph'", ",", "format", "=", "'png'", ",", "engine", "=", "'fdp'", ")", "\n", "scene_graph_save", "=", "Source", ".", "from_file", "(", "'alala.gv'", ")", "\n", "scene_graph_save", ".", "render", "(", "''", ".", "join", "(", "[", "file_name", ",", "'.gv'", "]", ")", ",", "view", "=", "False", ")", "\n", "scene_graph_save", ".", "render", "(", "''", ".", "join", "(", "[", "file_name", ",", "'.gv'", "]", ")", ",", "format", "=", "'png'", ",", "view", "=", "False", ")", "\n", "\n", "fma", "=", "h5", ".", "File", "(", "'.\\\\motif_attr.h5'", ",", "'w'", ")", "\n", "global", "new_m_a", ",", "m_a", ",", "new_m_a_a", ",", "m_a_a", "\n", "\n", "out_m_a", "=", "new_m_a", "+", "m_a", "\n", "out_m_a_a", "=", "new_m_a_a", "+", "m_a_a", "\n", "fma", ".", "create_dataset", "(", "'motif_attr'", ",", "data", "=", "out_m_a", ")", "\n", "fma", ".", "create_dataset", "(", "'motif_attr_attr'", ",", "data", "=", "out_m_a_a", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.show_me_sgimage": [[406, 465], ["graphviz.Digraph", "graphviz.Digraph.render", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "sg_box.pack", "max", "sg_image.resize.resize", "graphviz.Digraph.node", "graphviz.Digraph.edge", "graphviz.Digraph.edge", "int", "int", "int", "int", "mylis.append", "graphviz.Digraph.node", "mylis.append", "graphviz.Digraph.node", "int", "int", "int"], "function", ["None"], ["", "def", "show_me_sgimage", "(", ")", ":", "\n", "    ", "scene_graph", "=", "Digraph", "(", "comment", "=", "'Scene Graph'", ",", "format", "=", "'png'", ",", "engine", "=", "'fdp'", ")", "\n", "\n", "global", "sub_rel_ob", ",", "ins_to_stuff", "\n", "\n", "\n", "mylis", "=", "[", "]", "\n", "k", "=", "-", "1", "\n", "\n", "for", "i", "in", "sub_rel_ob", ":", "\n", "        ", "if", "i", "!=", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ":", "\n", "            ", "xx", "=", "(", "int", "(", "i", "[", "0", "]", ")", ",", "id2label", "[", "\n", "ins_to_stuff", "[", "int", "(", "i", "[", "0", "]", ")", "]", "[", "1", "]", "]", ".", "name", ")", "\n", "yy", "=", "(", "int", "(", "i", "[", "2", "]", ")", ",", "id2label", "[", "ins_to_stuff", "[", "int", "(", "i", "[", "2", "]", ")", "]", "[", "1", "]", "]", ".", "name", ")", "\n", "\n", "if", "(", "xx", "[", "0", "]", "not", "in", "mylis", ")", ":", "\n", "                ", "mylis", ".", "append", "(", "xx", "[", "0", "]", ")", "\n", "point_name", "=", "xx", "[", "0", "]", "\n", "point_context", "=", "xx", "[", "1", "]", "\n", "scene_graph", ".", "node", "(", "'%s%s'", "%", "(", "'gt_boxes'", ",", "point_name", ")", ",", "'%s%s%s'", "%", "(", "point_name", ",", "\"-\"", ",", "point_context", ")", ",", "\n", "color", "=", "\"#000000\"", ",", "fillcolor", "=", "\"#f5d0e1\"", ",", "fontcolor", "=", "\"#000000\"", ",", "shape", "=", "\"box\"", ",", "style", "=", "\"filled\"", ")", "\n", "\n", "", "k", "=", "k", "+", "1", "\n", "\n", "scene_graph", ".", "node", "(", "'%s%s'", "%", "(", "'gt_rels'", ",", "k", ")", ",", "rel_list_all", "[", "int", "(", "i", "[", "1", "]", ")", "]", ",", "color", "=", "\"#000000\"", ",", "fillcolor", "=", "\"#c9fcd3\"", ",", "\n", "fontcolor", "=", "\"#000000\"", ",", "style", "=", "\"filled\"", ")", "\n", "\n", "scene_graph", ".", "edge", "(", "'%s%s'", "%", "(", "'gt_boxes'", ",", "xx", "[", "0", "]", ")", ",", "'%s%s'", "%", "(", "'gt_rels'", ",", "k", ")", ",", "color", "=", "\"#000000\"", ")", "\n", "if", "(", "yy", "[", "0", "]", "not", "in", "mylis", ")", ":", "# \u770b\u4e00\u4e0b\u8282\u70b91\u6709\u4e86\u6ca1\uff0c\u5982\u679c\u6ca1\u6709\u5219\u751f\u6210", "\n", "                ", "mylis", ".", "append", "(", "yy", "[", "0", "]", ")", "\n", "point_name", "=", "yy", "[", "0", "]", "\n", "point_context", "=", "yy", "[", "1", "]", "\n", "scene_graph", ".", "node", "(", "'%s%s'", "%", "(", "'gt_boxes'", ",", "point_name", ")", ",", "'%s%s%s'", "%", "(", "point_name", ",", "\"-\"", ",", "point_context", ")", ",", "\n", "color", "=", "\"#000000\"", ",", "fillcolor", "=", "\"#f5d0e1\"", ",", "fontcolor", "=", "\"#000000\"", ",", "shape", "=", "\"box\"", ",", "style", "=", "\"filled\"", ")", "\n", "", "scene_graph", ".", "edge", "(", "'%s%s'", "%", "(", "'gt_rels'", ",", "k", ")", ",", "'%s%s'", "%", "(", "'gt_boxes'", ",", "yy", "[", "0", "]", ")", ",", "color", "=", "\"#000000\"", ")", "\n", "\n", "", "", "scene_graph", ".", "render", "(", "\"alala.gv\"", ",", "view", "=", "False", ")", "\n", "\n", "\n", "sg_image", "=", "Image", ".", "open", "(", "'alala.gv.png'", ")", "\n", "\n", "width", "=", "sg_image", ".", "size", "[", "0", "]", "\n", "height", "=", "sg_image", ".", "size", "[", "1", "]", "\n", "global", "w", ",", "h", "\n", "#print(\"wh\",width,height)", "\n", "if", "(", "width", ">", "(", "w", "-", "100", ")", ")", "or", "(", "height", ">", "(", "h", "-", "100", ")", ")", ":", "\n", "        ", "k", "=", "max", "(", "width", "/", "(", "w", "-", "100", ")", ",", "height", "/", "(", "h", "-", "100", ")", ")", "\n", "#print(\"k\",k)", "\n", "target_size", "=", "(", "int", "(", "width", "/", "k", ")", ",", "int", "(", "height", "/", "k", ")", ")", "\n", "#print(\"ts\", target_size)", "\n", "sg_image", "=", "sg_image", ".", "resize", "(", "target_size", ")", "\n", "\n", "\n", "", "sg_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sg_image", ")", "\n", "\n", "sg_box", ".", "x", "=", "sg_photo", "\n", "sg_box", "[", "'image'", "]", "=", "sg_photo", "\n", "sg_box", ".", "state", "=", "\"on\"", "\n", "sg_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.howto_help": [[466, 472], ["tkinter.Toplevel", "tk.Toplevel.title", "tk.Toplevel.geometry", "tkinter.Label", "tk.Label.pack"], "function", ["None"], ["", "def", "howto_help", "(", ")", ":", "\n", "    ", "window3", "=", "tk", ".", "Toplevel", "(", ")", "\n", "window3", ".", "title", "(", "'How to Annotate'", ")", "\n", "window3", ".", "geometry", "(", "'800x300'", ")", "\n", "howto", "=", "tk", ".", "Label", "(", "window3", ",", "text", "=", "'Select subject : Leftmouse click\\n\\n Select object : Shift + Leftmouse click\\n\\n Select the appropriate relationship and click \"Enter\" to confirm \\n\\nSelect region : Leftmouse dragging \\n\\nAnnotate the attribute : Ctrl + Leftmouse click You can watch the demo video.'", ")", "\n", "howto", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.about_help": [[473, 485], ["tkinter.Toplevel", "tk.Toplevel.title", "tk.Toplevel.geometry", "tkinter.Label", "tkinter.Text", "tk.Text.insert", "tk.Text.config", "tk.Label.pack", "tk.Text.pack", "tkinter.Label", "tk.Label.pack"], "function", ["None"], ["", "def", "about_help", "(", ")", ":", "\n", "    ", "window4", "=", "tk", ".", "Toplevel", "(", ")", "\n", "window4", ".", "title", "(", "'About us'", ")", "\n", "window4", ".", "geometry", "(", "'700x300'", ")", "\n", "aboutus", "=", "tk", ".", "Label", "(", "window4", ",", "text", "=", "\"Our github:\"", ")", "\n", "em", "=", "tk", ".", "Text", "(", "window4", ",", "width", "=", "90", ",", "height", "=", "1", ")", "\n", "em", ".", "insert", "(", "'end'", ",", "\"https://github.com/Milomilo0320/A-Semi-automatic-Annotation-Software-for-Scene-Graph\"", ")", "\n", "em", ".", "config", "(", "state", "=", "'disabled'", ")", "\n", "aboutus", ".", "pack", "(", ")", "\n", "em", ".", "pack", "(", ")", "\n", "aboutus2", "=", "tk", ".", "Label", "(", "window4", ",", "text", "=", "\"\\n Email:zxzhang970320@163.com\"", ")", "\n", "aboutus2", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func1": [[490, 505], ["main.color_for_subnob", "main.play_func12", "main.play_func22", "main.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "def", "play_func1", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "1", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func2": [[507, 522], ["main.color_for_subnob", "main.play_func12", "main.play_func22", "main.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "", "def", "play_func2", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "2", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func3": [[524, 539], ["main.color_for_subnob", "main.play_func12", "main.play_func22", "main.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "", "def", "play_func3", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "3", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func4": [[541, 555], ["main.color_for_subnob", "main.play_func12", "main.play_func22", "main.play_func32"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32"], ["", "", "def", "play_func4", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v2int", "\n", "v2int", "=", "4", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "\n", "global", "v22int", "\n", "if", "v22int", "==", "1", ":", "\n", "        ", "play_func12", "(", ")", "\n", "", "if", "v22int", "==", "2", ":", "\n", "        ", "play_func22", "(", ")", "\n", "", "if", "v22int", "==", "3", ":", "\n", "        ", "play_func32", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func12": [[559, 585], ["cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.rectangle", "int", "int", "int", "int"], "function", ["None"], ["", "", "def", "play_func12", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", "\n", "v22int", "=", "1", "\n", "global", "rect1", ",", "rect2", ",", "renum", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "global", "focus_region", "\n", "if", "rect1", "!=", "[", "]", "and", "rect2", "!=", "[", "]", ":", "\n", "        ", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1", "[", "int", "(", "focus_region", ")", "]", "[", "0", "]", ",", "rect1", "[", "int", "(", "focus_region", ")", "]", "[", "1", "]", ")", ",", "\n", "(", "rect2", "[", "int", "(", "focus_region", ")", "]", "[", "0", "]", ",", "rect2", "[", "int", "(", "focus_region", ")", "]", "[", "1", "]", ")", ",", "(", "0", ",", "255", ",", "255", ")", ",", "2", ")", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func22": [[587, 611], ["range", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.rectangle"], "function", ["None"], ["", "def", "play_func22", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", "\n", "v22int", "=", "2", "\n", "global", "rect1", ",", "rect2", ",", "renum", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "for", "i", "in", "range", "(", "renum", ")", ":", "\n", "        ", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1", "[", "i", "]", "[", "0", "]", ",", "rect1", "[", "i", "]", "[", "1", "]", ")", ",", "(", "rect2", "[", "i", "]", "[", "0", "]", ",", "rect2", "[", "i", "]", "[", "1", "]", ")", ",", "(", "0", ",", "255", ",", "255", ")", ",", "2", ")", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.play_func32": [[614, 636], ["cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread"], "function", ["None"], ["", "def", "play_func32", "(", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", "\n", "v22int", "=", "3", "\n", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.small_label": [[638, 641], ["None"], "function", ["None"], ["", "def", "small_label", "(", "self", ")", ":", "\n", "#print(rel_list_all)", "\n", "    ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2": [[643, 665], ["Image.new.load", "opic.convert", "opic.convert.load", "imnew.convert", "imnew.convert.load", "range", "PIL.Image.blend", "PIL.Image.new", "PIL.Image.new", "PIL.Image.new", "range"], "function", ["None"], ["", "def", "q_dpic2", "(", "opic", ",", "idnum", ",", "mycolor", ")", ":", "\n", "\n", "    ", "global", "insid", ",", "width", ",", "height", ",", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "insid_cluster", "\n", "if", "mycolor", "==", "0", ":", "\n", "        ", "dpic_mini", "=", "Image", ".", "new", "(", "'RGBA'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"red\"", ")", "\n", "", "if", "mycolor", "==", "1", ":", "\n", "        ", "dpic_mini", "=", "Image", ".", "new", "(", "'RGBA'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"blue\"", ")", "\n", "", "if", "mycolor", "==", "2", ":", "\n", "        ", "dpic_mini", "=", "Image", ".", "new", "(", "'RGBA'", ",", "(", "width", "//", "k", ",", "height", "//", "k", ")", ",", "\"yellow\"", ")", "\n", "", "pixdpic_mini", "=", "dpic_mini", ".", "load", "(", ")", "\n", "opic_rgba", "=", "opic", ".", "convert", "(", "'RGBA'", ")", "\n", "pixopic", "=", "opic_rgba", ".", "load", "(", ")", "\n", "imnew_rgba", "=", "imnew", ".", "convert", "(", "'RGBA'", ")", "#", "\n", "piximnew", "=", "imnew_rgba", ".", "load", "(", ")", "#", "\n", "for", "x", "in", "range", "(", "width", "//", "k", ")", ":", "# 2048", "\n", "        ", "for", "y", "in", "range", "(", "height", "//", "k", ")", ":", "# 1024", "\n", "            ", "if", "insid_cluster", "[", "y", "*", "k", ",", "x", "*", "k", "]", "!=", "idnum", ":", "#", "\n", "                ", "pixdpic_mini", "[", "x", ",", "y", "]", "=", "pixopic", "[", "x", ",", "y", "]", "\n", "", "else", ":", "\n", "                ", "pixopic", "[", "x", ",", "y", "]", "=", "piximnew", "[", "x", ",", "y", "]", "\n", "", "", "", "bl_img", "=", "Image", ".", "blend", "(", "opic_rgba", ",", "dpic_mini", ",", "0.4", ")", "\n", "return", "bl_img", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob": [[667, 685], ["main.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "main.q_dpic2", "PIL.ImageTk.PhotoImage"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2"], ["", "def", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", ":", "\n", "    ", "if", "v2int", "==", "1", ":", "\n", "        ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "myimg", "=", "imnew3", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "sub_id", ",", "0", ")", "#", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "#", "\n", "if", "ob_id", "!=", "-", "1", ":", "\n", "        ", "sub_img2", "=", "q_dpic2", "(", "sub_img", ",", "ob_id", ",", "1", ")", "\n", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img2", ")", "\n", "", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_sub": [[688, 735], ["main.q_ori", "main.q_id", "name_sub.set", "name_ob.set", "name_rel.set", "main.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "select_cluster.append", "cluster_list.insert", "str", "str", "str", "main.q_label", "int", "int", "main.q_label"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label"], ["", "def", "select_sub", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "x", ",", "y", "=", "q_ori", "(", "event", ".", "x", ",", "event", ".", "y", ")", "\n", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", ",", "name_rel", "\n", "\n", "sub_id", "=", "q_id", "(", "x", ",", "y", ")", "\n", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", ")", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_sub_str", "=", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", "\n", "name_ob_str", "=", "\"There is ob\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "ob_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", ",", "select_cluster", "\n", "global", "if_select_cluster", "\n", "if_select_cluster", "=", "False", "\n", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "myimg", "=", "imnew3", "\n", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "sub_id", ",", "0", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "if", "if_start_cluster", "==", "True", ":", "\n", "        ", "select_cluster", ".", "append", "(", "sub_id", ")", "\n", "c", "=", "[", "str", "(", "int", "(", "sub_id", ")", ")", ",", "\"-\"", ",", "name_sub_str", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "cluster_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_direc": [[737, 776], ["main.q_ori", "main.q_id", "name_sub.set", "name_ob.set", "name_rel.set", "main.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "str", "str", "main.q_label", "int", "main.q_label"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label"], ["", "def", "select_direc", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "x", ",", "y", "=", "q_ori", "(", "event", ".", "x", ",", "event", ".", "y", ")", "\n", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", ",", "name_rel", "\n", "sub_id", "=", "q_id", "(", "x", ",", "y", ")", "\n", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", ")", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_sub_str", "=", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", "\n", "name_ob_str", "=", "\"There is ob\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "ob_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", ",", "select_cluster", "\n", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "myimg", "=", "imnew3", "\n", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "sub_id", ",", "2", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "\n", "f_text", ".", "set", "(", "\"  \u2191  \"", ")", "\n", "b_text", ".", "set", "(", "\"  \u2193  \"", ")", "\n", "l_text", ".", "set", "(", "\"  \u2190  \"", ")", "\n", "r_text", ".", "set", "(", "\"  \u2192  \"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_rel_list_now": [[781, 825], ["rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append", "rel_list_now.append", "rel_list_now_id.append"], "function", ["None"], ["", "def", "q_rel_list_now", "(", "a", ",", "b", ")", ":", "\n", "    ", "rel_list_now", "=", "[", "]", "\n", "global", "rel_list_now_id", "\n", "rel_list_now_id", "=", "[", "]", "\n", "rel_list_now_type", "=", "rel_list_layer", "[", "(", "a", "-", "1", ")", "*", "5", "+", "(", "b", "-", "1", ")", "]", "\n", "\n", "for", "i", "in", "rel_list_now_type", ":", "\n", "        ", "if", "i", "==", "\"s\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Spatial----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_s", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"p\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Preposition----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_p", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"v\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Verb----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_v", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"a\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Area----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_a", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"o\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Occlusion----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_o", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "if", "i", "==", "\"l\"", ":", "\n", "            ", "rel_list_now", ".", "append", "(", "\"----Link----\"", ")", "\n", "rel_list_now_id", ".", "append", "(", "-", "1", ")", "\n", "for", "j", "in", "rel_l", ":", "\n", "                ", "rel_list_now", ".", "append", "(", "j", "[", "1", "]", ")", "\n", "rel_list_now_id", ".", "append", "(", "j", "[", "0", "]", ")", "\n", "", "", "", "return", "rel_list_now", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel": [[827, 832], ["main.q_rel_list_now", "now_rel.delete", "main.q_layer", "main.q_layer", "now_rel.insert"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_rel_list_now", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_layer", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_layer"], ["", "def", "popup_rel", "(", "sub_id", ",", "ob_id", ")", ":", "\n", "    ", "rel_list_now", "=", "q_rel_list_now", "(", "q_layer", "(", "sub_id", ")", ",", "q_layer", "(", "ob_id", ")", ")", "\n", "now_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "for", "i", "in", "rel_list_now", ":", "\n", "        ", "now_rel", ".", "insert", "(", "\"end\"", ",", "i", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_ob": [[834, 856], ["main.q_ori", "main.q_id", "name_ob.set", "name_rel.set", "main.popup_rel", "main.Recommend", "main.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "str", "str", "main.q_label", "str", "str", "int", "int", "int", "main.q_label", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_id", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.Recommend", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_label"], ["", "", "def", "select_ob", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "ob_id", ",", "sub_id", ",", "rel_id", ",", "name_ob_str", ",", "name_rel_str", ",", "name_rel", ",", "name_ob", "\n", "if", "sub_id", "!=", "-", "1", ":", "\n", "        ", "x", ",", "y", "=", "q_ori", "(", "event", ".", "x", ",", "event", ".", "y", ")", "\n", "ob_id", "=", "q_id", "(", "x", ",", "y", ")", "\n", "name_ob", ".", "set", "(", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", ")", ")", "\n", "name_ob_str", "=", "id2label", "[", "q_label", "(", "x", ",", "y", ")", "]", ".", "name", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "rel_id", "=", "-", "1", "\n", "popup_rel", "(", "sub_id", ",", "ob_id", ")", "\n", "Recommend", "(", "m_a", ",", "m_a_a", ",", "''", ".", "join", "(", "[", "str", "(", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", ")", ",", "'-'", ",", "str", "(", "int", "(", "ins_to_stuff", "[", "int", "(", "ob_id", ")", "]", "[", "1", "]", ")", ")", "]", ")", ",", "5", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", "\n", "\n", "sub_img2", "=", "q_dpic2", "(", "sub_img", ",", "ob_id", ",", "1", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img2", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.certainrel": [[859, 962], ["main.attri_attach", "main.show_me_sgimage", "reco_rel.delete", "anno_rel.delete", "anno_rel.insert", "bt_text.set", "dele_text.set", "sub_rel_ob.append", "sub_rel_ob_attri.append", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "int", "anno_rel.insert", "sub_rel_ob.append", "main.attri_attach", "sub_rel_ob_attri.append", "sub_rel_ob.insert", "sub_rel_ob_attri.insert", "anno_rel.insert", "bt_text.set", "dele_text.set", "auto_rel.delete", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "anno_rel.delete", "anno_rel.insert", "sub_rel_ob.insert", "sub_rel_ob_attri.insert", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "anno_rel.insert", "bt_text.set", "dele_text.set", "sub_rel_ob.append", "sub_rel_ob_attri.append", "int", "int", "int", "int", "int", "str", "int", "str", "int", "str", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.attri_attach", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.show_me_sgimage", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.attri_attach"], ["", "", "def", "certainrel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "sub_rel_ob", ",", "sub_rel_ob_attri", "\n", "global", "ob_id", ",", "sub_id", ",", "rel_id", ",", "sub_rel_ob", "\n", "global", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", ",", "name_sub", ",", "name_ob", ",", "name_rel", "\n", "a", "=", "[", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "]", "\n", "b", "=", "\"-\"", "\n", "c", "=", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "name_sub_str", "+", "\"  ---\"", "+", "name_rel_str", "+", "\"---  \"", "+", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "name_ob_str", "\n", "\n", "global", "anno_num", ",", "anno_index", ",", "auto_index", "\n", "global", "region_rel_list", ",", "recoid", "\n", "newattri1", ",", "newattri2", ",", "newattri3", "=", "attri_attach", "(", "sub_id", ",", "ob_id", ")", "\n", "global", "if_select_cluster", "\n", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "\n", "        ", "anno_rel", ".", "delete", "(", "int", "(", "anno_index", ")", ")", "\n", "del", "sub_rel_ob", "[", "int", "(", "anno_index", ")", "]", "\n", "del", "sub_rel_ob_attri", "[", "int", "(", "anno_index", ")", "]", "\n", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "c2", "=", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "name_sub_str", "+", "\"  ---\"", "+", "name_rel_str", "+", "\"---  \"", "+", "str", "(", "\n", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "name_ob_str", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "c2", ")", "\n", "\n", "sub_rel_ob", ".", "append", "(", "[", "int", "(", "i", ")", ",", "rel_id", ",", "ob_id", "]", ")", "\n", "newattri12", ",", "newattri22", ",", "newattri32", "=", "attri_attach", "(", "int", "(", "i", ")", ",", "ob_id", ")", "\n", "sub_rel_ob_attri", ".", "append", "(", "[", "newattri12", ",", "newattri22", ",", "newattri32", "]", ")", "\n", "anno_num", "=", "anno_num", "+", "1", "\n", "", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"(Create a new relationship)\"", ")", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "sub_rel_ob", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "sub_rel_ob_attri", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "anno_index", "=", "anno_num", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "\n", "", "else", ":", "\n", "\n", "        ", "if", "anno_index", "==", "-", "1", "and", "auto_index", "!=", "-", "1", ":", "\n", "\n", "            ", "sub_rel_ob", ".", "insert", "(", "int", "(", "anno_num", ")", ",", "[", "sub_id", ",", "rel_id", ",", "ob_id", "]", ")", "\n", "sub_rel_ob_attri", ".", "insert", "(", "int", "(", "anno_num", ")", ",", "[", "newattri1", ",", "newattri2", ",", "newattri3", "]", ")", "\n", "anno_rel", ".", "insert", "(", "int", "(", "anno_num", ")", ",", "c", ")", "\n", "anno_num", "=", "anno_num", "+", "1", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "\n", "del", "region_rel_list", "[", "int", "(", "auto_index", ")", "]", "\n", "auto_rel", ".", "delete", "(", "int", "(", "auto_index", ")", ")", "\n", "\n", "anno_index", "=", "anno_num", "\n", "auto_index", "=", "-", "1", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "\n", "\n", "", "else", ":", "\n", "\n", "            ", "anno_rel", ".", "delete", "(", "int", "(", "anno_index", ")", ")", "\n", "anno_rel", ".", "insert", "(", "int", "(", "anno_index", ")", ",", "c", ")", "\n", "\n", "del", "sub_rel_ob", "[", "int", "(", "anno_index", ")", "]", "\n", "del", "sub_rel_ob_attri", "[", "int", "(", "anno_index", ")", "]", "\n", "sub_rel_ob", ".", "insert", "(", "int", "(", "anno_index", ")", ",", "[", "sub_id", ",", "rel_id", ",", "ob_id", "]", ")", "\n", "sub_rel_ob_attri", ".", "insert", "(", "int", "(", "anno_index", ")", ",", "[", "newattri1", ",", "newattri2", ",", "newattri3", "]", ")", "\n", "if", "anno_index", "==", "anno_num", ":", "\n", "                ", "anno_num", "=", "anno_num", "+", "1", "\n", "anno_rel", ".", "insert", "(", "\"end\"", ",", "\"(Create a new relationship)\"", ")", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "sub_rel_ob", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "sub_rel_ob_attri", ".", "append", "(", "[", "-", "1", ",", "-", "1", ",", "-", "1", "]", ")", "\n", "", "anno_index", "=", "anno_num", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "", "", "show_me_sgimage", "(", ")", "\n", "#print(sub_rel_ob)", "\n", "#print(sub_rel_ob_attri)", "\n", "reco_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "recoid", "=", "[", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_rel": [[963, 975], ["now_rel.curselection", "now_rel.get", "name_rel.set", "now_rel.curselection", "int", "int", "now_rel.curselection", "now_rel.curselection"], "function", ["None"], ["", "def", "select_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "name_rel_str", ",", "rel_id", "\n", "\n", "if", "(", "now_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "if", "(", "rel_list_now_id", "[", "int", "(", "now_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "]", "!=", "-", "1", ")", ":", "\n", "\n", "            ", "value", "=", "now_rel", ".", "get", "(", "now_rel", ".", "curselection", "(", ")", ")", "\n", "name_rel", ".", "set", "(", "value", ")", "\n", "name_rel_str", "=", "value", "\n", "rel_id", "=", "rel_list_now_id", "[", "int", "(", "now_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_direc_list": [[976, 999], ["direc_list.curselection", "int", "main.q_dpic2", "PIL.ImageTk.PhotoImage", "image_box.pack", "direc_list.curselection"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_dpic2"], ["", "", "", "def", "select_direc_list", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "name_rel_str", ",", "rel_id", ",", "direc_list_index", "\n", "\n", "if", "(", "direc_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "direc_list_index", "=", "int", "(", "direc_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", ",", "sub_img", "\n", "if", "v2int", "==", "1", ":", "\n", "            ", "myimg", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "            ", "myimg", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "            ", "myimg", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "            ", "myimg", "=", "imnew3", "\n", "\n", "", "sub_img", "=", "q_dpic2", "(", "myimg", ",", "direc", "[", "direc_list_index", "]", "[", "0", "]", ",", "2", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "sub_img", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_anno_rel": [[1001, 1072], ["anno_rel.curselection", "int", "name_sub.set", "name_rel.set", "name_ob.set", "bt_text.set", "dele_text.set", "PIL.ImageTk.PhotoImage", "image_box.pack", "int", "int", "int", "len", "name_sub.set", "name_ob.set", "name_rel.set", "bt_text.set", "dele_text.set", "main.color_for_subnob", "main.popup_rel", "anno_rel.curselection", "int", "int", "str", "str", "str", "int", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel"], ["", "", "def", "select_anno_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "if", "(", "anno_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "\n", "        ", "num", "=", "int", "(", "anno_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "\n", "global", "ins_to_stuff", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", "\n", "\n", "global", "anno_num", ",", "anno_index", ",", "auto_index", "\n", "anno_index", "=", "num", "\n", "auto_index", "=", "-", "1", "\n", "if", "anno_index", "==", "anno_num", ":", "\n", "            ", "sub_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "ob_id", "=", "-", "1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "\n", "global", "imnew", ",", "imnew2", ",", "imnew3", ",", "img", "\n", "if", "v2int", "==", "1", ":", "\n", "                ", "image", "=", "img", "\n", "", "if", "v2int", "==", "2", ":", "\n", "                ", "image", "=", "imnew", "\n", "", "if", "v2int", "==", "3", ":", "\n", "                ", "image", "=", "imnew2", "\n", "", "if", "v2int", "==", "4", ":", "\n", "                ", "image", "=", "imnew3", "\n", "\n", "", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "image", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "", "else", ":", "\n", "            ", "sub_id", "=", "int", "(", "sub_rel_ob", "[", "num", "]", "[", "0", "]", ")", "\n", "rel_id", "=", "int", "(", "sub_rel_ob", "[", "num", "]", "[", "1", "]", ")", "\n", "ob_id", "=", "int", "(", "sub_rel_ob", "[", "num", "]", "[", "2", "]", ")", "\n", "\n", "\n", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "sub_id", ">=", "inslen", ":", "\n", "                ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "sub_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "                ", "subid", "=", "sub_id", "\n", "", "if", "ob_id", ">=", "inslen", ":", "\n", "                ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "ob_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "                ", "obid", "=", "ob_id", "\n", "\n", "", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "name_ob", ".", "set", "(", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "\n", "name_ob_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "\n", "name_rel", ".", "set", "(", "rel_list_all", "[", "rel_id", "]", ")", "\n", "name_rel_str", "=", "rel_list_all", "[", "rel_id", "]", "\n", "bt_text", ".", "set", "(", "\"Update\"", ")", "\n", "dele_text", ".", "set", "(", "\"Delete\"", ")", "\n", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "popup_rel", "(", "subid", ",", "obid", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_reco_rel": [[1073, 1090], ["reco_rel.curselection", "int", "name_rel.set", "name_rel.set", "reco_rel.curselection"], "function", ["None"], ["", "", "", "def", "select_reco_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "if", "(", "reco_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "\n", "        ", "global", "rel_id", ",", "name_rel_str", "\n", "num", "=", "int", "(", "reco_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "rel_id", "=", "recoid", "[", "num", "-", "1", "]", "\n", "#print(\"rel_id\",rel_id)", "\n", "\n", "if", "rel_id", "==", "-", "1", ":", "\n", "            ", "name_rel", ".", "set", "(", "\"NONE\"", ")", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "", "else", ":", "\n", "            ", "name_rel", ".", "set", "(", "rel_list_all", "[", "rel_id", "]", ")", "\n", "name_rel_str", "=", "rel_list_all", "[", "rel_id", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_auto_rel": [[1092, 1146], ["auto_rel.curselection", "int", "int", "int", "int", "len", "name_sub.set", "name_ob.set", "bt_text.set", "dele_text.set", "main.color_for_subnob", "main.popup_rel", "int", "int", "name_rel.set", "name_rel.set", "len", "main.Recommend", "auto_rel.curselection", "str", "str", "str", "int", "str", "int", "int", "int", "str", "str", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.color_for_subnob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.popup_rel", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.Recommend"], ["", "", "", "def", "select_auto_rel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "if", "(", "auto_rel", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "\n", "        ", "num", "=", "int", "(", "auto_rel", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "\n", "global", "ins_to_stuff", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", "\n", "\n", "global", "auto_num", ",", "auto_index", ",", "region_rel_list", ",", "anno_index", "\n", "auto_index", "=", "num", "\n", "anno_index", "=", "-", "1", "\n", "sub_id", "=", "int", "(", "region_rel_list", "[", "num", "]", "[", "0", "]", ")", "\n", "rel_id", "=", "int", "(", "region_rel_list", "[", "num", "]", "[", "5", "]", ")", "\n", "ob_id", "=", "int", "(", "region_rel_list", "[", "num", "]", "[", "2", "]", ")", "\n", "\n", "\n", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "sub_id", ">=", "inslen", ":", "\n", "            ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "sub_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "            ", "subid", "=", "sub_id", "\n", "", "if", "ob_id", ">=", "inslen", ":", "\n", "            ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "ob_id", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "            ", "obid", "=", "ob_id", "\n", "\n", "", "name_sub", ".", "set", "(", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "name_ob", ".", "set", "(", "str", "(", "int", "(", "ob_id", ")", ")", "+", "\":\"", "+", "str", "(", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", ")", ")", "\n", "name_ob_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "\n", "if", "rel_id", "==", "-", "1", ":", "\n", "            ", "name_rel", ".", "set", "(", "\"NONE\"", ")", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "", "else", ":", "\n", "            ", "name_rel", ".", "set", "(", "rel_list_all", "[", "rel_id", "]", ")", "\n", "name_rel_str", "=", "rel_list_all", "[", "rel_id", "]", "\n", "", "bt_text", ".", "set", "(", "\"Update\"", ")", "\n", "dele_text", ".", "set", "(", "\"Delete\"", ")", "\n", "\n", "color_for_subnob", "(", "sub_id", ",", "ob_id", ")", "\n", "popup_rel", "(", "subid", ",", "obid", ")", "\n", "\n", "global", "m_a", ",", "m_a_a", "\n", "if", "len", "(", "m_a", ")", "<", "20", ":", "\n", "#print(\"\u6570\u91cf\u4e0d\u591f\")", "\n", "            ", "pass", "\n", "", "else", ":", "\n", "#print('reccc',[int(ins_to_stuff[subid][1]),int(ins_to_stuff[obid][1])],1)", "\n", "            ", "Recommend", "(", "m_a", ",", "m_a_a", ",", "''", ".", "join", "(", "[", "str", "(", "int", "(", "ins_to_stuff", "[", "subid", "]", "[", "1", "]", ")", ")", ",", "'-'", ",", "str", "(", "int", "(", "ins_to_stuff", "[", "obid", "]", "[", "1", "]", ")", ")", "]", ")", ",", "5", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.delerel": [[1149, 1174], ["anno_rel.delete", "anno_rel.activate", "name_sub.set", "name_rel.set", "name_ob.set", "bt_text.set", "dele_text.set", "main.show_me_sgimage", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.show_me_sgimage"], ["", "", "", "def", "delerel", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "sub_rel_ob", "\n", "global", "anno_num", ",", "anno_index", "\n", "global", "ob_id", ",", "rel_id", ",", "sub_id", ",", "name_ob_str", ",", "name_sub_str", ",", "name_rel_str", "\n", "if", "anno_index", "!=", "anno_num", ":", "\n", "        ", "anno_num", "=", "anno_num", "-", "1", "\n", "anno_rel", ".", "delete", "(", "anno_index", ")", "\n", "del", "sub_rel_ob", "[", "int", "(", "anno_index", ")", "]", "\n", "del", "sub_rel_ob_attri", "[", "int", "(", "anno_index", ")", "]", "\n", "anno_index", "=", "anno_num", "\n", "anno_rel", ".", "activate", "(", "anno_index", ")", "\n", "sub_id", "=", "-", "1", "\n", "rel_id", "=", "-", "1", "\n", "ob_id", "=", "-", "1", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "bt_text", ".", "set", "(", "\"Enter\"", ")", "\n", "dele_text", ".", "set", "(", "\"       \"", ")", "\n", "show_me_sgimage", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_anno": [[1176, 1185], ["bt_anno.set", "bt_anno.set", "start_to"], "function", ["None"], ["", "", "def", "to_anno", "(", "event", ")", ":", "\n", "    ", "global", "bt_anno", ",", "if_region", "\n", "if", "if_region", "==", "0", ":", "\n", "        ", "bt_anno", ".", "set", "(", "\"Start to annotation\"", ")", "\n", "if_region", "=", "1", "\n", "", "else", ":", "\n", "        ", "bt_anno", ".", "set", "(", "\"End to annotation\"", ")", "\n", "if_region", "=", "0", "\n", "start_to", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.start_to1": [[1187, 1195], ["bt_region.set"], "function", ["None"], ["", "", "def", "start_to1", "(", "event", ")", ":", "\n", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect1_temp", "\n", "rect1_temp", "[", "0", "]", "=", "event", ".", "x", "\n", "rect1_temp", "[", "1", "]", "=", "event", ".", "y", "\n", "bt_region", ".", "set", "(", "\"Enter a region\"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.start_to2": [[1196, 1221], ["cv2.rectangle", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread"], "function", ["None"], ["", "def", "start_to2", "(", "event", ")", ":", "\n", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect1_temp", "\n", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1_temp", "[", "0", "]", ",", "rect1_temp", "[", "1", "]", ")", ",", "\n", "(", "event", ".", "x", ",", "event", ".", "y", ")", ",", "(", "0", ",", "127", ",", "255", ")", ",", "2", ")", "\n", "\n", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.start_to3": [[1223, 1230], ["None"], "function", ["None"], ["", "def", "start_to3", "(", "event", ")", ":", "\n", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect2_temp", "\n", "rect2_temp", "[", "0", "]", "=", "event", ".", "x", "\n", "rect2_temp", "[", "1", "]", "=", "event", ".", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_region_enter": [[1231, 1267], ["rect1.append", "rect2.append", "region_list.insert", "bt_region.set", "cv2.rectangle", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "str", "str", "str", "str", "str", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "int"], "function", ["None"], ["", "def", "to_region_enter", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "rect1_temp", ",", "rect2_temp", ",", "renum", ",", "renum2", "\n", "\n", "global", "rect1", ",", "rect2", "\n", "rect1", ".", "append", "(", "[", "rect1_temp", "[", "0", "]", ",", "rect1_temp", "[", "1", "]", "]", ")", "\n", "rect2", ".", "append", "(", "[", "rect2_temp", "[", "0", "]", ",", "rect2_temp", "[", "1", "]", "]", ")", "\n", "renum", "=", "renum", "+", "1", "\n", "renum2", "=", "renum2", "+", "1", "\n", "c", "=", "[", "\"region-\"", ",", "str", "(", "int", "(", "renum2", ")", ")", ",", "\",(\"", ",", "str", "(", "rect1_temp", "[", "0", "]", ")", ",", "\",\"", ",", "str", "(", "rect1_temp", "[", "1", "]", ")", ",", "\"),(\"", ",", "str", "(", "rect2_temp", "[", "0", "]", ")", ",", "\",\"", ",", "str", "(", "rect2_temp", "[", "1", "]", ")", ",", "\")\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "region_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "bt_region", ".", "set", "(", "\"Enter a region\"", ")", "\n", "\n", "global", "v2int", "\n", "if", "v2int", "==", "1", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "        ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1_temp", "[", "0", "]", ",", "rect1_temp", "[", "1", "]", ")", ",", "\n", "(", "rect2_temp", "[", "0", "]", ",", "rect2_temp", "[", "1", "]", ")", ",", "(", "0", ",", "255", ",", "255", ")", ",", "2", ")", "\n", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "rect1_temp", "=", "[", "0", ",", "0", "]", "\n", "rect2_temp", "=", "[", "0", ",", "0", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_region": [[1269, 1298], ["region_list.curselection", "int", "v22.set", "cv2.rectangle", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "region_list.curselection"], "function", ["None"], ["", "def", "select_region", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", ",", "v22", "\n", "global", "renum", ",", "renum2", "\n", "global", "rect1", ",", "rect2", "\n", "if", "(", "region_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "num", "=", "int", "(", "region_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "global", "focus_region", "\n", "focus_region", "=", "num", "\n", "v22int", "=", "1", "\n", "v22", ".", "set", "(", "1", ")", "\n", "global", "v2int", ",", "cs", "\n", "if", "v2int", "==", "1", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "rectangle", "(", "image", ",", "(", "rect1", "[", "num", "]", "[", "0", "]", ",", "rect1", "[", "num", "]", "[", "1", "]", ")", ",", "(", "rect2", "[", "num", "]", "[", "0", "]", ",", "rect2", "[", "num", "]", "[", "1", "]", ")", ",", "(", "0", ",", "255", ",", "255", ")", ",", "2", ")", "\n", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_region_del": [[1299, 1330], ["region_list.curselection", "int", "v22.set", "cv2.imwrite", "PIL.Image.open", "PIL.ImageTk.PhotoImage", "image_box.pack", "region_list.delete", "cv2.imread", "cv2.imread", "cv2.imread", "cv2.imread", "region_list.curselection"], "function", ["None"], ["", "", "def", "to_region_del", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "v22int", ",", "v22", "\n", "global", "renum", ",", "renum2", "\n", "global", "rect1", ",", "rect2", "\n", "if", "(", "region_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "num", "=", "int", "(", "region_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "v22int", "=", "1", "\n", "v22", ".", "set", "(", "1", ")", "\n", "global", "v2int", ",", "cs", "\n", "if", "v2int", "==", "1", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'img.png'", ")", "\n", "", "if", "v2int", "==", "2", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew.png'", ")", "\n", "", "if", "v2int", "==", "3", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew2.png'", ")", "\n", "", "if", "v2int", "==", "4", ":", "\n", "            ", "image", "=", "cv2", ".", "imread", "(", "'imnew3.png'", ")", "\n", "\n", "", "cv2", ".", "imwrite", "(", "'mymytest.png'", ",", "image", ")", "\n", "new", "=", "Image", ".", "open", "(", "'mymytest.png'", ")", "\n", "new_photo", "=", "ImageTk", ".", "PhotoImage", "(", "new", ")", "\n", "image_box", ".", "x", "=", "new_photo", "\n", "image_box", "[", "'image'", "]", "=", "new_photo", "\n", "image_box", ".", "pack", "(", ")", "\n", "\n", "del", "rect1", "[", "num", "]", "\n", "del", "rect2", "[", "num", "]", "\n", "renum", "=", "renum", "-", "1", "\n", "region_list", ".", "delete", "(", "num", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_cluster_enter": [[1331, 1360], ["bt_cluster.set", "cluster_list.delete", "bt_cluster.set", "allcluster.append", "annoedclu.insert", "allcluster.insert", "annoedclu.delete", "annoedclu.insert", "str", "int", "str", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "", "def", "to_cluster_enter", "(", "event", ")", ":", "\n", "    ", "global", "if_start_cluster", ",", "select_cluster", ",", "allcluster", ",", "annoedclu_num", ",", "annoedclu_index", "\n", "if", "(", "if_start_cluster", "==", "True", ")", ":", "\n", "        ", "bt_cluster", ".", "set", "(", "\"Start to annotate cluster\"", ")", "\n", "if_start_cluster", "=", "False", "\n", "if", "annoedclu_index", "==", "annoedclu_num", ":", "\n", "            ", "annoedclu_num", "=", "annoedclu_num", "+", "1", "\n", "allcluster", ".", "append", "(", "select_cluster", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "\"Cluster NO.\"", ",", "str", "(", "int", "(", "annoedclu_num", ")", ")", ",", "\"- \"", ",", "name_sub_str", ",", "\" Class\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "annoedclu", ".", "insert", "(", "annoedclu_num", "-", "1", ",", "mm", ")", "\n", "", "else", ":", "\n", "            ", "del", "allcluster", "[", "int", "(", "annoedclu_index", ")", "]", "\n", "allcluster", ".", "insert", "(", "int", "(", "annoedclu_index", ")", ",", "select_cluster", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "\"Cluster NO.\"", ",", "str", "(", "int", "(", "annoedclu_num", ")", ")", ",", "\"- \"", ",", "name_sub_str", ",", "\" Class\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "annoedclu", ".", "delete", "(", "int", "(", "annoedclu_index", ")", ")", "\n", "annoedclu", ".", "insert", "(", "int", "(", "annoedclu_index", ")", ",", "mm", ")", "\n", "\n", "", "select_cluster", "=", "[", "]", "\n", "cluster_list", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "annoedclu_index", "=", "annoedclu_num", "\n", "\n", "\n", "", "else", ":", "\n", "        ", "bt_cluster", ".", "set", "(", "\"Stop to annotate cluster\"", ")", "\n", "if_start_cluster", "=", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_cluster_list": [[1361, 1373], ["cluster_list.curselection", "int", "cluster_list.curselection"], "function", ["None"], ["", "", "def", "select_cluster_list", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "\n", "", "if", "(", "cluster_list", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "num", "=", "int", "(", "cluster_list", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "\n", "global", "ins_to_stuff", "\n", "\n", "global", "select_cluster", ",", "cluster_list_index", "\n", "\n", "cluster_list_index", "=", "num", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.deleclu": [[1374, 1380], ["cluster_list.delete", "int", "int"], "function", ["None"], ["", "", "def", "deleclu", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "cluster_list_index", ",", "select_cluster", "\n", "del", "select_cluster", "[", "int", "(", "cluster_list_index", ")", "]", "\n", "cluster_list", ".", "delete", "(", "int", "(", "cluster_list_index", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.select_annoedclu": [[1381, 1427], ["annoedclu.curselection", "int", "cluster_list.delete", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "int", "int", "name_sub.set", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "cluster_list.insert", "annoedclu.curselection", "str", "str", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "select_annoedclu", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "if", "(", "annoedclu", ".", "curselection", "(", ")", "!=", "(", ")", ")", ":", "\n", "        ", "num", "=", "int", "(", "annoedclu", ".", "curselection", "(", ")", "[", "0", "]", ")", "\n", "\n", "global", "ins_to_stuff", "\n", "\n", "global", "select_cluster", ",", "annoedclu_index", "\n", "global", "if_select_cluster", "\n", "global", "sub_id", ",", "name_sub_str", "\n", "annoedclu_index", "=", "num", "#0 1", "\n", "\n", "if", "annoedclu_index", "==", "annoedclu_num", ":", "\n", "            ", "select_cluster", "=", "[", "]", "\n", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "if_select_cluster", "=", "False", "\n", "", "else", ":", "\n", "            ", "select_cluster", "=", "allcluster", "[", "num", "]", "\n", "sub_id", "=", "int", "(", "select_cluster", "[", "0", "]", ")", "\n", "sub_id", "=", "int", "(", "select_cluster", "[", "0", "]", ")", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "\n", "\n", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "select_cluster", "[", "0", "]", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "\"Cluster NO.\"", ",", "str", "(", "int", "(", "annoedclu_num", ")", ")", ",", "\"- \"", ",", "name_sub_str", ",", "\" Class\"", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "name_sub", ".", "set", "(", "mm", ")", "\n", "if_select_cluster", "=", "True", "\n", "\n", "f_text", ".", "set", "(", "\"  \u2191  \"", ")", "\n", "b_text", ".", "set", "(", "\"  \u2193  \"", ")", "\n", "l_text", ".", "set", "(", "\"  \u2190  \"", ")", "\n", "r_text", ".", "set", "(", "\"  \u2192  \"", ")", "\n", "\n", "\n", "\n", "", "cluster_list", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "for", "i", "in", "select_cluster", ":", "\n", "            ", "name_sub_str", "=", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "c", "=", "[", "str", "(", "int", "(", "i", ")", ")", ",", "\"-\"", ",", "name_sub_str", "]", "\n", "mm", "=", "''", ".", "join", "(", "c", ")", "\n", "cluster_list", ".", "insert", "(", "\"end\"", ",", "mm", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.deleannoedclu": [[1428, 1443], ["annoedclu.delete", "cluster_list.delete", "f_text.set", "b_text.set", "l_text.set", "r_text.set", "int", "int"], "function", ["None"], ["", "", "", "def", "deleannoedclu", "(", "event", ")", ":", "\n", "    ", "if", "if_open", "==", "0", ":", "\n", "        ", "return", "\n", "", "global", "cluster_list_index", ",", "select_cluster", ",", "annoedclu_num", ",", "allcluster", ",", "annoedclu_index", "\n", "del", "allcluster", "[", "int", "(", "annoedclu_index", ")", "]", "\n", "annoedclu_num", "=", "annoedclu_num", "-", "1", "\n", "annoedclu", ".", "delete", "(", "int", "(", "annoedclu_index", ")", ")", "\n", "annoedclu_index", "=", "annoedclu_num", "\n", "cluster_list", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "global", "if_select_cluster", "\n", "if_select_cluster", "=", "False", "\n", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_auto": [[1446, 1469], ["copy.deepcopy", "copy.deepcopy", "len", "range", "range", "auto_rel.delete", "main.permu", "len", "range", "range", "int", "len", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.permu"], ["", "def", "to_auto", "(", "event", ")", ":", "\n", "    ", "global", "insid_cluster", ",", "ins_to_stuff_cluster", ",", "ins_to_stuff", "\n", "insid_cluster", "=", "copy", ".", "deepcopy", "(", "insid", ")", "\n", "ins_to_stuff_cluster", "=", "copy", ".", "deepcopy", "(", "ins_to_stuff", ")", "\n", "#inslis_cluster=[]", "\n", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "\n", "for", "i", "in", "range", "(", "len", "(", "ins_to_stuff_cluster", ")", ")", ":", "\n", "#print(len(allcluster))", "\n", "        ", "for", "j", "in", "range", "(", "len", "(", "allcluster", ")", ")", ":", "\n", "            ", "if", "int", "(", "ins_to_stuff_cluster", "[", "i", "]", "[", "0", "]", ")", "in", "allcluster", "[", "j", "]", ":", "\n", "                ", "ins_to_stuff_cluster", "[", "i", "]", "[", "0", "]", "=", "inslen", "+", "j", "\n", "break", "\n", "\n", "", "", "", "for", "i", "in", "range", "(", "width", ")", ":", "# 2048", "\n", "        ", "for", "j", "in", "range", "(", "height", ")", ":", "# 1024", "\n", "            ", "insid_cluster", "[", "j", ",", "i", "]", "=", "int", "(", "ins_to_stuff_cluster", "[", "int", "(", "insid", "[", "j", ",", "i", "]", ")", "]", "[", "0", "]", ")", "\n", "", "", "global", "region_rel_list", "\n", "region_rel_list", "=", "[", "]", "\n", "auto_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "global", "focus_region", "\n", "permu", "(", "int", "(", "focus_region", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor": [[1470, 1509], ["None"], "function", ["None"], ["", "def", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", ":", "\n", "    ", "if", "aa", "<=", "ee", "and", "bb", "<=", "ff", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "cc", ",", "dd", "]", ",", "1", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "gg", ",", "dd", "]", ",", "2", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "cc", ",", "hh", "]", ",", "3", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "ff", "]", ",", "[", "gg", ",", "hh", "]", ",", "4", ")", "\n", "", "", "if", "aa", ">=", "ee", "and", "aa", "<=", "gg", "and", "bb", "<=", "ff", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "cc", ",", "dd", "]", ",", "5", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "gg", ",", "dd", "]", ",", "6", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "cc", ",", "hh", "]", ",", "7", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "ff", "]", ",", "[", "gg", ",", "hh", "]", ",", "8", ")", "\n", "", "", "if", "aa", "<=", "ee", "and", "bb", ">=", "ff", "and", "bb", "<=", "hh", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "cc", ",", "dd", "]", ",", "9", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "gg", ",", "dd", "]", ",", "10", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "cc", ",", "hh", "]", ",", "11", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "ee", ",", "bb", "]", ",", "[", "gg", ",", "hh", "]", ",", "12", ")", "\n", "", "", "if", "aa", ">=", "ee", "and", "aa", "<=", "gg", "and", "bb", ">=", "ff", "and", "bb", "<=", "hh", ":", "\n", "        ", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "cc", ",", "dd", "]", ",", "13", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "ff", "and", "dd", "<=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "gg", ",", "dd", "]", ",", "14", ")", "\n", "", "if", "cc", ">=", "ee", "and", "cc", "<=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "cc", ",", "hh", "]", ",", "15", ")", "\n", "", "if", "cc", ">=", "gg", "and", "dd", ">=", "hh", ":", "\n", "            ", "return", "(", "[", "aa", ",", "bb", "]", ",", "[", "gg", ",", "hh", "]", ",", "16", ")", "\n", "", "", "else", ":", "\n", "        ", "return", "(", "[", "0", ",", "0", "]", ",", "[", "0", ",", "0", "]", ",", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_flat_to_flat": [[1511, 1558], ["len", "main.inter_coor", "int", "int", "main.inter_coor", "range", "int", "int", "int", "int", "int", "int", "int", "int", "range", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor"], ["", "", "def", "rule_flat_to_flat", "(", "subid_old", ",", "subkind", ",", "obid_old", ",", "obkind", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", ":", "\n", "    ", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "subid_old", ">=", "inslen", ":", "\n", "        ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "        ", "subid", "=", "subid_old", "\n", "", "if", "obid_old", ">=", "inslen", ":", "\n", "        ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "        ", "obid", "=", "obid_old", "\n", "\n", "", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "[", "inter_aa", ",", "inter_bb", "]", ",", "[", "inter_cc", ",", "inter_dd", "]", ",", "inter_type", "=", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", "\n", "if", "inter_type", "==", "0", ":", "\n", "        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "        ", "[", "inter_ee", ",", "inter_ff", "]", ",", "[", "inter_gg", ",", "inter_hh", "]", ",", "inter_type2", "=", "inter_coor", "(", "inter_aa", ",", "inter_bb", ",", "inter_cc", ",", "inter_dd", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", "\n", "if", "inter_type2", "==", "0", ":", "\n", "\n", "            ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "            ", "for", "i", "in", "range", "(", "inter_ee", ",", "inter_gg", ")", ":", "\n", "                ", "for", "j", "in", "range", "(", "inter_ff", ",", "inter_hh", ")", ":", "\n", "                    ", "if", "(", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "subid", "and", "insid_cluster", "[", "j", "+", "1", ",", "i", "]", "==", "obid", ")", "or", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "subid", "and", "insid_cluster", "[", "j", ",", "i", "+", "1", "]", "==", "obid", ")", "or", "\n", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "obid", "and", "insid_cluster", "[", "j", "+", "1", ",", "i", "]", "==", "subid", ")", "or", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "obid", "and", "insid_cluster", "[", "j", ",", "i", "+", "1", "]", "==", "subid", ")", ")", ":", "\n", "\n", "                        ", "if", "inter_type", "in", "[", "1", ",", "3", ",", "9", ",", "11", "]", ":", "\n", "                            ", "return", "(", "True", ",", "38", ")", "\n", "", "if", "inter_type", "in", "[", "6", ",", "8", ",", "14", ",", "16", "]", ":", "\n", "                            ", "return", "(", "True", ",", "39", ")", "\n", "", "if", "inter_type", "in", "[", "12", ",", "15", "]", ":", "\n", "                            ", "return", "(", "True", ",", "41", ")", "\n", "", "if", "inter_type", "in", "[", "2", ",", "5", "]", ":", "\n", "                            ", "return", "(", "True", ",", "40", ")", "\n", "", "if", "inter_type", "in", "[", "4", ",", "7", ",", "10", "]", ":", "\n", "                            ", "return", "(", "True", ",", "43", ")", "\n", "", "if", "inter_type", "in", "[", "13", "]", ":", "\n", "                            ", "return", "(", "True", ",", "42", ")", "\n", "", "", "", "", "return", "(", "False", ",", "-", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_flat_to_ob": [[1559, 1595], ["len", "main.inter_coor", "int", "int", "range", "range", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor"], ["", "", "", "def", "rule_flat_to_ob", "(", "subid_old", ",", "subkind", ",", "obid_old", ",", "obkind", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", ":", "\n", "    ", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "subid_old", ">=", "inslen", ":", "\n", "        ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "        ", "subid", "=", "subid_old", "\n", "\n", "", "if", "obid_old", ">=", "inslen", ":", "\n", "        ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "", "else", ":", "\n", "        ", "obid", "=", "obid_old", "\n", "", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "\n", "[", "inter_aa", ",", "inter_bb", "]", ",", "[", "inter_cc", ",", "inter_dd", "]", ",", "inter_type", "=", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", "\n", "num", "=", "0", "\n", "if", "inter_type", "==", "0", ":", "\n", "\n", "        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "\n", "        ", "for", "i", "in", "range", "(", "aa", ",", "cc", ")", ":", "\n", "            ", "for", "j", "in", "range", "(", "int", "(", "bb", "+", "(", "dd", "-", "bb", ")", "/", "3", "*", "2", ")", ",", "dd", ")", ":", "\n", "                ", "if", "(", "insid_cluster", "[", "j", ",", "i", "]", "==", "subid", "and", "insid_cluster", "[", "j", "+", "1", ",", "i", "]", "==", "obid", ")", ":", "\n", "                    ", "num", "=", "num", "+", "1", "\n", "\n", "break", "\n", "\n", "", "", "", "return", "(", "True", ",", "num", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_ob_to_ob": [[1596, 1623], ["range", "range"], "function", ["None"], ["", "", "def", "rule_ob_to_ob", "(", "subid", ",", "subkind", ",", "obid", ",", "obkind", ",", "num_one", ",", "num_two", ")", ":", "\n", "    ", "global", "region_rel_list", "\n", "\n", "obflatid", "=", "-", "1", "\n", "subflatid", "=", "-", "1", "\n", "\n", "for", "i", "in", "range", "(", "num_one", ",", "num_two", ")", ":", "\n", "        ", "if", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "obid", "and", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "1", ":", "\n", "            ", "obflatid", "=", "region_rel_list", "[", "i", "]", "[", "2", "]", "\n", "", "if", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "subid", "and", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "1", ":", "\n", "            ", "subflatid", "=", "region_rel_list", "[", "i", "]", "[", "2", "]", "\n", "\n", "", "", "if", "obflatid", "==", "-", "1", "or", "subflatid", "==", "-", "1", ":", "\n", "        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "\n", "        ", "if", "obflatid", "==", "subflatid", ":", "\n", "            ", "return", "(", "True", ",", "17", ")", "\n", "", "else", ":", "\n", "            ", "for", "i", "in", "range", "(", "num_one", ")", ":", "\n", "                ", "if", "(", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "obflatid", "and", "region_rel_list", "[", "i", "]", "[", "2", "]", "==", "subflatid", ")", "or", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", "==", "subflatid", "and", "region_rel_list", "[", "i", "]", "[", "2", "]", "==", "obflatid", ")", ")", ":", "\n", "                    ", "if", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "0", ":", "\n", "                        ", "return", "(", "False", ",", "-", "1", ")", "\n", "", "else", ":", "\n", "                        ", "return", "(", "True", ",", "17", ")", "\n", "", "", "else", ":", "\n", "                    ", "return", "(", "False", ",", "-", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist": [[1624, 1629], ["None"], "function", ["None"], ["", "", "", "", "", "def", "ifexist", "(", "subid", ",", "obid", ")", ":", "\n", "    ", "for", "i", "in", "sub_rel_ob", ":", "\n", "        ", "if", "(", "i", "[", "0", "]", "==", "subid", "and", "i", "[", "2", "]", "==", "obid", ")", ":", "\n", "            ", "return", "True", "\n", "", "", "return", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.attri_attach": [[1630, 1706], ["len", "main.inter_coor", "int", "range", "int", "range", "len", "len", "abs", "abs", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.inter_coor"], ["", "def", "attri_attach", "(", "subid_old", ",", "obid_old", ")", ":", "\n", "    ", "global", "ins_to_stuff_cluster", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "if", "subid_old", ">=", "inslen", ":", "\n", "        ", "subid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "for", "i", "in", "range", "(", "1", ",", "len", "(", "allcluster", "[", "int", "(", "int", "(", "subid_old", ")", "-", "inslen", ")", "]", ")", ")", ":", "\n", "            ", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "<", "aa", ":", "\n", "                ", "aa", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "<", "bb", ":", "\n", "                ", "bb", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", ">", "cc", ":", "\n", "                ", "cc", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", ">", "dd", ":", "\n", "                ", "dd", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", "\n", "", "", "", "else", ":", "\n", "        ", "subid", "=", "subid_old", "\n", "aa", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "2", "]", "\n", "bb", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "3", "]", "\n", "cc", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "4", "]", "\n", "dd", "=", "ins_to_stuff", "[", "int", "(", "subid", ")", "]", "[", "5", "]", "\n", "", "if", "obid_old", ">=", "inslen", ":", "\n", "        ", "obid", "=", "int", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "for", "i", "in", "range", "(", "1", ",", "len", "(", "allcluster", "[", "int", "(", "int", "(", "obid_old", ")", "-", "inslen", ")", "]", ")", ")", ":", "\n", "            ", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "<", "ee", ":", "\n", "                ", "ee", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "2", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "<", "ff", ":", "\n", "                ", "ff", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "3", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", ">", "gg", ":", "\n", "                ", "gg", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "4", "]", "\n", "", "if", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", ">", "hh", ":", "\n", "                ", "hh", "=", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "5", "]", "\n", "", "", "", "else", ":", "\n", "        ", "obid", "=", "obid_old", "\n", "ee", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "2", "]", "\n", "ff", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "3", "]", "\n", "gg", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "4", "]", "\n", "hh", "=", "ins_to_stuff", "[", "int", "(", "obid", ")", "]", "[", "5", "]", "\n", "", "[", "inter_aa", ",", "inter_bb", "]", ",", "[", "inter_cc", ",", "inter_dd", "]", ",", "inter_type", "=", "inter_coor", "(", "aa", ",", "bb", ",", "cc", ",", "dd", ",", "ee", ",", "ff", ",", "gg", ",", "hh", ")", "\n", "if", "inter_type", "==", "0", ":", "\n", "        ", "ifattach", "=", "False", "\n", "if", "aa", "<=", "ee", "and", "cc", "<=", "ee", ":", "\n", "            ", "ifloca", "=", "2", "\n", "", "if", "aa", ">=", "gg", "and", "cc", ">=", "gg", ":", "\n", "            ", "ifloca", "=", "3", "\n", "", "if", "bb", "<=", "ff", "and", "dd", "<=", "ff", ":", "\n", "            ", "ifloca", "=", "0", "\n", "", "if", "bb", ">=", "hh", "and", "dd", ">=", "hh", ":", "\n", "            ", "ifloca", "=", "1", "\n", "\n", "", "", "else", ":", "\n", "        ", "ifattach", "=", "True", "\n", "if", "inter_type", "in", "[", "1", ",", "3", ",", "9", ",", "11", "]", ":", "\n", "            ", "ifloca", "=", "3", "\n", "", "if", "inter_type", "in", "[", "6", ",", "8", ",", "14", ",", "16", "]", ":", "\n", "            ", "ifloca", "=", "2", "\n", "", "if", "inter_type", "in", "[", "12", ",", "15", "]", ":", "\n", "            ", "ifloca", "=", "0", "\n", "", "if", "inter_type", "in", "[", "2", ",", "5", "]", ":", "\n", "            ", "ifloca", "=", "1", "\n", "", "if", "inter_type", "in", "[", "4", ",", "7", ",", "10", "]", ":", "\n", "            ", "ifloca", "=", "4", "\n", "", "if", "inter_type", "in", "[", "13", "]", ":", "\n", "            ", "ifloca", "=", "4", "\n", "", "", "if", "abs", "(", "(", "cc", "-", "aa", ")", "-", "(", "gg", "-", "ee", ")", ")", "/", "(", "cc", "-", "aa", ")", "<", "(", "1", "/", "5", ")", "and", "abs", "(", "(", "dd", "-", "bb", ")", "-", "(", "hh", "-", "ff", ")", ")", "/", "(", "dd", "-", "bb", ")", "<", "(", "1", "/", "5", ")", ":", "\n", "        ", "ifequ", "=", "True", "\n", "", "else", ":", "\n", "        ", "ifequ", "=", "False", "\n", "", "return", "(", "ifattach", ",", "ifequ", ",", "ifloca", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.permu": [[1708, 1809], ["numpy.unique", "len", "range", "len", "range", "len", "range", "range", "main.q_ori", "main.q_ori", "len", "range", "len", "range", "len", "len", "range", "len", "auto_rel.insert", "int", "new_uni_flat.append", "len", "len", "range", "range", "len", "new_uni_ob.append", "main.ifexist", "main.rule_flat_to_flat", "region_rel_list.append", "main.rule_flat_to_ob", "region_rel_list.append", "main.rule_ob_to_ob", "region_rel_list.append", "str", "str", "str", "str", "main.ifexist", "main.ifexist", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int", "int"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.q_ori", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_flat_to_flat", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_flat_to_ob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.rule_ob_to_ob", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist", "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.ifexist"], ["", "def", "permu", "(", "rei", ")", ":", "\n", "\n", "    ", "if", "rei", "==", "-", "1", ":", "\n", "\n", "        ", "x1", "=", "10", "\n", "y1", "=", "10", "\n", "x2", "=", "2040", "\n", "y2", "=", "1020", "\n", "\n", "", "else", ":", "\n", "#print(rect1)", "\n", "#print(rect2)", "\n", "        ", "qd", "=", "rect1", "[", "rei", "]", "\n", "zd", "=", "rect2", "[", "rei", "]", "\n", "x1", ",", "y1", "=", "q_ori", "(", "qd", "[", "0", "]", ",", "qd", "[", "1", "]", ")", "\n", "x2", ",", "y2", "=", "q_ori", "(", "zd", "[", "0", "]", ",", "zd", "[", "1", "]", ")", "\n", "#print(x1, x2, y1, y2)", "\n", "", "if", "x1", ">", "x2", ":", "\n", "        ", "x1", ",", "x2", "=", "x2", ",", "x1", "\n", "", "if", "y1", ">", "y2", ":", "\n", "        ", "y1", ",", "y2", "=", "y2", ",", "y1", "\n", "\n", "", "unique_data", "=", "np", ".", "unique", "(", "insid_cluster", "[", "y1", ":", "(", "y2", "+", "1", ")", ",", "x1", ":", "(", "x2", "+", "1", ")", "]", ")", "\n", "#print(unique_data)", "\n", "aa", "=", "[", "jj", "for", "ii", "in", "allcluster", "for", "jj", "in", "ii", "]", "\n", "\n", "new_uni_flat", "=", "[", "]", "\n", "new_uni_ob", "=", "[", "]", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "for", "i", "in", "unique_data", ":", "\n", "        ", "if", "i", ">=", "inslen", ":", "\n", "            ", "kind", "=", "ins_to_stuff_cluster", "[", "int", "(", "allcluster", "[", "int", "(", "int", "(", "i", ")", "-", "inslen", ")", "]", "[", "0", "]", ")", "]", "[", "1", "]", "\n", "", "else", ":", "\n", "            ", "kind", "=", "int", "(", "ins_to_stuff_cluster", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "\n", "\n", "", "if", "kind", "in", "flatid", ":", "\n", "            ", "new_uni_flat", ".", "append", "(", "[", "i", ",", "kind", "]", ")", "\n", "", "elif", "kind", "in", "noneid", ":", "\n", "            ", "pass", "\n", "", "else", ":", "\n", "            ", "new_uni_ob", ".", "append", "(", "[", "i", ",", "kind", "]", ")", "\n", "\n", "#print(\"ins to stuff clu\",ins_to_stuff_cluster)", "\n", "#print(\"flat:\",new_uni_flat,\"  ob:\",new_uni_ob)", "\n", "\n", "", "", "global", "region_rel_list", "\n", "region_rel_list", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "len", "(", "new_uni_flat", ")", ")", ":", "\n", "        ", "for", "j", "in", "range", "(", "i", "+", "1", ",", "len", "(", "new_uni_flat", ")", ")", ":", "\n", "\n", "            ", "if", "ifexist", "(", "new_uni_flat", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ")", "==", "False", ":", "\n", "                ", "rule_if_rel", ",", "rule_rel", "=", "rule_flat_to_flat", "(", "new_uni_flat", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", "\n", "region_rel_list", ".", "append", "(", "[", "new_uni_flat", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "rule_if_rel", ",", "rule_rel", "]", ")", "\n", "\n", "", "", "", "num_one", "=", "len", "(", "region_rel_list", ")", "\n", "for", "j", "in", "range", "(", "len", "(", "new_uni_ob", ")", ")", ":", "\n", "        ", "num_max_ob_to_flat", "=", "-", "1", "\n", "index_max_ob_to_flat", "=", "-", "1", "\n", "numob", "=", "0", "\n", "for", "i", "in", "range", "(", "len", "(", "new_uni_flat", ")", ")", ":", "\n", "            ", "if", "(", "ifexist", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ")", "==", "False", ")", "and", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", "not", "in", "aa", ")", ":", "\n", "                ", "numob", "=", "numob", "+", "1", "\n", "rule_if_rel", ",", "rule_rel", "=", "rule_flat_to_ob", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "\n", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "x1", ",", "y1", ",", "x2", ",", "y2", ")", "\n", "if", "num_max_ob_to_flat", "<", "rule_rel", ":", "\n", "                    ", "num_max_ob_to_flat", "=", "rule_rel", "\n", "index_max_ob_to_flat", "=", "numob", "\n", "", "region_rel_list", ".", "append", "(", "\n", "[", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_flat", "[", "i", "]", "[", "0", "]", ",", "new_uni_flat", "[", "i", "]", "[", "1", "]", ",", "rule_if_rel", ",", "rule_rel", "]", ")", "\n", "", "", "numlist", "=", "len", "(", "region_rel_list", ")", "\n", "if", "num_max_ob_to_flat", "==", "0", ":", "\n", "            ", "for", "i", "in", "range", "(", "numlist", "-", "1", ",", "numlist", "-", "numob", "-", "1", ",", "-", "1", ")", ":", "\n", "                ", "region_rel_list", "[", "i", "]", "[", "4", "]", "=", "False", "\n", "region_rel_list", "[", "i", "]", "[", "5", "]", "=", "-", "1", "\n", "", "", "else", ":", "\n", "            ", "for", "i", "in", "range", "(", "numlist", "-", "1", ",", "numlist", "-", "numob", "-", "1", ",", "-", "1", ")", ":", "\n", "                ", "if", "i", "!=", "(", "numlist", "-", "numob", "+", "index_max_ob_to_flat", "-", "1", ")", ":", "\n", "                    ", "region_rel_list", "[", "i", "]", "[", "4", "]", "=", "False", "\n", "region_rel_list", "[", "i", "]", "[", "5", "]", "=", "-", "1", "\n", "", "else", ":", "\n", "                    ", "region_rel_list", "[", "i", "]", "[", "5", "]", "=", "2", "\n", "#print(region_rel_list)", "\n", "\n", "", "", "", "", "num_two", "=", "len", "(", "region_rel_list", ")", "\n", "global", "region_rel_list_matrix", "\n", "for", "i", "in", "range", "(", "len", "(", "new_uni_ob", ")", ")", ":", "\n", "        ", "for", "j", "in", "range", "(", "i", "+", "1", ",", "len", "(", "new_uni_ob", ")", ")", ":", "\n", "            ", "if", "(", "ifexist", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "i", "]", "[", "0", "]", ")", "==", "False", ")", "and", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", "not", "in", "aa", ")", "and", "(", "new_uni_ob", "[", "i", "]", "[", "0", "]", "not", "in", "aa", ")", ":", "\n", "                ", "rule_if_rel", ",", "rule_rel", "=", "rule_ob_to_ob", "(", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_ob", "[", "i", "]", "[", "0", "]", ",", "new_uni_ob", "[", "i", "]", "[", "1", "]", ",", "num_one", ",", "num_two", ")", "#\u4e0d\u7528xy\u4e86", "\n", "region_rel_list", ".", "append", "(", "[", "new_uni_ob", "[", "j", "]", "[", "0", "]", ",", "new_uni_ob", "[", "j", "]", "[", "1", "]", ",", "new_uni_ob", "[", "i", "]", "[", "0", "]", ",", "new_uni_ob", "[", "i", "]", "[", "1", "]", ",", "rule_if_rel", ",", "rule_rel", "]", ")", "\n", "\n", "#print(region_rel_list)", "\n", "\n", "", "", "", "for", "i", "in", "range", "(", "len", "(", "region_rel_list", ")", ")", ":", "\n", "        ", "if", "region_rel_list", "[", "i", "]", "[", "4", "]", "==", "False", ":", "\n", "            ", "pass", "\n", "c", "=", "[", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "1", "]", ")", "]", ".", "name", ",", "\"  ---          ---  \"", ",", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "2", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "3", "]", ")", "]", ".", "name", "]", "\n", "", "else", ":", "\n", "\n", "            ", "c", "=", "[", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "0", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "1", "]", ")", "]", ".", "name", ",", "\"  ---\"", ",", "rel_list_all", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "5", "]", ")", "]", ",", "\"---  \"", ",", "str", "(", "int", "(", "region_rel_list", "[", "i", "]", "[", "2", "]", ")", ")", ",", "\":\"", ",", "id2label", "[", "int", "(", "region_rel_list", "[", "i", "]", "[", "3", "]", ")", "]", ".", "name", "]", "\n", "", "auto_rel", ".", "insert", "(", "\"end\"", ",", "''", ".", "join", "(", "c", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.Recommend": [[1811, 1854], ["len", "range", "dict", "dict", "dict", "len", "records.append", "records2.append", "dict.setdefault", "user_tags[].setdefault", "dict.setdefault", "tag_items[].setdefault", "user_tags[].items", "sorted", "reco_rel.delete", "reco_rel.insert", "range", "reco_rel.delete", "reco_rel.insert", "recoid.append", "int", "int", "int", "int", "int", "int", "dict", "dict", "tag_items[].items", "dict.items", "str", "str", "len", "reco_rel.insert", "recoid.append", "str", "int", "str", "str", "str", "str", "str", "str", "str", "int"], "function", ["None"], ["", "", "def", "Recommend", "(", "sub_rel_ob", ",", "sub_rel_ob_attri", ",", "user2", ",", "K", ")", ":", "\n", "    ", "records", "=", "[", "]", "\n", "records2", "=", "[", "]", "\n", "inslen", "=", "len", "(", "ins_to_stuff_cluster", ")", "\n", "for", "i", "in", "range", "(", "len", "(", "sub_rel_ob", ")", ")", ":", "\n", "        ", "subkind", ",", "relkind", ",", "obkind", "=", "int", "(", "sub_rel_ob", "[", "i", "]", "[", "0", "]", ")", ",", "int", "(", "sub_rel_ob", "[", "i", "]", "[", "1", "]", ")", ",", "int", "(", "sub_rel_ob", "[", "i", "]", "[", "2", "]", ")", "\n", "attri1", ",", "attri2", ",", "attri3", "=", "int", "(", "sub_rel_ob_attri", "[", "i", "]", "[", "0", "]", ")", ",", "int", "(", "sub_rel_ob_attri", "[", "i", "]", "[", "1", "]", ")", ",", "int", "(", "sub_rel_ob_attri", "[", "i", "]", "[", "2", "]", ")", "\n", "\n", "records", ".", "append", "(", "[", "''", ".", "join", "(", "[", "str", "(", "subkind", ")", ",", "'-'", ",", "str", "(", "obkind", ")", "]", ")", ",", "str", "(", "relkind", ")", ",", "''", ".", "join", "(", "[", "str", "(", "subkind", ")", ",", "str", "(", "obkind", ")", ",", "str", "(", "attri1", ")", ",", "str", "(", "attri2", ")", ",", "str", "(", "attri3", ")", "]", ")", "]", ")", "\n", "records2", ".", "append", "(", "str", "(", "subkind", ")", "+", "'-'", "+", "str", "(", "obkind", ")", ")", "\n", "", "user_tags", "=", "dict", "(", ")", "\n", "tag_items", "=", "dict", "(", ")", "\n", "for", "user", ",", "item", ",", "tag", "in", "records", ":", "\n", "        ", "user_tags", ".", "setdefault", "(", "user", ",", "dict", "(", ")", ")", "\n", "user_tags", "[", "user", "]", ".", "setdefault", "(", "tag", ",", "0", ")", "\n", "user_tags", "[", "user", "]", "[", "tag", "]", "+=", "1", "\n", "tag_items", ".", "setdefault", "(", "tag", ",", "dict", "(", ")", ")", "\n", "tag_items", "[", "tag", "]", ".", "setdefault", "(", "item", ",", "0", ")", "\n", "tag_items", "[", "tag", "]", "[", "item", "]", "+=", "1", "\n", "#print(user, item, tag)", "\n", "\n", "", "recommend_items", "=", "dict", "(", ")", "\n", "global", "recoid", "\n", "recoid", "=", "[", "]", "\n", "if", "user2", "in", "records2", ":", "\n", "        ", "for", "tag", ",", "wut", "in", "user_tags", "[", "user2", "]", ".", "items", "(", ")", ":", "\n", "            ", "for", "item", ",", "wti", "in", "tag_items", "[", "tag", "]", ".", "items", "(", ")", ":", "\n", "                ", "if", "item", "not", "in", "recommend_items", ":", "\n", "                    ", "recommend_items", "[", "item", "]", "=", "wut", "*", "wti", "\n", "", "else", ":", "\n", "                    ", "recommend_items", "[", "item", "]", "+=", "wut", "*", "wti", "\n", "\n", "", "", "", "rec", "=", "sorted", "(", "recommend_items", ".", "items", "(", ")", ",", "key", "=", "lambda", "x", ":", "x", "[", "1", "]", ",", "reverse", "=", "True", ")", "\n", "reco_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "reco_rel", ".", "insert", "(", "\"end\"", ",", "\"----Recommended----\"", ")", "\n", "for", "i", "in", "range", "(", "K", ")", ":", "\n", "            ", "if", "i", "<", "len", "(", "rec", ")", ":", "\n", "                ", "reco_rel", ".", "insert", "(", "\"end\"", ",", "rel_list_all", "[", "int", "(", "rec", "[", "i", "]", "[", "0", "]", ")", "]", ")", "\n", "recoid", ".", "append", "(", "int", "(", "rec", "[", "i", "]", "[", "0", "]", ")", ")", "\n", "", "", "", "else", ":", "\n", "        ", "reco_rel", ".", "delete", "(", "0", ",", "\"end\"", ")", "\n", "reco_rel", ".", "insert", "(", "\"end\"", ",", "\"----Recommended----\"", ")", "\n", "recoid", ".", "append", "(", "-", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_reco": [[1856, 1858], ["main.Recommend"], "function", ["home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.Recommend"], ["", "", "def", "to_reco", "(", "event", ")", ":", "\n", "    ", "Recommend", "(", "sub_rel_ob", ",", "sub_rel_ob_attri", ",", "'car-car'", ",", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_ts": [[1859, 1861], ["print"], "function", ["None"], ["", "def", "to_ts", "(", "event", ")", ":", "\n", "    ", "print", "(", "\"file_name:\"", ",", "file_name", ")", "\n", "#print(\"sub_rel_ob:\", sub_rel_ob)", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_lx": [[1874, 1876], ["print"], "function", ["None"], ["", "def", "to_lx", "(", "event", ")", ":", "\n", "    ", "print", "(", "\"file_name:\"", ",", "file_name", ")", "\n", "#print(\"sub_rel_ob:\", sub_rel_ob)", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_direc_f": [[1889, 1913], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "str", "str", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_f", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "1", "]", ")", "\n", "c", "=", "\"\u2191     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "sub_id", ",", "1", "]", ")", "\n", "c", "=", "\"\u2191     \"", "+", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_direc_b": [[1914, 1940], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "int", "str", "str", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_b", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "2", "]", ")", "\n", "c", "=", "\"\u2193     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "int", "(", "sub_id", ")", ",", "2", "]", ")", "\n", "c", "=", "\"\u2193     \"", "+", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_direc_l": [[1941, 1967], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "int", "str", "str", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_l", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "3", "]", ")", "\n", "c", "=", "\"\u2190     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "int", "(", "sub_id", ")", ",", "3", "]", ")", "\n", "c", "=", "\"\u2190     \"", "+", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_direc_r": [[1968, 1994], ["f_text.set", "b_text.set", "l_text.set", "r_text.set", "name_sub.set", "name_rel.set", "name_ob.set", "direc.append", "direc_list.insert", "direc.append", "direc_list.insert", "int", "int", "str", "str", "int", "int", "int", "int", "int", "int"], "function", ["None"], ["", "def", "to_direc_r", "(", "event", ")", ":", "#", "\n", "    ", "global", "sub_id", ",", "direc", "\n", "\n", "global", "if_select_cluster", "\n", "if", "if_select_cluster", "==", "True", ":", "\n", "        ", "for", "i", "in", "allcluster", "[", "annoedclu_index", "]", ":", "\n", "            ", "direc", ".", "append", "(", "[", "int", "(", "i", ")", ",", "4", "]", ")", "\n", "c", "=", "\"\u2192     \"", "+", "str", "(", "int", "(", "i", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "i", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "", "", "else", ":", "\n", "        ", "direc", ".", "append", "(", "[", "int", "(", "sub_id", ")", ",", "4", "]", ")", "\n", "c", "=", "\"\u2192     \"", "+", "str", "(", "int", "(", "sub_id", ")", ")", "+", "\":\"", "+", "id2label", "[", "int", "(", "ins_to_stuff", "[", "int", "(", "sub_id", ")", "]", "[", "1", "]", ")", "]", ".", "name", "\n", "direc_list", ".", "insert", "(", "\"end\"", ",", "c", ")", "\n", "\n", "", "f_text", ".", "set", "(", "\" \"", ")", "\n", "b_text", ".", "set", "(", "\" \"", ")", "\n", "l_text", ".", "set", "(", "\" \"", ")", "\n", "r_text", ".", "set", "(", "\" \"", ")", "\n", "global", "name_sub_str", ",", "name_rel_str", ",", "name_ob_str", "\n", "name_sub", ".", "set", "(", "\"There is sub\"", ")", "\n", "name_rel", ".", "set", "(", "\"There is rel\"", ")", "\n", "name_ob", ".", "set", "(", "\"There is ob\"", ")", "\n", "name_sub_str", "=", "\"NONE\"", "\n", "name_rel_str", "=", "\"NONE\"", "\n", "name_ob_str", "=", "\"NONE\"", "\n", "if_select_cluster", "=", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.main.to_direc_dele": [[1995, 2001], ["direc_list.delete", "int", "int"], "function", ["None"], ["", "def", "to_direc_dele", "(", "event", ")", ":", "\n", "    ", "global", "direc", ",", "direc_list_index", "\n", "if", "direc_list_index", "!=", "-", "1", ":", "\n", "        ", "del", "direc", "[", "int", "(", "direc_list_index", ")", "]", "\n", "direc_list", ".", "delete", "(", "int", "(", "direc_list_index", ")", ")", "\n", "direc_list_index", "=", "-", "1", "\n", "\n"]], "home.repos.pwc.inspect_result.milomilo0320_a-semi-automatic-annotation-software-for-scene-graph.None.predata.predata": [[1, 101], ["namedtuple", "print", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple.", "namedtuple."], "function", ["None"], ["def", "predata", "(", ")", ":", "\n", "\n", "####\u521d\u59cb\u6570\u636e\u6e90", "\n", "####", "\n", "#import numpy as np", "\n", "    ", "from", "collections", "import", "namedtuple", "\n", "# a label and all meta information", "\n", "###label\u5b9a\u4e49\uff08\u88682\uff09", "\n", "Label", "=", "namedtuple", "(", "'Label'", ",", "[", "\n", "\n", "'name'", ",", "# The identifier of this label, e.g. 'car', 'person', ... .", "\n", "# We use them to uniquely name a class", "\n", "\n", "'id'", ",", "# An integer ID that is associated with this label.", "\n", "# The IDs are used to represent the label in ground truth images", "\n", "# An ID of -1 means that this label does not have an ID and thus", "\n", "# is ignored when creating ground truth images (e.g. license plate).", "\n", "# Do not modify these IDs, since exactly these IDs are expected by the", "\n", "# evaluation server.", "\n", "\n", "'trainId'", ",", "# Feel free to modify these IDs as suitable for your method. Then create", "\n", "# ground truth images with train IDs, using the tools provided in the", "\n", "# 'preparation' folder. However, make sure to validate or submit results", "\n", "# to our evaluation server using the regular IDs above!", "\n", "# For trainIds, multiple labels might have the same ID. Then, these labels", "\n", "# are mapped to the same class in the ground truth images. For the inverse", "\n", "# mapping, we use the label that is defined first in the list below.", "\n", "# For example, mapping all void-type classes to the same ID in training,", "\n", "# might make sense for some approaches.", "\n", "# Max value is 255!", "\n", "\n", "'category'", ",", "# The name of the category that this label belongs to", "\n", "\n", "'categoryId'", ",", "# The ID of this category. Used to create ground truth images", "\n", "# on category level.", "\n", "\n", "'hasInstances'", ",", "# Whether this label distinguishes between single instances or not", "\n", "\n", "'ignoreInEval'", ",", "# Whether pixels having this class as ground truth label are ignored", "\n", "# during evaluations or not", "\n", "\n", "'color'", ",", "# The color of this label", "\n", "]", ")", "\n", "\n", "\n", "#--------------------------------------------------------------------------------", "\n", "# A list of all labels", "\n", "#--------------------------------------------------------------------------------", "\n", "\n", "# Please adapt the train IDs as appropriate for your approach.", "\n", "# Note that you might want to ignore labels with ID 255 during training.", "\n", "# Further note that the current train IDs are only a suggestion. You can use whatever you like.", "\n", "# Make sure to provide your results using the original IDs and not the training IDs.", "\n", "# Note that many IDs are ignored in evaluation and thus you never need to predict these!", "\n", "\n", "labels", "=", "[", "\n", "#       name                     id    trainId   category            catId     hasInstances   ignoreInEval   color", "\n", "Label", "(", "'unlabeled'", ",", "0", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "0", ",", "0", ",", "0", ")", ")", ",", "\n", "Label", "(", "'ego vehicle'", ",", "1", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "0", ",", "0", ",", "0", ")", ")", ",", "\n", "Label", "(", "'rectification border'", ",", "2", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "0", ",", "0", ",", "0", ")", ")", ",", "\n", "Label", "(", "'out of roi'", ",", "3", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "0", ",", "0", ",", "0", ")", ")", ",", "\n", "Label", "(", "'static'", ",", "4", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "0", ",", "0", ",", "0", ")", ")", ",", "\n", "Label", "(", "'dynamic'", ",", "5", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "111", ",", "74", ",", "0", ")", ")", ",", "\n", "Label", "(", "'ground'", ",", "6", ",", "255", ",", "'void'", ",", "0", ",", "False", ",", "True", ",", "(", "81", ",", "0", ",", "81", ")", ")", ",", "\n", "Label", "(", "'road'", ",", "7", ",", "0", ",", "'flat'", ",", "1", ",", "False", ",", "False", ",", "(", "128", ",", "64", ",", "128", ")", ")", ",", "\n", "Label", "(", "'sidewalk'", ",", "8", ",", "1", ",", "'flat'", ",", "1", ",", "False", ",", "False", ",", "(", "244", ",", "35", ",", "232", ")", ")", ",", "\n", "Label", "(", "'parking'", ",", "9", ",", "255", ",", "'flat'", ",", "1", ",", "False", ",", "True", ",", "(", "250", ",", "170", ",", "160", ")", ")", ",", "\n", "Label", "(", "'rail track'", ",", "10", ",", "255", ",", "'flat'", ",", "1", ",", "False", ",", "True", ",", "(", "230", ",", "150", ",", "140", ")", ")", ",", "\n", "Label", "(", "'building'", ",", "11", ",", "2", ",", "'construction'", ",", "2", ",", "False", ",", "False", ",", "(", "70", ",", "70", ",", "70", ")", ")", ",", "\n", "Label", "(", "'wall'", ",", "12", ",", "3", ",", "'construction'", ",", "2", ",", "False", ",", "False", ",", "(", "102", ",", "102", ",", "156", ")", ")", ",", "\n", "Label", "(", "'fence'", ",", "13", ",", "4", ",", "'construction'", ",", "2", ",", "False", ",", "False", ",", "(", "190", ",", "153", ",", "153", ")", ")", ",", "\n", "Label", "(", "'guard rail'", ",", "14", ",", "255", ",", "'construction'", ",", "2", ",", "False", ",", "True", ",", "(", "180", ",", "165", ",", "180", ")", ")", ",", "\n", "Label", "(", "'bridge'", ",", "15", ",", "255", ",", "'construction'", ",", "2", ",", "False", ",", "True", ",", "(", "150", ",", "100", ",", "100", ")", ")", ",", "\n", "Label", "(", "'tunnel'", ",", "16", ",", "255", ",", "'construction'", ",", "2", ",", "False", ",", "True", ",", "(", "150", ",", "120", ",", "90", ")", ")", ",", "\n", "Label", "(", "'pole'", ",", "17", ",", "5", ",", "'object'", ",", "3", ",", "False", ",", "False", ",", "(", "153", ",", "153", ",", "153", ")", ")", ",", "\n", "Label", "(", "'polegroup'", ",", "18", ",", "255", ",", "'object'", ",", "3", ",", "False", ",", "True", ",", "(", "153", ",", "153", ",", "153", ")", ")", ",", "\n", "Label", "(", "'traffic light'", ",", "19", ",", "6", ",", "'object'", ",", "3", ",", "False", ",", "False", ",", "(", "250", ",", "170", ",", "30", ")", ")", ",", "\n", "Label", "(", "'traffic sign'", ",", "20", ",", "7", ",", "'object'", ",", "3", ",", "False", ",", "False", ",", "(", "220", ",", "220", ",", "0", ")", ")", ",", "\n", "Label", "(", "'vegetation'", ",", "21", ",", "8", ",", "'nature'", ",", "4", ",", "False", ",", "False", ",", "(", "107", ",", "142", ",", "35", ")", ")", ",", "\n", "Label", "(", "'terrain'", ",", "22", ",", "9", ",", "'nature'", ",", "4", ",", "False", ",", "False", ",", "(", "152", ",", "251", ",", "152", ")", ")", ",", "\n", "Label", "(", "'sky'", ",", "23", ",", "10", ",", "'sky'", ",", "5", ",", "False", ",", "False", ",", "(", "70", ",", "130", ",", "180", ")", ")", ",", "\n", "Label", "(", "'person'", ",", "24", ",", "11", ",", "'human'", ",", "6", ",", "True", ",", "False", ",", "(", "220", ",", "20", ",", "60", ")", ")", ",", "\n", "Label", "(", "'rider'", ",", "25", ",", "12", ",", "'human'", ",", "6", ",", "True", ",", "False", ",", "(", "255", ",", "0", ",", "0", ")", ")", ",", "\n", "Label", "(", "'car'", ",", "26", ",", "13", ",", "'vehicle'", ",", "7", ",", "True", ",", "False", ",", "(", "0", ",", "0", ",", "142", ")", ")", ",", "\n", "Label", "(", "'truck'", ",", "27", ",", "14", ",", "'vehicle'", ",", "7", ",", "True", ",", "False", ",", "(", "0", ",", "0", ",", "70", ")", ")", ",", "\n", "Label", "(", "'bus'", ",", "28", ",", "15", ",", "'vehicle'", ",", "7", ",", "True", ",", "False", ",", "(", "0", ",", "60", ",", "100", ")", ")", ",", "\n", "Label", "(", "'caravan'", ",", "29", ",", "255", ",", "'vehicle'", ",", "7", ",", "True", ",", "True", ",", "(", "0", ",", "0", ",", "90", ")", ")", ",", "\n", "Label", "(", "'trailer'", ",", "30", ",", "255", ",", "'vehicle'", ",", "7", ",", "True", ",", "True", ",", "(", "0", ",", "0", ",", "110", ")", ")", ",", "\n", "Label", "(", "'train'", ",", "31", ",", "16", ",", "'vehicle'", ",", "7", ",", "True", ",", "False", ",", "(", "0", ",", "80", ",", "100", ")", ")", ",", "\n", "Label", "(", "'motorcycle'", ",", "32", ",", "17", ",", "'vehicle'", ",", "7", ",", "True", ",", "False", ",", "(", "0", ",", "0", ",", "230", ")", ")", ",", "\n", "Label", "(", "'bicycle'", ",", "33", ",", "18", ",", "'vehicle'", ",", "7", ",", "True", ",", "False", ",", "(", "119", ",", "11", ",", "32", ")", ")", ",", "\n", "Label", "(", "'license plate'", ",", "34", ",", "-", "1", ",", "'vehicle'", ",", "7", ",", "False", ",", "True", ",", "(", "0", ",", "0", ",", "142", ")", ")", ",", "\n", "]", "\n", "\n", "#\u7c7b\u7f16\u53f7-\u7c7b\u540d", "\n", "\n", "#\u5efa\u7acb\u989c\u8272\u7684\u7d22\u5f15\u548cid\u7684\u7d22\u5f15", "\n", "color2label", "=", "{", "label", ".", "color", ":", "label", "for", "label", "in", "labels", "}", "\n", "id2label", "=", "{", "label", ".", "id", ":", "label", "for", "label", "in", "labels", "}", "\n", "print", "(", "\"okk\"", ")", "", "", ""]]}