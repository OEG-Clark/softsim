{"home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.Normalize.__init__": [[18, 21], ["None"], "methods", ["None"], ["def", "__init__", "(", "self", ",", "mean", ",", "std", ")", ":", "\n", "        ", "self", ".", "mean", "=", "mean", "\n", "self", ".", "std", "=", "std", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.Normalize.__call__": [[22, 24], ["None"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "tensor", ")", ":", "\n", "        ", "return", "(", "tensor", "-", "self", ".", "mean", ")", "/", "self", ".", "std", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.Scale.__init__": [[34, 37], ["None"], "methods", ["None"], ["def", "__init__", "(", "self", ",", "size", ",", "interpolation", "=", "cv2", ".", "INTER_CUBIC", ")", ":", "\n", "        ", "self", ".", "size", "=", "size", "\n", "self", ".", "interpolation", "=", "interpolation", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.Scale.__call__": [[38, 50], ["cv2.resize", "int", "int", "float", "float"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "img", ")", ":", "\n", "        ", "w", ",", "h", "=", "img", ".", "shape", "[", "1", "]", ",", "img", ".", "shape", "[", "0", "]", "\n", "if", "(", "w", "<=", "h", "and", "w", "==", "self", ".", "size", ")", "or", "(", "h", "<=", "w", "and", "h", "==", "self", ".", "size", ")", ":", "\n", "            ", "return", "img", "\n", "", "if", "w", "<", "h", ":", "\n", "            ", "ow", "=", "self", ".", "size", "\n", "oh", "=", "int", "(", "float", "(", "self", ".", "size", ")", "*", "h", "/", "w", ")", "\n", "", "else", ":", "\n", "            ", "oh", "=", "self", ".", "size", "\n", "ow", "=", "int", "(", "float", "(", "self", ".", "size", ")", "*", "w", "/", "h", ")", "\n", "", "return", "cv2", ".", "resize", "(", "img", ",", "dsize", "=", "(", "ow", ",", "oh", ")", ",", "\n", "interpolation", "=", "self", ".", "interpolation", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.CenterCrop.__init__": [[58, 63], ["isinstance", "int", "int"], "methods", ["None"], ["def", "__init__", "(", "self", ",", "size", ")", ":", "\n", "        ", "if", "isinstance", "(", "size", ",", "numbers", ".", "Number", ")", ":", "\n", "            ", "self", ".", "size", "=", "(", "int", "(", "size", ")", ",", "int", "(", "size", ")", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "size", "=", "size", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.CenterCrop.__call__": [[64, 70], ["int", "int", "round", "round"], "methods", ["None"], ["", "", "def", "__call__", "(", "self", ",", "img", ")", ":", "\n", "        ", "w", ",", "h", "=", "img", ".", "shape", "[", "1", "]", ",", "img", ".", "shape", "[", "0", "]", "\n", "th", ",", "tw", "=", "self", ".", "size", "\n", "x1", "=", "int", "(", "round", "(", "(", "w", "-", "tw", ")", "/", "2.", ")", ")", "\n", "y1", "=", "int", "(", "round", "(", "(", "h", "-", "th", ")", "/", "2.", ")", ")", "\n", "return", "img", "[", "y1", ":", "y1", "+", "th", ",", "x1", ":", "x1", "+", "tw", ",", ":", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.Pad.__init__": [[75, 80], ["isinstance"], "methods", ["None"], ["def", "__init__", "(", "self", ",", "padding", ",", "borderType", "=", "cv2", ".", "BORDER_CONSTANT", ",", "borderValue", "=", "0", ")", ":", "\n", "        ", "assert", "isinstance", "(", "padding", ",", "numbers", ".", "Number", ")", "\n", "self", ".", "padding", "=", "padding", "\n", "self", ".", "borderType", "=", "borderType", "\n", "self", ".", "borderValue", "=", "borderValue", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.Pad.__call__": [[81, 89], ["cv2.copyMakeBorder", "numpy.ndim"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "img", ")", ":", "\n", "        ", "if", "self", ".", "padding", "==", "0", ":", "\n", "            ", "return", "img", "\n", "", "p", "=", "self", ".", "padding", "\n", "res", "=", "cv2", ".", "copyMakeBorder", "(", "img", ",", "p", ",", "p", ",", "p", ",", "p", ",", "\n", "borderType", "=", "self", ".", "borderType", ",", "\n", "value", "=", "self", ".", "borderValue", ")", "\n", "return", "res", "[", ":", ",", ":", ",", "np", ".", "newaxis", "]", "if", "np", ".", "ndim", "(", "res", ")", "==", "2", "else", "res", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.RandomCrop.__init__": [[97, 102], ["isinstance", "int", "int"], "methods", ["None"], ["def", "__init__", "(", "self", ",", "size", ")", ":", "\n", "        ", "if", "isinstance", "(", "size", ",", "numbers", ".", "Number", ")", ":", "\n", "            ", "self", ".", "size", "=", "(", "int", "(", "size", ")", ",", "int", "(", "size", ")", ")", "\n", "", "else", ":", "\n", "            ", "self", ".", "size", "=", "size", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.RandomCrop.__call__": [[103, 112], ["random.randint", "random.randint"], "methods", ["None"], ["", "", "def", "__call__", "(", "self", ",", "img", ")", ":", "\n", "        ", "w", ",", "h", "=", "img", ".", "shape", "[", "1", "]", ",", "img", ".", "shape", "[", "0", "]", "\n", "th", ",", "tw", "=", "self", ".", "size", "\n", "if", "w", "==", "tw", "and", "h", "==", "th", ":", "\n", "            ", "return", "img", "\n", "\n", "", "x1", "=", "random", ".", "randint", "(", "0", ",", "w", "-", "tw", ")", "\n", "y1", "=", "random", ".", "randint", "(", "0", ",", "h", "-", "th", ")", "\n", "return", "img", "[", "y1", ":", "y1", "+", "th", ",", "x1", ":", "x1", "+", "tw", ",", ":", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.RandomHorizontalFlip.__call__": [[117, 121], ["random.random", "cv2.flip().reshape", "cv2.flip"], "methods", ["None"], ["def", "__call__", "(", "self", ",", "img", ")", ":", "\n", "        ", "if", "random", ".", "random", "(", ")", "<", "0.5", ":", "\n", "            ", "return", "cv2", ".", "flip", "(", "img", ",", "1", ")", ".", "reshape", "(", "img", ".", "shape", ")", "\n", "", "return", "img", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.RandomSizedCrop.__init__": [[130, 133], ["None"], "methods", ["None"], ["def", "__init__", "(", "self", ",", "size", ",", "interpolation", "=", "cv2", ".", "INTER_CUBIC", ")", ":", "\n", "        ", "self", ".", "size", "=", "size", "\n", "self", ".", "interpolation", "=", "interpolation", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.cvtransforms.RandomSizedCrop.__call__": [[134, 160], ["range", "cvtransforms.Scale", "cvtransforms.CenterCrop", "CenterCrop.", "random.uniform", "int", "int", "Scale.", "random.uniform", "round", "round", "random.random", "random.randint", "random.randint", "cv2.resize", "math.sqrt", "math.sqrt"], "methods", ["None"], ["", "def", "__call__", "(", "self", ",", "img", ")", ":", "\n", "        ", "for", "attempt", "in", "range", "(", "10", ")", ":", "\n", "            ", "area", "=", "img", ".", "shape", "[", "0", "]", "*", "img", ".", "shape", "[", "1", "]", "\n", "target_area", "=", "random", ".", "uniform", "(", "0.08", ",", "1.0", ")", "*", "area", "\n", "aspect_ratio", "=", "random", ".", "uniform", "(", "3.", "/", "4.", ",", "4.", "/", "3.", ")", "\n", "\n", "w", "=", "int", "(", "round", "(", "math", ".", "sqrt", "(", "target_area", "*", "aspect_ratio", ")", ")", ")", "\n", "h", "=", "int", "(", "round", "(", "math", ".", "sqrt", "(", "target_area", "/", "aspect_ratio", ")", ")", ")", "\n", "\n", "if", "random", ".", "random", "(", ")", "<", "0.5", ":", "\n", "                ", "w", ",", "h", "=", "h", ",", "w", "\n", "\n", "", "if", "w", "<=", "img", ".", "shape", "[", "1", "]", "and", "h", "<=", "img", ".", "shape", "[", "0", "]", ":", "\n", "                ", "x1", "=", "random", ".", "randint", "(", "0", ",", "img", ".", "shape", "[", "1", "]", "-", "w", ")", "\n", "y1", "=", "random", ".", "randint", "(", "0", ",", "img", ".", "shape", "[", "0", "]", "-", "h", ")", "\n", "\n", "img", "=", "img", "[", "y1", ":", "y1", "+", "h", ",", "x1", ":", "x1", "+", "w", ",", ":", "]", "\n", "assert", "img", ".", "shape", "[", "0", "]", "==", "h", "and", "img", ".", "shape", "[", "1", "]", "==", "w", "\n", "\n", "return", "cv2", ".", "resize", "(", "img", ",", "(", "self", ".", "size", ",", "self", ".", "size", ")", ",", "\n", "interpolation", "=", "self", ".", "interpolation", ")", "\n", "\n", "# Fallback", "\n", "", "", "scale", "=", "Scale", "(", "self", ".", "size", ",", "interpolation", "=", "self", ".", "interpolation", ")", "\n", "crop", "=", "CenterCrop", "(", "self", ".", "size", ")", "\n", "return", "crop", "(", "scale", "(", "img", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.distillation": [[13, 15], ["torch.kl_div", "torch.cross_entropy", "torch.log_softmax", "torch.softmax"], "function", ["None"], ["def", "distillation", "(", "y", ",", "teacher_scores", ",", "labels", ",", "T", ",", "alpha", ")", ":", "\n", "    ", "return", "F", ".", "kl_div", "(", "F", ".", "log_softmax", "(", "y", "/", "T", ")", ",", "F", ".", "softmax", "(", "teacher_scores", "/", "T", ")", ")", "*", "(", "T", "*", "T", "*", "2.", "*", "alpha", ")", "+", "F", ".", "cross_entropy", "(", "y", ",", "labels", ")", "*", "(", "1.", "-", "alpha", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.rocket_distillation": [[17, 19], ["torch.kl_div", "torch.log_softmax", "torch.softmax"], "function", ["None"], ["", "def", "rocket_distillation", "(", "y", ",", "teacher_scores", ",", "labels", ",", "T", ",", "alpha", ")", ":", "\n", "    ", "return", "F", ".", "kl_div", "(", "F", ".", "log_softmax", "(", "y", "/", "T", ")", ",", "F", ".", "softmax", "(", "teacher_scores", "/", "T", ")", ")", "*", "(", "T", "*", "T", "*", "2.", "*", "alpha", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.normalize": [[21, 43], ["torch.norm().clamp().expand_as", "torch.norm().clamp().expand_as", "torch.norm().clamp().expand_as", "torch.norm().clamp", "torch.norm().clamp", "torch.norm().clamp", "torch.norm", "torch.norm", "torch.norm"], "function", ["None"], ["", "def", "normalize", "(", "input", ",", "p", "=", "2", ",", "dim", "=", "1", ",", "eps", "=", "1e-12", ")", ":", "\n", "    ", "r\"\"\"Performs :math:`L_p` normalization of inputs over specified dimension.\n\n    Does:\n\n    .. math::\n        v = \\frac{v}{\\max(\\lVert v \\rVert_p, \\epsilon)}\n\n    for each subtensor v over dimension dim of input. Each subtensor is\n    flattened into a vector, i.e. :math:`\\lVert v \\rVert_p` is not a matrix\n    norm.\n\n    With default arguments normalizes over the second dimension with Euclidean\n    norm.\n\n    Args:\n        input: input tensor of any shape\n        p (float): the exponent value in the norm formulation\n        dim (int): the dimension to reduce\n        eps (float): small value to avoid division by zero\n    \"\"\"", "\n", "return", "input", "/", "torch", ".", "norm", "(", "input", ",", "p", ",", "dim", ")", ".", "clamp", "(", "min", "=", "eps", ")", ".", "expand_as", "(", "input", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.at": [[45, 47], ["utils.normalize", "x.pow().mean().view", "x.size", "x.pow().mean", "x.pow"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.normalize"], ["", "def", "at", "(", "x", ")", ":", "\n", "    ", "return", "normalize", "(", "x", ".", "pow", "(", "2", ")", ".", "mean", "(", "1", ")", ".", "view", "(", "x", ".", "size", "(", "0", ")", ",", "-", "1", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.at_loss": [[49, 51], ["utils.at", "utils.at"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.at", "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.at"], ["", "def", "at_loss", "(", "x", ",", "y", ")", ":", "\n", "    ", "return", "(", "at", "(", "x", ")", "-", "at", "(", "y", ")", ")", ".", "pow", "(", "2", ")", ".", "mean", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.cast": [[53, 58], ["isinstance", "utils.cast", "getattr", "params.items", "params.cuda"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.cast"], ["", "def", "cast", "(", "params", ",", "dtype", "=", "'float'", ")", ":", "\n", "    ", "if", "isinstance", "(", "params", ",", "dict", ")", ":", "\n", "        ", "return", "{", "k", ":", "cast", "(", "v", ",", "dtype", ")", "for", "k", ",", "v", "in", "params", ".", "items", "(", ")", "}", "\n", "", "else", ":", "\n", "        ", "return", "getattr", "(", "params", ".", "cuda", "(", ")", ",", "dtype", ")", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.conv_params": [[60, 62], ["utils.cast", "torch.nn.init.kaiming_normal", "torch.Tensor", "torch.Tensor", "torch.Tensor"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.cast"], ["", "", "def", "conv_params", "(", "ni", ",", "no", ",", "k", "=", "1", ")", ":", "\n", "    ", "return", "cast", "(", "kaiming_normal", "(", "torch", ".", "Tensor", "(", "no", ",", "ni", ",", "k", ",", "k", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.linear_params": [[64, 66], ["utils.cast", "torch.nn.init.kaiming_normal", "torch.zeros", "torch.zeros", "torch.zeros", "torch.Tensor", "torch.Tensor", "torch.Tensor"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.cast"], ["", "def", "linear_params", "(", "ni", ",", "no", ")", ":", "\n", "    ", "return", "cast", "(", "{", "'weight'", ":", "kaiming_normal", "(", "torch", ".", "Tensor", "(", "no", ",", "ni", ")", ")", ",", "'bias'", ":", "torch", ".", "zeros", "(", "no", ")", "}", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.bnparams": [[68, 70], ["utils.cast", "torch.rand", "torch.rand", "torch.rand", "torch.zeros", "torch.zeros", "torch.zeros"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.cast"], ["", "def", "bnparams", "(", "n", ")", ":", "\n", "    ", "return", "cast", "(", "{", "'weight'", ":", "torch", ".", "rand", "(", "n", ")", ",", "'bias'", ":", "torch", ".", "zeros", "(", "n", ")", "}", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.bnstats": [[72, 74], ["utils.cast", "torch.zeros", "torch.zeros", "torch.zeros", "torch.ones", "torch.ones", "torch.ones"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.cast"], ["", "def", "bnstats", "(", "n", ")", ":", "\n", "    ", "return", "cast", "(", "{", "'running_mean'", ":", "torch", ".", "zeros", "(", "n", ")", ",", "'running_var'", ":", "torch", ".", "ones", "(", "n", ")", "}", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.data_parallel": [[76, 98], ["utils.data_parallel.replicate"], "function", ["None"], ["", "def", "data_parallel", "(", "f", ",", "input", ",", "params", ",", "stats", ",", "mode", ",", "device_ids", ",", "output_device", "=", "None", ")", ":", "\n", "    ", "if", "output_device", "is", "None", ":", "\n", "        ", "output_device", "=", "device_ids", "[", "0", "]", "\n", "\n", "", "if", "len", "(", "device_ids", ")", "==", "1", ":", "\n", "        ", "return", "f", "(", "input", ",", "params", ",", "stats", ",", "mode", ")", "\n", "\n", "", "def", "replicate", "(", "param_dict", ",", "g", ")", ":", "\n", "        ", "replicas", "=", "[", "{", "}", "for", "d", "in", "device_ids", "]", "\n", "for", "k", ",", "v", "in", "param_dict", ".", "iteritems", "(", ")", ":", "\n", "            ", "for", "i", ",", "u", "in", "enumerate", "(", "g", "(", "v", ")", ")", ":", "\n", "                ", "replicas", "[", "i", "]", "[", "k", "]", "=", "u", "\n", "", "", "return", "replicas", "\n", "\n", "", "params_replicas", "=", "replicate", "(", "params", ",", "lambda", "x", ":", "Broadcast", "(", "device_ids", ")", "(", "x", ")", ")", "\n", "stats_replicas", "=", "replicate", "(", "stats", ",", "lambda", "x", ":", "comm", ".", "broadcast", "(", "x", ",", "device_ids", ")", ")", "\n", "\n", "replicas", "=", "[", "partial", "(", "f", ",", "params", "=", "p", ",", "stats", "=", "s", ",", "mode", "=", "mode", ")", "\n", "for", "p", ",", "s", "in", "zip", "(", "params_replicas", ",", "stats_replicas", ")", "]", "\n", "inputs", "=", "scatter", "(", "[", "input", "]", ",", "device_ids", ")", "\n", "outputs", "=", "parallel_apply", "(", "replicas", ",", "inputs", ")", "\n", "return", "gather", "(", "outputs", ",", "output_device", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.flatten_params": [[100, 103], ["collections.OrderedDict", "torch.autograd.Variable", "nested_dict.nested_dict().iteritems_flat", "nested_dict.nested_dict"], "function", ["None"], ["", "def", "flatten_params", "(", "params", ")", ":", "\n", "    ", "return", "OrderedDict", "(", "(", "'.'", ".", "join", "(", "k", ")", ",", "Variable", "(", "v", ",", "requires_grad", "=", "True", ")", ")", "\n", "for", "k", ",", "v", "in", "nested_dict", "(", "params", ")", ".", "iteritems_flat", "(", ")", "if", "v", "is", "not", "None", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.flatten_stats": [[105, 108], ["collections.OrderedDict", "nested_dict.nested_dict().iteritems_flat", "nested_dict.nested_dict"], "function", ["None"], ["", "def", "flatten_stats", "(", "stats", ")", ":", "\n", "    ", "return", "OrderedDict", "(", "(", "'.'", ".", "join", "(", "k", ")", ",", "v", ")", "\n", "for", "k", ",", "v", "in", "nested_dict", "(", "stats", ")", ".", "iteritems_flat", "(", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.batch_norm": [[110, 116], ["torch.batch_norm"], "function", ["home.repos.pwc.inspect_result.zhougr1993_Rocket-Launching.None.utils.batch_norm"], ["", "def", "batch_norm", "(", "x", ",", "params", ",", "stats", ",", "base", ",", "mode", ")", ":", "\n", "    ", "return", "F", ".", "batch_norm", "(", "x", ",", "weight", "=", "params", "[", "base", "+", "'.weight'", "]", ",", "\n", "bias", "=", "params", "[", "base", "+", "'.bias'", "]", ",", "\n", "running_mean", "=", "stats", "[", "base", "+", "'.running_mean'", "]", ",", "\n", "running_var", "=", "stats", "[", "base", "+", "'.running_var'", "]", ",", "\n", "training", "=", "mode", ")", "\n", "", ""]]}