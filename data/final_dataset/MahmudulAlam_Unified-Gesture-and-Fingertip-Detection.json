{"home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.train.loss_function_1": [[9, 17], ["tensorflow.clip_by_value", "tensorflow.clip_by_value", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.subtract", "tensorflow.multiply", "tensorflow.multiply", "tensorflow.subtract", "tensorflow.math.log", "tensorflow.math.log"], "function", ["None"], ["def", "loss_function_1", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "\"\"\" Probabilistic output loss \"\"\"", "\n", "a", "=", "tf", ".", "clip_by_value", "(", "y_pred", ",", "1e-20", ",", "1", ")", "\n", "b", "=", "tf", ".", "clip_by_value", "(", "tf", ".", "subtract", "(", "1.0", ",", "y_pred", ")", ",", "1e-20", ",", "1", ")", "\n", "cross_entropy", "=", "-", "tf", ".", "multiply", "(", "y_true", ",", "tf", ".", "math", ".", "log", "(", "a", ")", ")", "-", "tf", ".", "multiply", "(", "tf", ".", "subtract", "(", "1.0", ",", "y_true", ")", ",", "tf", ".", "math", ".", "log", "(", "b", ")", ")", "\n", "cross_entropy", "=", "tf", ".", "reduce_mean", "(", "cross_entropy", ",", "0", ")", "\n", "loss", "=", "tf", ".", "reduce_mean", "(", "cross_entropy", ")", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.train.loss_function_2": [[19, 29], ["tensorflow.math.squared_difference", "tensorflow.not_equal", "tensorflow.cast", "tensorflow.multiply", "tensorflow.reduce_mean", "tensorflow.reduce_mean", "tensorflow.reduce_mean"], "function", ["None"], ["", "def", "loss_function_2", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "\"\"\" Positional output loss \"\"\"", "\n", "square_diff", "=", "tf", ".", "math", ".", "squared_difference", "(", "y_true", ",", "y_pred", ")", "\n", "mask", "=", "tf", ".", "not_equal", "(", "y_true", ",", "0", ")", "\n", "mask", "=", "tf", ".", "cast", "(", "mask", ",", "tf", ".", "float32", ")", "\n", "square_diff", "=", "tf", ".", "multiply", "(", "square_diff", ",", "mask", ")", "\n", "square_diff", "=", "tf", ".", "reduce_mean", "(", "square_diff", ",", "1", ")", "\n", "square_diff", "=", "tf", ".", "reduce_mean", "(", "square_diff", ",", "0", ")", "\n", "loss", "=", "tf", ".", "reduce_mean", "(", "square_diff", ")", "\n", "return", "loss", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.generator.batch_indices": [[7, 13], ["list", "list", "list.append", "list", "range", "range", "zip"], "function", ["None"], ["def", "batch_indices", "(", "batch_size", "=", "None", ",", "dataset_size", "=", "None", ")", ":", "\n", "    ", "index_a", "=", "list", "(", "range", "(", "0", ",", "dataset_size", ",", "batch_size", ")", ")", "\n", "index_b", "=", "list", "(", "range", "(", "batch_size", ",", "dataset_size", ",", "batch_size", ")", ")", "\n", "index_b", ".", "append", "(", "dataset_size", ")", "\n", "indices", "=", "list", "(", "zip", "(", "index_a", ",", "index_b", ")", ")", "\n", "return", "indices", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.generator.train_generator": [[15, 70], ["numpy.load", "numpy.load", "numpy.load", "generator.batch_indices", "print", "int", "preprocess.augmentation.augment", "numpy.append", "numpy.append", "numpy.append", "numpy.squeeze", "numpy.reshape", "numpy.repeat", "random.randint", "numpy.random.seed", "numpy.random.shuffle", "numpy.random.seed", "numpy.random.shuffle", "numpy.random.seed", "numpy.random.shuffle", "visualize.visualize", "visualize.visualize"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.batch_indices", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.augment", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.utils.visualize", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.utils.visualize"], ["", "def", "train_generator", "(", "batch_size", ",", "is_augment", "=", "True", ",", "viz", "=", "False", ")", ":", "\n", "    ", "if", "is_augment", ":", "\n", "        ", "batch_size", "=", "int", "(", "batch_size", "/", "2", ")", "\n", "\n", "# load dataset", "\n", "", "directory", "=", "'dataset/train/'", "\n", "\n", "train_x_full", "=", "np", ".", "load", "(", "directory", "+", "'train_x.npy'", ")", "\n", "train_y_prob_full", "=", "np", ".", "load", "(", "directory", "+", "'train_y_prob.npy'", ")", "\n", "train_y_keys_full", "=", "np", ".", "load", "(", "directory", "+", "'train_y_keys.npy'", ")", "\n", "\n", "dataset_size", "=", "train_y_prob_full", ".", "shape", "[", "0", "]", "\n", "indices", "=", "batch_indices", "(", "batch_size", "=", "batch_size", ",", "dataset_size", "=", "dataset_size", ")", "\n", "print", "(", "'Training Dataset Size: {0}'", ".", "format", "(", "dataset_size", ")", ")", "\n", "\n", "while", "True", ":", "\n", "\n", "        ", "for", "index", "in", "indices", ":", "\n", "# load from dataset", "\n", "            ", "train_x", "=", "train_x_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "train_y_prob", "=", "train_y_prob_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "train_y_keys", "=", "train_y_keys_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "train_x", "[", "-", "1", "]", ",", "train_y_prob", "[", "-", "1", "]", ",", "train_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# augment dataset and append to the batch", "\n", "", "train_x_aug", ",", "train_y_keys_aug", "=", "augment", "(", "train_x", ",", "train_y_prob", ",", "train_y_keys", ")", "\n", "train_x", "=", "np", ".", "append", "(", "train_x", ",", "train_x_aug", ",", "axis", "=", "0", ")", "\n", "train_y_prob", "=", "np", ".", "append", "(", "train_y_prob", ",", "train_y_prob", ",", "axis", "=", "0", ")", "\n", "train_y_keys", "=", "np", ".", "append", "(", "train_y_keys", ",", "train_y_keys_aug", ",", "axis", "=", "0", ")", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "train_x", "[", "-", "1", "]", ",", "train_y_prob", "[", "-", "1", "]", ",", "train_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# normalizing the image and the keypoints", "\n", "", "train_x", "=", "train_x", "/", "255.0", "\n", "train_y_prob", "=", "np", ".", "squeeze", "(", "train_y_prob", ")", "\n", "train_y_keys", "=", "train_y_keys", "/", "128.0", "\n", "\n", "# creating ensembles of the keypoints", "\n", "train_y_keys", "=", "np", ".", "reshape", "(", "train_y_keys", ",", "(", "train_y_keys", ".", "shape", "[", "0", "]", ",", "1", ",", "10", ")", ")", "\n", "train_y_keys", "=", "np", ".", "repeat", "(", "train_y_keys", ",", "10", ",", "axis", "=", "1", ")", "\n", "\n", "# random shuffling over the batch", "\n", "seed", "=", "random", ".", "randint", "(", "0", ",", "1000", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_x", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_y_prob", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_y_keys", ")", "\n", "\n", "train_y", "=", "[", "train_y_prob", ",", "train_y_keys", "]", "\n", "yield", "train_x", ",", "train_y", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.generator.valid_generator": [[72, 105], ["numpy.load", "numpy.load", "numpy.load", "generator.batch_indices", "print", "numpy.squeeze", "numpy.reshape", "numpy.repeat", "visualize.visualize"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.batch_indices", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.utils.visualize"], ["", "", "", "def", "valid_generator", "(", "batch_size", ",", "viz", "=", "False", ")", ":", "\n", "    ", "directory", "=", "'dataset/valid/'", "\n", "\n", "valid_x_full", "=", "np", ".", "load", "(", "directory", "+", "'valid_x.npy'", ")", "\n", "valid_y_prob_full", "=", "np", ".", "load", "(", "directory", "+", "'valid_y_prob.npy'", ")", "\n", "valid_y_keys_full", "=", "np", ".", "load", "(", "directory", "+", "'valid_y_keys.npy'", ")", "\n", "\n", "dataset_size", "=", "valid_y_prob_full", ".", "shape", "[", "0", "]", "\n", "indices", "=", "batch_indices", "(", "batch_size", "=", "batch_size", ",", "dataset_size", "=", "dataset_size", ")", "\n", "print", "(", "'Validation  Dataset Size: {0}'", ".", "format", "(", "dataset_size", ")", ")", "\n", "\n", "while", "True", ":", "\n", "\n", "        ", "for", "index", "in", "indices", ":", "\n", "# load from dataset", "\n", "            ", "valid_x", "=", "valid_x_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "valid_y_prob", "=", "valid_y_prob_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "valid_y_keys", "=", "valid_y_keys_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "valid_x", "[", "-", "1", "]", ",", "valid_y_prob", "[", "-", "1", "]", ",", "valid_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# normalizing the image and the keypoints", "\n", "", "valid_x", "=", "valid_x", "/", "255.0", "\n", "valid_y_prob", "=", "np", ".", "squeeze", "(", "valid_y_prob", ")", "\n", "valid_y_keys", "=", "valid_y_keys", "/", "128.0", "\n", "\n", "# creating ensembles of the keypoints", "\n", "valid_y_keys", "=", "np", ".", "reshape", "(", "valid_y_keys", ",", "(", "valid_y_keys", ".", "shape", "[", "0", "]", ",", "1", ",", "10", ")", ")", "\n", "valid_y_keys", "=", "np", ".", "repeat", "(", "valid_y_keys", ",", "10", ",", "axis", "=", "1", ")", "\n", "\n", "valid_y", "=", "[", "valid_y_prob", ",", "valid_y_keys", "]", "\n", "yield", "valid_x", ",", "valid_y", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.visualize.visualize": [[6, 22], ["numpy.asarray", "prob.squeeze.squeeze", "key.squeeze.squeeze", "enumerate", "cv2.imshow", "cv2.waitKey", "cv2.circle", "int", "int"], "function", ["None"], ["def", "visualize", "(", "img", ",", "prob", ",", "key", ")", ":", "\n", "    ", "index", "=", "0", "\n", "\n", "# preprocess", "\n", "img", "=", "np", ".", "asarray", "(", "img", ",", "dtype", "=", "np", ".", "uint8", ")", "\n", "prob", "=", "prob", ".", "squeeze", "(", ")", "\n", "key", "=", "key", ".", "squeeze", "(", ")", "\n", "\n", "color", "=", "[", "(", "15", ",", "15", ",", "240", ")", ",", "(", "15", ",", "240", ",", "155", ")", ",", "(", "240", ",", "155", ",", "15", ")", ",", "(", "240", ",", "15", ",", "155", ")", ",", "(", "240", ",", "15", ",", "240", ")", "]", "\n", "for", "c", ",", "p", "in", "enumerate", "(", "prob", ")", ":", "\n", "        ", "if", "p", ">", "0.5", ":", "\n", "            ", "img", "=", "cv2", ".", "circle", "(", "img", ",", "(", "int", "(", "key", "[", "index", "]", ")", ",", "int", "(", "key", "[", "index", "+", "1", "]", ")", ")", ",", "radius", "=", "5", ",", "color", "=", "color", "[", "c", "]", ",", "thickness", "=", "-", "2", ")", "\n", "", "index", "=", "index", "+", "2", "\n", "\n", "", "cv2", ".", "imshow", "(", "'Unified Gesture & Fingertips Detection'", ",", "img", ")", "\n", "cv2", ".", "waitKey", "(", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.unified_detector.Fingertips.__init__": [[7, 10], ["net.network.model", "unified_detector.Fingertips.model.load_weights"], "methods", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.net.network.model"], ["    ", "def", "__init__", "(", "self", ",", "weights", ")", ":", "\n", "        ", "self", ".", "model", "=", "model", "(", ")", "\n", "self", ".", "model", ".", "load_weights", "(", "weights", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.unified_detector.Fingertips.class_finder": [[11, 33], ["numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "class_finder", "(", "prob", ")", ":", "\n", "        ", "cls", "=", "''", "\n", "classes", "=", "[", "0", ",", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", ",", "7", "]", "\n", "\n", "if", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "0", ",", "0", ",", "0", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "0", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "1", ",", "0", ",", "0", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "1", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "1", ",", "1", ",", "0", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "2", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "1", ",", "1", ",", "1", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "3", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "1", ",", "1", ",", "1", ",", "1", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "4", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "0", ",", "0", ",", "0", ",", "1", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "5", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "1", ",", "0", ",", "0", ",", "1", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "6", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "1", ",", "0", ",", "0", ",", "0", "]", ")", ")", ":", "\n", "            ", "cls", "=", "classes", "[", "7", "]", "\n", "", "return", "cls", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.None.unified_detector.Fingertips.classify": [[34, 44], ["numpy.asarray", "cv2.resize", "numpy.expand_dims.astype", "numpy.expand_dims", "unified_detector.Fingertips.model.predict"], "methods", ["None"], ["", "def", "classify", "(", "self", ",", "image", ")", ":", "\n", "        ", "image", "=", "np", ".", "asarray", "(", "image", ")", "\n", "image", "=", "cv2", ".", "resize", "(", "image", ",", "(", "128", ",", "128", ")", ")", "\n", "image", "=", "image", ".", "astype", "(", "'float32'", ")", "\n", "image", "=", "image", "/", "255.0", "\n", "image", "=", "np", ".", "expand_dims", "(", "image", ",", "axis", "=", "0", ")", "\n", "probability", ",", "position", "=", "self", ".", "model", ".", "predict", "(", "image", ")", "\n", "probability", "=", "probability", "[", "0", "]", "\n", "position", "=", "position", "[", "0", "]", "\n", "return", "probability", ",", "position", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.dataset.load_dataset.visualize": [[5, 19], ["enumerate", "cv2.imshow", "cv2.destroyAllWindows", "print", "cv2.circle", "cv2.waitKey", "int", "int"], "function", ["None"], ["def", "visualize", "(", "image", ",", "prob", ",", "key", ")", ":", "\n", "    ", "index", "=", "0", "\n", "\n", "color", "=", "[", "(", "120", ",", "20", ",", "240", ")", ",", "(", "240", ",", "55", ",", "210", ")", ",", "(", "240", ",", "55", ",", "140", ")", ",", "(", "240", ",", "75", ",", "55", ")", ",", "(", "170", ",", "240", ",", "55", ")", "]", "\n", "for", "c", ",", "p", "in", "enumerate", "(", "prob", ")", ":", "\n", "        ", "if", "p", ">", "0.5", ":", "\n", "            ", "print", "(", "key", "[", "index", "]", ")", "\n", "image", "=", "cv2", ".", "circle", "(", "image", ",", "(", "int", "(", "key", "[", "index", "]", ")", ",", "int", "(", "key", "[", "index", "+", "1", "]", ")", ")", ",", "radius", "=", "5", ",", "color", "=", "color", "[", "c", "]", ",", "thickness", "=", "-", "2", ")", "\n", "", "index", "=", "index", "+", "2", "\n", "\n", "", "cv2", ".", "imshow", "(", "\"Press 'Esc' to CLOSE\"", ",", "image", ")", "\n", "if", "cv2", ".", "waitKey", "(", "0", ")", "&", "0xff", "==", "27", ":", "\n", "        ", "cv2", ".", "destroyAllWindows", "(", ")", "\n", "", "return", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.hand_detector.detector.SOLO.__init__": [[10, 15], ["hand_detector.solo.preprocess.solo_flag.Flag", "hand_detector.solo.solo_net.model", "detector.SOLO.model.load_weights"], "methods", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.net.network.model"], ["    ", "def", "__init__", "(", "self", ",", "weights", ",", "threshold", ")", ":", "\n", "        ", "self", ".", "f", "=", "soloFlag", "(", ")", "\n", "self", ".", "model", "=", "solo_model", "(", ")", "\n", "self", ".", "threshold", "=", "threshold", "\n", "self", ".", "model", ".", "load_weights", "(", "weights", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.hand_detector.detector.SOLO.detect": [[16, 45], ["cv2.resize", "numpy.expand_dims", "detector.SOLO.model.predict", "numpy.where", "int", "int", "int", "int", "min", "min", "print", "max", "max"], "methods", ["None"], ["", "def", "detect", "(", "self", ",", "image", ")", ":", "\n", "        ", "ori_image", "=", "image", "\n", "height", ",", "width", ",", "_", "=", "ori_image", ".", "shape", "\n", "image", "=", "cv2", ".", "resize", "(", "ori_image", ",", "(", "416", ",", "416", ")", ")", "\n", "img", "=", "image", "/", "255.0", "\n", "img", "=", "np", ".", "expand_dims", "(", "img", ",", "axis", "=", "0", ")", "\n", "grid_output", "=", "self", ".", "model", ".", "predict", "(", "img", ")", "\n", "grid_output", "=", "grid_output", "[", "0", "]", "\n", "output", "=", "(", "grid_output", ">", "self", ".", "threshold", ")", ".", "astype", "(", "'int'", ")", "\n", "\n", "# finding bounding box", "\n", "prediction", "=", "np", ".", "where", "(", "output", ">", "self", ".", "threshold", ")", "\n", "row_wise", "=", "prediction", "[", "0", "]", "\n", "col_wise", "=", "prediction", "[", "1", "]", "\n", "try", ":", "\n", "            ", "x1", "=", "min", "(", "col_wise", ")", "*", "self", ".", "f", ".", "grid_size", "\n", "y1", "=", "min", "(", "row_wise", ")", "*", "self", ".", "f", ".", "grid_size", "\n", "x2", "=", "(", "max", "(", "col_wise", ")", "+", "1", ")", "*", "self", ".", "f", ".", "grid_size", "\n", "y2", "=", "(", "max", "(", "row_wise", ")", "+", "1", ")", "*", "self", ".", "f", ".", "grid_size", "\n", "# size conversion", "\n", "x1", "=", "int", "(", "x1", "/", "self", ".", "f", ".", "target_size", "*", "width", ")", "\n", "y1", "=", "int", "(", "y1", "/", "self", ".", "f", ".", "target_size", "*", "height", ")", "\n", "x2", "=", "int", "(", "x2", "/", "self", ".", "f", ".", "target_size", "*", "width", ")", "\n", "y2", "=", "int", "(", "y2", "/", "self", ".", "f", ".", "target_size", "*", "height", ")", "\n", "return", "(", "x1", ",", "y1", ")", ",", "(", "x2", ",", "y2", ")", "\n", "\n", "", "except", "ValueError", ":", "\n", "            ", "print", "(", "'NO Hand Detected'", ")", "\n", "return", "None", ",", "None", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.hand_detector.detector.YOLO.__init__": [[48, 53], ["hand_detector.yolo.preprocess.yolo_flag.Flag", "hand_detector.yolo.darknet.model", "detector.YOLO.model.load_weights"], "methods", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.net.network.model"], ["    ", "def", "__init__", "(", "self", ",", "weights", ",", "threshold", ")", ":", "\n", "        ", "self", ".", "f", "=", "yoloFlag", "(", ")", "\n", "self", ".", "model", "=", "yolo_model", "(", ")", "\n", "self", ".", "threshold", "=", "threshold", "\n", "self", ".", "model", ".", "load_weights", "(", "weights", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.hand_detector.detector.YOLO.detect": [[54, 76], ["cv2.cvtColor", "numpy.expand_dims", "detector.YOLO.model.predict", "numpy.squeeze", "cv2.resize", "numpy.where", "int", "int", "int", "int", "numpy.amax"], "methods", ["None"], ["", "def", "detect", "(", "self", ",", "image", ")", ":", "\n", "        ", "height", ",", "width", ",", "_", "=", "image", ".", "shape", "\n", "image", "=", "cv2", ".", "cvtColor", "(", "image", ",", "cv2", ".", "COLOR_BGR2RGB", ")", "\n", "image", "=", "cv2", ".", "resize", "(", "image", ",", "(", "self", ".", "f", ".", "target_size", ",", "self", ".", "f", ".", "target_size", ")", ")", "/", "255.0", "\n", "image", "=", "np", ".", "expand_dims", "(", "image", ",", "axis", "=", "0", ")", "\n", "yolo_out", "=", "self", ".", "model", ".", "predict", "(", "image", ")", "\n", "yolo_out", "=", "yolo_out", "[", "0", "]", "\n", "\n", "grid_pred", "=", "yolo_out", "[", ":", ",", ":", ",", "0", "]", "\n", "i", ",", "j", "=", "np", ".", "squeeze", "(", "np", ".", "where", "(", "grid_pred", "==", "np", ".", "amax", "(", "grid_pred", ")", ")", ")", "\n", "\n", "if", "grid_pred", "[", "i", ",", "j", "]", ">=", "self", ".", "threshold", ":", "\n", "            ", "bbox", "=", "yolo_out", "[", "i", ",", "j", ",", "1", ":", "]", "\n", "x1", ",", "y1", ",", "x2", ",", "y2", "=", "bbox", "[", "0", "]", ",", "bbox", "[", "1", "]", ",", "bbox", "[", "2", "]", ",", "bbox", "[", "3", "]", "\n", "# size conversion", "\n", "x1", "=", "int", "(", "x1", "*", "width", ")", "\n", "y1", "=", "int", "(", "y1", "*", "height", ")", "\n", "x2", "=", "int", "(", "x2", "*", "width", ")", "\n", "y2", "=", "int", "(", "y2", "*", "height", ")", "\n", "return", "(", "x1", ",", "y1", ")", ",", "(", "x2", ",", "y2", ")", "\n", "", "else", ":", "\n", "            ", "return", "None", ",", "None", "\n", "", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.solo.generator.train_generator": [[25, 66], ["range", "print", "random.shuffle", "len", "range", "os.listdir", "range", "numpy.asarray", "x_batch.astype.astype", "numpy.asarray", "preprocess.finder.find_folder", "cv2.imread", "cv2.resize", "hand_detector.solo.preprocess.solo_labelgen.label_generator", "x_batch.astype.append", "hand_detector.solo.preprocess.solo_labelgen.grid_generator", "np.asarray.append", "hand_detector.solo.preprocess.augmentation.augment", "x_batch.astype.append", "hand_detector.solo.preprocess.solo_labelgen.grid_generator", "np.asarray.append", "label.get"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finder.find_folder", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.data_generator.label_generator", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.solo_labelgen.grid_generator", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.augment", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.solo_labelgen.grid_generator"], ["\n", "dataset_size", "=", "train_y_prob_full", ".", "shape", "[", "0", "]", "\n", "indices", "=", "batch_indices", "(", "batch_size", "=", "batch_size", ",", "dataset_size", "=", "dataset_size", ")", "\n", "print", "(", "'Training Dataset Size: {0}'", ".", "format", "(", "dataset_size", ")", ")", "\n", "\n", "while", "True", ":", "\n", "\n", "        ", "for", "index", "in", "indices", ":", "\n", "# load from dataset", "\n", "            ", "train_x", "=", "train_x_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "train_y_prob", "=", "train_y_prob_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "train_y_keys", "=", "train_y_keys_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "train_x", "[", "-", "1", "]", ",", "train_y_prob", "[", "-", "1", "]", ",", "train_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# augment dataset and append to the batch", "\n", "", "train_x_aug", ",", "train_y_keys_aug", "=", "augment", "(", "train_x", ",", "train_y_prob", ",", "train_y_keys", ")", "\n", "train_x", "=", "np", ".", "append", "(", "train_x", ",", "train_x_aug", ",", "axis", "=", "0", ")", "\n", "train_y_prob", "=", "np", ".", "append", "(", "train_y_prob", ",", "train_y_prob", ",", "axis", "=", "0", ")", "\n", "train_y_keys", "=", "np", ".", "append", "(", "train_y_keys", ",", "train_y_keys_aug", ",", "axis", "=", "0", ")", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "train_x", "[", "-", "1", "]", ",", "train_y_prob", "[", "-", "1", "]", ",", "train_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# normalizing the image and the keypoints", "\n", "", "train_x", "=", "train_x", "/", "255.0", "\n", "train_y_prob", "=", "np", ".", "squeeze", "(", "train_y_prob", ")", "\n", "train_y_keys", "=", "train_y_keys", "/", "128.0", "\n", "\n", "# creating ensembles of the keypoints", "\n", "train_y_keys", "=", "np", ".", "reshape", "(", "train_y_keys", ",", "(", "train_y_keys", ".", "shape", "[", "0", "]", ",", "1", ",", "10", ")", ")", "\n", "train_y_keys", "=", "np", ".", "repeat", "(", "train_y_keys", ",", "10", ",", "axis", "=", "1", ")", "\n", "\n", "# random shuffling over the batch", "\n", "seed", "=", "random", ".", "randint", "(", "0", ",", "1000", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_x", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_y_prob", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_y_keys", ")", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.solo.solo_net.model": [[6, 13], ["tensorflow.keras.applications.VGG16", "tensorflow.keras.models.Model", "tensorflow.keras.layers.Conv2D", "tensorflow.keras.layers.Reshape"], "function", ["None"], ["def", "model", "(", ")", ":", "\n", "    ", "model", "=", "VGG16", "(", "include_top", "=", "False", ",", "input_shape", "=", "(", "416", ",", "416", ",", "3", ")", ")", "\n", "x", "=", "model", ".", "output", "\n", "x", "=", "Conv2D", "(", "1", ",", "(", "1", ",", "1", ")", ",", "activation", "=", "'sigmoid'", ")", "(", "x", ")", "\n", "output", "=", "Reshape", "(", "(", "13", ",", "13", ")", ",", "name", "=", "'output'", ")", "(", "x", ")", "\n", "model", "=", "Model", "(", "model", ".", "input", ",", "output", ")", "\n", "return", "model", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.solo.visualize.visualize": [[15, 49], ["range", "range", "numpy.where", "cv2.imshow", "cv2.line", "cv2.line", "range", "cv2.rectangle", "cv2.destroyAllWindows", "min", "min", "print", "cv2.waitKey", "cv2.addWeighted.copy", "cv2.rectangle", "cv2.addWeighted", "max", "max"], "function", ["None"], ["for", "c", ",", "p", "in", "enumerate", "(", "prob", ")", ":", "\n", "        ", "if", "p", ">", "0.5", ":", "\n", "            ", "img", "=", "cv2", ".", "circle", "(", "img", ",", "(", "int", "(", "key", "[", "index", "]", ")", ",", "int", "(", "key", "[", "index", "+", "1", "]", ")", ")", ",", "radius", "=", "5", ",", "color", "=", "color", "[", "c", "]", ",", "thickness", "=", "-", "2", ")", "\n", "", "index", "=", "index", "+", "2", "\n", "\n", "", "cv2", ".", "imshow", "(", "'Unified Gesture & Fingertips Detection'", ",", "img", ")", "\n", "cv2", ".", "waitKey", "(", "0", ")", "\n", "\n", "\n", "", "if", "__name__", "==", "'__main__'", ":", "\n", "    ", "image", ",", "probability", ",", "keypoints", "=", "label_generator", "(", "directory", "=", "'./dataset/'", ",", "dtype", "=", "'train'", ",", "sample", "=", "0", ")", "\n", "visualize", "(", "img", "=", "image", ",", "prob", "=", "probability", ",", "key", "=", "keypoints", ")", "\n", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.solo_labelgen.file_reader": [[14, 19], ["open", "open.readlines", "open.close"], "function", ["None"], ["def", "file_reader", "(", "directory", ",", "file_name", ")", ":", "\n", "    ", "file", "=", "open", "(", "directory", "+", "file_name", "+", "'.txt'", ")", "\n", "label", "=", "file", ".", "readlines", "(", ")", "\n", "file", ".", "close", "(", ")", "\n", "return", "label", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.solo_labelgen.label_generator": [[21, 37], ["range", "numpy.array", "line.strip().split.strip().split", "line[].split", "int", "line.strip().split.strip", "float"], "function", ["None"], ["", "def", "label_generator", "(", "image_name", ",", "file", ")", ":", "\n", "    ", "label", "=", "[", "]", "\n", "for", "line", "in", "file", ":", "\n", "        ", "line", "=", "line", ".", "strip", "(", ")", ".", "split", "(", ")", "\n", "name", "=", "line", "[", "0", "]", ".", "split", "(", "'/'", ")", "[", "3", "]", "\n", "if", "image_name", "==", "name", ":", "\n", "            ", "label", "=", "line", "[", "1", ":", "]", "\n", "break", "\n", "\n", "", "", "\"\"\" obj_box: top-left and bottom-right coordinate of the bounding box \"\"\"", "\n", "obj_box", "=", "[", "0", ",", "0", ",", "0", ",", "0", "]", "\n", "for", "i", "in", "range", "(", "0", ",", "4", ")", ":", "\n", "        ", "obj_box", "[", "i", "]", "=", "obj_box", "[", "i", "]", "+", "int", "(", "float", "(", "label", "[", "i", "]", ")", "*", "target_size", ")", "\n", "\n", "", "obj_box", "=", "np", ".", "array", "(", "obj_box", ")", "\n", "return", "obj_box", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.solo_labelgen.grid_generator": [[39, 52], ["numpy.zeros", "range", "int", "range", "int", "int", "preprocess.iou.iou", "int"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.iou.iou"], ["", "def", "grid_generator", "(", "obj_box", ")", ":", "\n", "    ", "output", "=", "np", ".", "zeros", "(", "shape", "=", "(", "grid", ",", "grid", ")", ")", "\n", "# print(obj_box)", "\n", "for", "i", "in", "range", "(", "int", "(", "obj_box", "[", "1", "]", "/", "grid_size", ")", ",", "int", "(", "obj_box", "[", "3", "]", "/", "grid_size", ")", "+", "1", ")", ":", "\n", "        ", "for", "j", "in", "range", "(", "int", "(", "obj_box", "[", "0", "]", "/", "grid_size", ")", ",", "int", "(", "obj_box", "[", "2", "]", "/", "grid_size", ")", "+", "1", ")", ":", "\n", "            ", "x", "=", "j", "*", "grid_size", "\n", "y", "=", "i", "*", "grid_size", "\n", "grid_box", "=", "(", "x", ",", "y", ",", "x", "+", "grid_size", ",", "y", "+", "grid_size", ")", "\n", "overlap", "=", "iou", "(", "grid_box", "=", "grid_box", ",", "obj_box", "=", "obj_box", ")", "\n", "if", "overlap", ">", "0.5", ":", "\n", "                ", "output", "[", "i", ",", "j", "]", "=", "1", "\n", "\n", "", "", "", "return", "output", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.augment": [[9, 71], ["imgaug.augmenters.Sequential", "iaa.Sequential.add", "random.uniform", "iaa.Sequential.add", "iaa.Sequential.add", "iaa.Sequential.add", "iaa.Sequential.add", "iaa.Sequential.add", "iaa.Sequential.add", "iaa.Sequential.to_deterministic", "range", "numpy.asarray", "numpy.asarray", "numpy.expand_dims", "random.uniform", "random.uniform", "imgaug.augmenters.Affine", "imgaug.augmenters.Multiply", "imgaug.augmenters.CoarseDropout", "imgaug.augmenters.Dropout", "imgaug.augmenters.Salt", "imgaug.augmenters.AdditiveGaussianNoise", "imgaug.augmenters.Crop", "np.asarray.append", "imgaug.KeypointsOnImage", "range", "np.expand_dims.append", "aug.to_deterministic.augment_keypoints", "len", "random.uniform", "random.uniform", "random.uniform", "aug.to_deterministic.augment_images", "imgaug.Keypoint", "imgaug.Keypoint", "imgaug.Keypoint", "imgaug.Keypoint", "imgaug.Keypoint", "random.uniform", "random.uniform", "random.randint", "random.randint", "random.randint", "random.randint"], "function", ["None"], ["\n", "f", "=", "Flag", "(", ")", "\n", "size", "=", "f", ".", "target_size", "\n", "\n", "\n", "def", "augment", "(", "image", ",", "bbox", ")", ":", "\n", "    ", "x", "=", "random", ".", "randint", "(", "-", "50", ",", "50", ")", "\n", "y", "=", "random", ".", "randint", "(", "-", "50", ",", "50", ")", "\n", "aug", "=", "iaa", ".", "Sequential", "(", "[", "iaa", ".", "Multiply", "(", "random", ".", "uniform", "(", "0.5", ",", "1.5", ")", ")", ",", "\n", "iaa", ".", "AdditiveGaussianNoise", "(", "random", ".", "uniform", "(", "0.01", ",", "0.1", ")", "*", "255", ")", ",", "\n", "iaa", ".", "Affine", "(", "translate_px", "=", "{", "\"x\"", ":", "x", ",", "\"y\"", ":", "y", "}", ",", "\n", "scale", "=", "random", ".", "uniform", "(", "0.5", ",", "1.5", ")", ",", "\n", "rotate", "=", "random", ".", "uniform", "(", "-", "45", ",", "45", ")", ",", "\n", "cval", "=", "(", "0", ",", "255", ")", ")", "]", ")", "\n", "\n", "bbs", "=", "ia", ".", "BoundingBoxesOnImage", "(", "[", "ia", ".", "BoundingBox", "(", "x1", "=", "bbox", "[", "0", "]", ",", "y1", "=", "bbox", "[", "1", "]", ",", "x2", "=", "bbox", "[", "2", "]", ",", "y2", "=", "bbox", "[", "3", "]", ")", "]", ",", "shape", "=", "image", ".", "shape", ")", "\n", "\n", "aug", "=", "aug", ".", "to_deterministic", "(", ")", "\n", "image_aug", "=", "aug", ".", "augment_image", "(", "image", ")", "\n", "bbs_aug", "=", "aug", ".", "augment_bounding_boxes", "(", "[", "bbs", "]", ")", "[", "0", "]", "\n", "b", "=", "bbs_aug", ".", "bounding_boxes", "\n", "bbs_aug", "=", "[", "b", "[", "0", "]", ".", "x1", ",", "b", "[", "0", "]", ".", "y1", ",", "b", "[", "0", "]", ".", "x2", ",", "b", "[", "0", "]", ".", "y2", "]", "\n", "bbs_aug", "=", "np", ".", "asarray", "(", "bbs_aug", ")", "\n", "\n", "bbs_aug", "[", "0", "]", "=", "bbs_aug", "[", "0", "]", "if", "bbs_aug", "[", "0", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "1", "]", "=", "bbs_aug", "[", "1", "]", "if", "bbs_aug", "[", "1", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "2", "]", "=", "bbs_aug", "[", "2", "]", "if", "bbs_aug", "[", "2", "]", "<", "size", "else", "size", "\n", "bbs_aug", "[", "3", "]", "=", "bbs_aug", "[", "3", "]", "if", "bbs_aug", "[", "3", "]", "<", "size", "else", "size", "\n", "return", "image_aug", ",", "bbs_aug", "\n", "\n", "\n", "", "def", "augment_flip", "(", "image", ",", "bbox", ")", ":", "\n", "    ", "aug", "=", "iaa", ".", "Sequential", "(", "[", "iaa", ".", "Fliplr", "(", "1.0", ")", "]", ")", "\n", "\n", "bbs", "=", "ia", ".", "BoundingBoxesOnImage", "(", "[", "\n", "ia", ".", "BoundingBox", "(", "x1", "=", "bbox", "[", "0", "]", ",", "y1", "=", "bbox", "[", "1", "]", ",", "x2", "=", "bbox", "[", "2", "]", ",", "y2", "=", "bbox", "[", "3", "]", ")", "]", ",", "shape", "=", "image", ".", "shape", ")", "\n", "\n", "aug", "=", "aug", ".", "to_deterministic", "(", ")", "\n", "image_aug", "=", "aug", ".", "augment_image", "(", "image", ")", "\n", "image_aug", "=", "image_aug", ".", "copy", "(", ")", "\n", "bbs_aug", "=", "aug", ".", "augment_bounding_boxes", "(", "[", "bbs", "]", ")", "[", "0", "]", "\n", "b", "=", "bbs_aug", ".", "bounding_boxes", "\n", "bbs_aug", "=", "[", "b", "[", "0", "]", ".", "x1", ",", "b", "[", "0", "]", ".", "y1", ",", "b", "[", "0", "]", ".", "x2", ",", "b", "[", "0", "]", ".", "y2", "]", "\n", "bbs_aug", "=", "np", ".", "asarray", "(", "bbs_aug", ")", "\n", "\n", "bbs_aug", "[", "0", "]", "=", "bbs_aug", "[", "0", "]", "if", "bbs_aug", "[", "0", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "1", "]", "=", "bbs_aug", "[", "1", "]", "if", "bbs_aug", "[", "1", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "2", "]", "=", "bbs_aug", "[", "2", "]", "if", "bbs_aug", "[", "2", "]", "<", "size", "else", "size", "\n", "bbs_aug", "[", "3", "]", "=", "bbs_aug", "[", "3", "]", "if", "bbs_aug", "[", "3", "]", "<", "size", "else", "size", "\n", "return", "image_aug", ",", "bbs_aug", "\n", "\n", "\n", "", "if", "__name__", "==", "'__main__'", ":", "\n", "    ", "image_name", "=", "'ChuangyeguBusstop_Single_Five_color_139.jpg'", "\n", "folder_name", "=", "find_folder", "(", "image_name", "=", "image_name", ")", "\n", "folder_directory", "=", "'../../../../EgoGesture Dataset/'", "+", "folder_name", "+", "'/'", "\n", "label_directory", "=", "'../../../../EgoGesture Dataset/label/'", "+", "folder_name", "+", "'.txt'", "\n", "\n", "file", "=", "open", "(", "label_directory", ")", "\n", "f", "=", "file", ".", "readlines", "(", ")", "\n", "file", ".", "close", "(", ")", "\n", "\n", "image", "=", "cv2", ".", "imread", "(", "folder_directory", "+", "image_name", ")", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.augment_flip": [[40, 59], ["imgaug.Sequential", "imgaug.BoundingBoxesOnImage", "aug.to_deterministic.to_deterministic", "aug.to_deterministic.augment_image", "image_aug.copy.copy", "numpy.asarray", "aug.to_deterministic.augment_bounding_boxes", "imgaug.Fliplr", "imgaug.BoundingBox"], "function", ["None"], ["", "def", "augment_flip", "(", "image", ",", "bbox", ")", ":", "\n", "    ", "aug", "=", "iaa", ".", "Sequential", "(", "[", "iaa", ".", "Fliplr", "(", "1.0", ")", "]", ")", "\n", "\n", "bbs", "=", "ia", ".", "BoundingBoxesOnImage", "(", "[", "\n", "ia", ".", "BoundingBox", "(", "x1", "=", "bbox", "[", "0", "]", ",", "y1", "=", "bbox", "[", "1", "]", ",", "x2", "=", "bbox", "[", "2", "]", ",", "y2", "=", "bbox", "[", "3", "]", ")", "]", ",", "shape", "=", "image", ".", "shape", ")", "\n", "\n", "aug", "=", "aug", ".", "to_deterministic", "(", ")", "\n", "image_aug", "=", "aug", ".", "augment_image", "(", "image", ")", "\n", "image_aug", "=", "image_aug", ".", "copy", "(", ")", "\n", "bbs_aug", "=", "aug", ".", "augment_bounding_boxes", "(", "[", "bbs", "]", ")", "[", "0", "]", "\n", "b", "=", "bbs_aug", ".", "bounding_boxes", "\n", "bbs_aug", "=", "[", "b", "[", "0", "]", ".", "x1", ",", "b", "[", "0", "]", ".", "y1", ",", "b", "[", "0", "]", ".", "x2", ",", "b", "[", "0", "]", ".", "y2", "]", "\n", "bbs_aug", "=", "np", ".", "asarray", "(", "bbs_aug", ")", "\n", "\n", "bbs_aug", "[", "0", "]", "=", "bbs_aug", "[", "0", "]", "if", "bbs_aug", "[", "0", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "1", "]", "=", "bbs_aug", "[", "1", "]", "if", "bbs_aug", "[", "1", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "2", "]", "=", "bbs_aug", "[", "2", "]", "if", "bbs_aug", "[", "2", "]", "<", "size", "else", "size", "\n", "bbs_aug", "[", "3", "]", "=", "bbs_aug", "[", "3", "]", "if", "bbs_aug", "[", "3", "]", "<", "size", "else", "size", "\n", "return", "image_aug", ",", "bbs_aug", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.solo_flag.Flag.__init__": [[2, 7], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "self", ".", "grid", "=", "13", "\n", "self", ".", "grid_size", "=", "32", "\n", "self", ".", "target_size", "=", "416", "\n", "self", ".", "threshold", "=", "0.5", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.label_generator": [[16, 38], ["preprocess.finder.find_folder", "matplotlib.imread", "cv2.resize", "open", "open.readlines", "open.close", "numpy.array", "line.strip().split.strip().split", "line[].split", "float", "line.strip().split.strip"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finder.find_folder"], ["def", "label_generator", "(", "directory", ",", "image_name", ",", "type", "=", "''", ")", ":", "\n", "    ", "folder_name", "=", "find_folder", "(", "image_name", ")", "\n", "image", "=", "plt", ".", "imread", "(", "directory", "+", "folder_name", "+", "type", "+", "'/'", "+", "image_name", ")", "\n", "image", "=", "cv2", ".", "resize", "(", "image", ",", "(", "target_size", ",", "target_size", ")", ")", "\n", "\n", "file", "=", "open", "(", "directory", "+", "'label/'", "+", "folder_name", "+", "'.txt'", ")", "\n", "lines", "=", "file", ".", "readlines", "(", ")", "\n", "file", ".", "close", "(", ")", "\n", "\n", "label", "=", "[", "]", "\n", "for", "line", "in", "lines", ":", "\n", "        ", "line", "=", "line", ".", "strip", "(", ")", ".", "split", "(", ")", "\n", "name", "=", "line", "[", "0", "]", ".", "split", "(", "'/'", ")", "[", "3", "]", "\n", "if", "image_name", "==", "name", ":", "\n", "            ", "label", "=", "line", "[", "1", ":", "]", "\n", "break", "\n", "\n", "", "", "\"\"\" bbox: top-left and bottom-right coordinate of the bounding box \"\"\"", "\n", "label", "=", "label", "[", "0", ":", "4", "]", "\n", "bbox", "=", "[", "float", "(", "element", ")", "*", "target_size", "for", "element", "in", "label", "]", "\n", "bbox", "=", "np", ".", "array", "(", "bbox", ")", "\n", "return", "image", ",", "bbox", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.bbox_to_grid": [[40, 49], ["numpy.zeros", "int", "int", "numpy.floor", "numpy.floor"], "function", ["None"], ["", "def", "bbox_to_grid", "(", "bbox", ")", ":", "\n", "    ", "output", "=", "np", ".", "zeros", "(", "shape", "=", "(", "grid", ",", "grid", ",", "5", ")", ")", "\n", "center", "=", "(", "(", "bbox", "[", "0", "]", "+", "bbox", "[", "2", "]", ")", "/", "2", ",", "(", "bbox", "[", "1", "]", "+", "bbox", "[", "3", "]", ")", "/", "2", ")", "\n", "i", ",", "j", "=", "int", "(", "np", ".", "floor", "(", "center", "[", "0", "]", "/", "grid_size", ")", ")", ",", "int", "(", "np", ".", "floor", "(", "center", "[", "1", "]", "/", "grid_size", ")", ")", "\n", "i", "=", "i", "if", "i", "<", "f", ".", "grid", "else", "f", ".", "grid", "-", "1", "\n", "j", "=", "j", "if", "j", "<", "f", ".", "grid", "else", "f", ".", "grid", "-", "1", "\n", "output", "[", "i", ",", "j", ",", "0", "]", "=", "1", "\n", "output", "[", "i", ",", "j", ",", "1", ":", "]", "=", "bbox", "/", "f", ".", "target_size", "\n", "return", "output", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.yolo_flag.Flag.__init__": [[2, 11], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "self", ".", "grid", "=", "7", "\n", "self", ".", "grid_size", "=", "32", "\n", "self", ".", "target_size", "=", "224", "\n", "self", ".", "threshold", "=", "0.5", "\n", "self", ".", "alpha", "=", "0.5", "\n", "self", ".", "line_color", "=", "(", "18", ",", "203", ",", "227", ")", "\n", "self", ".", "grid_color", "=", "(", "81", ",", "189", ",", "42", ")", "\n", "self", ".", "box_color", "=", "(", "235", ",", "26", ",", "158", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.flip": [[41, 60], ["imgaug.Sequential", "imgaug.BoundingBoxesOnImage", "aug.to_deterministic.to_deterministic", "aug.to_deterministic.augment_image", "image_aug.copy.copy", "numpy.asarray", "aug.to_deterministic.augment_bounding_boxes", "imgaug.Fliplr", "imgaug.BoundingBox"], "function", ["None"], ["    ", "aug", "=", "iaa", ".", "Sequential", "(", "[", "iaa", ".", "Fliplr", "(", "1.0", ")", "]", ")", "\n", "\n", "bbs", "=", "ia", ".", "BoundingBoxesOnImage", "(", "[", "\n", "ia", ".", "BoundingBox", "(", "x1", "=", "bbox", "[", "0", "]", ",", "y1", "=", "bbox", "[", "1", "]", ",", "x2", "=", "bbox", "[", "2", "]", ",", "y2", "=", "bbox", "[", "3", "]", ")", "]", ",", "shape", "=", "image", ".", "shape", ")", "\n", "\n", "aug", "=", "aug", ".", "to_deterministic", "(", ")", "\n", "image_aug", "=", "aug", ".", "augment_image", "(", "image", ")", "\n", "image_aug", "=", "image_aug", ".", "copy", "(", ")", "\n", "bbs_aug", "=", "aug", ".", "augment_bounding_boxes", "(", "[", "bbs", "]", ")", "[", "0", "]", "\n", "b", "=", "bbs_aug", ".", "bounding_boxes", "\n", "bbs_aug", "=", "[", "b", "[", "0", "]", ".", "x1", ",", "b", "[", "0", "]", ".", "y1", ",", "b", "[", "0", "]", ".", "x2", ",", "b", "[", "0", "]", ".", "y2", "]", "\n", "bbs_aug", "=", "np", ".", "asarray", "(", "bbs_aug", ")", "\n", "\n", "bbs_aug", "[", "0", "]", "=", "bbs_aug", "[", "0", "]", "if", "bbs_aug", "[", "0", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "1", "]", "=", "bbs_aug", "[", "1", "]", "if", "bbs_aug", "[", "1", "]", ">", "0", "else", "0", "\n", "bbs_aug", "[", "2", "]", "=", "bbs_aug", "[", "2", "]", "if", "bbs_aug", "[", "2", "]", "<", "size", "else", "size", "\n", "bbs_aug", "[", "3", "]", "=", "bbs_aug", "[", "3", "]", "if", "bbs_aug", "[", "3", "]", "<", "size", "else", "size", "\n", "return", "image_aug", ",", "bbs_aug", "\n", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.iou.iou": [[1, 16], ["max", "max", "min", "min"], "function", ["None"], ["def", "iou", "(", "grid_box", ",", "obj_box", ")", ":", "\n", "    ", "grid_area", "=", "(", "grid_box", "[", "2", "]", "-", "grid_box", "[", "0", "]", ")", "*", "(", "grid_box", "[", "3", "]", "-", "grid_box", "[", "1", "]", ")", "\n", "\n", "x1", "=", "max", "(", "grid_box", "[", "0", "]", ",", "obj_box", "[", "0", "]", ")", "\n", "y1", "=", "max", "(", "grid_box", "[", "1", "]", ",", "obj_box", "[", "1", "]", ")", "\n", "x2", "=", "min", "(", "grid_box", "[", "2", "]", ",", "obj_box", "[", "2", "]", ")", "\n", "y2", "=", "min", "(", "grid_box", "[", "3", "]", ",", "obj_box", "[", "3", "]", ")", "\n", "\n", "if", "(", "y2", "-", "y1", ")", "<", "0", "!=", "(", "x2", "-", "x1", ")", "<", "0", ":", "\n", "        ", "intersection", "=", "0", "\n", "", "else", ":", "\n", "        ", "intersection", "=", "(", "y2", "-", "y1", ")", "*", "(", "x2", "-", "x1", ")", "\n", "\n", "", "intersection_over_union", "=", "intersection", "/", "grid_area", "\n", "return", "intersection_over_union", "\n", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.__int__": [[2, 4], ["None"], "methods", ["None"], ["    ", "def", "__int__", "(", "self", ")", ":", "\n", "        ", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleOne": [[5, 13], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleOne", "(", ")", ":", "\n", "        ", "thumb", "=", "False", "\n", "index", "=", "True", "\n", "middle", "=", "False", "\n", "ring", "=", "False", "\n", "pinky", "=", "False", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleTwo": [[14, 22], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleTwo", "(", ")", ":", "\n", "        ", "thumb", "=", "False", "\n", "index", "=", "True", "\n", "middle", "=", "True", "\n", "ring", "=", "False", "\n", "pinky", "=", "False", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleThree": [[23, 31], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleThree", "(", ")", ":", "\n", "        ", "thumb", "=", "False", "\n", "index", "=", "True", "\n", "middle", "=", "True", "\n", "ring", "=", "True", "\n", "pinky", "=", "False", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleFour": [[32, 40], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleFour", "(", ")", ":", "\n", "        ", "thumb", "=", "False", "\n", "index", "=", "True", "\n", "middle", "=", "True", "\n", "ring", "=", "True", "\n", "pinky", "=", "True", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleFive": [[41, 49], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleFive", "(", ")", ":", "\n", "        ", "thumb", "=", "True", "\n", "index", "=", "True", "\n", "middle", "=", "True", "\n", "ring", "=", "True", "\n", "pinky", "=", "True", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleSix": [[50, 58], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleSix", "(", ")", ":", "\n", "        ", "thumb", "=", "True", "\n", "index", "=", "False", "\n", "middle", "=", "False", "\n", "ring", "=", "False", "\n", "pinky", "=", "True", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleSeven": [[59, 67], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleSeven", "(", ")", ":", "\n", "        ", "thumb", "=", "True", "\n", "index", "=", "True", "\n", "middle", "=", "False", "\n", "ring", "=", "False", "\n", "pinky", "=", "True", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleEight": [[68, 76], ["None"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "SingleEight", "(", ")", ":", "\n", "        ", "thumb", "=", "True", "\n", "index", "=", "True", "\n", "middle", "=", "False", "\n", "ring", "=", "False", "\n", "pinky", "=", "False", "\n", "return", "thumb", ",", "index", ",", "middle", ",", "ring", ",", "pinky", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finder.class_finder": [[5, 26], ["numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array", "numpy.array_equal", "numpy.array"], "function", ["None"], ["def", "class_finder", "(", "prob", ")", ":", "\n", "    ", "cls", "=", "None", "\n", "classes", "=", "[", "0", ",", "1", ",", "2", ",", "3", ",", "4", ",", "5", ",", "6", ",", "7", "]", "\n", "\n", "if", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "0", ",", "0", ",", "0", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "0", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "1", ",", "0", ",", "0", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "1", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "1", ",", "1", ",", "0", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "2", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "0", ",", "1", ",", "1", ",", "1", ",", "1", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "3", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "1", ",", "1", ",", "1", ",", "1", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "4", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "0", ",", "0", ",", "0", ",", "1", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "5", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "1", ",", "0", ",", "0", ",", "1", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "6", "]", "\n", "", "elif", "np", ".", "array_equal", "(", "prob", ",", "np", ".", "array", "(", "[", "1", ",", "1", ",", "0", ",", "0", ",", "0", "]", ")", ")", ":", "\n", "        ", "cls", "=", "classes", "[", "7", "]", "\n", "", "return", "cls", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finder.find_folder": [[28, 55], ["image_name.split"], "function", ["None"], ["", "def", "find_folder", "(", "image_name", ")", ":", "\n", "    ", "name", "=", "image_name", ".", "split", "(", "'_'", ")", "\n", "if", "'One'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleOne'", "\n", "", "elif", "'Two'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleTwo'", "\n", "", "elif", "'Three'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleThree'", "\n", "", "elif", "'Four'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleFour'", "\n", "", "elif", "'Five'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleFive'", "\n", "", "elif", "'Six'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleSix'", "\n", "", "elif", "'Seven'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleSeven'", "\n", "", "elif", "'Eight'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleEight'", "\n", "", "elif", "'Nine'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleNine'", "\n", "", "elif", "'Good'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleGood'", "\n", "", "elif", "'Bad'", "in", "name", ":", "\n", "        ", "folder_name", "=", "'SingleBad'", "\n", "", "else", ":", "\n", "        ", "folder_name", "=", "'SingleNone'", "\n", "", "return", "folder_name", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finder.finger_type": [[57, 77], ["image_name.split", "preprocess.finger_flag.Finger().SingleOne", "preprocess.finger_flag.Finger().SingleTwo", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger().SingleThree", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger().SingleFour", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger().SingleFive", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger().SingleSix", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger().SingleSeven", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger().SingleEight", "preprocess.finger_flag.Finger", "preprocess.finger_flag.Finger"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleOne", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleTwo", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleThree", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleFour", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleFive", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleSix", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleSeven", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.finger_flag.Finger.SingleEight"], ["", "def", "finger_type", "(", "image_name", ")", ":", "\n", "    ", "name", "=", "image_name", ".", "split", "(", "'_'", ")", "\n", "finger", "=", "None", "\n", "if", "'One'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleOne", "(", ")", "\n", "", "elif", "'Two'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleTwo", "(", ")", "\n", "", "elif", "'Three'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleThree", "(", ")", "\n", "", "elif", "'Four'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleFour", "(", ")", "\n", "", "elif", "'Five'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleFive", "(", ")", "\n", "", "elif", "'Six'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleSix", "(", ")", "\n", "", "elif", "'Seven'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleSeven", "(", ")", "\n", "", "elif", "'Eight'", "in", "name", ":", "\n", "        ", "finger", "=", "Finger", "(", ")", ".", "SingleEight", "(", ")", "\n", "", "return", "finger", "\n", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.data_generator.label_generator": [[4, 13], ["numpy.load", "numpy.load", "numpy.load"], "function", ["None"], ["def", "label_generator", "(", "directory", ",", "dtype", "=", "'train'", ",", "sample", "=", "0", ")", ":", "\n", "    ", "x_full", "=", "np", ".", "load", "(", "directory", "+", "dtype", "+", "'/'", "+", "dtype", "+", "'_x.npy'", ")", "\n", "y_prob_full", "=", "np", ".", "load", "(", "directory", "+", "dtype", "+", "'/'", "+", "dtype", "+", "'_y_prob.npy'", ")", "\n", "y_keys_full", "=", "np", ".", "load", "(", "directory", "+", "dtype", "+", "'/'", "+", "dtype", "+", "'_y_keys.npy'", ")", "\n", "\n", "image", "=", "x_full", "[", "sample", "]", "\n", "probability", "=", "y_prob_full", "[", "sample", "]", "\n", "keypoints", "=", "y_keys_full", "[", "sample", "]", "\n", "return", "image", ",", "probability", ",", "keypoints", "\n", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.train.loss_function": [[10, 22], ["tensorflow.keras.losses.binary_crossentropy", "tensorflow.reduce_mean", "tensorflow.math.squared_difference", "tensorflow.not_equal", "tensorflow.cast", "tensorflow.multiply", "tensorflow.reduce_sum"], "function", ["None"], ["    ", "\"\"\" Probabilistic output loss \"\"\"", "\n", "a", "=", "tf", ".", "clip_by_value", "(", "y_pred", ",", "1e-20", ",", "1", ")", "\n", "b", "=", "tf", ".", "clip_by_value", "(", "tf", ".", "subtract", "(", "1.0", ",", "y_pred", ")", ",", "1e-20", ",", "1", ")", "\n", "cross_entropy", "=", "-", "tf", ".", "multiply", "(", "y_true", ",", "tf", ".", "math", ".", "log", "(", "a", ")", ")", "-", "tf", ".", "multiply", "(", "tf", ".", "subtract", "(", "1.0", ",", "y_true", ")", ",", "tf", ".", "math", ".", "log", "(", "b", ")", ")", "\n", "cross_entropy", "=", "tf", ".", "reduce_mean", "(", "cross_entropy", ",", "0", ")", "\n", "loss", "=", "tf", ".", "reduce_mean", "(", "cross_entropy", ")", "\n", "return", "loss", "\n", "\n", "\n", "", "def", "loss_function_2", "(", "y_true", ",", "y_pred", ")", ":", "\n", "    ", "\"\"\" Positional output loss \"\"\"", "\n", "square_diff", "=", "tf", ".", "math", ".", "squared_difference", "(", "y_true", ",", "y_pred", ")", "\n", "mask", "=", "tf", ".", "not_equal", "(", "y_true", ",", "0", ")", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.batch_indices": [[9, 15], ["list", "list", "list.append", "list", "range", "range", "zip"], "function", ["None"], ["index_b", "=", "list", "(", "range", "(", "batch_size", ",", "dataset_size", ",", "batch_size", ")", ")", "\n", "index_b", ".", "append", "(", "dataset_size", ")", "\n", "indices", "=", "list", "(", "zip", "(", "index_a", ",", "index_b", ")", ")", "\n", "return", "indices", "\n", "\n", "\n", "", "def", "train_generator", "(", "batch_size", ",", "is_augment", "=", "True", ",", "viz", "=", "False", ")", ":", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.load_train_images": [[17, 25], ["os.listdir"], "function", ["None"], ["        ", "batch_size", "=", "int", "(", "batch_size", "/", "2", ")", "\n", "\n", "# load dataset", "\n", "", "directory", "=", "'dataset/train/'", "\n", "\n", "train_x_full", "=", "np", ".", "load", "(", "directory", "+", "'train_x.npy'", ")", "\n", "train_y_prob_full", "=", "np", ".", "load", "(", "directory", "+", "'train_y_prob.npy'", ")", "\n", "train_y_keys_full", "=", "np", ".", "load", "(", "directory", "+", "'train_y_keys.npy'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.load_valid_images": [[27, 35], ["os.listdir"], "function", ["None"], ["indices", "=", "batch_indices", "(", "batch_size", "=", "batch_size", ",", "dataset_size", "=", "dataset_size", ")", "\n", "print", "(", "'Training Dataset Size: {0}'", ".", "format", "(", "dataset_size", ")", ")", "\n", "\n", "while", "True", ":", "\n", "\n", "        ", "for", "index", "in", "indices", ":", "\n", "# load from dataset", "\n", "            ", "train_x", "=", "train_x_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "train_y_prob", "=", "train_y_prob_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.train_generator": [[37, 87], ["generator.load_train_images", "len", "generator.batch_indices", "print", "int", "range", "random.shuffle", "range", "numpy.asarray", "hand_detector.yolo.preprocess.labelgen.label_generator", "hand_detector.yolo.preprocess.labelgen.bbox_to_grid", "x_batch.append", "np.asarray.append", "hand_detector.yolo.preprocess.augmentation.augment", "hand_detector.yolo.preprocess.labelgen.bbox_to_grid", "x_batch.append", "np.asarray.append", "hand_detector.yolo.preprocess.augmentation.flip", "hand_detector.yolo.preprocess.labelgen.bbox_to_grid", "x_batch.append", "np.asarray.append", "hand_detector.yolo.preprocess.augmentation.augment", "hand_detector.yolo.preprocess.labelgen.bbox_to_grid", "x_batch.append", "np.asarray.append", "numpy.asarray"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.load_train_images", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.batch_indices", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.data_generator.label_generator", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.bbox_to_grid", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.augment", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.bbox_to_grid", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.flip", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.bbox_to_grid", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.augmentation.augment", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.bbox_to_grid"], ["\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "train_x", "[", "-", "1", "]", ",", "train_y_prob", "[", "-", "1", "]", ",", "train_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# augment dataset and append to the batch", "\n", "", "train_x_aug", ",", "train_y_keys_aug", "=", "augment", "(", "train_x", ",", "train_y_prob", ",", "train_y_keys", ")", "\n", "train_x", "=", "np", ".", "append", "(", "train_x", ",", "train_x_aug", ",", "axis", "=", "0", ")", "\n", "train_y_prob", "=", "np", ".", "append", "(", "train_y_prob", ",", "train_y_prob", ",", "axis", "=", "0", ")", "\n", "train_y_keys", "=", "np", ".", "append", "(", "train_y_keys", ",", "train_y_keys_aug", ",", "axis", "=", "0", ")", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "train_x", "[", "-", "1", "]", ",", "train_y_prob", "[", "-", "1", "]", ",", "train_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# normalizing the image and the keypoints", "\n", "", "train_x", "=", "train_x", "/", "255.0", "\n", "train_y_prob", "=", "np", ".", "squeeze", "(", "train_y_prob", ")", "\n", "train_y_keys", "=", "train_y_keys", "/", "128.0", "\n", "\n", "# creating ensembles of the keypoints", "\n", "train_y_keys", "=", "np", ".", "reshape", "(", "train_y_keys", ",", "(", "train_y_keys", ".", "shape", "[", "0", "]", ",", "1", ",", "10", ")", ")", "\n", "train_y_keys", "=", "np", ".", "repeat", "(", "train_y_keys", ",", "10", ",", "axis", "=", "1", ")", "\n", "\n", "# random shuffling over the batch", "\n", "seed", "=", "random", ".", "randint", "(", "0", ",", "1000", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_x", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_y_prob", ")", "\n", "np", ".", "random", ".", "seed", "(", "seed", ")", "\n", "np", ".", "random", ".", "shuffle", "(", "train_y_keys", ")", "\n", "\n", "train_y", "=", "[", "train_y_prob", ",", "train_y_keys", "]", "\n", "yield", "train_x", ",", "train_y", "\n", "\n", "\n", "", "", "", "def", "valid_generator", "(", "batch_size", ",", "viz", "=", "False", ")", ":", "\n", "    ", "directory", "=", "'dataset/valid/'", "\n", "\n", "valid_x_full", "=", "np", ".", "load", "(", "directory", "+", "'valid_x.npy'", ")", "\n", "valid_y_prob_full", "=", "np", ".", "load", "(", "directory", "+", "'valid_y_prob.npy'", ")", "\n", "valid_y_keys_full", "=", "np", ".", "load", "(", "directory", "+", "'valid_y_keys.npy'", ")", "\n", "\n", "dataset_size", "=", "valid_y_prob_full", ".", "shape", "[", "0", "]", "\n", "indices", "=", "batch_indices", "(", "batch_size", "=", "batch_size", ",", "dataset_size", "=", "dataset_size", ")", "\n", "print", "(", "'Validation  Dataset Size: {0}'", ".", "format", "(", "dataset_size", ")", ")", "\n", "\n", "while", "True", ":", "\n", "\n", "        ", "for", "index", "in", "indices", ":", "\n", "# load from dataset", "\n", "            ", "valid_x", "=", "valid_x_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.valid_generator": [[89, 115], ["generator.load_valid_images", "len", "generator.batch_indices", "print", "range", "random.shuffle", "range", "numpy.asarray", "hand_detector.yolo.preprocess.labelgen.label_generator", "hand_detector.yolo.preprocess.labelgen.bbox_to_grid", "x_batch.append", "np.asarray.append", "numpy.asarray"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.load_valid_images", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.generator.batch_indices", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.data_generator.label_generator", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.preprocess.labelgen.bbox_to_grid"], ["valid_y_keys", "=", "valid_y_keys_full", "[", "index", "[", "0", "]", ":", "index", "[", "1", "]", "]", "\n", "\n", "if", "viz", ":", "\n", "                ", "visualize", "(", "valid_x", "[", "-", "1", "]", ",", "valid_y_prob", "[", "-", "1", "]", ",", "valid_y_keys", "[", "-", "1", "]", ")", "\n", "\n", "# normalizing the image and the keypoints", "\n", "", "valid_x", "=", "valid_x", "/", "255.0", "\n", "valid_y_prob", "=", "np", ".", "squeeze", "(", "valid_y_prob", ")", "\n", "valid_y_keys", "=", "valid_y_keys", "/", "128.0", "\n", "\n", "# creating ensembles of the keypoints", "\n", "valid_y_keys", "=", "np", ".", "reshape", "(", "valid_y_keys", ",", "(", "valid_y_keys", ".", "shape", "[", "0", "]", ",", "1", ",", "10", ")", ")", "\n", "valid_y_keys", "=", "np", ".", "repeat", "(", "valid_y_keys", ",", "10", ",", "axis", "=", "1", ")", "\n", "\n", "valid_y", "=", "[", "valid_y_prob", ",", "valid_y_keys", "]", "\n", "yield", "valid_x", ",", "valid_y", "\n", "\n", "\n", "", "", "", "if", "__name__", "==", "'__main__'", ":", "\n", "    ", "gen", "=", "valid_generator", "(", "batch_size", "=", "32", ",", "viz", "=", "True", ")", "\n", "x_batch", ",", "y_batch", "=", "next", "(", "gen", ")", "\n", "\n", "print", "(", "x_batch", ".", "shape", ")", "\n", "print", "(", "y_batch", "[", "0", "]", ".", "shape", ")", "\n", "print", "(", "y_batch", "[", "1", "]", ".", "shape", ")", "\n", "\n", "visualize", "(", "x_batch", "[", "0", "]", "*", "255.", ",", "y_batch", "[", "0", "]", "[", "0", "]", ",", "y_batch", "[", "1", "]", "[", "0", "]", "[", "0", "]", "*", "128.", ")", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu": [[5, 10], ["tensorflow.keras.layers.Conv2D", "tensorflow.keras.layers.BatchNormalization", "tensorflow.keras.layers.Activation"], "function", ["None"], ["def", "conv_batch_norm_relu", "(", "x", ",", "n_filters", ",", "f", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", ":", "\n", "    ", "x", "=", "Conv2D", "(", "n_filters", ",", "f", ",", "padding", "=", "padding", ")", "(", "x", ")", "\n", "x", "=", "BatchNormalization", "(", ")", "(", "x", ")", "\n", "x", "=", "Activation", "(", "activation", ")", "(", "x", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.model": [[12, 47], ["tensorflow.keras.layers.Input", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "darknet.conv_batch_norm_relu", "tensorflow.keras.models.Model", "tensorflow.keras.layers.MaxPooling2D", "tensorflow.keras.layers.MaxPooling2D", "tensorflow.keras.layers.MaxPooling2D", "tensorflow.keras.layers.MaxPooling2D", "tensorflow.keras.layers.MaxPooling2D", "tensorflow.keras.layers.Conv2D", "tensorflow.keras.layers.BatchNormalization", "tensorflow.keras.layers.Activation"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu", "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.yolo.darknet.conv_batch_norm_relu"], ["", "def", "model", "(", ")", ":", "\n", "    ", "inputs", "=", "Input", "(", "shape", "=", "(", "224", ",", "224", ",", "3", ")", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "inputs", ",", "32", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ")", "(", "x", ")", "\n", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "64", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ")", "(", "x", ")", "\n", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "128", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "64", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "128", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ")", "(", "x", ")", "\n", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "256", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "128", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "256", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ")", "(", "x", ")", "\n", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "512", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "256", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "512", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "256", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "512", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "MaxPooling2D", "(", "pool_size", "=", "(", "2", ",", "2", ")", ",", "strides", "=", "(", "2", ",", "2", ")", ")", "(", "x", ")", "\n", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "1024", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "512", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "1024", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "512", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "conv_batch_norm_relu", "(", "x", ",", "1024", ",", "(", "3", ",", "3", ")", ",", "padding", "=", "'same'", ",", "activation", "=", "'relu'", ")", "\n", "x", "=", "Conv2D", "(", "5", ",", "(", "1", ",", "1", ")", ",", "padding", "=", "'same'", ")", "(", "x", ")", "\n", "x", "=", "BatchNormalization", "(", ")", "(", "x", ")", "\n", "x", "=", "Activation", "(", "'sigmoid'", ",", "name", "=", "'output'", ")", "(", "x", ")", "\n", "\n", "return", "Model", "(", "inputs", "=", "inputs", ",", "outputs", "=", "x", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.info.data_info": [[4, 20], ["len", "os.listdir", "len", "os.listdir"], "function", ["None"], ["def", "data_info", "(", "type", "=", "'train'", ")", ":", "\n", "    ", "dataset_directory", "=", "'../../../EgoGesture Dataset/'", "\n", "folder_names", "=", "[", "'SingleOne'", ",", "'SingleTwo'", ",", "'SingleThree'", ",", "'SingleFour'", ",", "'SingleFive'", ",", "'SingleSix'", ",", "'SingleSeven'", ",", "\n", "'SingleEight'", "]", "\n", "\n", "if", "type", "is", "'train'", ":", "\n", "        ", "nTrain", "=", "0", "\n", "for", "folder", "in", "folder_names", ":", "\n", "            ", "nTrain", "=", "nTrain", "+", "len", "(", "os", ".", "listdir", "(", "dataset_directory", "+", "folder", "+", "'/'", ")", ")", "\n", "", "return", "nTrain", "\n", "\n", "", "elif", "type", "is", "'valid'", ":", "\n", "        ", "nValid", "=", "0", "\n", "for", "folder", "in", "folder_names", ":", "\n", "            ", "nValid", "=", "nValid", "+", "len", "(", "os", ".", "listdir", "(", "dataset_directory", "+", "folder", "+", "'/'", ")", ")", "\n", "", "return", "nValid", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.utils.draw_grid": [[11, 26], ["range", "cv2.circle", "cv2.line.copy", "cv2.rectangle", "cv2.addWeighted", "cv2.line", "cv2.line", "int", "int", "int", "int", "int", "int", "numpy.floor", "numpy.floor"], "function", ["None"], ["def", "draw_grid", "(", "image", ",", "bbox", ")", ":", "\n", "    ", "for", "i", "in", "range", "(", "0", ",", "grid", "+", "1", ")", ":", "\n", "        ", "image", "=", "cv2", ".", "line", "(", "image", ",", "(", "0", ",", "i", "*", "grid_size", ")", ",", "(", "grid", "*", "grid_size", ",", "i", "*", "grid_size", ")", ",", "f", ".", "line_color", ",", "2", ")", "\n", "image", "=", "cv2", ".", "line", "(", "image", ",", "(", "i", "*", "grid_size", ",", "0", ")", ",", "(", "i", "*", "grid_size", ",", "grid", "*", "grid_size", ")", ",", "f", ".", "line_color", ",", "2", ")", "\n", "\n", "", "center", "=", "(", "(", "bbox", "[", "0", "]", "+", "bbox", "[", "2", "]", ")", "/", "2", ",", "(", "bbox", "[", "1", "]", "+", "bbox", "[", "3", "]", ")", "/", "2", ")", "\n", "image", "=", "cv2", ".", "circle", "(", "image", ",", "(", "int", "(", "center", "[", "0", "]", ")", ",", "int", "(", "center", "[", "1", "]", ")", ")", ",", "5", ",", "(", "255", ",", "0", ",", "0", ")", ",", "-", "1", ")", "\n", "i", ",", "j", "=", "int", "(", "np", ".", "floor", "(", "center", "[", "0", "]", "/", "grid_size", ")", ")", ",", "int", "(", "np", ".", "floor", "(", "center", "[", "1", "]", "/", "grid_size", ")", ")", "\n", "glassy_image", "=", "image", ".", "copy", "(", ")", "\n", "i", ",", "j", "=", "int", "(", "i", ")", ",", "int", "(", "j", ")", "\n", "x", "=", "i", "*", "grid_size", "\n", "y", "=", "j", "*", "grid_size", "\n", "glassy_image", "=", "cv2", ".", "rectangle", "(", "glassy_image", ",", "(", "x", ",", "y", ")", ",", "(", "x", "+", "grid_size", ",", "y", "+", "grid_size", ")", ",", "f", ".", "grid_color", ",", "-", "1", ")", "\n", "image", "=", "cv2", ".", "addWeighted", "(", "glassy_image", ",", "alpha", ",", "image", ",", "1", "-", "alpha", ",", "0", ")", "\n", "return", "image", "\n", "\n"]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.utils.visualize": [[28, 46], ["cv2.imshow", "numpy.squeeze", "cv2.cvtColor", "cv2.destroyAllWindows", "numpy.where", "utils.draw_grid", "cv2.rectangle", "cv2.waitKey", "int", "int", "int", "int", "numpy.amax"], "function", ["home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.utils.utils.draw_grid"], ["", "def", "visualize", "(", "image", ",", "yolo_out", "=", "None", ",", "title", "=", "'output'", ",", "RGB2BGR", "=", "False", ")", ":", "\n", "    ", "if", "yolo_out", "is", "not", "None", ":", "\n", "        ", "predicting_boxes", "=", "yolo_out", "[", ":", ",", ":", ",", "0", "]", "\n", "i", ",", "j", "=", "np", ".", "squeeze", "(", "np", ".", "where", "(", "predicting_boxes", "==", "np", ".", "amax", "(", "predicting_boxes", ")", ")", ")", "\n", "\n", "if", "predicting_boxes", "[", "i", ",", "j", "]", ">=", "f", ".", "threshold", ":", "\n", "            ", "bbox", "=", "yolo_out", "[", "i", ",", "j", ",", "1", ":", "]", "*", "f", ".", "target_size", "\n", "image", "=", "draw_grid", "(", "image", ",", "bbox", ")", "\n", "x1", ",", "y1", ",", "x2", ",", "y2", "=", "int", "(", "bbox", "[", "0", "]", ")", ",", "int", "(", "bbox", "[", "1", "]", ")", ",", "int", "(", "bbox", "[", "2", "]", ")", ",", "int", "(", "bbox", "[", "3", "]", ")", "\n", "image", "=", "cv2", ".", "rectangle", "(", "image", ",", "(", "x1", ",", "y1", ")", ",", "(", "x2", ",", "y2", ")", ",", "f", ".", "box_color", ",", "2", ")", "\n", "\n", "", "", "if", "RGB2BGR", ":", "\n", "        ", "image", "=", "cv2", ".", "cvtColor", "(", "image", ",", "cv2", ".", "COLOR_RGB2BGR", ")", "\n", "\n", "", "cv2", ".", "imshow", "(", "title", ",", "image", ")", "\n", "\n", "if", "cv2", ".", "waitKey", "(", "0", ")", "&", "0xff", "==", "27", ":", "\n", "        ", "cv2", ".", "destroyAllWindows", "(", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.MahmudulAlam_Unified-Gesture-and-Fingertip-Detection.net.network.model": [[6, 23], ["tensorflow.keras.applications.VGG16", "tensorflow.keras.models.Model", "tensorflow.keras.layers.Flatten", "tensorflow.keras.layers.Dense", "tensorflow.keras.layers.Dropout", "tensorflow.keras.layers.Dense", "tensorflow.keras.layers.Dropout", "tensorflow.keras.layers.Dense", "tensorflow.keras.layers.UpSampling2D", "tensorflow.keras.layers.Activation", "tensorflow.keras.layers.Conv2D", "tensorflow.keras.layers.Reshape"], "function", ["None"], ["def", "model", "(", ")", ":", "\n", "    ", "vgg", "=", "VGG16", "(", "include_top", "=", "False", ",", "input_shape", "=", "(", "128", ",", "128", ",", "3", ")", ")", "\n", "x", "=", "vgg", ".", "output", "\n", "\n", "y", "=", "x", "\n", "x", "=", "Flatten", "(", ")", "(", "x", ")", "\n", "x", "=", "Dense", "(", "1024", ",", "activation", "=", "'relu'", ")", "(", "x", ")", "\n", "x", "=", "Dropout", "(", "0.5", ")", "(", "x", ")", "\n", "x", "=", "Dense", "(", "1024", ",", "activation", "=", "'relu'", ")", "(", "x", ")", "\n", "x", "=", "Dropout", "(", "0.5", ")", "(", "x", ")", "\n", "probability", "=", "Dense", "(", "5", ",", "activation", "=", "'sigmoid'", ",", "name", "=", "'prob_output'", ")", "(", "x", ")", "\n", "\n", "y", "=", "UpSampling2D", "(", "(", "3", ",", "3", ")", ")", "(", "y", ")", "\n", "y", "=", "Activation", "(", "'relu'", ")", "(", "y", ")", "\n", "y", "=", "Conv2D", "(", "1", ",", "(", "3", ",", "3", ")", ",", "activation", "=", "'linear'", ")", "(", "y", ")", "\n", "position", "=", "Reshape", "(", "target_shape", "=", "(", "10", ",", "10", ")", ",", "name", "=", "'pos_output'", ")", "(", "y", ")", "\n", "return", "Model", "(", "inputs", "=", "vgg", ".", "input", ",", "outputs", "=", "[", "probability", ",", "position", "]", ")", "\n", "\n"]]}