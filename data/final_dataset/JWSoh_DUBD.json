{"home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d": [[3, 13], ["tensorflow.variable_scope", "tensorflow.layers.conv2d", "tensorflow.variance_scaling_initializer", "tensorflow.nn.relu", "tensorflow.nn.leaky_relu"], "function", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d"], ["def", "conv2d", "(", "x", ",", "filters", ",", "kernel", ",", "strides", "=", "1", ",", "dilation", "=", "1", ",", "scope", "=", "None", ",", "activation", "=", "None", ",", "reuse", "=", "None", ")", ":", "\n", "    ", "with", "tf", ".", "variable_scope", "(", "scope", ")", ":", "\n", "        ", "out", "=", "tf", ".", "layers", ".", "conv2d", "(", "x", ",", "filters", ",", "kernel", ",", "strides", ",", "padding", "=", "'SAME'", ",", "dilation_rate", "=", "dilation", ",", "kernel_initializer", "=", "tf", ".", "variance_scaling_initializer", "(", ")", ",", "name", "=", "'conv2d'", ",", "reuse", "=", "reuse", ")", "\n", "\n", "if", "activation", "is", "None", ":", "\n", "            ", "return", "out", "\n", "", "elif", "activation", "is", "'ReLU'", ":", "\n", "            ", "return", "tf", ".", "nn", ".", "relu", "(", "out", ")", "\n", "", "elif", "activation", "is", "'leakyReLU'", ":", "\n", "            ", "return", "tf", ".", "nn", ".", "leaky_relu", "(", "out", ",", "0.2", ")", "\n", "", "", "", ""]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.main.main": [[21, 28], ["test.Test", "test.Test."], "function", ["None"], ["def", "main", "(", ")", ":", "\n", "    ", "Test", "=", "test", ".", "Test", "(", "input_path", "=", "args", ".", "inputpath", ",", "\n", "output_path", "=", "args", ".", "outputpath", ",", "\n", "model_path", "=", "'Model'", ",", "\n", "sigma", "=", "args", ".", "sigma", ",", "\n", "conf", "=", "conf", ")", "\n", "Test", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.test.Test.__init__": [[6, 12], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "input_path", ",", "output_path", ",", "model_path", ",", "sigma", ",", "conf", ")", ":", "\n", "        ", "self", ".", "input_path", "=", "input_path", "\n", "self", ".", "output_path", "=", "output_path", "\n", "self", ".", "model_path", "=", "model_path", "\n", "self", ".", "conf", "=", "conf", "\n", "self", ".", "sigma", "=", "sigma", "/", "255.", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.test.Test.__call__": [[13, 69], ["np.sort", "print", "tf.placeholder", "model.Estimator", "model.Denoiser", "tf.train.Saver", "utils.count_param", "tf.get_collection", "tf.get_collection", "tf.train.Saver", "utils.count_param", "utils.count_param", "utils.count_param", "print", "np.asarray", "tf.Session", "os.path.join", "print", "tf.train.Saver.restore", "os.path.join", "print", "tf.train.Saver.restore", "print", "enumerate", "print", "glob.glob", "tf.get_collection", "utils.imread", "np.random.seed", "sess.run", "P.append", "imageio.imsave", "len", "utils.psnr", "os.path.exists", "os.makedirs", "np.uint8", "print", "np.mean", "np.random.standard_normal", "np.clip", "np.clip", "np.round", "os.path.basename", "np.round", "len"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.count_param", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.count_param", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.count_param", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.count_param", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.imread", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.psnr"], ["", "def", "__call__", "(", "self", ")", ":", "\n", "        ", "img_list", "=", "np", ".", "sort", "(", "np", ".", "asarray", "(", "glob", ".", "glob", "(", "'%s/*.png'", "%", "self", ".", "input_path", ")", ")", ")", "\n", "print", "(", "img_list", ")", "\n", "\n", "input", "=", "tf", ".", "placeholder", "(", "tf", ".", "float32", ",", "shape", "=", "[", "None", ",", "None", ",", "None", ",", "3", "]", ")", "\n", "\n", "EST", "=", "model", ".", "Estimator", "(", "input", ",", "'EST'", ")", "\n", "sigma_hat", "=", "EST", ".", "output", "\n", "\n", "MODEL", "=", "model", ".", "Denoiser", "(", "input", ",", "sigma_hat", ",", "'Denoise1'", ")", "\n", "output", "=", "MODEL", ".", "output", "\n", "\n", "saverE", "=", "tf", ".", "train", ".", "Saver", "(", "var_list", "=", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "TRAINABLE_VARIABLES", ",", "scope", "=", "'EST'", ")", ")", "\n", "count_param", "(", "'EST'", ")", "\n", "\n", "vars1", "=", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "TRAINABLE_VARIABLES", ",", "scope", "=", "'Denoise1'", ")", "\n", "vars2", "=", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "TRAINABLE_VARIABLES", ",", "scope", "=", "'Noise_ENC'", ")", "\n", "saverM", "=", "tf", ".", "train", ".", "Saver", "(", "var_list", "=", "vars1", "+", "vars2", ")", "\n", "\n", "count_param", "(", "'Denoise1'", ")", "\n", "count_param", "(", "'Noise_ENC'", ")", "\n", "count_param", "(", ")", "\n", "\n", "print", "(", "'Sigma: '", ",", "self", ".", "sigma", "*", "255.", ")", "\n", "\n", "with", "tf", ".", "Session", "(", "config", "=", "self", ".", "conf", ")", "as", "sess", ":", "\n", "            ", "ckpt_modelE", "=", "os", ".", "path", ".", "join", "(", "self", ".", "model_path", ",", "'EST'", ")", "\n", "print", "(", "ckpt_modelE", ")", "\n", "saverE", ".", "restore", "(", "sess", ",", "ckpt_modelE", ")", "\n", "\n", "ckpt_model", "=", "os", ".", "path", ".", "join", "(", "self", ".", "model_path", ",", "'AWGN'", ")", "\n", "print", "(", "ckpt_model", ")", "\n", "saverM", ".", "restore", "(", "sess", ",", "ckpt_model", ")", "\n", "\n", "P", "=", "[", "]", "\n", "\n", "print", "(", "'Process %d images'", "%", "len", "(", "img_list", ")", ")", "\n", "for", "idx", ",", "img_path", "in", "enumerate", "(", "img_list", ")", ":", "\n", "                ", "img", "=", "imread", "(", "img_path", ")", "\n", "img", "=", "img", "[", "None", ",", ":", ",", ":", ",", ":", "]", "\n", "\n", "np", ".", "random", ".", "seed", "(", "0", ")", "\n", "\n", "noise_img", "=", "img", "+", "np", ".", "random", ".", "standard_normal", "(", "img", ".", "shape", ")", "*", "self", ".", "sigma", "\n", "\n", "out", "=", "sess", ".", "run", "(", "output", ",", "feed_dict", "=", "{", "input", ":", "noise_img", "}", ")", "\n", "P", ".", "append", "(", "psnr", "(", "img", "[", "0", "]", "*", "255.", ",", "np", ".", "clip", "(", "np", ".", "round", "(", "out", "[", "0", "]", "*", "255.", ")", ",", "0.", ",", "255.", ")", ")", ")", "\n", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "'%s/Noise%d'", "%", "(", "self", ".", "output_path", ",", "self", ".", "sigma", "*", "255.", ")", ")", ":", "\n", "                    ", "os", ".", "makedirs", "(", "'%s/Noise%d'", "%", "(", "self", ".", "output_path", ",", "self", ".", "sigma", "*", "255.", ")", ")", "\n", "", "imageio", ".", "imsave", "(", "'%s/Noise%d/%s.png'", "%", "(", "self", ".", "output_path", ",", "self", ".", "sigma", "*", "255.", ",", "os", ".", "path", ".", "basename", "(", "img_path", "[", ":", "-", "4", "]", ")", ")", ",", "np", ".", "uint8", "(", "np", ".", "clip", "(", "np", ".", "round", "(", "out", "[", "0", "]", "*", "255.", ")", ",", "0.", ",", "255.", ")", ")", ")", "\n", "\n", "if", "idx", "%", "5", "==", "0", ":", "\n", "                    ", "print", "(", "'[%d/%d] Processing'", "%", "(", "(", "idx", "+", "1", ")", ",", "len", "(", "img_list", ")", ")", ")", "\n", "\n", "", "", "print", "(", "'PSNR: %.4f'", "%", "np", ".", "mean", "(", "P", ")", ")", "", "", "", "", ""]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.__init__": [[4, 12], ["model.Denoiser.noise_encoder", "model.Denoiser.build_model"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.noise_encoder", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Estimator.build_model"], ["    ", "def", "__init__", "(", "self", ",", "x", ",", "sigma", ",", "name", ",", "reuse", "=", "False", ")", ":", "\n", "        ", "self", ".", "input", "=", "x", "\n", "self", ".", "sigma", "=", "sigma", "\n", "self", ".", "name", "=", "name", "\n", "self", ".", "reuse", "=", "reuse", "\n", "\n", "self", ".", "noise_encoder", "(", ")", "\n", "self", ".", "build_model", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.build_model": [[13, 31], ["print", "tf.add_to_collection", "tf.add_to_collection", "tf.variable_scope", "ops.conv2d", "range", "ops.conv2d", "tf.add", "ops.conv2d", "tf.add", "model.Denoiser.RIRblock", "repr"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.RIRblock"], ["", "def", "build_model", "(", "self", ")", ":", "\n", "        ", "print", "(", "'Build Model {}'", ".", "format", "(", "self", ".", "name", ")", ")", "\n", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", ",", "reuse", "=", "self", ".", "reuse", ")", ":", "\n", "            ", "self", ".", "conv1", "=", "conv2d", "(", "self", ".", "input", ",", "64", ",", "[", "3", ",", "3", "]", ",", "scope", "=", "'conv1'", ",", "activation", "=", "None", ")", "\n", "self", ".", "head", "=", "self", ".", "conv1", "\n", "for", "idx", "in", "range", "(", "5", ")", ":", "\n", "                ", "self", ".", "head", "=", "self", ".", "RIRblock", "(", "self", ".", "head", ",", "5", ",", "'RIRBlock'", "+", "repr", "(", "idx", ")", ")", "\n", "\n", "", "self", ".", "conv2", "=", "conv2d", "(", "self", ".", "head", ",", "64", ",", "[", "3", ",", "3", "]", ",", "scope", "=", "'conv2'", ",", "activation", "=", "None", ")", "\n", "self", ".", "residual", "=", "tf", ".", "add", "(", "self", ".", "conv1", ",", "self", ".", "conv2", ")", "\n", "\n", "self", ".", "conv3", "=", "conv2d", "(", "self", ".", "residual", ",", "3", ",", "[", "3", ",", "3", "]", ",", "scope", "=", "'conv3'", ",", "activation", "=", "None", ")", "\n", "\n", "self", ".", "output", "=", "tf", ".", "add", "(", "self", ".", "conv3", ",", "self", ".", "input", ")", "\n", "\n", "", "tf", ".", "add_to_collection", "(", "'InNOut'", ",", "self", ".", "input", ")", "\n", "tf", ".", "add_to_collection", "(", "'InNOut'", ",", "self", ".", "output", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.RIRblock": [[32, 42], ["tf.add", "tf.variable_scope", "range", "ops.conv2d", "model.Denoiser.resblock", "repr"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.resblock"], ["", "def", "RIRblock", "(", "self", ",", "x", ",", "num", ",", "scope", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "scope", ")", ":", "\n", "            ", "head", "=", "x", "\n", "for", "idx", "in", "range", "(", "num", ")", ":", "\n", "                ", "head", "=", "self", ".", "resblock", "(", "head", ",", "'RBlock'", "+", "repr", "(", "idx", ")", ")", "\n", "", "out", "=", "conv2d", "(", "head", ",", "64", ",", "[", "3", ",", "3", "]", ",", "scope", "=", "'conv_out'", ")", "\n", "\n", "out", "=", "out", "*", "self", ".", "gamma", "+", "self", ".", "beta", "\n", "\n", "", "return", "tf", ".", "add", "(", "out", ",", "x", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.resblock": [[43, 49], ["tf.add", "tf.variable_scope", "ops.conv2d", "ops.conv2d"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d"], ["", "def", "resblock", "(", "self", ",", "x", ",", "scope", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "scope", ")", ":", "\n", "            ", "net1", "=", "conv2d", "(", "x", ",", "64", ",", "[", "3", ",", "3", "]", ",", "dilation", "=", "1", ",", "scope", "=", "'conv1'", ",", "activation", "=", "'ReLU'", ")", "\n", "out", "=", "conv2d", "(", "net1", ",", "64", ",", "[", "3", ",", "3", "]", ",", "dilation", "=", "1", ",", "scope", "=", "'conv2'", ",", "activation", "=", "None", ")", "\n", "\n", "", "return", "tf", ".", "add", "(", "out", ",", "x", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Denoiser.noise_encoder": [[50, 56], ["tf.variable_scope", "ops.conv2d", "ops.conv2d", "ops.conv2d"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d"], ["", "def", "noise_encoder", "(", "self", ")", ":", "\n", "        ", "with", "tf", ".", "variable_scope", "(", "'Noise_ENC'", ")", ":", "\n", "            ", "net", "=", "conv2d", "(", "self", ".", "sigma", ",", "128", ",", "[", "1", ",", "1", "]", ",", "scope", "=", "'linear'", ",", "activation", "=", "'ReLU'", ")", "\n", "\n", "self", ".", "gamma", "=", "conv2d", "(", "net", ",", "64", ",", "[", "1", ",", "1", "]", ",", "scope", "=", "'gamma'", ",", "activation", "=", "None", ")", "\n", "self", ".", "beta", "=", "conv2d", "(", "net", ",", "64", ",", "[", "1", ",", "1", "]", ",", "scope", "=", "'beta'", ",", "activation", "=", "None", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Estimator.__init__": [[59, 65], ["model.Estimator.build_model"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Estimator.build_model"], ["    ", "def", "__init__", "(", "self", ",", "x", ",", "name", ",", "reuse", "=", "False", ")", ":", "\n", "        ", "self", ".", "input", "=", "x", "\n", "self", ".", "name", "=", "name", "\n", "self", ".", "reuse", "=", "reuse", "\n", "\n", "self", ".", "build_model", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.model.Estimator.build_model": [[66, 90], ["print", "tf.add_to_collection", "tf.add_to_collection", "tf.variable_scope", "ops.conv2d", "tf.nn.relu", "ops.conv2d", "tf.nn.relu", "ops.conv2d", "tf.nn.relu", "ops.conv2d", "tf.nn.relu", "ops.conv2d", "tf.nn.relu", "ops.conv2d", "tf.image.resize_bilinear", "tf.shape"], "methods", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d", "home.repos.pwc.inspect_result.JWSoh_DUBD.None.ops.conv2d"], ["", "def", "build_model", "(", "self", ")", ":", "\n", "        ", "print", "(", "'Build Model {}'", ".", "format", "(", "self", ".", "name", ")", ")", "\n", "\n", "with", "tf", ".", "variable_scope", "(", "self", ".", "name", ",", "reuse", "=", "self", ".", "reuse", ")", ":", "\n", "            ", "self", ".", "net", "=", "conv2d", "(", "self", ".", "input", ",", "64", ",", "[", "3", ",", "3", "]", ",", "strides", "=", "2", ",", "dilation", "=", "1", ",", "scope", "=", "'conv1'", ",", "activation", "=", "None", ")", "\n", "self", ".", "net", "=", "tf", ".", "nn", ".", "relu", "(", "self", ".", "net", ")", "\n", "\n", "self", ".", "net", "=", "conv2d", "(", "self", ".", "net", ",", "64", ",", "[", "3", ",", "3", "]", ",", "strides", "=", "1", ",", "dilation", "=", "1", ",", "scope", "=", "'conv2'", ",", "activation", "=", "None", ")", "\n", "self", ".", "net", "=", "tf", ".", "nn", ".", "relu", "(", "self", ".", "net", ")", "\n", "\n", "self", ".", "net", "=", "conv2d", "(", "self", ".", "net", ",", "64", ",", "[", "3", ",", "3", "]", ",", "strides", "=", "2", ",", "dilation", "=", "1", ",", "scope", "=", "'conv3'", ",", "activation", "=", "None", ")", "\n", "self", ".", "net", "=", "tf", ".", "nn", ".", "relu", "(", "self", ".", "net", ")", "\n", "\n", "self", ".", "net1", "=", "conv2d", "(", "self", ".", "net", ",", "64", ",", "[", "3", ",", "3", "]", ",", "strides", "=", "1", ",", "dilation", "=", "1", ",", "scope", "=", "'conv4'", ",", "activation", "=", "None", ")", "\n", "self", ".", "net", "=", "tf", ".", "nn", ".", "relu", "(", "self", ".", "net1", ")", "\n", "\n", "self", ".", "net2", "=", "conv2d", "(", "self", ".", "net", ",", "64", ",", "[", "3", ",", "3", "]", ",", "strides", "=", "1", ",", "dilation", "=", "1", ",", "scope", "=", "'conv5'", ",", "activation", "=", "None", ")", "\n", "self", ".", "net", "=", "tf", ".", "nn", ".", "relu", "(", "self", ".", "net2", ")", "\n", "\n", "self", ".", "net", "=", "conv2d", "(", "self", ".", "net", ",", "3", ",", "[", "3", ",", "3", "]", ",", "dilation", "=", "1", ",", "scope", "=", "'conv_out'", ",", "activation", "=", "None", ")", "\n", "self", ".", "output", "=", "tf", ".", "image", ".", "resize_bilinear", "(", "self", ".", "net", ",", "tf", ".", "shape", "(", "self", ".", "input", ")", "[", "1", ":", "-", "1", "]", ")", "\n", "\n", "", "tf", ".", "add_to_collection", "(", "'InNOut'", ",", "self", ".", "input", ")", "\n", "tf", ".", "add_to_collection", "(", "'InNOut'", ",", "self", ".", "output", ")", "", "", "", ""]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.imread": [[8, 12], ["imageio.imread().astype", "imageio.imread"], "function", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.imread"], ["def", "imread", "(", "path", ")", ":", "\n", "    ", "img", "=", "imageio", ".", "imread", "(", "path", ")", ".", "astype", "(", "np", ".", "float32", ")", "\n", "img", "=", "img", "/", "255.", "\n", "return", "img", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.load": [[13, 30], ["print", "os.path.join", "tensorflow.train.get_checkpoint_state", "os.path.basename", "saver.restore", "int", "print", "print", "os.path.join", "next().group", "next", "re.finditer"], "function", ["None"], ["", "def", "load", "(", "saver", ",", "sess", ",", "checkpoint_dir", ",", "folder", ")", ":", "\n", "    ", "print", "(", "'==================== Reading Checkpoints ===================='", ")", "\n", "checkpoint", "=", "os", ".", "path", ".", "join", "(", "checkpoint_dir", ",", "folder", ")", "\n", "\n", "ckpt", "=", "tf", ".", "train", ".", "get_checkpoint_state", "(", "checkpoint", ")", "\n", "\n", "if", "ckpt", "and", "ckpt", ".", "model_checkpoint_path", ":", "\n", "        ", "ckpt_name", "=", "os", ".", "path", ".", "basename", "(", "ckpt", ".", "model_checkpoint_path", ")", "\n", "saver", ".", "restore", "(", "sess", ",", "os", ".", "path", ".", "join", "(", "checkpoint", ",", "ckpt_name", ")", ")", "\n", "\n", "step", "=", "int", "(", "next", "(", "re", ".", "finditer", "(", "\"(\\d+)(?!.*\\d)\"", ",", "ckpt_name", ")", ")", ".", "group", "(", "0", ")", ")", "\n", "\n", "print", "(", "\"=================== Success to load {} ====================\"", ".", "format", "(", "ckpt_name", ")", ")", "\n", "return", "True", ",", "step", "\n", "", "else", ":", "\n", "        ", "print", "(", "\"=================== Fail to find a Checkpoint ====================\"", ")", "\n", "return", "False", ",", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.save": [[31, 39], ["os.path.join", "saver.save", "os.path.exists", "os.makedirs", "os.path.join"], "function", ["home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.save"], ["", "", "def", "save", "(", "saver", ",", "sess", ",", "checkpoint_dir", ",", "trial", ",", "step", ")", ":", "\n", "    ", "model_name", "=", "'model'", "\n", "checkpoint", "=", "os", ".", "path", ".", "join", "(", "checkpoint_dir", ",", "'Model%d'", "%", "trial", ")", "\n", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "checkpoint", ")", ":", "\n", "        ", "os", ".", "makedirs", "(", "checkpoint", ")", "\n", "\n", "", "saver", ".", "save", "(", "sess", ",", "os", ".", "path", ".", "join", "(", "checkpoint", ",", "model_name", ")", ",", "global_step", "=", "step", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.count_param": [[40, 43], ["numpy.sum", "print", "numpy.prod", "v.get_shape().as_list", "tensorflow.get_collection", "v.get_shape"], "function", ["None"], ["", "def", "count_param", "(", "scope", "=", "None", ")", ":", "\n", "    ", "N", "=", "np", ".", "sum", "(", "[", "np", ".", "prod", "(", "v", ".", "get_shape", "(", ")", ".", "as_list", "(", ")", ")", "for", "v", "in", "tf", ".", "get_collection", "(", "tf", ".", "GraphKeys", ".", "TRAINABLE_VARIABLES", ",", "scope", "=", "scope", ")", "]", ")", "\n", "print", "(", "'Model Params: %d K'", "%", "(", "N", "/", "1000", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.JWSoh_DUBD.None.utils.psnr": [[44, 55], ["numpy.float32", "numpy.float32", "numpy.mean", "numpy.max", "math.log10", "math.sqrt"], "function", ["None"], ["", "def", "psnr", "(", "img1", ",", "img2", ")", ":", "\n", "    ", "img1", "=", "np", ".", "float32", "(", "img1", ")", "\n", "img2", "=", "np", ".", "float32", "(", "img2", ")", "\n", "mse", "=", "np", ".", "mean", "(", "(", "img1", "-", "img2", ")", "**", "2", ")", "\n", "if", "mse", "==", "0", ":", "\n", "        ", "return", "100", "\n", "", "if", "np", ".", "max", "(", "img1", ")", "<=", "1.0", ":", "\n", "        ", "PIXEL_MAX", "=", "1.0", "\n", "", "else", ":", "\n", "        ", "PIXEL_MAX", "=", "255.0", "\n", "", "return", "20", "*", "math", ".", "log10", "(", "PIXEL_MAX", "/", "math", ".", "sqrt", "(", "mse", ")", ")", "", "", ""]]}