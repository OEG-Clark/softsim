{"home.repos.pwc.inspect_result.3dpose_GnTCN.None.datareader.PtsData.__init__": [[14, 18], ["pickle.load", "open"], "methods", ["None"], ["\t", "def", "__init__", "(", "self", ",", "seq_len", ")", ":", "\n", "\t\t", "self", ".", "seq_len", "=", "seq_len", "\n", "self", ".", "half_seq_len", "=", "seq_len", "//", "2", "\n", "self", ".", "data", "=", "pickle", ".", "load", "(", "open", "(", "'points_eval.pkl'", ",", "'rb'", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.None.datareader.PtsData.__getitem__": [[19, 26], ["torch.from_numpy", "torch.from_numpy", "numpy.float32", "numpy.float32"], "methods", ["None"], ["", "def", "__getitem__", "(", "self", ",", "i", ")", ":", "\n", "\t\t", "seq2d", ",", "seq3d", "=", "self", ".", "data", "[", "i", "]", "\n", "\n", "res2d", "=", "seq2d", "/", "1000", "\n", "gt3d", "=", "(", "seq3d", "-", "seq3d", "[", ":", ",", ":", "1", "]", ")", "/", "1000", "\n", "\n", "return", "torch", ".", "from_numpy", "(", "np", ".", "float32", "(", "res2d", ")", ")", ",", "torch", ".", "from_numpy", "(", "np", ".", "float32", "(", "gt3d", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.None.datareader.PtsData.__len__": [[27, 29], ["len"], "methods", ["None"], ["", "def", "__len__", "(", "self", ")", ":", "\n", "\t\t", "return", "len", "(", "self", ".", "data", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.None.datareader.PtsData.reset": [[30, 32], ["None"], "methods", ["None"], ["", "def", "reset", "(", "self", ")", ":", "\n", "\t\t", "pass", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.datautil.load_annot": [[3, 24], ["range", "scipy.loadmat", "range", "results.append", "buff.append", "datautil.load_annot.parse_pose"], "function", ["None"], ["def", "load_annot", "(", "fname", ")", ":", "\n", "    ", "def", "parse_pose", "(", "dt", ")", ":", "\n", "        ", "res", "=", "{", "}", "\n", "annot2", "=", "dt", "[", "'annot2'", "]", "[", "0", ",", "0", "]", "\n", "annot3", "=", "dt", "[", "'annot3'", "]", "[", "0", ",", "0", "]", "\n", "annot3_univ", "=", "dt", "[", "'univ_annot3'", "]", "[", "0", ",", "0", "]", "\n", "is_valid", "=", "dt", "[", "'isValidFrame'", "]", "[", "0", ",", "0", "]", "[", "0", ",", "0", "]", "\n", "res", "[", "'annot2'", "]", "=", "annot2", "\n", "res", "[", "'annot3'", "]", "=", "annot3", "\n", "res", "[", "'annot3_univ'", "]", "=", "annot3_univ", "\n", "res", "[", "'is_valid'", "]", "=", "is_valid", "\n", "return", "res", "\n", "", "data", "=", "sio", ".", "loadmat", "(", "fname", ")", "[", "'annotations'", "]", "\n", "results", "=", "[", "]", "\n", "num_frames", ",", "num_inst", "=", "data", ".", "shape", "[", "0", "]", ",", "data", ".", "shape", "[", "1", "]", "\n", "for", "j", "in", "range", "(", "num_inst", ")", ":", "\n", "        ", "buff", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "num_frames", ")", ":", "\n", "            ", "buff", ".", "append", "(", "parse_pose", "(", "data", "[", "i", ",", "j", "]", ")", ")", "\n", "", "results", ".", "append", "(", "buff", ")", "\n", "", "return", "results", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.datautil.load_occ": [[25, 35], ["range", "scipy.loadmat", "range", "results.append", "buff.append"], "function", ["None"], ["", "def", "load_occ", "(", "fname", ")", ":", "\n", "    ", "data", "=", "sio", ".", "loadmat", "(", "fname", ")", "[", "'occlusion_labels'", "]", "\n", "results", "=", "[", "]", "\n", "num_frames", ",", "num_inst", "=", "data", ".", "shape", "[", "0", "]", ",", "data", ".", "shape", "[", "1", "]", "\n", "for", "i", "in", "range", "(", "num_frames", ")", ":", "\n", "        ", "buff", "=", "[", "]", "\n", "for", "j", "in", "range", "(", "num_inst", ")", ":", "\n", "            ", "buff", ".", "append", "(", "data", "[", "i", "]", "[", "j", "]", ")", "\n", "", "results", ".", "append", "(", "buff", ")", "\n", "", "return", "results", "\n", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mean": [[4, 6], ["sum", "len"], "function", ["None"], ["def", "mean", "(", "l", ")", ":", "\n", "    ", "return", "sum", "(", "l", ")", "/", "len", "(", "l", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mpii_compute_3d_pck": [[7, 45], ["numpy.arange", "mpii_get_joints.mpii_joint_groups", "range", "len", "numpy.array().astype", "range", "pck_curve.append", "pck_seq.append", "pck_curve_array.append", "pck_array.append", "auc_array.append", "len", "pck_curve.append", "auc_seq.append", "pck_seq.append", "buff.append", "len", "numpy.array", "buff.append", "evaluate.mean", "len", "len", "numpy.float32().sum", "len", "len", "numpy.float32().sum", "len", "numpy.float32().sum", "len", "numpy.float32().sum", "len", "numpy.float32", "numpy.float32", "numpy.float32", "numpy.float32"], "function", ["home.repos.pwc.inspect_result.3dpose_GnTCN.util.mpii_get_joints.mpii_joint_groups", "home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mean"], ["", "def", "mpii_compute_3d_pck", "(", "seq_err", ")", ":", "\n", "    ", "pck_curve_array", "=", "[", "]", "\n", "pck_array", "=", "[", "]", "\n", "auc_array", "=", "[", "]", "\n", "thresh", "=", "np", ".", "arange", "(", "0", ",", "200", ",", "5", ")", "\n", "pck_thresh", "=", "150", "\n", "joint_groups", ",", "all_joints", "=", "mpii_get_joints", ".", "mpii_joint_groups", "(", ")", "\n", "for", "seq_idx", "in", "range", "(", "len", "(", "seq_err", ")", ")", ":", "\n", "        ", "pck_curve", "=", "[", "]", "\n", "pck_seq", "=", "[", "]", "\n", "auc_seq", "=", "[", "]", "\n", "err", "=", "np", ".", "array", "(", "seq_err", "[", "seq_idx", "]", ")", ".", "astype", "(", "np", ".", "float32", ")", "\n", "\n", "for", "j", "in", "range", "(", "len", "(", "joint_groups", ")", ")", ":", "\n", "            ", "err_selected", "=", "err", "[", ":", ",", "joint_groups", "[", "j", "]", "[", "1", "]", "]", "\n", "buff", "=", "[", "]", "\n", "for", "t", "in", "thresh", ":", "\n", "                ", "pck", "=", "np", ".", "float32", "(", "err_selected", "<", "t", ")", ".", "sum", "(", ")", "/", "len", "(", "joint_groups", "[", "j", "]", "[", "1", "]", ")", "/", "len", "(", "err", ")", "\n", "buff", ".", "append", "(", "pck", ")", "#[Num_thresholds]", "\n", "", "pck_curve", ".", "append", "(", "buff", ")", "\n", "auc_seq", ".", "append", "(", "mean", "(", "buff", ")", ")", "\n", "pck", "=", "np", ".", "float32", "(", "err_selected", "<", "pck_thresh", ")", ".", "sum", "(", ")", "/", "len", "(", "joint_groups", "[", "j", "]", "[", "1", "]", ")", "/", "len", "(", "err", ")", "\n", "pck_seq", ".", "append", "(", "pck", ")", "\n", "\n", "", "buff", "=", "[", "]", "\n", "for", "t", "in", "thresh", ":", "\n", "            ", "pck", "=", "np", ".", "float32", "(", "err", "[", ":", ",", "all_joints", "]", "<", "t", ")", ".", "sum", "(", ")", "/", "len", "(", "err", ")", "/", "len", "(", "all_joints", ")", "\n", "buff", ".", "append", "(", "pck", ")", "#[Num_thresholds]", "\n", "", "pck_curve", ".", "append", "(", "buff", ")", "\n", "\n", "pck", "=", "np", ".", "float32", "(", "err", "[", ":", ",", "all_joints", "]", "<", "pck_thresh", ")", ".", "sum", "(", ")", "/", "len", "(", "err", ")", "/", "len", "(", "all_joints", ")", "\n", "pck_seq", ".", "append", "(", "pck", ")", "\n", "\n", "pck_curve_array", ".", "append", "(", "pck_curve", ")", "# [num_seq: [Num_grpups+1: [Num_thresholds]]]", "\n", "pck_array", ".", "append", "(", "pck_seq", ")", "# [num_seq: [Num_grpups+1]]", "\n", "auc_array", ".", "append", "(", "auc_seq", ")", "# [num_seq: [Num_grpups]]", "\n", "\n", "", "return", "pck_curve_array", ",", "pck_array", ",", "auc_array", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.calculate_multiperson_errors": [[46, 48], ["evaluate.mpii_compute_3d_pck"], "function", ["home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mpii_compute_3d_pck"], ["", "def", "calculate_multiperson_errors", "(", "seq_err", ")", ":", "\n", "    ", "return", "mpii_compute_3d_pck", "(", "seq_err", ")", "\n", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.load_pred.get_pred": [[6, 15], ["pickle.load", "numpy.float32", "open"], "function", ["None"], ["def", "get_pred", "(", "seq_idx", ",", "frame_idx", ")", ":", "\n", "    ", "global", "data_dict", "\n", "seq_idx", "=", "seq_idx", "+", "1", "\n", "if", "not", "seq_idx", "in", "data_dict", ":", "\n", "# data = sio.loadmat('./results/%d.mat'%seq_idx)['preds']", "\n", "        ", "data", "=", "pickle", ".", "load", "(", "open", "(", "'mupots/pred/%d.pkl'", "%", "seq_idx", ",", "'rb'", ")", ")", "\n", "data_dict", "[", "seq_idx", "]", "=", "np", ".", "float32", "(", "data", ")", "\n", "", "data", "=", "data_dict", "[", "seq_idx", "]", "\n", "return", "data", "[", "frame_idx", "]", "\n", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.matcher.match": [[4, 27], ["numpy.float32", "range", "len", "numpy.float32", "range", "numpy.float32", "numpy.argmin", "len", "norm_pose.procrustes", "numpy.sqrt().mean", "np.float32.append", "np.float32.min", "matches.append", "matches.append", "numpy.sqrt", "numpy.power().sum", "numpy.power"], "function", ["home.repos.pwc.inspect_result.3dpose_GnTCN.util.norm_pose.procrustes", "home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mean"], ["def", "match", "(", "pose1", ",", "pose2", ",", "o1", "=", "None", ",", "trav", "=", "None", ",", "threshold", "=", "250", ")", ":", "\n", "# pose: [2, num_pts]", "\n", "# vis: [1, num_pts]", "\n", "    ", "matches", "=", "[", "]", "\n", "p2", "=", "np", ".", "float32", "(", "pose2", ")", "\n", "if", "o1", "is", "not", "None", ":", "\n", "        ", "p2", "=", "p2", "-", "p2", "[", ":", ",", ":", ",", "14", ":", "15", "]", "\n", "", "for", "i", "in", "range", "(", "len", "(", "pose1", ")", ")", ":", "\n", "        ", "p1", "=", "np", ".", "float32", "(", "pose1", "[", "i", "]", ")", "\n", "p1", "=", "p1", "-", "p1", "[", ":", ",", "14", ":", "15", "]", "\n", "diffs", "=", "[", "]", "\n", "for", "j", "in", "range", "(", "len", "(", "p2", ")", ")", ":", "\n", "            ", "p", "=", "p2", "[", "j", "]", "\n", "p", "=", "norm_pose", ".", "procrustes", "(", "p", ",", "p1", ")", "\n", "diff", "=", "np", ".", "sqrt", "(", "np", ".", "power", "(", "p", "-", "p1", ",", "2", ")", ".", "sum", "(", "axis", "=", "0", ")", ")", ".", "mean", "(", ")", "\n", "diffs", ".", "append", "(", "diff", ")", "\n", "", "diffs", "=", "np", ".", "float32", "(", "diffs", ")", "\n", "idx", "=", "np", ".", "argmin", "(", "diffs", ")", "\n", "if", "diffs", ".", "min", "(", ")", ">", "threshold", ":", "\n", "            ", "matches", ".", "append", "(", "-", "1", ")", "\n", "", "else", ":", "\n", "            ", "matches", ".", "append", "(", "idx", ")", "\n", "", "", "return", "matches", "\n", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.norm_pose.norm_by_bone_length": [[3, 13], ["pred.copy", "range", "len", "numpy.linalg.norm", "numpy.linalg.norm"], "function", ["None"], ["def", "norm_by_bone_length", "(", "pred", ",", "gt", ",", "o1", ",", "trav", ")", ":", "\n", "    ", "mapped_pose", "=", "pred", ".", "copy", "(", ")", "\n", "\n", "for", "i", "in", "range", "(", "len", "(", "trav", ")", ")", ":", "\n", "        ", "idx", "=", "trav", "[", "i", "]", "\n", "gt_len", "=", "np", ".", "linalg", ".", "norm", "(", "gt", "[", ":", ",", "idx", "]", "-", "gt", "[", ":", ",", "o1", "[", "i", "]", "]", ")", "\n", "pred_vec", "=", "pred", "[", ":", ",", "idx", "]", "-", "pred", "[", ":", ",", "o1", "[", "i", "]", "]", "\n", "pred_len", "=", "np", ".", "linalg", ".", "norm", "(", "pred_vec", ")", "\n", "mapped_pose", "[", ":", ",", "idx", "]", "=", "mapped_pose", "[", ":", ",", "o1", "[", "i", "]", "]", "+", "pred_vec", "*", "gt_len", "/", "pred_len", "\n", "", "return", "mapped_pose", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.norm_pose.procrustes": [[14, 51], ["numpy.mean", "numpy.mean", "numpy.sqrt", "numpy.sqrt", "numpy.matmul", "numpy.linalg.svd", "Vt.transpose", "numpy.matmul", "numpy.sign", "np.sign.flatten", "numpy.matmul", "numpy.expand_dims", "numpy.sum", "numpy.sum", "X0.transpose", "U.transpose", "numpy.expand_dims", "U.transpose", "numpy.sum", "numpy.linalg.det", "numpy.matmul", "numpy.matmul"], "function", ["home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mean", "home.repos.pwc.inspect_result.3dpose_GnTCN.util.evaluate.mean"], ["", "def", "procrustes", "(", "predicted", ",", "target", ")", ":", "\n", "    ", "predicted", "=", "predicted", ".", "T", "\n", "target", "=", "target", ".", "T", "\n", "predicted", "=", "predicted", "[", "None", ",", "...", "]", "\n", "target", "=", "target", "[", "None", ",", "...", "]", "\n", "\n", "muX", "=", "np", ".", "mean", "(", "target", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "muY", "=", "np", ".", "mean", "(", "predicted", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", "\n", "\n", "X0", "=", "target", "-", "muX", "\n", "Y0", "=", "predicted", "-", "muY", "\n", "\n", "normX", "=", "np", ".", "sqrt", "(", "np", ".", "sum", "(", "X0", "**", "2", ",", "axis", "=", "(", "1", ",", "2", ")", ",", "keepdims", "=", "True", ")", ")", "\n", "normY", "=", "np", ".", "sqrt", "(", "np", ".", "sum", "(", "Y0", "**", "2", ",", "axis", "=", "(", "1", ",", "2", ")", ",", "keepdims", "=", "True", ")", ")", "\n", "\n", "X0", "/=", "normX", "\n", "Y0", "/=", "normY", "\n", "\n", "H", "=", "np", ".", "matmul", "(", "X0", ".", "transpose", "(", "0", ",", "2", ",", "1", ")", ",", "Y0", ")", "\n", "U", ",", "s", ",", "Vt", "=", "np", ".", "linalg", ".", "svd", "(", "H", ")", "\n", "V", "=", "Vt", ".", "transpose", "(", "0", ",", "2", ",", "1", ")", "\n", "R", "=", "np", ".", "matmul", "(", "V", ",", "U", ".", "transpose", "(", "0", ",", "2", ",", "1", ")", ")", "\n", "\n", "# Avoid improper rotations (reflections), i.e. rotations with det(R) = -1", "\n", "sign_detR", "=", "np", ".", "sign", "(", "np", ".", "expand_dims", "(", "np", ".", "linalg", ".", "det", "(", "R", ")", ",", "axis", "=", "1", ")", ")", "\n", "V", "[", ":", ",", ":", ",", "-", "1", "]", "*=", "sign_detR", "\n", "s", "[", ":", ",", "-", "1", "]", "*=", "sign_detR", ".", "flatten", "(", ")", "\n", "R", "=", "np", ".", "matmul", "(", "V", ",", "U", ".", "transpose", "(", "0", ",", "2", ",", "1", ")", ")", "# Rotation", "\n", "\n", "tr", "=", "np", ".", "expand_dims", "(", "np", ".", "sum", "(", "s", ",", "axis", "=", "1", ",", "keepdims", "=", "True", ")", ",", "axis", "=", "2", ")", "\n", "\n", "a", "=", "tr", "*", "normX", "/", "normY", "# Scale", "\n", "t", "=", "muX", "-", "a", "*", "np", ".", "matmul", "(", "muY", ",", "R", ")", "# Translation", "\n", "\n", "# Perform rigid transformation on the input", "\n", "predicted_aligned", "=", "a", "*", "np", ".", "matmul", "(", "predicted", ",", "R", ")", "+", "t", "\n", "return", "predicted_aligned", "[", "0", "]", ".", "T", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.load_dep_pred.get_pred_gt": [[6, 16], ["pickle.load", "numpy.float32", "pickle.load", "numpy.float32", "open", "open"], "function", ["None"], ["def", "get_pred_gt", "(", "seq_idx", ",", "inst_idx", ",", "frame_idx", ")", ":", "\n", "    ", "global", "data_dict", "\n", "if", "not", "seq_idx", "in", "data_dict", ":", "\n", "        ", "data", "=", "pickle", ".", "load", "(", "open", "(", "'mupots/pred_dep/%02d_%02d.pkl'", "%", "(", "seq_idx", ",", "inst_idx", ")", ",", "'rb'", ")", ")", "\n", "data_dict", "[", "(", "seq_idx", ",", "inst_idx", ")", "]", "=", "np", ".", "float32", "(", "data", ")", "\n", "gt", "=", "pickle", ".", "load", "(", "open", "(", "'mupots/depths/%02d_%02d.pkl'", "%", "(", "seq_idx", ",", "inst_idx", ")", ",", "'rb'", ")", ")", "\n", "gt_dict", "[", "(", "seq_idx", ",", "inst_idx", ")", "]", "=", "np", ".", "float32", "(", "gt", ")", "\n", "", "data", "=", "data_dict", "[", "(", "seq_idx", ",", "inst_idx", ")", "]", "\n", "gt", "=", "gt_dict", "[", "(", "seq_idx", ",", "inst_idx", ")", "]", "\n", "return", "data", "[", "frame_idx", "]", ",", "gt", "[", "frame_idx", "]", "\n", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.mpii_get_joints.mpii_joint_groups": [[1, 16], ["None"], "function", ["None"], ["def", "mpii_joint_groups", "(", ")", ":", "\n", "    ", "joint_groups", "=", "[", "\n", "[", "'Head'", ",", "[", "0", "]", "]", ",", "\n", "[", "'Neck'", ",", "[", "1", "]", "]", ",", "\n", "[", "'Shou'", ",", "[", "2", ",", "5", "]", "]", ",", "\n", "[", "'Elbow'", ",", "[", "3", ",", "6", "]", "]", ",", "\n", "[", "'Wrist'", ",", "[", "4", ",", "7", "]", "]", ",", "\n", "[", "'Hip'", ",", "[", "8", ",", "11", "]", "]", ",", "\n", "[", "'Knee'", ",", "[", "9", ",", "12", "]", "]", ",", "\n", "[", "'Ankle'", ",", "[", "10", ",", "13", "]", "]", ",", "\n", "]", "\n", "all_joints", "=", "[", "]", "\n", "for", "i", "in", "joint_groups", ":", "\n", "        ", "all_joints", "+=", "i", "[", "1", "]", "\n", "", "return", "joint_groups", ",", "all_joints", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.util.mpii_get_joints.mpii_get_joints": [[18, 42], ["NotImplementedError"], "function", ["None"], ["", "def", "mpii_get_joints", "(", "set_name", ")", ":", "\n", "    ", "original_joint_names", "=", "[", "'spine3'", ",", "'spine4'", ",", "'spine2'", ",", "'spine1'", ",", "'spine'", ",", "\n", "'neck'", ",", "'head'", ",", "'head_top'", ",", "'left_shoulder'", ",", "'left_arm'", ",", "'left_forearm'", ",", "\n", "'left_hand'", ",", "'left_hand_ee'", ",", "'right_shoulder'", ",", "'right_arm'", ",", "'right_forearm'", ",", "'right_hand'", ",", "\n", "'right_hand_ee'", ",", "'left_leg_up'", ",", "'left_leg'", ",", "'left_foot'", ",", "'left_toe'", ",", "'left_ee'", ",", "\n", "'right_leg_up'", ",", "'right_leg'", ",", "'right_foot'", ",", "'right_toe'", ",", "'right_ee'", "]", "\n", "\n", "all_joint_names", "=", "[", "'spine3'", ",", "'spine4'", ",", "'spine2'", ",", "'spine'", ",", "'pelvis'", ",", "\n", "'neck'", ",", "'head'", ",", "'head_top'", ",", "'left_clavicle'", ",", "'left_shoulder'", ",", "'left_elbow'", ",", "\n", "'left_wrist'", ",", "'left_hand'", ",", "'right_clavicle'", ",", "'right_shoulder'", ",", "'right_elbow'", ",", "'right_wrist'", ",", "\n", "'right_hand'", ",", "'left_hip'", ",", "'left_knee'", ",", "'left_ankle'", ",", "'left_foot'", ",", "'left_toe'", ",", "\n", "'right_hip'", ",", "'right_knee'", ",", "'right_ankle'", ",", "'right_foot'", ",", "'right_toe'", "]", "\n", "\n", "if", "set_name", "==", "'relavant'", ":", "\n", "        ", "joint_idx", "=", "[", "8", ",", "6", ",", "15", ",", "16", ",", "17", ",", "10", ",", "11", ",", "12", ",", "24", ",", "25", ",", "26", ",", "19", ",", "20", ",", "21", ",", "5", ",", "4", ",", "7", "]", "\n", "joint_parents_o1", "=", "[", "2", ",", "16", ",", "2", ",", "3", ",", "4", ",", "2", ",", "6", ",", "7", ",", "15", ",", "9", ",", "10", ",", "15", ",", "12", ",", "13", ",", "15", ",", "15", ",", "2", "]", "\n", "joint_parents_o2", "=", "[", "16", ",", "15", ",", "16", ",", "2", ",", "3", ",", "16", ",", "2", ",", "6", ",", "16", ",", "15", ",", "9", ",", "16", ",", "15", ",", "12", ",", "15", ",", "15", ",", "16", "]", "\n", "joint_idx", "=", "[", "i", "-", "1", "for", "i", "in", "joint_idx", "]", "\n", "joint_parents_o1", "=", "[", "i", "-", "1", "for", "i", "in", "joint_parents_o1", "]", "\n", "joint_parents_o2", "=", "[", "i", "-", "1", "for", "i", "in", "joint_parents_o2", "]", "\n", "joint_names", "=", "[", "all_joint_names", "[", "i", "]", "for", "i", "in", "joint_idx", "]", "\n", "return", "joint_idx", ",", "joint_parents_o1", ",", "joint_parents_o2", ",", "joint_names", "\n", "", "else", ":", "\n", "        ", "raise", "NotImplementedError", "(", "'Not implemented yet.'", ")", "\n", "", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networkgcn.PropLayer.initialize": [[9, 14], ["torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU", "torch.nn.ReLU"], "methods", ["None"], ["\t", "def", "initialize", "(", "self", ",", "outdim", ",", "usebias", "=", "True", ")", ":", "\n", "\t\t", "self", ".", "outdim", "=", "outdim", "\n", "self", ".", "act", "=", "torch", ".", "nn", ".", "ReLU", "(", ")", "\n", "self", ".", "act2", "=", "torch", ".", "nn", ".", "ReLU", "(", ")", "\n", "self", ".", "usebias", "=", "usebias", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networkgcn.PropLayer.build": [[15, 29], ["torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.kaiming_uniform_", "torch.kaiming_uniform_", "torch.kaiming_uniform_", "torch.kaiming_uniform_", "torch.kaiming_uniform_", "torch.kaiming_uniform_", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "print", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.nn.parameter.Parameter", "torch.uniform_", "torch.uniform_", "torch.uniform_", "torch.uniform_", "torch.uniform_", "torch.uniform_", "numpy.sqrt", "numpy.sqrt", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor", "torch.Tensor"], "methods", ["None"], ["", "def", "build", "(", "self", ",", "*", "inp", ")", ":", "\n", "# inp: [Bsize, num_pts, 2]", "\n", "\t\t", "num_pts", "=", "inp", "[", "0", "]", ".", "shape", "[", "1", "]", "\n", "indim", "=", "inp", "[", "0", "]", ".", "shape", "[", "2", "]", "\n", "self", ".", "weight", "=", "Parameter", "(", "torch", ".", "Tensor", "(", "num_pts", ",", "indim", ",", "self", ".", "outdim", ")", ")", "\n", "self", ".", "weight2", "=", "Parameter", "(", "torch", ".", "Tensor", "(", "num_pts", ",", "self", ".", "outdim", ",", "self", ".", "outdim", ")", ")", "\n", "init", ".", "kaiming_uniform_", "(", "self", ".", "weight", ",", "a", "=", "np", ".", "sqrt", "(", "5", ")", ")", "\n", "init", ".", "kaiming_uniform_", "(", "self", ".", "weight2", ",", "a", "=", "np", ".", "sqrt", "(", "5", ")", ")", "\n", "if", "self", ".", "usebias", ":", "\n", "\t\t\t", "print", "(", "'initialize bias'", ")", "\n", "self", ".", "bias", "=", "Parameter", "(", "torch", ".", "Tensor", "(", "num_pts", ",", "self", ".", "outdim", ")", ")", "\n", "self", ".", "bias2", "=", "Parameter", "(", "torch", ".", "Tensor", "(", "num_pts", ",", "self", ".", "outdim", ")", ")", "\n", "init", ".", "uniform_", "(", "self", ".", "bias", ",", "-", "0.1", ",", "0.1", ")", "\n", "init", ".", "uniform_", "(", "self", ".", "bias2", ",", "-", "0.1", ",", "0.1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networkgcn.PropLayer.forward": [[30, 54], ["torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "networkgcn.PropLayer.act", "networkgcn.PropLayer.act2", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat"], "methods", ["None"], ["", "", "def", "forward", "(", "self", ",", "inp", ",", "aff", "=", "None", ",", "act", "=", "True", ")", ":", "\n", "\t\t", "if", "aff", "is", "not", "None", ":", "\n", "# propagate the keypoints ", "\n", "\t\t\t", "x", "=", "torch", ".", "einsum", "(", "'ikl,ijk->ijl'", ",", "inp", ",", "aff", ")", "\n", "", "else", ":", "\n", "\t\t\t", "x", "=", "inp", "\n", "\n", "", "x", "=", "torch", ".", "einsum", "(", "'ijk,jkl->ijl'", ",", "x", ",", "self", ".", "weight", ")", "\n", "if", "self", ".", "usebias", ":", "\n", "\t\t\t", "x", "=", "x", "+", "self", ".", "bias", "\n", "", "if", "act", ":", "\n", "\t\t\t", "x", "=", "self", ".", "act", "(", "x", ")", "\n", "# x = F.dropout(x, 0.25, self.training, False)", "\n", "\n", "", "x", "=", "torch", ".", "einsum", "(", "'ijk,jkl->ijl'", ",", "x", ",", "self", ".", "weight2", ")", "\n", "if", "self", ".", "usebias", ":", "\n", "\t\t\t", "x", "=", "x", "+", "self", ".", "bias2", "\n", "", "if", "act", ":", "\n", "\t\t\t", "x", "=", "self", ".", "act2", "(", "x", ")", "\n", "#x = F.dropout(x, 0.25, self.training, False)", "\n", "\n", "", "if", "aff", "is", "not", "None", ":", "\n", "\t\t\t", "x", "=", "torch", ".", "cat", "(", "[", "inp", ",", "x", "]", ",", "dim", "=", "-", "1", ")", "\n", "", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networkgcn.TransNet.initialize": [[56, 67], ["networkgcn.PropLayer", "networkgcn.PropLayer", "networkgcn.PropLayer", "networkgcn.PropLayer", "networkgcn.PropLayer", "networkgcn.PropLayer", "networkgcn.PropLayer"], "methods", ["None"], ["\t", "def", "initialize", "(", "self", ",", "outdim", ",", "num_pts", ")", ":", "\n", "\t\t", "self", ".", "num_pts", "=", "num_pts", "\n", "self", ".", "c1", "=", "PropLayer", "(", "outdim", ")", "\n", "self", ".", "c2", "=", "PropLayer", "(", "outdim", ")", "\n", "self", ".", "c3", "=", "PropLayer", "(", "outdim", ")", "\n", "\n", "self", ".", "b2", "=", "PropLayer", "(", "outdim", ")", "\n", "self", ".", "b3", "=", "PropLayer", "(", "outdim", ")", "\n", "\n", "self", ".", "c8", "=", "PropLayer", "(", "outdim", ")", "\n", "self", ".", "c9", "=", "PropLayer", "(", "3", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networkgcn.TransNet.forward": [[68, 84], ["networkgcn.TransNet.c1", "networkgcn.TransNet.c2", "networkgcn.TransNet.c3", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "networkgcn.TransNet.b2", "networkgcn.TransNet.b3", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.einsum", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "networkgcn.TransNet.c8", "networkgcn.TransNet.c9", "x.reshape.reshape.reshape"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ",", "aff", ",", "aff_bone", ",", "inc", ",", "inc_inv", ")", ":", "\n", "\t\t", "x", "=", "feat", "=", "self", ".", "c1", "(", "x", ")", "\n", "x", "=", "self", ".", "c2", "(", "x", ",", "aff", ")", "\n", "x", "=", "self", ".", "c3", "(", "x", ",", "aff", ")", "\n", "\n", "feat", "=", "torch", ".", "einsum", "(", "'ijk,lj->ilk'", ",", "feat", ",", "inc", ")", "\n", "feat", "=", "self", ".", "b2", "(", "feat", ",", "aff_bone", ")", "\n", "feat", "=", "self", ".", "b3", "(", "feat", ",", "aff_bone", ")", "\n", "feat", "=", "torch", ".", "einsum", "(", "'ijk,lj->ilk'", ",", "feat", ",", "inc_inv", ")", "\n", "x", "=", "torch", ".", "cat", "(", "[", "x", ",", "feat", "]", ",", "dim", "=", "-", "1", ")", "\n", "\n", "x", "=", "self", ".", "c8", "(", "x", ")", "\n", "x", "=", "self", ".", "c9", "(", "x", ",", "act", "=", "False", ")", "\n", "# print(x.shape)", "\n", "x", "=", "x", ".", "reshape", "(", "-", "1", ",", "self", ".", "num_pts", ",", "3", ")", "\n", "return", "x", "\n", "", "", ""]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.ResBlock1D.initialize": [[9, 14], ["TorchSUL.Model.ConvLayer1D", "TorchSUL.Model.ConvLayer1D"], "methods", ["None"], ["\t", "def", "initialize", "(", "self", ",", "outchn", "=", "1024", ",", "k", "=", "3", ")", ":", "\n", "\t\t", "self", ".", "k", "=", "k", "\n", "# self.bn = M.BatchNorm()", "\n", "self", ".", "c1", "=", "M", ".", "ConvLayer1D", "(", "k", ",", "outchn", ",", "stride", "=", "k", ",", "activation", "=", "M", ".", "PARAM_PRELU", ",", "batch_norm", "=", "True", ",", "usebias", "=", "False", ",", "pad", "=", "'VALID'", ")", "\n", "self", ".", "c2", "=", "M", ".", "ConvLayer1D", "(", "1", ",", "outchn", ",", "activation", "=", "M", ".", "PARAM_PRELU", ",", "batch_norm", "=", "True", ",", "usebias", "=", "False", ",", "pad", "=", "'VALID'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.ResBlock1D.forward": [[15, 35], ["networktcn.ResBlock1D.c1", "torch.dropout", "torch.dropout", "torch.dropout", "networktcn.ResBlock1D.c2", "torch.dropout", "torch.dropout", "torch.dropout"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\t\t", "short", "=", "x", "\n", "\n", "# residual branch", "\n", "# branch = self.bn(x)", "\n", "# branch = M.activation(branch, M.PARAM_LRELU)", "\n", "\n", "branch", "=", "self", ".", "c1", "(", "x", ")", "\n", "branch", "=", "F", ".", "dropout", "(", "branch", ",", "0.5", ",", "self", ".", "training", ",", "False", ")", "\n", "branch", "=", "self", ".", "c2", "(", "branch", ")", "\n", "branch", "=", "F", ".", "dropout", "(", "branch", ",", "0.5", ",", "self", ".", "training", ",", "False", ")", "\n", "# slicing & shortcut", "\n", "# branch_shape = branch.shape[-1]", "\n", "# short_shape = short.shape[-1]", "\n", "# start = (short_shape - branch_shape) // 2", "\n", "short", "=", "short", "[", ":", ",", ":", ",", "self", ".", "k", "//", "2", ":", ":", "self", ".", "k", "]", "\n", "res", "=", "short", "+", "branch", "\n", "# res = F.dropout(res, 0.25, self.training, False)", "\n", "\n", "return", "res", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.Refine2dNet.initialize": [[37, 51], ["TorchSUL.Model.ConvLayer1D", "networktcn.ResBlock1D", "networktcn.ResBlock1D", "networktcn.ResBlock1D", "networktcn.ResBlock1D", "TorchSUL.Model.ConvLayer1D"], "methods", ["None"], ["\t", "def", "initialize", "(", "self", ",", "num_kpts", ",", "temp_length", ",", "input_dimension", "=", "3", ",", "output_dimension", "=", "3", ",", "output_pts", "=", "None", ")", ":", "\n", "\t\t", "self", ".", "num_kpts", "=", "num_kpts", "\n", "self", ".", "temp_length", "=", "temp_length", "\n", "self", ".", "output_dimension", "=", "output_dimension", "\n", "self", ".", "output_pts", "=", "num_kpts", "if", "output_pts", "is", "None", "else", "output_pts", "\n", "self", ".", "input_dimension", "=", "input_dimension", "\n", "self", ".", "c1", "=", "M", ".", "ConvLayer1D", "(", "3", ",", "1024", ",", "stride", "=", "3", ",", "activation", "=", "M", ".", "PARAM_PRELU", ",", "pad", "=", "'VALID'", ",", "batch_norm", "=", "True", ",", "usebias", "=", "False", ")", "\n", "self", ".", "r1", "=", "ResBlock1D", "(", "k", "=", "3", ")", "\n", "self", ".", "r2", "=", "ResBlock1D", "(", "k", "=", "3", ")", "\n", "self", ".", "r3", "=", "ResBlock1D", "(", "k", "=", "3", ")", "\n", "self", ".", "r4", "=", "ResBlock1D", "(", "k", "=", "3", ")", "\n", "# self.r3 = ResBlock1D(k=3, dilation=3)", "\n", "# self.c5 = M.ConvLayer1D(9, 256, activation=M.PARAM_PRELU, pad='VALID', batch_norm=True, usebias=False)", "\n", "self", ".", "c4", "=", "M", ".", "ConvLayer1D", "(", "1", ",", "self", ".", "output_pts", "*", "self", ".", "output_dimension", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.Refine2dNet.forward": [[52, 66], ["x.reshape.reshape.view", "x.reshape.reshape.permute", "networktcn.Refine2dNet.c1", "networktcn.Refine2dNet.r1", "networktcn.Refine2dNet.r2", "networktcn.Refine2dNet.r3", "networktcn.Refine2dNet.r4", "networktcn.Refine2dNet.c4", "x.reshape.reshape.permute", "x.reshape.reshape.reshape"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ",", "drop", "=", "True", ")", ":", "\n", "\t\t", "x", "=", "x", ".", "view", "(", "x", ".", "shape", "[", "0", "]", ",", "x", ".", "shape", "[", "1", "]", ",", "self", ".", "num_kpts", "*", "self", ".", "input_dimension", ")", "\n", "x", "=", "x", ".", "permute", "(", "0", ",", "2", ",", "1", ")", "\n", "x", "=", "self", ".", "c1", "(", "x", ")", "\n", "x", "=", "self", ".", "r1", "(", "x", ")", "\n", "x", "=", "self", ".", "r2", "(", "x", ")", "\n", "x", "=", "self", ".", "r3", "(", "x", ")", "\n", "x", "=", "self", ".", "r4", "(", "x", ")", "\n", "# x = self.r5(x)", "\n", "# x = self.c5(x)", "\n", "x", "=", "self", ".", "c4", "(", "x", ")", "\n", "x", "=", "x", ".", "permute", "(", "0", ",", "2", ",", "1", ")", "\n", "x", "=", "x", ".", "reshape", "(", "x", ".", "shape", "[", "0", "]", ",", "x", ".", "shape", "[", "1", "]", ",", "self", ".", "output_pts", ",", "self", ".", "output_dimension", ")", "\n", "return", "x", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.Refine2dNet.evaluate": [[67, 76], ["range", "torch.stack", "torch.stack", "torch.stack", "torch.stack", "torch.stack", "torch.stack", "torch.stack", "torch.stack", "torch.stack", "networktcn.Refine2dNet.", "y.squeeze.squeeze.squeeze", "torch.stack.append", "torch.stack.append", "torch.stack.append"], "methods", ["None"], ["", "def", "evaluate", "(", "self", ",", "x", ")", ":", "\n", "\t\t", "aa", "=", "[", "]", "\n", "for", "i", "in", "range", "(", "x", ".", "shape", "[", "0", "]", "-", "self", ".", "temp_length", "+", "1", ")", ":", "\n", "\t\t\t", "aa", ".", "append", "(", "x", "[", "i", ":", "i", "+", "self", ".", "temp_length", "]", ")", "\n", "", "aa", "=", "torch", ".", "stack", "(", "aa", ",", "dim", "=", "0", ")", "\n", "y", "=", "self", "(", "aa", ")", "\n", "# y = y.permute(1,0,2,3)", "\n", "y", "=", "y", ".", "squeeze", "(", ")", "\n", "return", "y", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.Discriminator2D.initialize": [[78, 83], ["TorchSUL.Model.ConvLayer1D", "TorchSUL.Model.ConvLayer1D", "TorchSUL.Model.ConvLayer1D", "TorchSUL.Model.ConvLayer1D"], "methods", ["None"], ["\t", "def", "initialize", "(", "self", ")", ":", "\n", "\t\t", "self", ".", "c1", "=", "M", ".", "ConvLayer1D", "(", "1", ",", "1024", ",", "activation", "=", "M", ".", "PARAM_PRELU", ")", "\n", "self", ".", "c2", "=", "M", ".", "ConvLayer1D", "(", "1", ",", "256", ",", "activation", "=", "M", ".", "PARAM_PRELU", ")", "\n", "self", ".", "c3", "=", "M", ".", "ConvLayer1D", "(", "1", ",", "256", ",", "activation", "=", "M", ".", "PARAM_PRELU", ")", "\n", "self", ".", "c4", "=", "M", ".", "ConvLayer1D", "(", "1", ",", "1", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.3dpose_GnTCN.models.networktcn.Discriminator2D.forward": [[84, 86], ["networktcn.Discriminator2D.c4", "networktcn.Discriminator2D.c3", "networktcn.Discriminator2D.c2", "networktcn.Discriminator2D.c1"], "methods", ["None"], ["", "def", "forward", "(", "self", ",", "x", ")", ":", "\n", "\t\t", "return", "self", ".", "c4", "(", "self", ".", "c3", "(", "self", ".", "c2", "(", "self", ".", "c1", "(", "x", ")", ")", ")", ")", "\n", "\n"]]}