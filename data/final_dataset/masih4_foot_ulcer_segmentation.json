{"home.repos.pwc.inspect_result.masih4_foot_ulcer_segmentation.code.gpu_setting.gpu_setting": [[9, 31], ["print", "tf.config.experimental.list_physical_devices", "tf.ConfigProto", "set_session", "len", "tf.Session", "tf.config.experimental.list_physical_devices", "tf.config.experimental.set_visible_devices", "tf.config.experimental.list_logical_devices", "print", "len", "len", "print"], "function", ["None"], ["def", "gpu_setting", "(", "opts", ")", ":", "\n", "    ", "import", "tensorflow", "as", "tf", "\n", "if", "opts", "[", "'tf_version'", "]", "==", "2", ":", "\n", "        ", "print", "(", "\"Num GPUs Available: \"", ",", "len", "(", "tf", ".", "config", ".", "experimental", ".", "list_physical_devices", "(", "'GPU'", ")", ")", ")", "\n", "gpus", "=", "tf", ".", "config", ".", "experimental", ".", "list_physical_devices", "(", "'GPU'", ")", "\n", "if", "gpus", ":", "\n", "            ", "try", ":", "\n", "                ", "tf", ".", "config", ".", "experimental", ".", "set_visible_devices", "(", "gpus", "[", "0", "]", ",", "'GPU'", ")", "\n", "logical_gpus", "=", "tf", ".", "config", ".", "experimental", ".", "list_logical_devices", "(", "'GPU'", ")", "\n", "print", "(", "len", "(", "gpus", ")", ",", "\"Physical GPUs,\"", ",", "len", "(", "logical_gpus", ")", ",", "\"Logical GPU\"", ")", "\n", "", "except", "RuntimeError", "as", "e", ":", "\n", "# Visible devices must be set before GPUs have been initialized", "\n", "                ", "print", "(", "e", ")", "\n", "", "", "", "else", ":", "# i.e. tf_version == 1.14", "\n", "        ", "import", "tensorflow", "as", "tf", "\n", "from", "keras", ".", "backend", ".", "tensorflow_backend", "import", "set_session", "\n", "config", "=", "tf", ".", "ConfigProto", "(", ")", "\n", "config", ".", "gpu_options", ".", "allow_growth", "=", "True", "\n", "gpu_str", "=", "opts", "[", "'gpu_num'", "]", "\n", "config", ".", "gpu_options", ".", "visible_device_list", "=", "gpu_str", "\n", "set_session", "(", "tf", ".", "Session", "(", "config", "=", "config", ")", ")", "\n", "", "return", "\n", "", ""]], "home.repos.pwc.inspect_result.masih4_foot_ulcer_segmentation.code.TTA.TTA": [[4, 15], ["numpy.zeros", "cv2.rotate", "cv2.rotate", "cv2.rotate", "cv2.flip", "cv2.flip", "cv2.flip", "cv2.flip"], "function", ["None"], ["def", "TTA", "(", "test_image", ")", ":", "\n", "    ", "augmented_images", "=", "np", ".", "zeros", "(", "(", "8", ",", "test_image", ".", "shape", "[", "0", "]", ",", "test_image", ".", "shape", "[", "1", "]", ",", "test_image", ".", "shape", "[", "2", "]", ")", ")", "\n", "augmented_images", "[", "0", ",", ":", ",", ":", ",", ":", "]", "=", "test_image", "\n", "augmented_images", "[", "1", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "test_image", ",", "cv2", ".", "ROTATE_90_CLOCKWISE", ")", "\n", "augmented_images", "[", "2", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "test_image", ",", "cv2", ".", "ROTATE_90_COUNTERCLOCKWISE", ")", "\n", "augmented_images", "[", "3", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "test_image", ",", "cv2", ".", "ROTATE_180", ")", "\n", "augmented_images", "[", "4", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "test_image", ",", "1", ")", "\n", "augmented_images", "[", "5", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "augmented_images", "[", "1", ",", ":", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "augmented_images", "[", "6", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "augmented_images", "[", "3", ",", ":", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "augmented_images", "[", "7", ",", ":", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "augmented_images", "[", "2", ",", ":", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "return", "augmented_images", "\n", "\n"]], "home.repos.pwc.inspect_result.masih4_foot_ulcer_segmentation.code.TTA.TTA_reverse": [[16, 31], ["numpy.zeros", "cv2.rotate", "cv2.rotate", "cv2.rotate", "cv2.flip", "cv2.flip", "cv2.rotate", "cv2.flip", "cv2.rotate", "cv2.flip", "cv2.rotate"], "function", ["None"], ["", "def", "TTA_reverse", "(", "predictions", ")", ":", "\n", "    ", "reverse", "=", "np", ".", "zeros", "(", "(", "predictions", ".", "shape", "[", "0", "]", ",", "predictions", ".", "shape", "[", "1", "]", ",", "predictions", ".", "shape", "[", "2", "]", ")", ")", "\n", "\n", "reverse", "[", "0", ",", ":", ",", ":", "]", "=", "predictions", "[", "0", ",", ":", ",", ":", "]", "\n", "reverse", "[", "1", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "predictions", "[", "1", ",", ":", ",", ":", "]", ",", "cv2", ".", "ROTATE_90_COUNTERCLOCKWISE", ")", "\n", "reverse", "[", "2", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "predictions", "[", "2", ",", ":", ",", ":", "]", ",", "cv2", ".", "ROTATE_90_CLOCKWISE", ")", "\n", "reverse", "[", "3", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "predictions", "[", "3", ",", ":", ",", ":", "]", ",", "cv2", ".", "ROTATE_180", ")", "\n", "reverse", "[", "4", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "predictions", "[", "4", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "reverse", "[", "5", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "predictions", "[", "5", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "reverse", "[", "5", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "reverse", "[", "5", ",", ":", ",", ":", "]", ",", "cv2", ".", "ROTATE_90_COUNTERCLOCKWISE", ")", "\n", "reverse", "[", "6", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "predictions", "[", "6", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "reverse", "[", "6", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "reverse", "[", "6", ",", ":", ",", ":", "]", ",", "cv2", ".", "cv2", ".", "ROTATE_180", ")", "\n", "reverse", "[", "7", ",", ":", ",", ":", "]", "=", "cv2", ".", "flip", "(", "predictions", "[", "7", ",", ":", ",", ":", "]", ",", "1", ")", "\n", "reverse", "[", "7", ",", ":", ",", ":", "]", "=", "cv2", ".", "rotate", "(", "reverse", "[", "7", ",", ":", ",", ":", "]", ",", "cv2", ".", "ROTATE_90_CLOCKWISE", ")", "\n", "return", "reverse", "", "", ""]], "home.repos.pwc.inspect_result.masih4_foot_ulcer_segmentation.code.test.get_id_from_file_path": [[37, 39], ["[].replace", "file_path.split"], "function", ["None"], ["def", "get_id_from_file_path", "(", "file_path", ",", "indicator", ")", ":", "\n", "    ", "return", "file_path", ".", "split", "(", "os", ".", "path", ".", "sep", ")", "[", "-", "1", "]", ".", "replace", "(", "indicator", ",", "''", ")", "\n", "#########################################################################", "\n"]]}