{"home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.gen_def_data_ptb.wn_lemmatize": [[6, 15], ["nltk.corpus.wordnet.synsets", "set", "sense.lemma_names", "set.add"], "function", ["None"], ["def", "wn_lemmatize", "(", "word", ")", ":", "\n", "    ", "senses", "=", "wn", ".", "synsets", "(", "word", ")", "\n", "lemmas", "=", "set", "(", ")", "\n", "for", "sense", "in", "senses", ":", "\n", "        ", "for", "lname", "in", "sense", ".", "lemma_names", "(", ")", ":", "\n", "            ", "if", "'_'", "in", "lname", "or", "' '", "in", "lname", ":", "\n", "                ", "continue", "\n", "", "lemmas", ".", "add", "(", "lname", ")", "\n", "", "", "return", "lemmas", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.gen_def_data_ptb.filter_word": [[17, 22], ["len"], "function", ["None"], ["", "def", "filter_word", "(", "word", ",", "banned_words", ")", ":", "\n", "    ", "if", "(", "len", "(", "word", ")", "<", "3", "\n", "or", "word", "in", "banned_words", ")", ":", "\n", "        ", "return", "False", "\n", "", "return", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.gen_def_data_ptb.normalized_def2str": [[23, 31], ["norm_def[].lower"], "function", ["None"], ["", "def", "normalized_def2str", "(", "norm_def", ")", ":", "\n", "    ", "a", "=", "[", "\n", "norm_def", "[", "'word'", "]", ",", "\n", "norm_def", "[", "'pos'", "]", ",", "\n", "norm_def", "[", "'source'", "]", ",", "\n", "norm_def", "[", "'def'", "]", ".", "lower", "(", ")", "\n", "]", "\n", "return", "u'\\t'", ".", "join", "(", "a", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.analyze_data.num_words_with_freq": [[6, 12], ["None"], "function", ["None"], ["def", "num_words_with_freq", "(", "freq", ",", "n", ")", ":", "\n", "    ", "c", "=", "0", "\n", "for", "w", "in", "freq", ":", "\n", "        ", "if", "freq", "[", "w", "]", "==", "n", ":", "\n", "            ", "c", "=", "c", "+", "1", "\n", "", "", "return", "c", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.gen_def_data.wn_lemmatize": [[6, 15], ["nltk.corpus.wordnet.synsets", "set", "sense.lemma_names", "set.add"], "function", ["None"], ["def", "wn_lemmatize", "(", "word", ")", ":", "\n", "    ", "senses", "=", "wn", ".", "synsets", "(", "word", ")", "\n", "lemmas", "=", "set", "(", ")", "\n", "for", "sense", "in", "senses", ":", "\n", "        ", "for", "lname", "in", "sense", ".", "lemma_names", "(", ")", ":", "\n", "            ", "if", "'_'", "in", "lname", "or", "' '", "in", "lname", ":", "\n", "                ", "continue", "\n", "", "lemmas", ".", "add", "(", "lname", ")", "\n", "", "", "return", "lemmas", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.gen_def_data.filter_word": [[17, 23], ["len"], "function", ["None"], ["", "def", "filter_word", "(", "word", ",", "banned_words", ",", "w2v_vocab", ")", ":", "\n", "    ", "if", "(", "len", "(", "word", ")", "<", "3", "\n", "or", "word", "in", "banned_words", "\n", "or", "word", "not", "in", "w2v_vocab", ")", ":", "\n", "        ", "return", "False", "\n", "", "return", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.legacy.gen_def_data.normalized_def2str": [[24, 32], ["norm_def[].lower"], "function", ["None"], ["", "def", "normalized_def2str", "(", "norm_def", ")", ":", "\n", "    ", "a", "=", "[", "\n", "norm_def", "[", "'word'", "]", ",", "\n", "norm_def", "[", "'pos'", "]", ",", "\n", "norm_def", "[", "'source'", "]", ",", "\n", "norm_def", "[", "'def'", "]", ".", "lower", "(", ")", "\n", "]", "\n", "return", "u'\\t'", ".", "join", "(", "a", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_entry": [[1, 11], ["entry_parser.parse_cs", "entry_parser.parse_pos", "entry_parser.parse_plu", "entry_parser.parse_vmorph", "entry_parser.parse_amorph", "entry_parser._extract_definitions", "entry_parser.remove_none", "n_entry.find", "n_entry.find", "n_entry.find", "n_entry.find", "n_entry.find"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_cs", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_pos", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_plu", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_vmorph", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_amorph", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._extract_definitions", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.remove_none"], ["def", "parse_entry", "(", "n_entry", ")", ":", "\n", "    ", "entry", "=", "{", "}", "\n", "entry", "[", "'key'", "]", "=", "n_entry", ".", "attrib", "[", "'key'", "]", "\n", "entry", "[", "'cs'", "]", "=", "parse_cs", "(", "n_entry", ".", "find", "(", "'cs'", ")", ")", "\n", "entry", "[", "'pos'", "]", "=", "parse_pos", "(", "n_entry", ".", "find", "(", "'pos'", ")", ")", "\n", "entry", "[", "'plural'", "]", "=", "parse_plu", "(", "n_entry", ".", "find", "(", "'plu'", ")", ")", "\n", "entry", "[", "'vmorph'", "]", "=", "parse_vmorph", "(", "n_entry", ".", "find", "(", "'vmorph'", ")", ")", "\n", "entry", "[", "'amorph'", "]", "=", "parse_amorph", "(", "n_entry", ".", "find", "(", "'amorph'", ")", ")", "\n", "entry", "[", "'senses'", "]", "=", "_extract_definitions", "(", "n_entry", ")", "\n", "return", "remove_none", "(", "entry", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_cs": [[16, 44], ["list", "cs.append", "len", "elem.findall", "entry_parser.parse_fld", "col[].append", "cs.append", "cs.append", "col[].append", "entry_parser.get_all_text"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_fld", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.get_all_text"], ["", "def", "parse_cs", "(", "n_cs", ")", ":", "\n", "    ", "if", "n_cs", "is", "None", ":", "return", "None", "\n", "cs", "=", "[", "]", "\n", "col", "=", "None", "\n", "for", "elem", "in", "list", "(", "n_cs", ")", ":", "\n", "        ", "if", "elem", ".", "tag", "==", "'col'", ":", "\n", "            ", "if", "col", "is", "not", "None", ":", "\n", "                ", "cs", ".", "append", "(", "col", ")", "\n", "", "col", "=", "{", "}", "\n", "col", "[", "'phrase'", "]", "=", "[", "elem", ".", "text", "]", "\n", "", "if", "elem", ".", "tag", "==", "'mcol'", ":", "\n", "            ", "if", "col", "is", "not", "None", ":", "\n", "                ", "cs", ".", "append", "(", "col", ")", "\n", "", "col", "=", "{", "}", "\n", "col", "[", "'phrase'", "]", "=", "[", "]", "\n", "for", "col_ele", "in", "elem", ".", "findall", "(", "'col'", ")", ":", "\n", "                ", "col", "[", "'phrase'", "]", ".", "append", "(", "col_ele", ".", "text", ")", "\n", "", "", "if", "elem", ".", "tag", "==", "'fld'", "and", "col", "is", "not", "None", "and", "'field'", "not", "in", "col", ":", "\n", "            ", "col", "[", "'field'", "]", "=", "parse_fld", "(", "elem", ")", "\n", "", "if", "elem", ".", "tag", "==", "'cd'", "and", "col", "is", "not", "None", ":", "\n", "            ", "if", "'def'", "not", "in", "col", ":", "\n", "                ", "col", "[", "'def'", "]", "=", "[", "]", "\n", "", "col", "[", "'def'", "]", ".", "append", "(", "get_all_text", "(", "elem", ")", ")", "\n", "", "", "if", "col", "is", "not", "None", ":", "\n", "        ", "cs", ".", "append", "(", "col", ")", "\n", "", "if", "len", "(", "cs", ")", "==", "0", ":", "\n", "        ", "return", "None", "\n", "", "return", "cs", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_pos": [[45, 49], ["t.strip", "n_pos.text.split"], "function", ["None"], ["", "def", "parse_pos", "(", "n_pos", ")", ":", "\n", "    ", "if", "n_pos", "is", "None", ":", "\n", "        ", "return", "None", "\n", "", "return", "[", "t", ".", "strip", "(", ")", "for", "t", "in", "n_pos", ".", "text", ".", "split", "(", "'&'", ")", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_plu": [[50, 57], ["n_plu.find"], "function", ["None"], ["", "def", "parse_plu", "(", "n_plu", ")", ":", "\n", "    ", "if", "n_plu", "is", "None", ":", "\n", "        ", "return", "None", "\n", "", "n_plw", "=", "n_plu", ".", "find", "(", "'plw'", ")", "\n", "if", "n_plw", "is", "None", ":", "\n", "        ", "return", "None", "\n", "", "return", "n_plw", ".", "text", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_fld": [[58, 62], ["None"], "function", ["None"], ["", "def", "parse_fld", "(", "n_fld", ")", ":", "\n", "    ", "if", "n_fld", "is", "None", ":", "\n", "        ", "return", "None", "\n", "", "return", "n_fld", ".", "text", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._parse_morph": [[67, 87], ["list", "morphs.append", "len", "entry_parser.parse_pos", "morph[].append", "morphs.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_pos"], ["", "def", "_parse_morph", "(", "n_morph", ",", "tag", ")", ":", "\n", "    ", "if", "n_morph", "is", "None", ":", "\n", "        ", "return", "None", "\n", "", "morphs", "=", "[", "]", "\n", "morph", "=", "None", "\n", "for", "elem", "in", "list", "(", "n_morph", ")", ":", "\n", "        ", "if", "elem", ".", "tag", "==", "'pos'", ":", "\n", "            ", "if", "morph", "is", "not", "None", ":", "\n", "                ", "morphs", ".", "append", "(", "morph", ")", "\n", "", "morph", "=", "{", "}", "\n", "morph", "[", "'pos'", "]", "=", "parse_pos", "(", "elem", ")", "\n", "", "if", "elem", ".", "tag", "==", "tag", "and", "morph", "is", "not", "None", ":", "\n", "            ", "if", "'word'", "not", "in", "morph", ":", "\n", "                ", "morph", "[", "'word'", "]", "=", "[", "]", "\n", "", "morph", "[", "'word'", "]", ".", "append", "(", "elem", ".", "text", ")", "\n", "", "", "if", "morph", "is", "not", "None", ":", "\n", "        ", "morphs", ".", "append", "(", "morph", ")", "\n", "", "if", "len", "(", "morphs", ")", "==", "0", ":", "\n", "        ", "return", "None", "\n", "", "return", "morphs", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_vmorph": [[88, 90], ["entry_parser._parse_morph"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._parse_morph"], ["", "def", "parse_vmorph", "(", "n_vmorph", ")", ":", "\n", "    ", "return", "_parse_morph", "(", "n_vmorph", ",", "'conjf'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_amorph": [[91, 93], ["entry_parser._parse_morph"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._parse_morph"], ["", "def", "parse_amorph", "(", "n_amorph", ")", ":", "\n", "    ", "return", "_parse_morph", "(", "n_amorph", ",", "'adjf'", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._is_bad_mark": [[98, 106], ["mark_text.lower.lower"], "function", ["None"], ["", "def", "_is_bad_mark", "(", "mark_text", ",", "\n", "bad_marks", "=", "[", "'r'", ",", "'obs'", ",", "'archaic'", ",", "'cant'", ",", "'scot'", ",", "\n", "'mexico'", ",", "'provincial'", "]", ")", ":", "\n", "    ", "mark_text", "=", "mark_text", ".", "lower", "(", ")", "\n", "for", "bm", "in", "bad_marks", ":", "\n", "        ", "if", "bm", "in", "mark_text", ":", "\n", "            ", "return", "True", "\n", "", "", "return", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._extract_definitions": [[107, 142], ["list", "definitions.append", "len", "entry_parser.parse_def", "entry_parser.parse_fld", "entry_parser._is_bad_mark", "entry_parser.parse_sn", "definitions.append", "len", "definitions.append", "len", "definitions.append", "len"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_def", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_fld", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._is_bad_mark", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_sn"], ["", "def", "_extract_definitions", "(", "n_entry", ")", ":", "\n", "    ", "definitions", "=", "[", "]", "\n", "d", "=", "None", "\n", "for", "elem", "in", "list", "(", "n_entry", ")", ":", "\n", "        ", "if", "elem", ".", "tag", "==", "'def'", ":", "\n", "            ", "if", "d", "is", "None", ":", "\n", "                ", "d", "=", "{", "}", "\n", "", "if", "d", "is", "not", "None", "and", "'def'", "in", "d", ":", "\n", "                ", "if", "len", "(", "d", "[", "'def'", "]", ")", ">", "0", ":", "\n", "                    ", "definitions", ".", "append", "(", "d", ")", "\n", "", "d", "=", "{", "}", "\n", "", "d", "[", "'def'", "]", ",", "d", "[", "'usage'", "]", "=", "parse_def", "(", "elem", ")", "\n", "", "if", "elem", ".", "tag", "==", "'fld'", ":", "\n", "            ", "if", "d", "is", "None", ":", "\n", "                ", "d", "=", "{", "}", "\n", "", "if", "d", "is", "not", "None", "and", "'def'", "in", "d", ":", "\n", "                ", "if", "len", "(", "d", "[", "'def'", "]", ")", ">", "0", ":", "\n", "                    ", "definitions", ".", "append", "(", "d", ")", "\n", "", "d", "=", "{", "}", "\n", "", "d", "[", "'field'", "]", "=", "parse_fld", "(", "elem", ")", "\n", "", "if", "elem", ".", "tag", "==", "'mark'", ":", "\n", "            ", "if", "_is_bad_mark", "(", "elem", ".", "text", ")", ":", "\n", "                ", "d", "=", "None", "\n", "", "", "if", "elem", ".", "tag", "==", "'sn'", ":", "\n", "            ", "if", "d", "is", "not", "None", "and", "'def'", "in", "d", "and", "len", "(", "d", "[", "'def'", "]", ")", ">", "0", ":", "\n", "                ", "definitions", ".", "append", "(", "d", ")", "\n", "", "d", "=", "None", "\n", "sn_defs", "=", "parse_sn", "(", "elem", ")", "\n", "if", "sn_defs", "is", "not", "None", ":", "\n", "                ", "definitions", "=", "definitions", "+", "sn_defs", "\n", "", "", "", "if", "d", "is", "not", "None", ":", "\n", "        ", "definitions", ".", "append", "(", "d", ")", "\n", "", "if", "len", "(", "definitions", ")", "==", "0", ":", "\n", "        ", "return", "None", "\n", "", "return", "definitions", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_sn": [[143, 157], ["n_sn.find", "entry_parser.parse_fld", "n_sn.findall", "n_sn.find", "entry_parser._extract_definitions", "entry_parser.parse_def", "definitions.append", "n_sd.find", "n_sd.find"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_fld", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._extract_definitions", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_def"], ["", "def", "parse_sn", "(", "n_sn", ")", ":", "\n", "    ", "if", "n_sn", ".", "find", "(", "'sd'", ")", "is", "None", ":", "\n", "        ", "return", "_extract_definitions", "(", "n_sn", ")", "\n", "", "n_fld", "=", "n_sn", ".", "find", "(", "'fld'", ")", "\n", "field", "=", "parse_fld", "(", "n_fld", ")", "\n", "definitions", "=", "[", "]", "\n", "for", "n_sd", "in", "n_sn", ".", "findall", "(", "'sd'", ")", ":", "\n", "        ", "if", "n_sd", ".", "find", "(", "'def'", ")", "is", "None", ":", "\n", "            ", "continue", "\n", "", "d", "=", "{", "}", "\n", "d", "[", "'def'", "]", ",", "d", "[", "'usage'", "]", "=", "parse_def", "(", "n_sd", ".", "find", "(", "'def'", ")", ")", "\n", "d", "[", "'field'", "]", "=", "field", "\n", "definitions", ".", "append", "(", "d", ")", "\n", "", "return", "definitions", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.parse_def": [[158, 188], ["n_def.find", "list", "entry_parser._is_bad_mark", "len", "entry_parser.clean_text", "examples.append", "definition.append", "entry_parser.get_all_text", "definition.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser._is_bad_mark", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.clean_text", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.get_all_text"], ["", "def", "parse_def", "(", "n_def", ")", ":", "\n", "    ", "n_mark", "=", "n_def", ".", "find", "(", "'mark'", ")", "\n", "if", "n_mark", "is", "not", "None", "and", "_is_bad_mark", "(", "n_mark", ".", "text", ")", ":", "\n", "        ", "return", "''", ",", "None", "\n", "", "start_paren_end", "=", "False", "\n", "optional_spn", "=", "False", "\n", "definition", "=", "[", "n_def", ".", "text", "]", "\n", "if", "n_def", ".", "text", "is", "None", ":", "\n", "        ", "definition", "=", "[", "''", "]", "\n", "", "examples", "=", "[", "]", "\n", "for", "elem", "in", "list", "(", "n_def", ")", ":", "\n", "        ", "if", "definition", "[", "-", "1", "]", "[", "-", "1", "]", "==", "'('", ":", "\n", "            ", "start_paren_end", "=", "True", "\n", "", "if", "elem", ".", "tag", "==", "'as'", ":", "\n", "            ", "examples", ".", "append", "(", "get_all_text", "(", "elem", ")", ")", "\n", "", "elif", "elem", ".", "tag", "==", "'spn'", "and", "start_paren_end", ":", "\n", "            ", "optional_spn", "=", "True", "\n", "if", "definition", "[", "-", "1", "]", "[", "-", "1", "]", "==", "'('", ":", "\n", "                ", "definition", "[", "-", "1", "]", "=", "definition", "[", "-", "1", "]", "[", ":", "-", "2", "]", "\n", "", "if", "elem", ".", "tail", "[", "0", "]", "==", "')'", ":", "\n", "                ", "start_paren_end", "=", "False", "\n", "optional_spn", "=", "False", "\n", "elem", ".", "tail", "=", "elem", ".", "tail", "[", "1", ":", "]", "\n", "", "", "elif", "elem", ".", "tag", "not", "in", "[", "'mark'", ",", "'pos'", "]", ":", "\n", "            ", "definition", ".", "append", "(", "elem", ".", "text", "or", "''", ")", "\n", "", "if", "not", "optional_spn", ":", "\n", "            ", "definition", ".", "append", "(", "elem", ".", "tail", "or", "''", ")", "\n", "", "", "if", "len", "(", "examples", ")", "==", "0", ":", "\n", "        ", "examples", "=", "None", "\n", "", "return", "clean_text", "(", "''", ".", "join", "(", "definition", ")", ")", ",", "examples", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.is_from_webster": [[193, 208], ["n_entry.find", "n_entry.find", "n_entry.findall"], "function", ["None"], ["", "def", "is_from_webster", "(", "n_entry", ")", ":", "\n", "    ", "head", "=", "n_entry", ".", "find", "(", "'wordforms'", ")", "\n", "if", "head", "is", "not", "None", ":", "\n", "        ", "if", "'source'", "in", "head", ".", "attrib", ":", "\n", "            ", "return", "'Webster'", "in", "head", ".", "attrib", "[", "'source'", "]", "\n", "", "", "head", "=", "n_entry", ".", "find", "(", "'mhw'", ")", "\n", "if", "head", "is", "not", "None", ":", "\n", "        ", "if", "'source'", "in", "head", ".", "attrib", ":", "\n", "            ", "return", "'Webster'", "in", "head", ".", "attrib", "[", "'source'", "]", "\n", "", "", "else", ":", "\n", "        ", "head", "=", "n_entry", ".", "findall", "(", "'hw'", ")", "\n", "", "for", "h", "in", "head", ":", "\n", "        ", "if", "'source'", "in", "h", ".", "attrib", "and", "'Webster'", "in", "h", ".", "attrib", "[", "'source'", "]", ":", "\n", "            ", "return", "True", "\n", "", "", "return", "False", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.is_phrase": [[209, 211], ["None"], "function", ["None"], ["", "def", "is_phrase", "(", "n_entry", ")", ":", "\n", "    ", "return", "' '", "in", "n_entry", ".", "attrib", "[", "'key'", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.get_all_text": [[212, 218], ["text.replace.replace", "elem.itertext", "text.replace.replace"], "function", ["None"], ["", "def", "get_all_text", "(", "elem", ")", ":", "\n", "    ", "text", "=", "''", ".", "join", "(", "elem", ".", "itertext", "(", ")", ")", "\n", "text", "=", "text", ".", "replace", "(", "'\\n'", ",", "' '", ")", "\n", "while", "'  '", "in", "text", ":", "\n", "        ", "text", "=", "text", ".", "replace", "(", "'  '", ",", "' '", ")", "\n", "", "return", "text", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.clean_text": [[219, 224], ["text.replace.replace", "text.replace.replace"], "function", ["None"], ["", "def", "clean_text", "(", "text", ")", ":", "\n", "    ", "text", "=", "text", ".", "replace", "(", "'\\n'", ",", "' '", ")", "\n", "while", "'  '", "in", "text", ":", "\n", "        ", "text", "=", "text", ".", "replace", "(", "'  '", ",", "' '", ")", "\n", "", "return", "text", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.remove_none": [[225, 233], ["isinstance", "isinstance", "type", "entry_parser.remove_none", "type", "entry_parser.remove_none", "entry_parser.remove_none", "obj.items"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.remove_none", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.remove_none", "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.entry_parser.remove_none"], ["", "def", "remove_none", "(", "obj", ")", ":", "\n", "    ", "if", "isinstance", "(", "obj", ",", "(", "list", ",", "tuple", ",", "set", ")", ")", ":", "\n", "        ", "return", "type", "(", "obj", ")", "(", "remove_none", "(", "x", ")", "for", "x", "in", "obj", "if", "x", "is", "not", "None", ")", "\n", "", "elif", "isinstance", "(", "obj", ",", "dict", ")", ":", "\n", "        ", "return", "type", "(", "obj", ")", "(", "(", "remove_none", "(", "k", ")", ",", "remove_none", "(", "v", ")", ")", "\n", "for", "k", ",", "v", "in", "obj", ".", "items", "(", ")", "if", "k", "is", "not", "None", "and", "v", "is", "not", "None", ")", "\n", "", "else", ":", "\n", "        ", "return", "obj", "\n", "", "", ""]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util.index_gcide": [[8, 22], ["os.listdir", "os.path.join", "os.path.isfile", "codecs.open", "json.loads", "entry[].lower", "index[].append"], "function", ["None"], ["def", "index_gcide", "(", "gcide_dir", ")", ":", "\n", "    ", "index", "=", "{", "}", "\n", "for", "fn", "in", "os", ".", "listdir", "(", "gcide_dir", ")", ":", "\n", "        ", "fp", "=", "os", ".", "path", ".", "join", "(", "gcide_dir", ",", "fn", ")", "\n", "if", "not", "os", ".", "path", ".", "isfile", "(", "fp", ")", ":", "\n", "            ", "continue", "\n", "", "with", "codecs", ".", "open", "(", "fp", ",", "'r'", ",", "'utf-8'", ")", "as", "ifp", ":", "\n", "            ", "for", "line", "in", "ifp", ":", "\n", "                ", "entry", "=", "json", ".", "loads", "(", "line", ")", "\n", "key", "=", "entry", "[", "u'key'", "]", ".", "lower", "(", ")", "\n", "if", "key", "not", "in", "index", ":", "\n", "                    ", "index", "[", "key", "]", "=", "[", "]", "\n", "", "index", "[", "key", "]", ".", "append", "(", "entry", ")", "\n", "", "", "", "return", "index", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util.normalize_entries": [[23, 37], ["entry[].lower", "new_entries.append"], "function", ["None"], ["", "def", "normalize_entries", "(", "entries", ")", ":", "\n", "    ", "new_entries", "=", "[", "]", "\n", "for", "entry", "in", "entries", ":", "\n", "        ", "for", "sense", "in", "entry", "[", "u'senses'", "]", ":", "\n", "            ", "new_entry", "=", "{", "}", "\n", "new_entry", "[", "'word'", "]", "=", "entry", "[", "u'key'", "]", ".", "lower", "(", ")", "\n", "new_entry", "[", "'source'", "]", "=", "'gcide'", "\n", "if", "u'pos'", "not", "in", "entry", ":", "\n", "                ", "new_entry", "[", "'pos'", "]", "=", "''", "\n", "", "else", ":", "\n", "                ", "new_entry", "[", "'pos'", "]", "=", "entry", "[", "u'pos'", "]", "[", "0", "]", "\n", "", "new_entry", "[", "'def'", "]", "=", "sense", "[", "u'def'", "]", "\n", "new_entries", ".", "append", "(", "new_entry", ")", "\n", "", "", "return", "new_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util.split_and_clean_norm_entries": [[38, 52], ["e[].split", "gcide_util.clean_defs", "len", "copy.deepcopy", "new_norm_entries.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.clean_defs"], ["", "def", "split_and_clean_norm_entries", "(", "norm_entries", ",", "keep_one", "=", "False", ")", ":", "\n", "    ", "new_norm_entries", "=", "[", "]", "\n", "for", "e", "in", "norm_entries", ":", "\n", "        ", "defs", "=", "e", "[", "'def'", "]", ".", "split", "(", "';'", ")", "\n", "defs", "=", "clean_defs", "(", "defs", ",", "e", "[", "'word'", "]", ")", "\n", "if", "len", "(", "defs", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "for", "d", "in", "defs", ":", "\n", "            ", "new_e", "=", "deepcopy", "(", "e", ")", "\n", "new_e", "[", "'def'", "]", "=", "d", "\n", "new_norm_entries", ".", "append", "(", "new_e", ")", "\n", "if", "keep_one", ":", "\n", "                ", "break", "\n", "", "", "", "return", "new_norm_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util.clean_defs": [[54, 87], ["re.compile", "d.strip.lower", "d.strip.split", "parts[].strip", "any", "new_defs.append", "d.strip.replace", "map", "d.strip.startswith", "len", "re.compile.search", "d.strip.replace", "d.strip.strip"], "function", ["None"], ["", "def", "clean_defs", "(", "defs", ",", "word", ",", "\n", "bad_starts", "=", "[", "'--'", ",", "'see'", ",", "'formerly'", ",", "'thus'", ",", "'for example'", "]", ",", "\n", "replace_starts", "=", "[", "'also'", ",", "'now commonly'", ",", "'hence'", ",", "'or'", ",", "\n", "'especially'", ",", "','", ",", "':'", ",", "'('", ",", "')'", "]", ",", "\n", "replace_dict", "=", "{", "'esp.'", ":", "'especially'", ",", "\n", "'pl.'", ":", "'plural'", ",", "\n", "'specif.'", ":", "'specifically'", ",", "\n", "'e.g.'", ":", "'for example'", ",", "\n", "'e. g.'", ":", "'for example'", ",", "\n", "'illust.'", ":", "'illustration'", ",", "\n", "'cf.'", ":", "'confer'", ",", "\n", "'fig.:'", ":", "''", ",", "\"pl,\"", "\n", "'etc.'", ":", "'etc'", "}", ")", ":", "\n", "    ", "regex", "=", "re", ".", "compile", "(", "r'\\b'", "+", "word", "+", "r'\\b'", ")", "\n", "new_defs", "=", "[", "]", "\n", "for", "d", "in", "defs", ":", "\n", "        ", "d", "=", "d", ".", "lower", "(", ")", "\n", "for", "word", "in", "replace_dict", ":", "\n", "            ", "d", "=", "d", ".", "replace", "(", "word", ",", "replace_dict", "[", "word", "]", ")", "\n", "", "parts", "=", "d", ".", "split", "(", "'.'", ")", "\n", "d", "=", "parts", "[", "0", "]", ".", "strip", "(", ")", "\n", "if", "any", "(", "map", "(", "d", ".", "startswith", ",", "bad_starts", ")", ")", ":", "\n", "            ", "continue", "\n", "", "for", "phrase", "in", "replace_starts", ":", "\n", "            ", "if", "d", ".", "startswith", "(", "phrase", ")", ":", "\n", "                ", "d", "=", "d", ".", "replace", "(", "phrase", ",", "''", ")", "\n", "d", "=", "d", ".", "strip", "(", ")", "\n", "", "", "if", "len", "(", "d", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "if", "regex", ".", "search", "(", "d", ")", "is", "not", "None", ":", "\n", "            ", "continue", "\n", "", "new_defs", ".", "append", "(", "d", ")", "\n", "", "return", "new_defs", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util._not_empty_def_filter": [[88, 91], ["len", "definition.strip"], "function", ["None"], ["", "def", "_not_empty_def_filter", "(", "sense", ")", ":", "\n", "    ", "definition", "=", "sense", "[", "u'def'", "]", "\n", "return", "len", "(", "definition", ".", "strip", "(", ")", ")", ">", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util._not_plural_def_filter": [[92, 97], ["definition.strip().lower().startswith", "gcide_util._not_empty_def_filter", "definition.strip().lower", "definition.strip"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util._not_empty_def_filter"], ["", "def", "_not_plural_def_filter", "(", "sense", ")", ":", "\n", "    ", "definition", "=", "sense", "[", "u'def'", "]", "\n", "if", "definition", ".", "strip", "(", ")", ".", "lower", "(", ")", ".", "startswith", "(", "'pl. of'", ")", ":", "\n", "        ", "return", "False", "\n", "", "return", "_not_empty_def_filter", "(", "sense", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util.filter_entries": [[98, 122], ["len", "senses.append", "copy.deepcopy", "new_entries.append", "[].strip", "def_filter_fn", "len", "len", "len", "len", "new_entries.append"], "function", ["None"], ["", "def", "filter_entries", "(", "entries", ",", "def_filter_fn", "=", "_not_plural_def_filter", ")", ":", "\n", "    ", "''' Remove entries with empty definition or POS '''", "\n", "new_entries", "=", "[", "]", "\n", "for", "entry", "in", "entries", ":", "\n", "        ", "if", "u'pos'", "not", "in", "entry", ":", "\n", "            ", "continue", "\n", "", "if", "len", "(", "entry", "[", "u'pos'", "]", "[", "0", "]", ".", "strip", "(", ")", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "if", "u'senses'", "not", "in", "entry", ":", "\n", "            ", "continue", "\n", "", "senses", "=", "[", "]", "\n", "for", "sense", "in", "entry", "[", "u'senses'", "]", ":", "\n", "            ", "if", "u'def'", "not", "in", "sense", ":", "\n", "                ", "continue", "\n", "", "if", "not", "def_filter_fn", "(", "sense", ")", ":", "\n", "                ", "continue", "\n", "", "senses", ".", "append", "(", "sense", ")", "\n", "", "if", "len", "(", "senses", ")", ">", "0", "and", "len", "(", "senses", ")", "!=", "len", "(", "entry", "[", "u'senses'", "]", ")", ":", "\n", "            ", "new_entry", "=", "deepcopy", "(", "entry", ")", "\n", "new_entry", "[", "u'senses'", "]", "=", "senses", "\n", "new_entries", ".", "append", "(", "new_entry", ")", "\n", "", "elif", "len", "(", "senses", ")", ">", "0", ":", "\n", "            ", "new_entries", ".", "append", "(", "entry", ")", "\n", "", "", "return", "new_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.gcide.gcide_util.topk_senses": [[123, 135], ["copy.deepcopy", "new_entries.append", "len", "len"], "function", ["None"], ["", "def", "topk_senses", "(", "entries", ",", "k", ")", ":", "\n", "    ", "''' Select top k definition for each entries '''", "\n", "new_entries", "=", "[", "]", "\n", "for", "entry", "in", "entries", ":", "\n", "        ", "new_entry", "=", "deepcopy", "(", "entry", ")", "\n", "senses", "=", "entry", "[", "u'senses'", "]", "\n", "e", "=", "k", "\n", "if", "len", "(", "senses", ")", "<", "e", ":", "\n", "            ", "e", "=", "len", "(", "senses", ")", "\n", "", "new_entry", "[", "u'senses'", "]", "=", "senses", "[", ":", "e", "]", "\n", "new_entries", ".", "append", "(", "new_entry", ")", "\n", "", "return", "new_entries", "\n", "", ""]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.early_reject": [[6, 11], ["None"], "function", ["None"], ["def", "early_reject", "(", "word", ",", "existing", "=", "None", ")", ":", "\n", "    ", "if", "existing", "and", "word", "in", "existing", ":", "\n", "        ", "return", "True", "\n", "", "if", "' '", "in", "word", ":", "\n", "        ", "return", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.random_words": [[12, 34], ["words_api.getRandomWords", "set", "sample_definitions.early_reject", "set.add", "len", "sample_definitions.random_words", "len"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.early_reject", "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.random_words"], ["", "", "def", "random_words", "(", "num", "=", "20", ",", "existing", "=", "None", ",", "_words", "=", "None", ",", "min_l", "=", "3", ",", "min_cc", "=", "5000", ")", ":", "\n", "    ", "if", "existing", ":", "\n", "        ", "num", "=", "num", "*", "2", "\n", "", "results", "=", "words_api", ".", "getRandomWords", "(", "\n", "limit", "=", "num", ",", "\n", "minLength", "=", "min_l", ",", "\n", "minCorpusCount", "=", "min_cc", ",", "\n", "excludePartOfSpeech", "=", "'proper-noun'", ")", "\n", "words", "=", "set", "(", ")", "\n", "if", "_words", ":", "\n", "        ", "words", "=", "_words", "\n", "", "for", "result", "in", "results", ":", "\n", "        ", "word", "=", "result", ".", "word", "\n", "if", "early_reject", "(", "word", ",", "existing", ")", ":", "\n", "            ", "continue", "\n", "", "words", ".", "add", "(", "word", ")", "\n", "if", "len", "(", "words", ")", ">=", "num", ":", "\n", "            ", "break", "\n", "", "", "if", "len", "(", "words", ")", "<", "num", ":", "\n", "        ", "return", "random_words", "(", "10", ",", "existing", ",", "words", ")", "\n", "", "else", ":", "\n", "        ", "return", "words", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.reject": [[35, 44], ["set", "len", "set.add", "len"], "function", ["None"], ["", "", "def", "reject", "(", "word_defs", ",", "max_defs", ",", "min_dicts", ")", ":", "\n", "    ", "dicts", "=", "set", "(", ")", "\n", "if", "len", "(", "word_defs", ")", ">", "max_defs", ":", "\n", "        ", "return", "True", "\n", "", "for", "d", "in", "word_defs", ":", "\n", "        ", "if", "not", "d", ".", "text", "or", "not", "d", ".", "sourceDictionary", "or", "not", "d", ".", "partOfSpeech", ":", "\n", "            ", "continue", "\n", "", "dicts", ".", "add", "(", "d", ".", "sourceDictionary", ")", "\n", "", "return", "len", "(", "dicts", ")", "<", "min_dicts", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.get_definitions": [[45, 55], ["word_api.getDefinitions", "time.sleep", "sample_definitions.reject", "good_words.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.wordnik.sample_definitions.reject"], ["", "def", "get_definitions", "(", "words", ",", "max_defs", "=", "25", ",", "min_dicts", "=", "5", ")", ":", "\n", "    ", "definitions", "=", "[", "]", "\n", "good_words", "=", "[", "]", "\n", "for", "word", "in", "words", ":", "\n", "        ", "word_defs", "=", "word_api", ".", "getDefinitions", "(", "word", ",", "sourceDictionaries", "=", "'all'", ")", "\n", "if", "not", "reject", "(", "word_defs", ",", "max_defs", ",", "min_dicts", ")", ":", "\n", "            ", "definitions", "+=", "word_defs", "\n", "good_words", ".", "append", "(", "word", ")", "\n", "", "time", ".", "sleep", "(", "WORDNIK_API_STALL_TIME", ")", "\n", "", "return", "definitions", ",", "good_words", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.sample_words_defs.index_gcide": [[14, 28], ["os.listdir", "os.path.join", "os.path.isfile", "codecs.open", "json.loads", "entry[].lower", "index[].append"], "function", ["None"], ["def", "index_gcide", "(", "gcide_dir", ")", ":", "\n", "    ", "index", "=", "{", "}", "\n", "for", "fn", "in", "os", ".", "listdir", "(", "gcide_dir", ")", ":", "\n", "        ", "fp", "=", "os", ".", "path", ".", "join", "(", "gcide_dir", ",", "fn", ")", "\n", "if", "not", "os", ".", "path", ".", "isfile", "(", "fp", ")", ":", "\n", "            ", "continue", "\n", "", "with", "codecs", ".", "open", "(", "fp", ",", "'r'", ",", "'utf-8'", ")", "as", "ifp", ":", "\n", "            ", "for", "line", "in", "ifp", ":", "\n", "                ", "entry", "=", "json", ".", "loads", "(", "line", ")", "\n", "key", "=", "entry", "[", "u'key'", "]", ".", "lower", "(", ")", "\n", "if", "key", "not", "in", "index", ":", "\n", "                    ", "index", "[", "key", "]", "=", "[", "]", "\n", "", "index", "[", "key", "]", ".", "append", "(", "entry", ")", "\n", "", "", "", "return", "index", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.sample_words_defs.write_defs": [[29, 40], ["nltk.corpus.wordnet.synsets", "sample_words_defs.write_gcide_defs", "sample_words_defs.write_wn_defs", "len", "len"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.words.sample_words_defs.write_gcide_defs", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.sample_words_defs.write_wn_defs"], ["", "def", "write_defs", "(", "word", ",", "gcide", ",", "ofp", ")", ":", "\n", "    ", "gcide_defs", "=", "None", "\n", "if", "word", "in", "gcide", ":", "\n", "        ", "gcide_defs", "=", "gcide", "[", "word", "]", "\n", "", "wn_defs", "=", "wn", ".", "synsets", "(", "word", ")", "\n", "if", "(", "gcide_defs", "is", "None", "or", "wn_defs", "is", "None", "\n", "or", "len", "(", "gcide_defs", ")", "==", "0", "or", "len", "(", "wn_defs", ")", "==", "0", ")", ":", "\n", "        ", "return", "False", "\n", "", "ngcide", "=", "write_gcide_defs", "(", "gcide_defs", ",", "ofp", ")", "\n", "nwn", "=", "write_wn_defs", "(", "wn_defs", ",", "word", ",", "ofp", ")", "\n", "return", "ngcide", "+", "nwn", ">", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.sample_words_defs.write_gcide_defs": [[41, 60], ["ofp.write", "ofp.write", "ofp.write", "ofp.write", "ofp.write", "ofp.write", "ofp.write", "entry[].lower"], "function", ["None"], ["", "def", "write_gcide_defs", "(", "defs", ",", "ofp", ")", ":", "\n", "    ", "total_write_out", "=", "0", "\n", "for", "entry", "in", "defs", ":", "\n", "        ", "if", "u'pos'", "not", "in", "entry", ":", "\n", "            ", "continue", "\n", "", "count", "=", "0", "\n", "for", "sense", "in", "entry", "[", "u'senses'", "]", ":", "\n", "            ", "ofp", ".", "write", "(", "entry", "[", "u'key'", "]", ".", "lower", "(", ")", ")", "\n", "ofp", ".", "write", "(", "'\\t'", ")", "\n", "ofp", ".", "write", "(", "'gcide\\t'", ")", "\n", "ofp", ".", "write", "(", "entry", "[", "u'pos'", "]", "[", "0", "]", ")", "\n", "ofp", ".", "write", "(", "'\\t'", ")", "\n", "ofp", ".", "write", "(", "sense", "[", "u'def'", "]", ")", "\n", "ofp", ".", "write", "(", "'\\n'", ")", "\n", "count", "=", "count", "+", "1", "\n", "total_write_out", "=", "total_write_out", "+", "1", "\n", "if", "count", ">", "1", ":", "\n", "                ", "break", "\n", "", "", "", "return", "total_write_out", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.sample_words_defs.write_wn_defs": [[61, 75], ["ofp.write", "ofp.write", "ofp.write", "ofp.write", "ofp.write", "ofp.write", "ofp.write", "sense.pos", "sense.definition"], "function", ["None"], ["", "def", "write_wn_defs", "(", "defs", ",", "word", ",", "ofp", ")", ":", "\n", "    ", "total_write_out", "=", "0", "\n", "for", "sense", "in", "defs", ":", "\n", "        ", "ofp", ".", "write", "(", "word", ")", "\n", "ofp", ".", "write", "(", "'\\t'", ")", "\n", "ofp", ".", "write", "(", "'wordnet\\t'", ")", "\n", "ofp", ".", "write", "(", "sense", ".", "pos", "(", ")", ")", "\n", "ofp", ".", "write", "(", "'\\t'", ")", "\n", "ofp", ".", "write", "(", "sense", ".", "definition", "(", ")", ")", "\n", "ofp", ".", "write", "(", "'\\n'", ")", "\n", "total_write_out", "=", "total_write_out", "+", "1", "\n", "if", "total_write_out", ">", "1", ":", "\n", "            ", "break", "\n", "", "", "return", "total_write_out", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.remove_words_with_chars": [[8, 16], ["re.compile", "new_words.append", "re.compile.search"], "function", ["None"], ["def", "remove_words_with_chars", "(", "word_list", ",", "regex", "=", "r\"[^a-zA-Z]+\"", ")", ":", "\n", "    ", "new_words", "=", "[", "]", "\n", "p", "=", "re", ".", "compile", "(", "regex", ")", "\n", "for", "word", "in", "word_list", ":", "\n", "        ", "if", "p", ".", "search", "(", "word", ")", "is", "not", "None", ":", "\n", "            ", "continue", "\n", "", "new_words", ".", "append", "(", "word", ")", "\n", "", "return", "new_words", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.remove_banned_words": [[18, 27], ["set", "w.lower.lower", "words.append"], "function", ["None"], ["", "def", "remove_banned_words", "(", "word_list", ",", "banned_words", ",", "lower", "=", "False", ")", ":", "\n", "    ", "bwset", "=", "set", "(", "banned_words", ")", "\n", "words", "=", "[", "]", "\n", "for", "w", "in", "word_list", ":", "\n", "        ", "if", "lower", ":", "\n", "            ", "w", "=", "w", ".", "lower", "(", ")", "\n", "", "if", "w", "not", "in", "bwset", ":", "\n", "            ", "words", ".", "append", "(", "w", ")", "\n", "", "", "return", "words", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.intersect_words": [[29, 37], ["w.lower.lower", "new.append"], "function", ["None"], ["", "def", "intersect_words", "(", "a", ",", "bset", ",", "lower", "=", "False", ")", ":", "\n", "    ", "new", "=", "[", "]", "\n", "for", "w", "in", "a", ":", "\n", "        ", "if", "lower", ":", "\n", "            ", "w", "=", "w", ".", "lower", "(", ")", "\n", "", "if", "w", "in", "bset", ":", "\n", "            ", "new", ".", "append", "(", "w", ")", "\n", "", "", "return", "new", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize_all": [[39, 46], ["nltk.stem.WordNetLemmatizer", "wnl.lemmatize", "lemmas.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize"], ["", "def", "lemmatize_all", "(", "w", ",", "wnl", "=", "WordNetLemmatizer", "(", ")", ",", "\n", "pos_to_try", "=", "[", "wn", ".", "NOUN", ",", "wn", ".", "VERB", ",", "wn", ".", "ADJ", ",", "wn", ".", "ADV", "]", ")", ":", "\n", "    ", "lemmas", "=", "[", "]", "\n", "for", "pos", "in", "pos_to_try", ":", "\n", "        ", "lemma", "=", "wnl", ".", "lemmatize", "(", "w", ",", "pos", "=", "pos", ")", "\n", "lemmas", ".", "append", "(", "(", "lemma", ",", "pos", ")", ")", "\n", "", "return", "lemmas", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize": [[48, 58], ["nltk.stem.WordNetLemmatizer", "wnl.lemmatize", "wnl.lemmatize"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize"], ["", "def", "lemmatize", "(", "w", ",", "wnl", "=", "WordNetLemmatizer", "(", ")", ",", "pos", "=", "'n'", ",", "try_all_pos_tags", "=", "False", ",", "\n", "pos_to_try", "=", "[", "wn", ".", "NOUN", ",", "wn", ".", "VERB", ",", "wn", ".", "ADJ", ",", "wn", ".", "ADV", "]", ")", ":", "\n", "    ", "if", "try_all_pos_tags", ":", "\n", "        ", "for", "pos", "in", "pos_to_try", ":", "\n", "            ", "lemma", "=", "wnl", ".", "lemmatize", "(", "w", ",", "pos", "=", "pos", ")", "\n", "if", "w", "!=", "lemma", ":", "\n", "                ", "return", "lemma", "\n", "", "", "return", "lemma", "\n", "", "else", ":", "\n", "        ", "return", "wnl", ".", "lemmatize", "(", "w", ",", "pos", "=", "pos", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.sample_words": [[60, 64], ["range", "numpy.random.choice", "len"], "function", ["None"], ["", "", "def", "sample_words", "(", "word_list", ",", "num_samples", ")", ":", "\n", "    ", "idx", "=", "range", "(", "len", "(", "word_list", ")", ")", "\n", "sampled_idx", "=", "choice", "(", "idx", ",", "size", "=", "num_samples", ",", "replace", "=", "False", ")", "\n", "return", "[", "word_list", "[", "i", "]", "for", "i", "in", "sample_idx", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.load_wordset_from_files": [[66, 76], ["set", "codecs.open", "line.strip", "set.add", "w.lower.lower"], "function", ["None"], ["", "def", "load_wordset_from_files", "(", "filepath_list", ",", "lower", "=", "False", ")", ":", "\n", "    ", "wordset", "=", "set", "(", ")", "\n", "for", "filepath", "in", "filepath_list", ":", "\n", "        ", "with", "codecs", ".", "open", "(", "filepath", ",", "mode", "=", "'r'", ",", "encoding", "=", "'utf-8'", ")", "as", "ifp", ":", "\n", "            ", "for", "line", "in", "ifp", ":", "\n", "                ", "w", "=", "line", ".", "strip", "(", ")", "\n", "if", "lower", ":", "\n", "                    ", "w", "=", "w", ".", "lower", "(", ")", "\n", "", "wordset", ".", "add", "(", "w", ")", "\n", "", "", "", "return", "wordset", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.is_person": [[5, 9], ["all", "sense.lexname", "map", "sense.lemma_names", "x[].isupper"], "function", ["None"], ["def", "is_person", "(", "sense", ")", ":", "\n", "    ", "return", "(", "sense", ".", "lexname", "(", ")", "==", "'noun.person'", "and", "\n", "all", "(", "map", "(", "lambda", "x", ":", "x", "[", "0", "]", ".", "isupper", "(", ")", ",", "\n", "sense", ".", "lemma_names", "(", ")", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.remove_person_name": [[10, 17], ["wordnet_util.is_person", "new_senses.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.is_person"], ["", "def", "remove_person_name", "(", "senses", ")", ":", "\n", "    ", "new_senses", "=", "[", "]", "\n", "for", "sense", "in", "senses", ":", "\n", "        ", "if", "is_person", "(", "sense", ")", ":", "\n", "            ", "continue", "\n", "", "new_senses", ".", "append", "(", "sense", ")", "\n", "", "return", "new_senses", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.group_senses_by_pos": [[18, 27], ["sense.pos", "group[].append"], "function", ["None"], ["", "def", "group_senses_by_pos", "(", "senses", ")", ":", "\n", "    ", "''' Group senses by Part of speech '''", "\n", "group", "=", "{", "}", "\n", "for", "sense", "in", "senses", ":", "\n", "        ", "pos", "=", "sense", ".", "pos", "(", ")", "\n", "if", "pos", "not", "in", "group", ":", "\n", "            ", "group", "[", "pos", "]", "=", "[", "]", "\n", "", "group", "[", "pos", "]", ".", "append", "(", "sense", ")", "\n", "", "return", "group", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.reorder_groups": [[28, 41], ["sense.name().split", "word.lower", "match_group.append", "mismatch_group.append", "sense.name"], "function", ["None"], ["", "def", "reorder_groups", "(", "groups", ",", "word", ")", ":", "\n", "    ", "''' Put senses that have a name similar to word before other senses'''", "\n", "for", "pos", "in", "groups", ":", "\n", "        ", "match_group", "=", "[", "]", "\n", "mismatch_group", "=", "[", "]", "\n", "group", "=", "groups", "[", "pos", "]", "\n", "for", "sense", "in", "group", ":", "\n", "            ", "name_word", "=", "sense", ".", "name", "(", ")", ".", "split", "(", "'.'", ")", "[", "0", "]", "\n", "if", "name_word", "==", "word", ".", "lower", "(", ")", ":", "\n", "                ", "match_group", ".", "append", "(", "sense", ")", "\n", "", "else", ":", "\n", "                ", "mismatch_group", ".", "append", "(", "sense", ")", "\n", "", "", "groups", "[", "pos", "]", "=", "match_group", "+", "mismatch_group", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.normalize_groups": [[42, 54], ["word.lower", "sense.pos", "sense.definition", "entries.append"], "function", ["None"], ["", "", "def", "normalize_groups", "(", "groups", ",", "word", ")", ":", "\n", "    ", "''' Extract word, POS, and definition from groups of senses '''", "\n", "entries", "=", "[", "]", "\n", "for", "pos", "in", "groups", ":", "\n", "        ", "for", "sense", "in", "groups", "[", "pos", "]", ":", "\n", "            ", "entry", "=", "{", "}", "\n", "entry", "[", "'word'", "]", "=", "word", ".", "lower", "(", ")", "\n", "entry", "[", "'source'", "]", "=", "'wordnet'", "\n", "entry", "[", "'pos'", "]", "=", "sense", ".", "pos", "(", ")", "\n", "entry", "[", "'def'", "]", "=", "sense", ".", "definition", "(", ")", "\n", "entries", ".", "append", "(", "entry", ")", "\n", "", "", "return", "entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.topk_groups": [[55, 65], ["len", "len"], "function", ["None"], ["", "def", "topk_groups", "(", "groups", ",", "k", ")", ":", "\n", "    ", "''' Select only top k of each group '''", "\n", "new_groups", "=", "{", "}", "\n", "for", "pos", "in", "groups", ":", "\n", "        ", "group", "=", "groups", "[", "pos", "]", "\n", "e", "=", "k", "\n", "if", "len", "(", "group", ")", "<", "e", ":", "\n", "            ", "e", "=", "len", "(", "group", ")", "\n", "", "new_groups", "[", "pos", "]", "=", "group", "[", ":", "e", "]", "\n", "", "return", "new_groups", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util._not_empty_def_filter": [[66, 68], ["len", "definition.strip"], "function", ["None"], ["", "def", "_not_empty_def_filter", "(", "definition", ")", ":", "\n", "    ", "return", "len", "(", "definition", ".", "strip", "(", ")", ")", ">", "0", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.filter_groups": [[69, 82], ["new_group.append", "len", "def_filter_fn", "sense.definition"], "function", ["None"], ["", "def", "filter_groups", "(", "groups", ",", "def_filter_fn", "=", "_not_empty_def_filter", ")", ":", "\n", "    ", "''' Remove senses '''", "\n", "new_groups", "=", "{", "}", "\n", "for", "pos", "in", "groups", ":", "\n", "        ", "group", "=", "groups", "[", "pos", "]", "\n", "new_group", "=", "[", "]", "\n", "for", "sense", "in", "group", ":", "\n", "            ", "if", "not", "def_filter_fn", "(", "sense", ".", "definition", "(", ")", ")", ":", "\n", "                ", "continue", "\n", "", "new_group", ".", "append", "(", "sense", ")", "\n", "", "if", "len", "(", "new_group", ")", ">", "0", ":", "\n", "            ", "new_groups", "[", "pos", "]", "=", "new_group", "\n", "", "", "return", "new_groups", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.split_and_clean_norm_entries": [[83, 99], ["e[].split", "wordnet_util.clean_defs", "len", "copy.deepcopy", "new_norm_entries.append"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.clean_defs"], ["", "def", "split_and_clean_norm_entries", "(", "norm_entries", ",", "keep_one", "=", "False", ")", ":", "\n", "    ", "new_norm_entries", "=", "[", "]", "\n", "for", "e", "in", "norm_entries", ":", "\n", "        ", "defs", "=", "e", "[", "'def'", "]", ".", "split", "(", "';'", ")", "\n", "defs", "=", "clean_defs", "(", "defs", ",", "e", "[", "'word'", "]", ")", "\n", "if", "len", "(", "defs", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "for", "d", "in", "defs", ":", "\n", "            ", "new_e", "=", "deepcopy", "(", "e", ")", "\n", "if", "new_e", "[", "'pos'", "]", "==", "'v'", ":", "\n", "                ", "d", "=", "u'to '", "+", "d", "\n", "", "new_e", "[", "'def'", "]", "=", "d", "\n", "new_norm_entries", ".", "append", "(", "new_e", ")", "\n", "if", "keep_one", ":", "\n", "                ", "break", "\n", "", "", "", "return", "new_norm_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.wordnet.wordnet_util.clean_defs": [[100, 117], ["re.compile", "re.compile", "re.sub.strip().lower", "re.sub.replace", "re.compile.match", "re.sub", "new_defs.append", "len", "re.compile.search", "re.sub.strip", "paren_regex.match.end"], "function", ["None"], ["", "def", "clean_defs", "(", "defs", ",", "word", ")", ":", "\n", "    ", "paren_regex", "=", "re", ".", "compile", "(", "r'^\\(.+?\\)'", ")", "\n", "regex", "=", "re", ".", "compile", "(", "r'\\b'", "+", "word", "+", "r'\\b'", ")", "\n", "new_defs", "=", "[", "]", "\n", "for", "d", "in", "defs", ":", "\n", "        ", "d", "=", "d", ".", "strip", "(", ")", ".", "lower", "(", ")", "\n", "d", "=", "d", ".", "replace", "(", "'_'", ",", "' '", ")", "\n", "m", "=", "paren_regex", ".", "match", "(", "d", ")", "\n", "if", "m", "is", "not", "None", ":", "\n", "            ", "d", "=", "d", "[", "m", ".", "end", "(", ")", ":", "]", "\n", "", "d", "=", "re", ".", "sub", "(", "r'[\\'\"`\\(\\)]'", ",", "''", ",", "d", ")", "\n", "if", "len", "(", "d", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "if", "regex", ".", "search", "(", "d", ")", "is", "not", "None", ":", "\n", "            ", "continue", "\n", "", "new_defs", ".", "append", "(", "d", ")", "\n", "", "return", "new_defs", "\n", "", ""]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_rawdata.get_parser": [[9, 17], ["definition.readers.wn18.WN18Parser", "definition.readers.wordnet.NLTKWordNetParser", "definition.readers.wordnet.DBWordNetParser"], "function", ["None"], ["def", "get_parser", "(", "name", ",", "opt", ")", ":", "\n", "    ", "if", "name", "==", "'wn18'", ":", "\n", "        ", "return", "WN18Parser", "(", "opt", ")", "\n", "", "if", "name", "==", "'nltk_wordnet'", ":", "\n", "        ", "return", "NLTKWordNetParser", "(", "opt", ")", "\n", "", "if", "name", "==", "'wordnet'", ":", "\n", "        ", "opt", ".", "wndb_dir", "=", "'data/wndb'", "\n", "return", "DBWordNetParser", "(", "opt", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_rawdata.main": [[19, 24], ["preprocess_rawdata.get_parser", "codecs.open", "codecs.open", "get_parser.preprocess"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_rawdata.get_parser", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.preprocess"], ["", "", "def", "main", "(", "opt", ")", ":", "\n", "    ", "parser", "=", "get_parser", "(", "opt", ".", "data_name", ",", "opt", ")", "\n", "with", "codecs", ".", "open", "(", "opt", ".", "input_filepath", ",", "'r'", ",", "'utf-8'", ")", "as", "ifp", ":", "\n", "        ", "with", "codecs", ".", "open", "(", "opt", ".", "output_filepath", ",", "'w'", ",", "'utf-8'", ")", "as", "ofp", ":", "\n", "            ", "parser", ".", "preprocess", "(", "ifp", ",", "ofp", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.read_tsv": [[15, 28], ["line.strip().split", "preprocess_tsv.clean_definition", "entries[].append", "len", "line.strip"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.clean_definition"], ["def", "read_tsv", "(", "ifp", ")", ":", "\n", "    ", "entries", "=", "{", "}", "\n", "for", "line", "in", "ifp", ":", "\n", "        ", "parts", "=", "line", ".", "strip", "(", ")", ".", "split", "(", "'\\t'", ")", "\n", "word", "=", "parts", "[", "0", "]", "\n", "definition", "=", "clean_definition", "(", "word", ",", "parts", "[", "-", "1", "]", ")", "\n", "if", "len", "(", "definition", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "others", "=", "'\\t'", ".", "join", "(", "parts", "[", "1", ":", "-", "1", "]", ")", "\n", "if", "word", "not", "in", "entries", ":", "\n", "            ", "entries", "[", "word", "]", "=", "[", "]", "\n", "", "entries", "[", "word", "]", ".", "append", "(", "[", "definition", ",", "others", "]", ")", "\n", "", "return", "entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.map_lemmas_to_words": [[30, 35], ["words.extend"], "function", ["None"], ["", "def", "map_lemmas_to_words", "(", "lemmas", ",", "lemma_words", ")", ":", "\n", "    ", "words", "=", "[", "]", "\n", "for", "lemma", "in", "lemmas", ":", "\n", "        ", "words", ".", "extend", "(", "lemma_words", "[", "lemma", "]", ")", "\n", "", "return", "words", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.split_words": [[37, 56], ["lemma_words.keys", "int", "int", "list", "random.shuffle", "preprocess_tsv.map_lemmas_to_words", "preprocess_tsv.map_lemmas_to_words", "preprocess_tsv.map_lemmas_to_words", "definition.words.word_sampler.lemmatize", "lemma_words[].append", "len", "len"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.map_lemmas_to_words", "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.map_lemmas_to_words", "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.map_lemmas_to_words", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize"], ["", "def", "split_words", "(", "words", ",", "valid", "=", ".1", ",", "test", "=", ".1", ")", ":", "\n", "    ", "lemma_words", "=", "{", "}", "\n", "for", "w", "in", "words", ":", "\n", "        ", "lemma", "=", "word_sampler", ".", "lemmatize", "(", "w", ",", "try_all_pos_tags", "=", "False", ")", "\n", "if", "lemma", "not", "in", "lemma_words", ":", "\n", "            ", "lemma_words", "[", "lemma", "]", "=", "[", "]", "\n", "", "lemma_words", "[", "lemma", "]", ".", "append", "(", "w", ")", "\n", "", "lemmas", "=", "lemma_words", ".", "keys", "(", ")", "\n", "n_valid", "=", "int", "(", "len", "(", "lemmas", ")", "*", "valid", ")", "\n", "n_test", "=", "int", "(", "len", "(", "lemmas", ")", "*", "test", ")", "\n", "shuffled", "=", "list", "(", "lemmas", ")", "\n", "shuffle", "(", "shuffled", ")", "\n", "valid_lemmas", "=", "shuffled", "[", "0", ":", "n_valid", "]", "\n", "test_lemmas", "=", "shuffled", "[", "n_valid", ":", "n_valid", "+", "n_test", "]", "\n", "train_lemmas", "=", "shuffled", "[", "n_valid", "+", "n_test", ":", "]", "\n", "train_words", "=", "map_lemmas_to_words", "(", "train_lemmas", ",", "lemma_words", ")", "\n", "valid_words", "=", "map_lemmas_to_words", "(", "valid_lemmas", ",", "lemma_words", ")", "\n", "test_words", "=", "map_lemmas_to_words", "(", "test_lemmas", ",", "lemma_words", ")", "\n", "return", "(", "train_words", ",", "valid_words", ",", "test_words", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.clean_definition": [[58, 84], ["_delimiter.search", "definition.strip().split", "set", "set", "_removed.match", "tokens_lemmas.union.union", "len", "definition.strip", "set", "set.intersection", "_removed.match.start", "definition[].strip", "definition[].strip", "definition.words.word_sampler.lemmatize_all", "definition.words.word_sampler.lemmatize_all", "_removed.match.start", "_removed.match.end"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize_all", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize_all"], ["", "def", "clean_definition", "(", "word", ",", "definition", ")", ":", "\n", "# take only first definition `:` or `;`", "\n", "    ", "m", "=", "_delimiter", ".", "search", "(", "definition", ")", "\n", "if", "m", "is", "not", "None", ":", "\n", "        ", "definition", "=", "definition", "[", "0", ":", "m", ".", "start", "(", ")", "]", "\n", "# remove domain specifiers or comments", "\n", "", "while", "True", ":", "\n", "        ", "m", "=", "_removed", ".", "match", "(", "definition", ")", "\n", "if", "m", "is", "not", "None", ":", "\n", "            ", "definition", "=", "'{} {}'", ".", "format", "(", "definition", "[", "0", ":", "m", ".", "start", "(", ")", "]", ".", "strip", "(", ")", ",", "\n", "definition", "[", "m", ".", "end", "(", ")", ":", "]", ".", "strip", "(", ")", ")", "\n", "", "else", ":", "\n", "            ", "break", "\n", "", "", "tokens", "=", "definition", ".", "strip", "(", ")", ".", "split", "(", "' '", ")", "\n", "# e.g. at the end", "\n", "if", "tokens", "[", "-", "1", "]", "==", "\"e.g.\"", ":", "\n", "        ", "tokens", "=", "tokens", "[", ":", "-", "1", "]", "\n", "", "word_lemmas", "=", "set", "(", "[", "p", "[", "0", "]", "for", "p", "in", "word_sampler", ".", "lemmatize_all", "(", "word", ")", "]", ")", "\n", "tokens_lemmas", "=", "set", "(", ")", "\n", "for", "token", "in", "tokens", ":", "\n", "        ", "tokens_lemmas", "=", "tokens_lemmas", ".", "union", "(", "\n", "set", "(", "[", "p", "[", "0", "]", "for", "p", "in", "word_sampler", ".", "lemmatize_all", "(", "token", ")", "]", ")", ")", "\n", "", "if", "len", "(", "word_lemmas", ".", "intersection", "(", "tokens_lemmas", ")", ")", ">", "0", ":", "\n", "        ", "return", "\"\"", "\n", "", "definition", "=", "' '", ".", "join", "(", "tokens", ")", "\n", "return", "definition", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.replace_unk": [[86, 109], ["definition.split", "range", "definitions.append", "len", "len", "len"], "function", ["None"], ["", "def", "replace_unk", "(", "entries", ",", "vocab", ",", "remove_unk", ",", "replace_unk", ")", ":", "\n", "    ", "new_entries", "=", "{", "}", "\n", "for", "word", "in", "entries", ":", "\n", "        ", "if", "word", "not", "in", "vocab", ":", "\n", "            ", "continue", "\n", "", "definitions", "=", "[", "]", "\n", "for", "definition", ",", "others", "in", "entries", "[", "word", "]", ":", "\n", "            ", "tokens", "=", "definition", ".", "split", "(", ")", "\n", "c", "=", "0", "\n", "for", "i", "in", "range", "(", "len", "(", "tokens", ")", ")", ":", "\n", "                ", "if", "tokens", "[", "i", "]", "not", "in", "vocab", ":", "\n", "                    ", "if", "replace_unk", ":", "\n", "                        ", "tokens", "[", "i", "]", "=", "\"<unk>\"", "\n", "", "c", "+=", "1", "\n", "", "", "if", "c", "==", "len", "(", "tokens", ")", ":", "\n", "                ", "continue", "\n", "", "if", "remove_unk", "and", "c", ">", "0", ":", "\n", "                ", "continue", "\n", "", "definitions", ".", "append", "(", "(", "u' '", ".", "join", "(", "tokens", ")", ",", "others", ")", ")", "\n", "", "if", "len", "(", "definitions", ")", "==", "0", ":", "\n", "            ", "continue", "\n", "", "new_entries", "[", "word", "]", "=", "definitions", "\n", "", "return", "new_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.main": [[111, 139], ["codecs.open", "preprocess_tsv.read_tsv", "replace_unk.keys", "preprocess_tsv.split_words", "enumerate", "definition.words.word_sampler.remove_words_with_chars", "definition.words.word_sampler.load_wordset_from_files", "definition.words.word_sampler.remove_banned_words", "definition.words.word_sampler.load_wordset_from_files", "preprocess_tsv.replace_unk", "replace_unk.keys", "os.path.join", "codecs.open", "ofp.write"], "function", ["home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.read_tsv", "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.split_words", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.remove_words_with_chars", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.load_wordset_from_files", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.remove_banned_words", "home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.load_wordset_from_files", "home.repos.pwc.inspect_result.northanapon_dict-definition.preprocess.preprocess_tsv.replace_unk"], ["", "def", "main", "(", "opt", ")", ":", "\n", "    ", "with", "codecs", ".", "open", "(", "opt", ".", "input_filepath", ",", "mode", "=", "'r'", ",", "encoding", "=", "'utf-8'", ")", "as", "ifp", ":", "\n", "        ", "entries", "=", "read_tsv", "(", "ifp", ")", "\n", "words", "=", "entries", ".", "keys", "(", ")", "\n", "if", "opt", ".", "remove_non_char_words", ":", "\n", "            ", "words", "=", "word_sampler", ".", "remove_words_with_chars", "(", "words", ")", "\n", "", "if", "opt", ".", "remove_function_words", ":", "\n", "            ", "function_words", "=", "word_sampler", ".", "load_wordset_from_files", "(", "\n", "[", "opt", ".", "function_words_path", "]", ",", "lower", "=", "True", ")", "\n", "words", "=", "word_sampler", ".", "remove_banned_words", "(", "words", ",", "function_words", ",", "\n", "lower", "=", "True", ")", "\n", "", "if", "opt", ".", "universe_vocab_path", "is", "not", "None", ":", "\n", "            ", "vocab", "=", "word_sampler", ".", "load_wordset_from_files", "(", "\n", "[", "opt", ".", "universe_vocab_path", "]", ",", "lower", "=", "False", ")", "\n", "entries", "=", "replace_unk", "(", "\n", "entries", ",", "vocab", ",", "opt", ".", "remove_unk_defs", ",", "opt", ".", "replace_unk_words", ")", "\n", "words", "=", "entries", ".", "keys", "(", ")", "\n", "", "split_names", "=", "[", "'train.txt'", ",", "'valid.txt'", ",", "'test.txt'", "]", "\n", "word_splits", "=", "split_words", "(", "words", ")", "\n", "for", "i", ",", "split", "in", "enumerate", "(", "word_splits", ")", ":", "\n", "            ", "output_filepath", "=", "os", ".", "path", ".", "join", "(", "\n", "opt", ".", "output_dir", ",", "\n", "'{}'", ".", "format", "(", "split_names", "[", "i", "]", ")", ")", "\n", "with", "codecs", ".", "open", "(", "output_filepath", ",", "'w'", ",", "encoding", "=", "'utf-8'", ")", "as", "ofp", ":", "\n", "                ", "for", "word", "in", "split", ":", "\n", "                    ", "for", "definitions", "in", "entries", "[", "word", "]", ":", "\n", "                        ", "ofp", ".", "write", "(", "'{}\\t{}\\t{}\\n'", ".", "format", "(", "\n", "word", ",", "definitions", "[", "1", "]", ",", "definitions", "[", "0", "]", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.__init__": [[6, 8], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.parse_entity": [[9, 15], ["e[].split", "neobunch.Bunch"], "methods", ["None"], ["", "def", "parse_entity", "(", "self", ",", "e", ")", ":", "\n", "        ", "parts", "=", "e", "[", "2", ":", "]", ".", "split", "(", "'_'", ")", "\n", "return", "Bunch", "(", "\n", "word", "=", "' '", ".", "join", "(", "parts", "[", "0", ":", "-", "2", "]", ")", ",", "\n", "pos", "=", "parts", "[", "-", "2", "]", ",", "\n", "sense_id", "=", "parts", "[", "-", "1", "]", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.parse_line": [[16, 23], ["line.strip().split", "neobunch.Bunch", "wn18.WN18Parser.parse_entity", "line.strip"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.parse_entity"], ["", "def", "parse_line", "(", "self", ",", "line", ")", ":", "\n", "        ", "parts", "=", "line", ".", "strip", "(", ")", ".", "split", "(", "'\\t'", ")", "\n", "output", "=", "Bunch", "(", "self", ".", "parse_entity", "(", "parts", "[", "1", "]", ")", ",", "\n", "wn_id", "=", "parts", "[", "0", "]", ",", "\n", "wn_key", "=", "parts", "[", "1", "]", ",", "\n", "definition", "=", "parts", "[", "-", "1", "]", ")", "\n", "return", "output", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.to_list": [[24, 30], ["None"], "methods", ["None"], ["", "def", "to_list", "(", "self", ",", "entry", ",", "\n", "order_keys", "=", "[", "'word'", ",", "'pos'", ",", "'sense_id'", ",", "\n", "'wn_id'", ",", "'definition'", "]", ")", ":", "\n", "\n", "        ", "output", "=", "[", "entry", "[", "k", "]", "for", "k", "in", "order_keys", "]", "\n", "return", "output", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.preprocess": [[31, 37], ["wn18.WN18Parser.parse_line", "ofp.write", "wn18.WN18Parser.to_list"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wn18.WN18Parser.parse_line", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.to_list"], ["", "def", "preprocess", "(", "self", ",", "ifp", ",", "ofp", ")", ":", "\n", "        ", "for", "line", "in", "ifp", ":", "\n", "            ", "entry", "=", "self", ".", "parse_line", "(", "line", ")", "\n", "if", "self", ".", "opt", ".", "only_first_sense", "and", "entry", ".", "sense_id", "!=", "'1'", ":", "\n", "                ", "continue", "\n", "", "ofp", ".", "write", "(", "u'{}\\n'", ".", "format", "(", "u'\\t'", ".", "join", "(", "self", ".", "to_list", "(", "entry", ")", ")", ")", ")", "\n", "", "", "", ""]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.__init__": [[11, 13], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.to_list": [[14, 20], ["None"], "methods", ["None"], ["", "def", "to_list", "(", "self", ",", "entry", ",", "\n", "order_keys", "=", "[", "'word'", ",", "'pos'", ",", "'sense_id'", ",", "\n", "'wn_id'", ",", "'proper_noun'", ",", "\n", "'lemma_freq'", ",", "'definition'", "]", ")", ":", "\n", "        ", "output", "=", "[", "u'{}'", ".", "format", "(", "entry", "[", "k", "]", ")", "for", "k", "in", "order_keys", "]", "\n", "return", "output", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.parse_synset_name": [[21, 25], ["name.split", "neobunch.Bunch", "int"], "methods", ["None"], ["", "def", "parse_synset_name", "(", "self", ",", "name", ")", ":", "\n", "        ", "parts", "=", "name", ".", "split", "(", "'.'", ")", "\n", "return", "Bunch", "(", "pos", "=", "parts", "[", "-", "2", "]", ",", "\n", "sense_id", "=", "int", "(", "parts", "[", "-", "1", "]", ")", ",", "wn_id", "=", "name", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.get_entry": [[26, 36], ["nltk.corpus.wordnet.NLTKWordNetParser.parse_synset_name", "sense.definition", "nltk.corpus.wordnet.NLTKWordNetParser.is_proper_noun", "sense.lemmas", "sense.name", "lemma.count"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.parse_synset_name", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.is_proper_noun"], ["", "def", "get_entry", "(", "self", ",", "word", ",", "sense", ")", ":", "\n", "        ", "synset", "=", "self", ".", "parse_synset_name", "(", "sense", ".", "name", "(", ")", ")", "\n", "synset", ".", "word", "=", "word", "\n", "synset", ".", "definition", "=", "sense", ".", "definition", "(", ")", "\n", "synset", ".", "proper_noun", "=", "self", ".", "is_proper_noun", "(", "sense", ")", "\n", "freq", "=", "0", "\n", "for", "lemma", "in", "sense", ".", "lemmas", "(", ")", ":", "\n", "            ", "freq", "+=", "lemma", ".", "count", "(", ")", "\n", "", "synset", ".", "lemma_freq", "=", "freq", "\n", "return", "synset", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.is_proper_noun": [[37, 43], ["sense.lemmas", "len", "lemma.name", "lemma.name().lower", "sense.lemmas", "lemma.name"], "methods", ["None"], ["", "def", "is_proper_noun", "(", "self", ",", "sense", ")", ":", "\n", "        ", "cap", "=", "0", "\n", "for", "lemma", "in", "sense", ".", "lemmas", "(", ")", ":", "\n", "            ", "if", "lemma", ".", "name", "(", ")", "!=", "lemma", ".", "name", "(", ")", ".", "lower", "(", ")", ":", "\n", "                ", "cap", "+=", "1", "\n", "", "", "return", "cap", "==", "len", "(", "sense", ".", "lemmas", "(", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.get_entries": [[44, 52], ["nltk.corpus.wordnet.synsets", "entries.sort", "entries.append", "nltk.corpus.wordnet.NLTKWordNetParser.get_entry"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.get_entry"], ["", "def", "get_entries", "(", "self", ",", "word", ")", ":", "\n", "        ", "entries", "=", "[", "]", "\n", "query", "=", "word", "\n", "senses", "=", "wn", ".", "synsets", "(", "query", ")", "\n", "for", "sense", "in", "senses", ":", "\n", "            ", "entries", ".", "append", "(", "self", ".", "get_entry", "(", "word", ",", "sense", ")", ")", "\n", "", "entries", ".", "sort", "(", "key", "=", "lambda", "x", ":", "x", ".", "lemma_freq", ",", "reverse", "=", "True", ")", "\n", "return", "entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.one_sense_per_pos": [[53, 61], ["new_entries.append"], "methods", ["None"], ["", "def", "one_sense_per_pos", "(", "self", ",", "entries", ",", "pref", "=", "[", "'v'", ",", "'a'", ",", "'s'", ",", "'n'", ",", "'r'", "]", ")", ":", "\n", "        ", "new_entries", "=", "[", "]", "\n", "for", "p", "in", "pref", ":", "\n", "            ", "for", "entry", "in", "entries", ":", "\n", "                ", "if", "entry", ".", "pos", "==", "p", ":", "\n", "                    ", "new_entries", ".", "append", "(", "entry", ")", "\n", "break", "\n", "", "", "", "return", "new_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.select_top_entry": [[62, 71], ["filter", "nltk.corpus.wordnet.NLTKWordNetParser.one_sense_per_pos", "len"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.one_sense_per_pos"], ["", "def", "select_top_entry", "(", "self", ",", "entries", ")", ":", "\n", "        ", "if", "len", "(", "entries", ")", "<", "2", ":", "\n", "            ", "return", "entries", "\n", "", "if", "entries", "[", "0", "]", ".", "lemma_freq", ">", "entries", "[", "1", "]", ".", "lemma_freq", ":", "\n", "            ", "return", "[", "entries", "[", "0", "]", "]", "\n", "", "top_freq", "=", "entries", "[", "0", "]", ".", "lemma_freq", "\n", "entries", "=", "filter", "(", "lambda", "e", ":", "e", ".", "lemma_freq", "==", "top_freq", ",", "entries", ")", "\n", "entries", "=", "self", ".", "one_sense_per_pos", "(", "entries", ")", "\n", "return", "[", "entries", "[", "0", "]", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.remove_self_ref": [[72, 79], ["re.compile", "re.compile.search", "new_entries.append"], "methods", ["None"], ["", "def", "remove_self_ref", "(", "self", ",", "word", ",", "entries", ")", ":", "\n", "        ", "new_entries", "=", "[", "]", "\n", "p", "=", "re", ".", "compile", "(", "r' '", "+", "word", "+", "r'[ ,:;\"\\']'", ")", "\n", "for", "entry", "in", "entries", ":", "\n", "            ", "if", "p", ".", "search", "(", "entry", ".", "definition", ")", "is", "None", ":", "\n", "                ", "new_entries", ".", "append", "(", "entry", ")", "\n", "", "", "return", "new_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.preprocess": [[80, 89], ["line.strip", "nltk.corpus.wordnet.NLTKWordNetParser.get_entries", "nltk.corpus.wordnet.NLTKWordNetParser.remove_self_ref", "nltk.corpus.wordnet.NLTKWordNetParser.select_top_entry", "ofp.write", "len", "nltk.corpus.wordnet.NLTKWordNetParser.to_list"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.get_entries", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.remove_self_ref", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.NLTKWordNetParser.select_top_entry", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.to_list"], ["", "def", "preprocess", "(", "self", ",", "ifp", ",", "ofp", ")", ":", "\n", "        ", "for", "line", "in", "ifp", ":", "\n", "            ", "word", "=", "line", ".", "strip", "(", ")", "\n", "entries", "=", "self", ".", "get_entries", "(", "word", ")", "\n", "entries", "=", "self", ".", "remove_self_ref", "(", "word", ",", "entries", ")", "\n", "if", "self", ".", "opt", ".", "only_first_sense", "and", "len", "(", "entries", ")", ">", "1", ":", "\n", "                ", "entries", "=", "self", ".", "select_top_entry", "(", "entries", ")", "\n", "", "for", "entry", "in", "entries", ":", "\n", "                ", "ofp", ".", "write", "(", "u'{}\\n'", ".", "format", "(", "u'\\t'", ".", "join", "(", "self", ".", "to_list", "(", "entry", ")", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.__init__": [[92, 99], ["nltk.corpus.wordnet.DBWordNetParser.read_lexname", "nltk.corpus.wordnet.DBWordNetParser.read_index_files", "nltk.corpus.wordnet.DBWordNetParser._read_data_files", "nltk.corpus.wordnet.DBWordNetParser.read_sense_file"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.read_lexname", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.read_index_files", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._read_data_files", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.read_sense_file"], ["    ", "def", "__init__", "(", "self", ",", "opt", ")", ":", "\n", "        ", "self", ".", "opt", "=", "opt", "\n", "self", ".", "dir", "=", "opt", ".", "wndb_dir", "\n", "self", ".", "lexnames", "=", "DBWordNetParser", ".", "read_lexname", "(", "self", ".", "dir", ")", "\n", "self", ".", "idx", "=", "DBWordNetParser", ".", "read_index_files", "(", "self", ".", "dir", ")", "\n", "self", ".", "data", "=", "DBWordNetParser", ".", "_read_data_files", "(", "self", ".", "dir", ",", "self", ".", "lexnames", ")", "\n", "self", ".", "sense_numbers", "=", "DBWordNetParser", ".", "read_sense_file", "(", "self", ".", "dir", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.to_list": [[104, 126], ["str", "eword.lower", "eword.lower"], "methods", ["None"], ["def", "to_list", "(", "self", ",", "word", ",", "entry", ",", "inflected", "=", "False", ",", "maybe_proper_noun", "=", "False", ")", ":", "\n", "        ", "source", "=", "'lemma'", "\n", "# proper_noun = 'regular_word'", "\n", "if", "inflected", ":", "\n", "            ", "source", "=", "'inflection'", "\n", "# if maybe_proper_noun:", "\n", "#     proper_noun = 'could_be_proper_nound'", "\n", "", "if", "not", "inflected", ":", "\n", "            ", "for", "eword", "in", "entry", ".", "words", ":", "\n", "                ", "if", "eword", ".", "lower", "(", ")", "==", "word", ":", "\n", "                    ", "word", "=", "eword", "\n", "break", "\n", "", "", "", "else", ":", "\n", "            ", "if", "entry", ".", "lemma", "==", "word", "[", ":", "-", "1", "]", "and", "word", "[", "-", "1", "]", "==", "'s'", ":", "\n", "                ", "for", "eword", "in", "entry", ".", "words", ":", "\n", "                    ", "if", "eword", ".", "lower", "(", ")", "==", "entry", ".", "lemma", ":", "\n", "                        ", "word", "=", "eword", "+", "'s'", "\n", "break", "\n", "", "", "", "", "output", "=", "[", "word", ",", "entry", ".", "lemma", ",", "entry", ".", "synset_type", ",", "\n", "str", "(", "entry", ".", "sense_number", ")", ",", "entry", ".", "pos", ",", "source", ",", "\n", "','", ".", "join", "(", "entry", ".", "words", ")", ",", "entry", ".", "gloss", "]", "\n", "return", "output", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.get_idx_entries": [[127, 138], ["definition.words.word_sampler.lemmatize_all", "nltk.corpus.wordnet.DBWordNetParser.idx.get", "out_entries.append"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.words.word_sampler.lemmatize_all"], ["", "def", "get_idx_entries", "(", "self", ",", "word", ",", "try_lemma", "=", "True", ")", ":", "\n", "        ", "if", "word", "in", "self", ".", "idx", ":", "\n", "            ", "return", "self", ".", "idx", "[", "word", "]", ",", "False", "\n", "", "if", "try_lemma", ":", "\n", "            ", "out_entries", "=", "[", "]", "\n", "tagged_lemmas", "=", "lemmatize_all", "(", "word", ")", "\n", "for", "lemma", ",", "pos", "in", "tagged_lemmas", ":", "\n", "                ", "for", "e", "in", "self", ".", "idx", ".", "get", "(", "lemma", ",", "[", "]", ")", ":", "\n", "                    ", "if", "e", ".", "pos", "==", "pos", "and", "lemma", "!=", "word", ":", "\n", "                        ", "out_entries", ".", "append", "(", "e", ")", "\n", "", "", "", "return", "out_entries", ",", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.get_entries": [[139, 154], ["neobunch.Bunch", "out_entries.append"], "methods", ["None"], ["", "", "def", "get_entries", "(", "self", ",", "idx_entries", ")", ":", "\n", "        ", "out_entries", "=", "[", "]", "\n", "for", "idx_entry", "in", "idx_entries", ":", "\n", "            ", "for", "synset_offset", "in", "idx_entry", ".", "synset_offsets", ":", "\n", "                ", "data_entry", "=", "self", ".", "data", "[", "synset_offset", "]", "\n", "sense_key", "=", "'{}-{}-{}'", ".", "format", "(", "\n", "idx_entry", ".", "lemma", ",", "data_entry", ".", "synset_type", ",", "data_entry", ".", "offset", ")", "\n", "entry", "=", "Bunch", "(", "lemma", "=", "idx_entry", ".", "lemma", ",", "\n", "pos", "=", "idx_entry", ".", "pos", ",", "\n", "synset_type", "=", "data_entry", ".", "synset_type", ",", "\n", "sense_number", "=", "self", ".", "sense_numbers", "[", "sense_key", "]", ",", "\n", "gloss", "=", "data_entry", ".", "gloss", ",", "\n", "words", "=", "[", "e", ".", "word", "for", "e", "in", "data_entry", ".", "words", "]", ")", "\n", "out_entries", ".", "append", "(", "entry", ")", "\n", "", "", "return", "out_entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.preprocess": [[155, 172], ["line.strip", "nltk.corpus.wordnet.DBWordNetParser.get_idx_entries", "nltk.corpus.wordnet.DBWordNetParser.get_entries", "ofp.write", "nltk.corpus.wordnet.DBWordNetParser.is_proper_noun", "nltk.corpus.wordnet.DBWordNetParser.is_entry_proper_noun", "nltk.corpus.wordnet.DBWordNetParser.to_list"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.get_idx_entries", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.get_entries", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.is_proper_noun", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.is_entry_proper_noun", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.to_list"], ["", "def", "preprocess", "(", "self", ",", "ifp", ",", "ofp", ")", ":", "\n", "        ", "for", "line", "in", "ifp", ":", "\n", "            ", "word", "=", "line", ".", "strip", "(", ")", "\n", "idx_entries", ",", "inflected", "=", "self", ".", "get_idx_entries", "(", "word", ")", "\n", "entries", "=", "self", ".", "get_entries", "(", "idx_entries", ")", "\n", "maybe_proper_noun", "=", "False", "\n", "for", "entry", "in", "entries", ":", "\n", "                ", "for", "other_word", "in", "entry", ".", "words", ":", "\n", "                    ", "if", "DBWordNetParser", ".", "is_proper_noun", "(", "other_word", ")", ":", "\n", "                        ", "maybe_proper_noun", "=", "True", "\n", "break", "\n", "", "", "", "for", "entry", "in", "entries", ":", "\n", "                ", "if", "inflected", "and", "DBWordNetParser", ".", "is_entry_proper_noun", "(", "entry", ")", ":", "\n", "                    ", "continue", "\n", "", "ofp", ".", "write", "(", "u'{}\\n'", ".", "format", "(", "\n", "u'\\t'", ".", "join", "(", "self", ".", "to_list", "(", "\n", "word", ",", "entry", ",", "inflected", ",", "maybe_proper_noun", ")", ")", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.is_entry_proper_noun": [[173, 179], ["nltk.corpus.wordnet.DBWordNetParser.is_proper_noun"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.is_proper_noun"], ["", "", "", "@", "staticmethod", "\n", "def", "is_entry_proper_noun", "(", "entry", ")", ":", "\n", "        ", "for", "word", "in", "entry", ".", "words", ":", "\n", "            ", "if", "not", "DBWordNetParser", ".", "is_proper_noun", "(", "word", ")", ":", "\n", "                ", "return", "False", "\n", "", "", "return", "True", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.is_proper_noun": [[180, 184], ["DBWordNetParser._PROPER_NOUN_REGEX_.match"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "is_proper_noun", "(", "word", ")", ":", "\n", "        ", "m", "=", "DBWordNetParser", ".", "_PROPER_NOUN_REGEX_", ".", "match", "(", "word", ")", "\n", "return", "m", "is", "not", "None", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.read_lexname": [[185, 196], ["os.path.join", "open", "line.startswith", "line.strip().split", "line.strip"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "read_lexname", "(", "wndb_path", ")", ":", "\n", "        ", "lexnames", "=", "{", "}", "\n", "lexname_path", "=", "os", ".", "path", ".", "join", "(", "wndb_path", ",", "'lexnames'", ")", "\n", "with", "open", "(", "lexname_path", ")", "as", "ifp", ":", "\n", "            ", "for", "line", "in", "ifp", ":", "\n", "                ", "if", "line", ".", "startswith", "(", "' '", ")", ":", "\n", "                    ", "continue", "\n", "", "part", "=", "line", ".", "strip", "(", ")", ".", "split", "(", "'\\t'", ")", "\n", "lexnames", "[", "part", "[", "0", "]", "]", "=", "part", "[", "1", "]", "\n", "", "", "return", "lexnames", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.read_sense_file": [[197, 213], ["os.path.join", "open", "line.startswith", "line.strip().split", "part[].split", "int", "line.strip", "int"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "read_sense_file", "(", "wndb_path", ")", ":", "\n", "        ", "sense_numbers", "=", "{", "}", "\n", "idx_sense_path", "=", "os", ".", "path", ".", "join", "(", "wndb_path", ",", "'index.sense'", ")", "\n", "with", "open", "(", "idx_sense_path", ")", "as", "ifp", ":", "\n", "            ", "for", "line", "in", "ifp", ":", "\n", "                ", "if", "line", ".", "startswith", "(", "' '", ")", ":", "\n", "                    ", "continue", "\n", "", "part", "=", "line", ".", "strip", "(", ")", ".", "split", "(", "' '", ")", "\n", "lemma", ",", "key", "=", "part", "[", "0", "]", ".", "split", "(", "'%'", ")", "\n", "synset_type", "=", "DBWordNetParser", ".", "_SYNSET_TYPE_MAP_", "[", "int", "(", "key", "[", "0", "]", ")", "]", "\n", "offset", "=", "part", "[", "1", "]", "\n", "number", "=", "int", "(", "part", "[", "2", "]", ")", "\n", "sense_key", "=", "'{}-{}-{}'", ".", "format", "(", "lemma", ",", "synset_type", ",", "offset", ")", "\n", "sense_numbers", "[", "sense_key", "]", "=", "number", "\n", "", "", "return", "sense_numbers", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser.read_index_files": [[214, 236], ["os.path.join", "open", "line.startswith", "line.strip().split", "neobunch.Bunch", "entries.get", "entries[].append", "int", "line.strip", "int"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "read_index_files", "(", "wndb_path", ",", "pos_files", "=", "[", "'noun'", ",", "'verb'", ",", "'adj'", ",", "'adv'", "]", ")", ":", "\n", "        ", "entries", "=", "{", "}", "\n", "for", "pos_file", "in", "pos_files", ":", "\n", "            ", "idx_path", "=", "os", ".", "path", ".", "join", "(", "wndb_path", ",", "'index.'", "+", "pos_file", ")", "\n", "with", "open", "(", "idx_path", ")", "as", "ifp", ":", "\n", "                ", "for", "line", "in", "ifp", ":", "\n", "                    ", "if", "line", ".", "startswith", "(", "' '", ")", ":", "\n", "                        ", "continue", "\n", "", "part", "=", "line", ".", "strip", "(", ")", ".", "split", "(", ")", "\n", "_ap", "=", "4", "+", "int", "(", "part", "[", "3", "]", ")", "\n", "lemma", "=", "part", "[", "0", "]", "\n", "idx_entry", "=", "Bunch", "(", "\n", "lemma", "=", "lemma", ",", "\n", "pos", "=", "part", "[", "1", "]", ",", "\n", "pointers", "=", "part", "[", "4", ":", "_ap", "]", ",", "\n", "num_tagsenes", "=", "int", "(", "part", "[", "_ap", "+", "1", "]", ")", ",", "\n", "synset_offsets", "=", "[", "'{}-{}'", ".", "format", "(", "pos_file", ",", "_o", ")", "\n", "for", "_o", "in", "part", "[", "_ap", "+", "2", ":", "]", "]", ")", "\n", "entries", "[", "lemma", "]", "=", "entries", ".", "get", "(", "lemma", ",", "[", "]", ")", "\n", "entries", "[", "lemma", "]", ".", "append", "(", "idx_entry", ")", "\n", "", "", "", "return", "entries", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._parse_pointers": [[237, 246], ["pointers.append", "neobunch.Bunch"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "_parse_pointers", "(", "tups", ")", ":", "\n", "        ", "pointers", "=", "[", "]", "\n", "for", "tup", "in", "tups", ":", "\n", "            ", "pointers", ".", "append", "(", "\n", "Bunch", "(", "pointer", "=", "tup", "[", "0", "]", ",", "offset", "=", "'{}-{}'", ".", "format", "(", "\n", "DBWordNetParser", ".", "_POS_FILE_MAP_", "[", "tup", "[", "2", "]", "]", ",", "tup", "[", "1", "]", ")", ",", "\n", "source", "=", "tup", "[", "3", "]", "[", ":", "2", "]", ",", "target", "=", "tup", "[", "3", "]", "[", "2", ":", "]", ")", ")", "\n", "", "return", "pointers", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._parse_words": [[247, 253], ["words.append", "neobunch.Bunch"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "_parse_words", "(", "tups", ")", ":", "\n", "        ", "words", "=", "[", "]", "\n", "for", "tup", "in", "tups", ":", "\n", "            ", "words", ".", "append", "(", "Bunch", "(", "word", "=", "tup", "[", "0", "]", ",", "lex_id", "=", "tup", "[", "1", "]", ")", ")", "\n", "", "return", "words", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._chunklist": [[254, 258], ["iter", "list", "itertools.izip"], "methods", ["None"], ["", "@", "staticmethod", "\n", "def", "_chunklist", "(", "t", ",", "size", "=", "2", ")", ":", "\n", "        ", "it", "=", "iter", "(", "t", ")", "\n", "return", "list", "(", "izip", "(", "*", "[", "it", "]", "*", "size", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._read_data_files": [[259, 286], ["os.path.join", "open", "line.startswith", "line.strip().split", "int", "int", "neobunch.Bunch", "line.strip().split.index", "line.strip", "nltk.corpus.wordnet.DBWordNetParser._parse_words", "nltk.corpus.wordnet.DBWordNetParser._parse_pointers", "nltk.corpus.wordnet.DBWordNetParser._chunklist", "nltk.corpus.wordnet.DBWordNetParser._chunklist"], "methods", ["home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._parse_words", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._parse_pointers", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._chunklist", "home.repos.pwc.inspect_result.northanapon_dict-definition.readers.wordnet.DBWordNetParser._chunklist"], ["", "@", "staticmethod", "\n", "def", "_read_data_files", "(", "wndb_path", ",", "lexnames", ",", "\n", "pos_files", "=", "[", "'noun'", ",", "'verb'", ",", "'adj'", ",", "'adv'", "]", ")", ":", "\n", "        ", "data", "=", "{", "}", "\n", "for", "pos_file", "in", "pos_files", ":", "\n", "            ", "data_path", "=", "os", ".", "path", ".", "join", "(", "wndb_path", ",", "'data.'", "+", "pos_file", ")", "\n", "with", "open", "(", "data_path", ")", "as", "ifp", ":", "\n", "                ", "for", "line", "in", "ifp", ":", "\n", "                    ", "if", "line", ".", "startswith", "(", "' '", ")", ":", "\n", "                        ", "continue", "\n", "", "part", "=", "line", ".", "strip", "(", ")", ".", "split", "(", ")", "\n", "_num_words", "=", "int", "(", "part", "[", "3", "]", ",", "16", ")", "\n", "_num_pointers", "=", "int", "(", "part", "[", "4", "+", "_num_words", "*", "2", "]", ")", "\n", "_pp", "=", "4", "+", "_num_words", "*", "2", "+", "1", "\n", "_gloss_p", "=", "part", ".", "index", "(", "'|'", ")", "+", "1", "\n", "data_entry", "=", "Bunch", "(", "\n", "offset", "=", "part", "[", "0", "]", ",", "\n", "lexname", "=", "lexnames", "[", "part", "[", "1", "]", "]", ",", "\n", "synset_type", "=", "part", "[", "2", "]", ",", "\n", "words", "=", "DBWordNetParser", ".", "_parse_words", "(", "\n", "DBWordNetParser", ".", "_chunklist", "(", "part", "[", "4", ":", "_pp", "-", "1", "]", ")", ")", ",", "\n", "pointers", "=", "DBWordNetParser", ".", "_parse_pointers", "(", "\n", "DBWordNetParser", ".", "_chunklist", "(", "\n", "part", "[", "_pp", ":", "_pp", "+", "_num_pointers", "*", "4", "]", ",", "4", ")", ")", ",", "\n", "gloss", "=", "' '", ".", "join", "(", "part", "[", "_gloss_p", ":", "]", ")", ")", "\n", "data", "[", "'{}-{}'", ".", "format", "(", "pos_file", ",", "part", "[", "0", "]", ")", "]", "=", "data_entry", "\n", "", "", "", "return", "data", "\n", "\n"]]}