{"home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.__init__": [[9, 15], ["None"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ")", ":", "\n", "        ", "self", ".", "hit1", "=", "{", "\"raw\"", ":", "0.0", ",", "\"fil\"", ":", "0.0", "}", "\n", "self", ".", "hit3", "=", "{", "\"raw\"", ":", "0.0", ",", "\"fil\"", ":", "0.0", "}", "\n", "self", ".", "hit10", "=", "{", "\"raw\"", ":", "0.0", ",", "\"fil\"", ":", "0.0", "}", "\n", "self", ".", "mrr", "=", "{", "\"raw\"", ":", "0.0", ",", "\"fil\"", ":", "0.0", "}", "\n", "self", ".", "mr", "=", "{", "\"raw\"", ":", "0.0", ",", "\"fil\"", ":", "0.0", "}", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.update": [[16, 26], ["None"], "methods", ["None"], ["", "def", "update", "(", "self", ",", "rank", ",", "raw_or_fil", ")", ":", "\n", "        ", "if", "rank", "==", "1", ":", "\n", "            ", "self", ".", "hit1", "[", "raw_or_fil", "]", "+=", "1.0", "\n", "", "if", "rank", "<=", "3", ":", "\n", "            ", "self", ".", "hit3", "[", "raw_or_fil", "]", "+=", "1.0", "\n", "", "if", "rank", "<=", "10", ":", "\n", "            ", "self", ".", "hit10", "[", "raw_or_fil", "]", "+=", "1.0", "\n", "\n", "", "self", ".", "mr", "[", "raw_or_fil", "]", "+=", "rank", "\n", "self", ".", "mrr", "[", "raw_or_fil", "]", "+=", "(", "1.0", "/", "rank", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.normalize": [[27, 34], ["None"], "methods", ["None"], ["", "def", "normalize", "(", "self", ",", "num_facts", ")", ":", "\n", "        ", "for", "raw_or_fil", "in", "[", "\"raw\"", ",", "\"fil\"", "]", ":", "\n", "            ", "self", ".", "hit1", "[", "raw_or_fil", "]", "/=", "(", "2", "*", "num_facts", ")", "\n", "self", ".", "hit3", "[", "raw_or_fil", "]", "/=", "(", "2", "*", "num_facts", ")", "\n", "self", ".", "hit10", "[", "raw_or_fil", "]", "/=", "(", "2", "*", "num_facts", ")", "\n", "self", ".", "mr", "[", "raw_or_fil", "]", "/=", "(", "2", "*", "num_facts", ")", "\n", "self", ".", "mrr", "[", "raw_or_fil", "]", "/=", "(", "2", "*", "num_facts", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.print_": [[35, 45], ["print", "print", "print", "print", "print", "print", "print", "raw_or_fil.title"], "methods", ["None"], ["", "", "def", "print_", "(", "self", ")", ":", "\n", "\n", "        ", "for", "raw_or_fil", "in", "[", "\"raw\"", ",", "\"fil\"", "]", ":", "\n", "            ", "print", "(", "raw_or_fil", ".", "title", "(", ")", "+", "\" setting:\"", ")", "\n", "print", "(", "\"\\tHit@1 =\"", ",", "self", ".", "hit1", "[", "raw_or_fil", "]", ")", "\n", "print", "(", "\"\\tHit@3 =\"", ",", "self", ".", "hit3", "[", "raw_or_fil", "]", ")", "\n", "print", "(", "\"\\tHit@10 =\"", ",", "self", ".", "hit10", "[", "raw_or_fil", "]", ")", "\n", "print", "(", "\"\\tMR =\"", ",", "self", ".", "mr", "[", "raw_or_fil", "]", ")", "\n", "print", "(", "\"\\tMRR =\"", ",", "self", ".", "mrr", "[", "raw_or_fil", "]", ")", "\n", "print", "(", "\"\"", ")", "", "", "", "", ""]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.trainer.Trainer.__init__": [[20, 26], ["torch.DataParallel", "torch.DataParallel", "torch.DataParallel", "globals", "instance_gen"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "dataset", ",", "params", ",", "model_name", ")", ":", "\n", "        ", "instance_gen", "=", "globals", "(", ")", "[", "model_name", "]", "\n", "self", ".", "model_name", "=", "model_name", "\n", "self", ".", "model", "=", "nn", ".", "DataParallel", "(", "instance_gen", "(", "dataset", "=", "dataset", ",", "params", "=", "params", ")", ")", "\n", "self", ".", "dataset", "=", "dataset", "\n", "self", ".", "params", "=", "params", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.trainer.Trainer.train": [[27, 65], ["trainer.Trainer.model.train", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.optim.Adam", "torch.CrossEntropyLoss", "torch.CrossEntropyLoss", "torch.CrossEntropyLoss", "range", "trainer.Trainer.model.parameters", "time.time", "print", "print", "torch.optim.Adam.zero_grad", "torch.optim.Adam.zero_grad", "torch.optim.Adam.zero_grad", "trainer.Trainer.dataset.nextBatch", "trainer.Trainer.dataset.wasLastBatch", "trainer.Trainer.model", "int", "trainer.Trainer.view", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.zeros().long().cuda", "torch.CrossEntropyLoss.", "nn.CrossEntropyLoss.backward", "torch.optim.Adam.step", "torch.optim.Adam.step", "torch.optim.Adam.step", "nn.CrossEntropyLoss.cpu().item", "trainer.Trainer.saveModel", "time.time", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "torch.zeros().long", "nn.CrossEntropyLoss.cpu", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "torch.zeros", "str", "str"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.trainer.Trainer.train", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.nextBatch", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.wasLastBatch", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.trainer.Trainer.saveModel"], ["", "def", "train", "(", "self", ",", "early_stop", "=", "False", ")", ":", "\n", "        ", "self", ".", "model", ".", "train", "(", ")", "\n", "\n", "optimizer", "=", "torch", ".", "optim", ".", "Adam", "(", "\n", "self", ".", "model", ".", "parameters", "(", ")", ",", "\n", "lr", "=", "self", ".", "params", ".", "lr", ",", "\n", "weight_decay", "=", "self", ".", "params", ".", "reg_lambda", "\n", ")", "#weight_decay corresponds to L2 regularization", "\n", "\n", "loss_f", "=", "nn", ".", "CrossEntropyLoss", "(", ")", "\n", "\n", "for", "epoch", "in", "range", "(", "1", ",", "self", ".", "params", ".", "ne", "+", "1", ")", ":", "\n", "            ", "last_batch", "=", "False", "\n", "total_loss", "=", "0.0", "\n", "start", "=", "time", ".", "time", "(", ")", "\n", "\n", "while", "not", "last_batch", ":", "\n", "                ", "optimizer", ".", "zero_grad", "(", ")", "\n", "\n", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", "=", "self", ".", "dataset", ".", "nextBatch", "(", "self", ".", "params", ".", "bsize", ",", "neg_ratio", "=", "self", ".", "params", ".", "neg_ratio", ")", "\n", "last_batch", "=", "self", ".", "dataset", ".", "wasLastBatch", "(", ")", "\n", "\n", "scores", "=", "self", ".", "model", "(", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", "\n", "\n", "###Added for softmax####", "\n", "num_examples", "=", "int", "(", "heads", ".", "shape", "[", "0", "]", "/", "(", "1", "+", "self", ".", "params", ".", "neg_ratio", ")", ")", "\n", "scores_reshaped", "=", "scores", ".", "view", "(", "num_examples", ",", "self", ".", "params", ".", "neg_ratio", "+", "1", ")", "\n", "l", "=", "torch", ".", "zeros", "(", "num_examples", ")", ".", "long", "(", ")", ".", "cuda", "(", ")", "\n", "loss", "=", "loss_f", "(", "scores_reshaped", ",", "l", ")", "\n", "loss", ".", "backward", "(", ")", "\n", "optimizer", ".", "step", "(", ")", "\n", "total_loss", "+=", "loss", ".", "cpu", "(", ")", ".", "item", "(", ")", "\n", "\n", "", "print", "(", "time", ".", "time", "(", ")", "-", "start", ")", "\n", "print", "(", "\"Loss in iteration \"", "+", "str", "(", "epoch", ")", "+", "\": \"", "+", "str", "(", "total_loss", ")", "+", "\"(\"", "+", "self", ".", "model_name", "+", "\",\"", "+", "self", ".", "dataset", ".", "name", "+", "\")\"", ")", "\n", "\n", "if", "epoch", "%", "self", ".", "params", ".", "save_each", "==", "0", ":", "\n", "                ", "self", ".", "saveModel", "(", "epoch", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.trainer.Trainer.saveModel": [[66, 73], ["print", "torch.save", "torch.save", "torch.save", "torch.save", "torch.save", "torch.save", "torch.save", "torch.save", "torch.save", "os.path.exists", "os.makedirs", "str", "trainer.Trainer.params.str_"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.params.Params.str_"], ["", "", "", "def", "saveModel", "(", "self", ",", "chkpnt", ")", ":", "\n", "        ", "print", "(", "\"Saving the model\"", ")", "\n", "directory", "=", "\"models/\"", "+", "self", ".", "model_name", "+", "\"/\"", "+", "self", ".", "dataset", ".", "name", "+", "\"/\"", "\n", "if", "not", "os", ".", "path", ".", "exists", "(", "directory", ")", ":", "\n", "            ", "os", ".", "makedirs", "(", "directory", ")", "\n", "\n", "", "torch", ".", "save", "(", "self", ".", "model", ",", "directory", "+", "self", ".", "params", ".", "str_", "(", ")", "+", "\"_\"", "+", "str", "(", "chkpnt", ")", "+", "\".chkpnt\"", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.__init__": [[17, 41], ["dataset.Dataset.convertTimes", "set", "dataset.Dataset.readFile", "dataset.Dataset.readFile", "dataset.Dataset.readFile", "numpy.array", "ds_name.lower", "tuple"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.convertTimes", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.readFile", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.readFile", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.readFile"], ["def", "__init__", "(", "self", ",", "\n", "ds_name", ")", ":", "\n", "        ", "\"\"\"\n        Params:\n                ds_name : name of the dataset \n        \"\"\"", "\n", "self", ".", "name", "=", "ds_name", "\n", "# self.ds_path = \"<path-to-dataset>\" + ds_name.lower() + \"/\"", "\n", "self", ".", "ds_path", "=", "\"datasets/\"", "+", "ds_name", ".", "lower", "(", ")", "+", "\"/\"", "\n", "self", ".", "ent2id", "=", "{", "}", "\n", "self", ".", "rel2id", "=", "{", "}", "\n", "self", ".", "data", "=", "{", "\"train\"", ":", "self", ".", "readFile", "(", "self", ".", "ds_path", "+", "\"train.txt\"", ")", ",", "\n", "\"valid\"", ":", "self", ".", "readFile", "(", "self", ".", "ds_path", "+", "\"valid.txt\"", ")", ",", "\n", "\"test\"", ":", "self", ".", "readFile", "(", "self", ".", "ds_path", "+", "\"test.txt\"", ")", "}", "\n", "\n", "self", ".", "start_batch", "=", "0", "\n", "self", ".", "all_facts_as_tuples", "=", "None", "\n", "\n", "self", ".", "convertTimes", "(", ")", "\n", "\n", "self", ".", "all_facts_as_tuples", "=", "set", "(", "[", "tuple", "(", "d", ")", "for", "d", "in", "self", ".", "data", "[", "\"train\"", "]", "+", "self", ".", "data", "[", "\"valid\"", "]", "+", "self", ".", "data", "[", "\"test\"", "]", "]", ")", "\n", "\n", "for", "spl", "in", "[", "\"train\"", ",", "\"valid\"", ",", "\"test\"", "]", ":", "\n", "            ", "self", ".", "data", "[", "spl", "]", "=", "np", ".", "array", "(", "self", ".", "data", "[", "spl", "]", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.readFile": [[42, 60], ["open", "f.readlines", "line.strip().split", "dataset.Dataset.getEntID", "dataset.Dataset.getRelID", "dataset.Dataset.getEntID", "facts.append", "line.strip"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.getEntID", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.getRelID", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.getEntID"], ["", "", "def", "readFile", "(", "self", ",", "\n", "filename", ")", ":", "\n", "\n", "        ", "with", "open", "(", "filename", ",", "\"r\"", ")", "as", "f", ":", "\n", "            ", "data", "=", "f", ".", "readlines", "(", ")", "\n", "\n", "", "facts", "=", "[", "]", "\n", "for", "line", "in", "data", ":", "\n", "            ", "elements", "=", "line", ".", "strip", "(", ")", ".", "split", "(", "\"\\t\"", ")", "\n", "\n", "head_id", "=", "self", ".", "getEntID", "(", "elements", "[", "0", "]", ")", "\n", "rel_id", "=", "self", ".", "getRelID", "(", "elements", "[", "1", "]", ")", "\n", "tail_id", "=", "self", ".", "getEntID", "(", "elements", "[", "2", "]", ")", "\n", "timestamp", "=", "elements", "[", "3", "]", "\n", "\n", "facts", ".", "append", "(", "[", "head_id", ",", "rel_id", ",", "tail_id", ",", "timestamp", "]", ")", "\n", "\n", "", "return", "facts", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.convertTimes": [[62, 72], ["enumerate", "list", "map", "fact_date.split"], "methods", ["None"], ["", "def", "convertTimes", "(", "self", ")", ":", "\n", "        ", "\"\"\"\n        This function spits the timestamp in the day,date and time.\n        \"\"\"", "\n", "for", "split", "in", "[", "\"train\"", ",", "\"valid\"", ",", "\"test\"", "]", ":", "\n", "            ", "for", "i", ",", "fact", "in", "enumerate", "(", "self", ".", "data", "[", "split", "]", ")", ":", "\n", "                ", "fact_date", "=", "fact", "[", "-", "1", "]", "\n", "self", ".", "data", "[", "split", "]", "[", "i", "]", "=", "self", ".", "data", "[", "split", "]", "[", "i", "]", "[", ":", "-", "1", "]", "\n", "date", "=", "list", "(", "map", "(", "float", ",", "fact_date", ".", "split", "(", "\"-\"", ")", ")", ")", "\n", "self", ".", "data", "[", "split", "]", "[", "i", "]", "+=", "date", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt": [[75, 78], ["len"], "methods", ["None"], ["", "", "", "def", "numEnt", "(", "self", ")", ":", "\n", "\n", "        ", "return", "len", "(", "self", ".", "ent2id", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numRel": [[79, 82], ["len"], "methods", ["None"], ["", "def", "numRel", "(", "self", ")", ":", "\n", "\n", "        ", "return", "len", "(", "self", ".", "rel2id", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.getEntID": [[84, 91], ["len"], "methods", ["None"], ["", "def", "getEntID", "(", "self", ",", "\n", "ent_name", ")", ":", "\n", "\n", "        ", "if", "ent_name", "in", "self", ".", "ent2id", ":", "\n", "            ", "return", "self", ".", "ent2id", "[", "ent_name", "]", "\n", "", "self", ".", "ent2id", "[", "ent_name", "]", "=", "len", "(", "self", ".", "ent2id", ")", "\n", "return", "self", ".", "ent2id", "[", "ent_name", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.getRelID": [[92, 97], ["len"], "methods", ["None"], ["", "def", "getRelID", "(", "self", ",", "rel_name", ")", ":", "\n", "        ", "if", "rel_name", "in", "self", ".", "rel2id", ":", "\n", "            ", "return", "self", ".", "rel2id", "[", "rel_name", "]", "\n", "", "self", ".", "rel2id", "[", "rel_name", "]", "=", "len", "(", "self", ".", "rel2id", ")", "\n", "return", "self", ".", "rel2id", "[", "rel_name", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.nextPosBatch": [[99, 107], ["len"], "methods", ["None"], ["", "def", "nextPosBatch", "(", "self", ",", "batch_size", ")", ":", "\n", "        ", "if", "self", ".", "start_batch", "+", "batch_size", ">", "len", "(", "self", ".", "data", "[", "\"train\"", "]", ")", ":", "\n", "            ", "ret_facts", "=", "self", ".", "data", "[", "\"train\"", "]", "[", "self", ".", "start_batch", ":", "]", "\n", "self", ".", "start_batch", "=", "0", "\n", "", "else", ":", "\n", "            ", "ret_facts", "=", "self", ".", "data", "[", "\"train\"", "]", "[", "self", ".", "start_batch", ":", "self", ".", "start_batch", "+", "batch_size", "]", "\n", "self", ".", "start_batch", "+=", "batch_size", "\n", "", "return", "ret_facts", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.addNegFacts": [[109, 122], ["numpy.repeat", "range", "numpy.copy", "dataset.Dataset.numEnt", "dataset.Dataset.numEnt", "numpy.random.randint", "numpy.random.randint", "dataset.Dataset.numEnt", "dataset.Dataset.numEnt"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt"], ["", "def", "addNegFacts", "(", "self", ",", "bp_facts", ",", "neg_ratio", ")", ":", "\n", "        ", "ex_per_pos", "=", "2", "*", "neg_ratio", "+", "2", "\n", "facts", "=", "np", ".", "repeat", "(", "np", ".", "copy", "(", "bp_facts", ")", ",", "ex_per_pos", ",", "axis", "=", "0", ")", "\n", "for", "i", "in", "range", "(", "bp_facts", ".", "shape", "[", "0", "]", ")", ":", "\n", "            ", "s1", "=", "i", "*", "ex_per_pos", "+", "1", "\n", "e1", "=", "s1", "+", "neg_ratio", "\n", "s2", "=", "e1", "+", "1", "\n", "e2", "=", "s2", "+", "neg_ratio", "\n", "\n", "facts", "[", "s1", ":", "e1", ",", "0", "]", "=", "(", "facts", "[", "s1", ":", "e1", ",", "0", "]", "+", "np", ".", "random", ".", "randint", "(", "low", "=", "1", ",", "high", "=", "self", ".", "numEnt", "(", ")", ",", "size", "=", "neg_ratio", ")", ")", "%", "self", ".", "numEnt", "(", ")", "\n", "facts", "[", "s2", ":", "e2", ",", "2", "]", "=", "(", "facts", "[", "s2", ":", "e2", ",", "2", "]", "+", "np", ".", "random", ".", "randint", "(", "low", "=", "1", ",", "high", "=", "self", ".", "numEnt", "(", ")", ",", "size", "=", "neg_ratio", ")", ")", "%", "self", ".", "numEnt", "(", ")", "\n", "\n", "", "return", "facts", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.addNegFacts2": [[123, 137], ["numpy.repeat", "numpy.copy", "numpy.random.randint", "numpy.random.randint", "range", "numpy.concatenate", "numpy.copy", "dataset.Dataset.numEnt", "dataset.Dataset.numEnt", "dataset.Dataset.numEnt", "dataset.Dataset.numEnt"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt"], ["", "def", "addNegFacts2", "(", "self", ",", "bp_facts", ",", "neg_ratio", ")", ":", "\n", "        ", "pos_neg_group_size", "=", "1", "+", "neg_ratio", "\n", "facts1", "=", "np", ".", "repeat", "(", "np", ".", "copy", "(", "bp_facts", ")", ",", "pos_neg_group_size", ",", "axis", "=", "0", ")", "\n", "facts2", "=", "np", ".", "copy", "(", "facts1", ")", "\n", "rand_nums1", "=", "np", ".", "random", ".", "randint", "(", "low", "=", "1", ",", "high", "=", "self", ".", "numEnt", "(", ")", ",", "size", "=", "facts1", ".", "shape", "[", "0", "]", ")", "\n", "rand_nums2", "=", "np", ".", "random", ".", "randint", "(", "low", "=", "1", ",", "high", "=", "self", ".", "numEnt", "(", ")", ",", "size", "=", "facts2", ".", "shape", "[", "0", "]", ")", "\n", "\n", "for", "i", "in", "range", "(", "facts1", ".", "shape", "[", "0", "]", "//", "pos_neg_group_size", ")", ":", "\n", "            ", "rand_nums1", "[", "i", "*", "pos_neg_group_size", "]", "=", "0", "\n", "rand_nums2", "[", "i", "*", "pos_neg_group_size", "]", "=", "0", "\n", "\n", "", "facts1", "[", ":", ",", "0", "]", "=", "(", "facts1", "[", ":", ",", "0", "]", "+", "rand_nums1", ")", "%", "self", ".", "numEnt", "(", ")", "\n", "facts2", "[", ":", ",", "2", "]", "=", "(", "facts2", "[", ":", ",", "2", "]", "+", "rand_nums2", ")", "%", "self", ".", "numEnt", "(", ")", "\n", "return", "np", ".", "concatenate", "(", "(", "facts1", ",", "facts2", ")", ",", "axis", "=", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.nextBatch": [[138, 142], ["dataset.Dataset.nextPosBatch", "scripts.shredFacts", "dataset.Dataset.addNegFacts2"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.nextPosBatch", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.scripts.shredFacts", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.addNegFacts2"], ["", "def", "nextBatch", "(", "self", ",", "batch_size", ",", "neg_ratio", "=", "1", ")", ":", "\n", "        ", "bp_facts", "=", "self", ".", "nextPosBatch", "(", "batch_size", ")", "\n", "batch", "=", "shredFacts", "(", "self", ".", "addNegFacts2", "(", "bp_facts", ",", "neg_ratio", ")", ")", "\n", "return", "batch", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.wasLastBatch": [[144, 146], ["None"], "methods", ["None"], ["", "def", "wasLastBatch", "(", "self", ")", ":", "\n", "        ", "return", "(", "self", ".", "start_batch", "==", "0", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.params.Params.__init__": [[9, 30], ["int", "int"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "\n", "ne", "=", "500", ",", "\n", "bsize", "=", "512", ",", "\n", "lr", "=", "0.001", ",", "\n", "reg_lambda", "=", "0.0", ",", "\n", "emb_dim", "=", "100", ",", "\n", "neg_ratio", "=", "20", ",", "\n", "dropout", "=", "0.4", ",", "\n", "save_each", "=", "50", ",", "\n", "se_prop", "=", "0.9", ")", ":", "\n", "\n", "        ", "self", ".", "ne", "=", "ne", "\n", "self", ".", "bsize", "=", "bsize", "\n", "self", ".", "lr", "=", "lr", "\n", "self", ".", "reg_lambda", "=", "reg_lambda", "\n", "self", ".", "s_emb_dim", "=", "int", "(", "se_prop", "*", "emb_dim", ")", "\n", "self", ".", "t_emb_dim", "=", "emb_dim", "-", "int", "(", "se_prop", "*", "emb_dim", ")", "\n", "self", ".", "save_each", "=", "save_each", "\n", "self", ".", "neg_ratio", "=", "neg_ratio", "\n", "self", ".", "dropout", "=", "dropout", "\n", "self", ".", "se_prop", "=", "se_prop", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.params.Params.str_": [[31, 33], ["str", "str", "str", "str", "str", "str", "str", "str", "str", "str"], "methods", ["None"], ["", "def", "str_", "(", "self", ")", ":", "\n", "        ", "return", "str", "(", "self", ".", "ne", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "bsize", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "lr", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "reg_lambda", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "s_emb_dim", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "neg_ratio", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "dropout", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "t_emb_dim", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "save_each", ")", "+", "\"_\"", "+", "str", "(", "self", ".", "se_prop", ")", "", "", "", ""]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.scripts.shredFacts": [[9, 18], ["torch.tensor().long().cuda", "torch.tensor().long().cuda", "torch.tensor().long().cuda", "torch.tensor().float().cuda", "torch.tensor().float().cuda", "torch.tensor().float().cuda", "torch.tensor().long", "torch.tensor().long", "torch.tensor().long", "torch.tensor().float", "torch.tensor().float", "torch.tensor().float", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor", "torch.tensor"], "function", ["None"], ["def", "shredFacts", "(", "facts", ")", ":", "#takes a batch of facts and shreds it into its columns", "\n", "\n", "    ", "heads", "=", "torch", ".", "tensor", "(", "facts", "[", ":", ",", "0", "]", ")", ".", "long", "(", ")", ".", "cuda", "(", ")", "\n", "rels", "=", "torch", ".", "tensor", "(", "facts", "[", ":", ",", "1", "]", ")", ".", "long", "(", ")", ".", "cuda", "(", ")", "\n", "tails", "=", "torch", ".", "tensor", "(", "facts", "[", ":", ",", "2", "]", ")", ".", "long", "(", ")", ".", "cuda", "(", ")", "\n", "years", "=", "torch", ".", "tensor", "(", "facts", "[", ":", ",", "3", "]", ")", ".", "float", "(", ")", ".", "cuda", "(", ")", "\n", "months", "=", "torch", ".", "tensor", "(", "facts", "[", ":", ",", "4", "]", ")", ".", "float", "(", ")", ".", "cuda", "(", ")", "\n", "days", "=", "torch", ".", "tensor", "(", "facts", "[", ":", ",", "5", "]", ")", ".", "float", "(", ")", ".", "cuda", "(", ")", "\n", "return", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", "\n", "", ""]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.tester.Tester.__init__": [[17, 23], ["torch.load", "tester.Tester.model.eval", "measure.Measure"], "methods", ["None"], ["    ", "def", "__init__", "(", "self", ",", "dataset", ",", "model_path", ",", "valid_or_test", ")", ":", "\n", "        ", "self", ".", "model", "=", "torch", ".", "load", "(", "model_path", ")", "\n", "self", ".", "model", ".", "eval", "(", ")", "\n", "self", ".", "dataset", "=", "dataset", "\n", "self", ".", "valid_or_test", "=", "valid_or_test", "\n", "self", ".", "measure", "=", "Measure", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.tester.Tester.getRank": [[24, 26], ["None"], "methods", ["None"], ["", "def", "getRank", "(", "self", ",", "sim_scores", ")", ":", "#assuming the test fact is the first one", "\n", "        ", "return", "(", "sim_scores", ">", "sim_scores", "[", "0", "]", ")", ".", "sum", "(", ")", "+", "1", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.tester.Tester.replaceAndShred": [[27, 40], ["scripts.shredFacts", "numpy.array", "range", "range", "tuple", "list", "tester.Tester.dataset.numEnt", "tester.Tester.dataset.numEnt", "tuple", "set"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.scripts.shredFacts", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt"], ["", "def", "replaceAndShred", "(", "self", ",", "fact", ",", "raw_or_fil", ",", "head_or_tail", ")", ":", "\n", "        ", "head", ",", "rel", ",", "tail", ",", "years", ",", "months", ",", "days", "=", "fact", "\n", "if", "head_or_tail", "==", "\"head\"", ":", "\n", "            ", "ret_facts", "=", "[", "(", "i", ",", "rel", ",", "tail", ",", "years", ",", "months", ",", "days", ")", "for", "i", "in", "range", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ")", "]", "\n", "", "if", "head_or_tail", "==", "\"tail\"", ":", "\n", "            ", "ret_facts", "=", "[", "(", "head", ",", "rel", ",", "i", ",", "years", ",", "months", ",", "days", ")", "for", "i", "in", "range", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ")", "]", "\n", "\n", "", "if", "raw_or_fil", "==", "\"raw\"", ":", "\n", "            ", "ret_facts", "=", "[", "tuple", "(", "fact", ")", "]", "+", "ret_facts", "\n", "", "elif", "raw_or_fil", "==", "\"fil\"", ":", "\n", "            ", "ret_facts", "=", "[", "tuple", "(", "fact", ")", "]", "+", "list", "(", "set", "(", "ret_facts", ")", "-", "self", ".", "dataset", ".", "all_facts_as_tuples", ")", "\n", "\n", "", "return", "shredFacts", "(", "np", ".", "array", "(", "ret_facts", ")", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.tester.Tester.test": [[41, 58], ["enumerate", "tester.Tester.measure.print_", "print", "tester.Tester.measure.normalize", "tester.Tester.measure.print_", "len", "tester.Tester.replaceAndShred", "tester.Tester.model().cpu().data.numpy", "tester.Tester.getRank", "tester.Tester.measure.update", "tester.Tester.model().cpu", "tester.Tester.model"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.print_", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.normalize", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.print_", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.tester.Tester.replaceAndShred", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.tester.Tester.getRank", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.measure.Measure.update"], ["", "def", "test", "(", "self", ")", ":", "\n", "        ", "for", "i", ",", "fact", "in", "enumerate", "(", "self", ".", "dataset", ".", "data", "[", "self", ".", "valid_or_test", "]", ")", ":", "\n", "            ", "settings", "=", "[", "\"fil\"", "]", "\n", "for", "raw_or_fil", "in", "settings", ":", "\n", "                ", "for", "head_or_tail", "in", "[", "\"head\"", ",", "\"tail\"", "]", ":", "\n", "                    ", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", "=", "self", ".", "replaceAndShred", "(", "fact", ",", "raw_or_fil", ",", "head_or_tail", ")", "\n", "sim_scores", "=", "self", ".", "model", "(", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", ".", "cpu", "(", ")", ".", "data", ".", "numpy", "(", ")", "\n", "rank", "=", "self", ".", "getRank", "(", "sim_scores", ")", "\n", "self", ".", "measure", ".", "update", "(", "rank", ",", "raw_or_fil", ")", "\n", "\n", "\n", "", "", "", "self", ".", "measure", ".", "print_", "(", ")", "\n", "print", "(", "\"~~~~~~~~~~~~~\"", ")", "\n", "self", ".", "measure", ".", "normalize", "(", "len", "(", "self", ".", "dataset", ".", "data", "[", "self", ".", "valid_or_test", "]", ")", ")", "\n", "self", ".", "measure", ".", "print_", "(", ")", "\n", "\n", "return", "self", ".", "measure", ".", "mrr", "[", "\"fil\"", "]", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_distmult.DE_DistMult.__init__": [[18, 36], ["super().__init__", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "de_distmult.DE_DistMult.create_time_embedds", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "dataset.numEnt", "dataset.numRel"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.__init__", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.create_time_embedds", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numRel"], ["def", "__init__", "(", "self", ",", "dataset", ",", "params", ")", ":", "\n", "\n", "        ", "super", "(", "DE_DistMult", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "dataset", "=", "dataset", "\n", "self", ".", "params", "=", "params", "\n", "\n", "# Creating static embeddings.", "\n", "self", ".", "ent_embs", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numEnt", "(", ")", ",", "params", ".", "s_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "rel_embs", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numRel", "(", ")", ",", "params", ".", "s_emb_dim", "+", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "# Creating and initializing the temporal embeddings for the entities ", "\n", "self", ".", "create_time_embedds", "(", ")", "\n", "\n", "# Setting the non-linearity to be used for temporal part of the embedding", "\n", "self", ".", "time_nl", "=", "torch", ".", "sin", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "ent_embs", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "rel_embs", ".", "weight", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_distmult.DE_DistMult.create_time_embedds": [[38, 66], ["torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt", "de_distmult.DE_DistMult.dataset.numEnt"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt"], ["", "def", "create_time_embedds", "(", "self", ")", ":", "\n", "\n", "# frequency embeddings for the entities", "\n", "        ", "self", ".", "m_freq", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_freq", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_freq", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_freq", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_freq", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_freq", ".", "weight", ")", "\n", "\n", "# phi embeddings for the entities", "\n", "self", ".", "m_phi", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_phi", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_phi", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_phi", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_phi", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_phi", ".", "weight", ")", "\n", "\n", "# amplitude embeddings for the entities", "\n", "self", ".", "m_amp", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_amp", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_amp", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_amp", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_amp", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_amp", ".", "weight", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_distmult.DE_DistMult.get_time_embedd": [[68, 75], ["de_distmult.DE_DistMult.y_amp", "de_distmult.DE_DistMult.time_nl", "de_distmult.DE_DistMult.m_amp", "de_distmult.DE_DistMult.time_nl", "de_distmult.DE_DistMult.d_amp", "de_distmult.DE_DistMult.time_nl", "de_distmult.DE_DistMult.y_phi", "de_distmult.DE_DistMult.m_phi", "de_distmult.DE_DistMult.d_phi", "de_distmult.DE_DistMult.y_freq", "de_distmult.DE_DistMult.m_freq", "de_distmult.DE_DistMult.d_freq"], "methods", ["None"], ["", "def", "get_time_embedd", "(", "self", ",", "entities", ",", "year", ",", "month", ",", "day", ")", ":", "\n", "\n", "        ", "y", "=", "self", ".", "y_amp", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "y_freq", "(", "entities", ")", "*", "year", "+", "self", ".", "y_phi", "(", "entities", ")", ")", "\n", "m", "=", "self", ".", "m_amp", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "m_freq", "(", "entities", ")", "*", "month", "+", "self", ".", "m_phi", "(", "entities", ")", ")", "\n", "d", "=", "self", ".", "d_amp", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "d_freq", "(", "entities", ")", "*", "day", "+", "self", ".", "d_phi", "(", "entities", ")", ")", "\n", "\n", "return", "y", "+", "m", "+", "d", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_distmult.DE_DistMult.getEmbeddings": [[76, 88], ["years.view.view.view", "months.view.view.view", "days.view.view.view", "de_distmult.DE_DistMult.get_time_embedd", "de_distmult.DE_DistMult.get_time_embedd", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "de_distmult.DE_DistMult.ent_embs", "de_distmult.DE_DistMult.rel_embs", "de_distmult.DE_DistMult.ent_embs"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd"], ["", "def", "getEmbeddings", "(", "self", ",", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ",", "intervals", "=", "None", ")", ":", "\n", "        ", "years", "=", "years", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "months", "=", "months", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "days", "=", "days", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "\n", "h", ",", "r", ",", "t", "=", "self", ".", "ent_embs", "(", "heads", ")", ",", "self", ".", "rel_embs", "(", "rels", ")", ",", "self", ".", "ent_embs", "(", "tails", ")", "\n", "h_t", "=", "self", ".", "get_time_embedd", "(", "heads", ",", "years", ",", "months", ",", "days", ")", "\n", "t_t", "=", "self", ".", "get_time_embedd", "(", "tails", ",", "years", ",", "months", ",", "days", ")", "\n", "\n", "h", "=", "torch", ".", "cat", "(", "(", "h", ",", "h_t", ")", ",", "1", ")", "\n", "t", "=", "torch", ".", "cat", "(", "(", "t", ",", "t_t", ")", ",", "1", ")", "\n", "return", "h", ",", "r", ",", "t", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_distmult.DE_DistMult.forward": [[89, 97], ["de_distmult.DE_DistMult.getEmbeddings", "torch.dropout", "torch.dropout", "torch.dropout", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.getEmbeddings"], ["", "def", "forward", "(", "self", ",", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", ":", "\n", "        ", "h_embs", ",", "r_embs", ",", "t_embs", "=", "self", ".", "getEmbeddings", "(", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", "\n", "\n", "scores", "=", "(", "h_embs", "*", "r_embs", ")", "*", "t_embs", "\n", "scores", "=", "F", ".", "dropout", "(", "scores", ",", "p", "=", "self", ".", "params", ".", "dropout", ",", "training", "=", "self", ".", "training", ")", "\n", "scores", "=", "torch", ".", "sum", "(", "scores", ",", "dim", "=", "1", ")", "\n", "\n", "return", "scores", "\n", "", "", ""]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_simple.DE_SimplE.__init__": [[15, 33], ["super().__init__", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "de_simple.DE_SimplE.create_time_embedds", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "dataset.numEnt", "dataset.numEnt", "dataset.numRel", "dataset.numRel"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.__init__", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.create_time_embedds", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numRel", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numRel"], ["    ", "def", "__init__", "(", "self", ",", "dataset", ",", "params", ")", ":", "\n", "        ", "super", "(", "DE_SimplE", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "dataset", "=", "dataset", "\n", "self", ".", "params", "=", "params", "\n", "\n", "self", ".", "ent_embs_h", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numEnt", "(", ")", ",", "params", ".", "s_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "ent_embs_t", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numEnt", "(", ")", ",", "params", ".", "s_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "rel_embs_f", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numRel", "(", ")", ",", "params", ".", "s_emb_dim", "+", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "rel_embs_i", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numRel", "(", ")", ",", "params", ".", "s_emb_dim", "+", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "self", ".", "create_time_embedds", "(", ")", "\n", "\n", "self", ".", "time_nl", "=", "torch", ".", "sin", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "ent_embs_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "ent_embs_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "rel_embs_f", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "rel_embs_i", ".", "weight", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_simple.DE_SimplE.create_time_embedds": [[34, 80], ["torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt", "de_simple.DE_SimplE.dataset.numEnt"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt"], ["", "def", "create_time_embedds", "(", "self", ")", ":", "\n", "\n", "# frequency embeddings for the entities", "\n", "        ", "self", ".", "m_freq_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "m_freq_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_freq_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_freq_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_freq_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_freq_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "# phi embeddings for the entities", "\n", "self", ".", "m_phi_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "m_phi_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_phi_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_phi_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_phi_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_phi_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "# frequency embeddings for the entities", "\n", "self", ".", "m_amps_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "m_amps_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_amps_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_amps_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_amps_h", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_amps_t", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_freq_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_freq_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_freq_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_freq_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_freq_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_freq_t", ".", "weight", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_phi_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_phi_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_phi_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_phi_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_phi_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_phi_t", ".", "weight", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_amps_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_amps_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_amps_h", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_amps_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_amps_t", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_amps_t", ".", "weight", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_simple.DE_SimplE.get_time_embedd": [[81, 92], ["de_simple.DE_SimplE.y_amps_h", "de_simple.DE_SimplE.time_nl", "de_simple.DE_SimplE.m_amps_h", "de_simple.DE_SimplE.time_nl", "de_simple.DE_SimplE.d_amps_h", "de_simple.DE_SimplE.time_nl", "de_simple.DE_SimplE.y_amps_t", "de_simple.DE_SimplE.time_nl", "de_simple.DE_SimplE.m_amps_t", "de_simple.DE_SimplE.time_nl", "de_simple.DE_SimplE.d_amps_t", "de_simple.DE_SimplE.time_nl", "de_simple.DE_SimplE.y_phi_h", "de_simple.DE_SimplE.m_phi_h", "de_simple.DE_SimplE.d_phi_h", "de_simple.DE_SimplE.y_phi_t", "de_simple.DE_SimplE.m_phi_t", "de_simple.DE_SimplE.d_phi_t", "de_simple.DE_SimplE.y_freq_h", "de_simple.DE_SimplE.m_freq_h", "de_simple.DE_SimplE.d_freq_h", "de_simple.DE_SimplE.y_freq_t", "de_simple.DE_SimplE.m_freq_t", "de_simple.DE_SimplE.d_freq_t"], "methods", ["None"], ["", "def", "get_time_embedd", "(", "self", ",", "entities", ",", "years", ",", "months", ",", "days", ",", "h_or_t", ")", ":", "\n", "        ", "if", "h_or_t", "==", "\"head\"", ":", "\n", "            ", "emb", "=", "self", ".", "y_amps_h", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "y_freq_h", "(", "entities", ")", "*", "years", "+", "self", ".", "y_phi_h", "(", "entities", ")", ")", "\n", "emb", "+=", "self", ".", "m_amps_h", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "m_freq_h", "(", "entities", ")", "*", "months", "+", "self", ".", "m_phi_h", "(", "entities", ")", ")", "\n", "emb", "+=", "self", ".", "d_amps_h", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "d_freq_h", "(", "entities", ")", "*", "days", "+", "self", ".", "d_phi_h", "(", "entities", ")", ")", "\n", "", "else", ":", "\n", "            ", "emb", "=", "self", ".", "y_amps_t", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "y_freq_t", "(", "entities", ")", "*", "years", "+", "self", ".", "y_phi_t", "(", "entities", ")", ")", "\n", "emb", "+=", "self", ".", "m_amps_t", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "m_freq_t", "(", "entities", ")", "*", "months", "+", "self", ".", "m_phi_t", "(", "entities", ")", ")", "\n", "emb", "+=", "self", ".", "d_amps_t", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "d_freq_t", "(", "entities", ")", "*", "days", "+", "self", ".", "d_phi_t", "(", "entities", ")", ")", "\n", "\n", "", "return", "emb", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_simple.DE_SimplE.getEmbeddings": [[93, 110], ["years.view.view.view", "months.view.view.view", "days.view.view.view", "de_simple.DE_SimplE.ent_embs_h", "de_simple.DE_SimplE.rel_embs_f", "de_simple.DE_SimplE.ent_embs_t", "de_simple.DE_SimplE.ent_embs_h", "de_simple.DE_SimplE.rel_embs_i", "de_simple.DE_SimplE.ent_embs_t", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "de_simple.DE_SimplE.get_time_embedd", "de_simple.DE_SimplE.get_time_embedd", "de_simple.DE_SimplE.get_time_embedd", "de_simple.DE_SimplE.get_time_embedd"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd"], ["", "def", "getEmbeddings", "(", "self", ",", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ",", "intervals", "=", "None", ")", ":", "\n", "        ", "years", "=", "years", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "months", "=", "months", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "days", "=", "days", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "h_embs1", "=", "self", ".", "ent_embs_h", "(", "heads", ")", "\n", "r_embs1", "=", "self", ".", "rel_embs_f", "(", "rels", ")", "\n", "t_embs1", "=", "self", ".", "ent_embs_t", "(", "tails", ")", "\n", "h_embs2", "=", "self", ".", "ent_embs_h", "(", "tails", ")", "\n", "r_embs2", "=", "self", ".", "rel_embs_i", "(", "rels", ")", "\n", "t_embs2", "=", "self", ".", "ent_embs_t", "(", "heads", ")", "\n", "\n", "h_embs1", "=", "torch", ".", "cat", "(", "(", "h_embs1", ",", "self", ".", "get_time_embedd", "(", "heads", ",", "years", ",", "months", ",", "days", ",", "\"head\"", ")", ")", ",", "1", ")", "\n", "t_embs1", "=", "torch", ".", "cat", "(", "(", "t_embs1", ",", "self", ".", "get_time_embedd", "(", "tails", ",", "years", ",", "months", ",", "days", ",", "\"tail\"", ")", ")", ",", "1", ")", "\n", "h_embs2", "=", "torch", ".", "cat", "(", "(", "h_embs2", ",", "self", ".", "get_time_embedd", "(", "tails", ",", "years", ",", "months", ",", "days", ",", "\"head\"", ")", ")", ",", "1", ")", "\n", "t_embs2", "=", "torch", ".", "cat", "(", "(", "t_embs2", ",", "self", ".", "get_time_embedd", "(", "heads", ",", "years", ",", "months", ",", "days", ",", "\"tail\"", ")", ")", ",", "1", ")", "\n", "\n", "return", "h_embs1", ",", "r_embs1", ",", "t_embs1", ",", "h_embs2", ",", "r_embs2", ",", "t_embs2", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_simple.DE_SimplE.forward": [[111, 117], ["de_simple.DE_SimplE.getEmbeddings", "torch.dropout", "torch.dropout", "torch.dropout", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum", "torch.sum"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.getEmbeddings"], ["", "def", "forward", "(", "self", ",", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", ":", "\n", "        ", "h_embs1", ",", "r_embs1", ",", "t_embs1", ",", "h_embs2", ",", "r_embs2", ",", "t_embs2", "=", "self", ".", "getEmbeddings", "(", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", "\n", "scores", "=", "(", "(", "h_embs1", "*", "r_embs1", ")", "*", "t_embs1", "+", "(", "h_embs2", "*", "r_embs2", ")", "*", "t_embs2", ")", "/", "2.0", "\n", "scores", "=", "F", ".", "dropout", "(", "scores", ",", "p", "=", "self", ".", "params", ".", "dropout", ",", "training", "=", "self", ".", "training", ")", "\n", "scores", "=", "torch", ".", "sum", "(", "scores", ",", "dim", "=", "1", ")", "\n", "return", "scores", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.__init__": [[15, 32], ["super().__init__", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "de_transe.DE_TransE.create_time_embedds", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.nn.Sigmoid", "torch.Tanh", "torch.Tanh", "torch.Tanh", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "dataset.numEnt", "dataset.numRel"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.__init__", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.create_time_embedds", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numRel"], ["    ", "def", "__init__", "(", "self", ",", "dataset", ",", "params", ")", ":", "\n", "        ", "super", "(", "DE_TransE", ",", "self", ")", ".", "__init__", "(", ")", "\n", "self", ".", "dataset", "=", "dataset", "\n", "self", ".", "params", "=", "params", "\n", "\n", "self", ".", "ent_embs", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numEnt", "(", ")", ",", "params", ".", "s_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "rel_embs", "=", "nn", ".", "Embedding", "(", "dataset", ".", "numRel", "(", ")", ",", "params", ".", "s_emb_dim", "+", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "self", ".", "create_time_embedds", "(", ")", "\n", "\n", "self", ".", "time_nl", "=", "torch", ".", "sin", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "ent_embs", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "rel_embs", ".", "weight", ")", "\n", "\n", "self", ".", "sigm", "=", "torch", ".", "nn", ".", "Sigmoid", "(", ")", "\n", "self", ".", "tanh", "=", "nn", ".", "Tanh", "(", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.create_time_embedds": [[33, 58], ["torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.Embedding().cuda", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.init.xavier_uniform_", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "torch.Embedding", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt", "de_transe.DE_TransE.dataset.numEnt"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.dataset.Dataset.numEnt"], ["", "def", "create_time_embedds", "(", "self", ")", ":", "\n", "\n", "        ", "self", ".", "m_freq", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_freq", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_freq", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_freq", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_freq", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_freq", ".", "weight", ")", "\n", "\n", "self", ".", "m_phi", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_phi", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_phi", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_phi", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_phi", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_phi", ".", "weight", ")", "\n", "\n", "self", ".", "m_amp", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "d_amp", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "self", ".", "y_amp", "=", "nn", ".", "Embedding", "(", "self", ".", "dataset", ".", "numEnt", "(", ")", ",", "self", ".", "params", ".", "t_emb_dim", ")", ".", "cuda", "(", ")", "\n", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "m_amp", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "d_amp", ".", "weight", ")", "\n", "nn", ".", "init", ".", "xavier_uniform_", "(", "self", ".", "y_amp", ".", "weight", ")", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd": [[59, 66], ["de_transe.DE_TransE.y_amp", "de_transe.DE_TransE.time_nl", "de_transe.DE_TransE.m_amp", "de_transe.DE_TransE.time_nl", "de_transe.DE_TransE.d_amp", "de_transe.DE_TransE.time_nl", "de_transe.DE_TransE.y_phi", "de_transe.DE_TransE.m_phi", "de_transe.DE_TransE.d_phi", "de_transe.DE_TransE.y_freq", "de_transe.DE_TransE.m_freq", "de_transe.DE_TransE.d_freq"], "methods", ["None"], ["", "def", "get_time_embedd", "(", "self", ",", "entities", ",", "year", ",", "month", ",", "day", ")", ":", "\n", "\n", "        ", "y", "=", "self", ".", "y_amp", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "y_freq", "(", "entities", ")", "*", "year", "+", "self", ".", "y_phi", "(", "entities", ")", ")", "\n", "m", "=", "self", ".", "m_amp", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "m_freq", "(", "entities", ")", "*", "month", "+", "self", ".", "m_phi", "(", "entities", ")", ")", "\n", "d", "=", "self", ".", "d_amp", "(", "entities", ")", "*", "self", ".", "time_nl", "(", "self", ".", "d_freq", "(", "entities", ")", "*", "day", "+", "self", ".", "d_phi", "(", "entities", ")", ")", "\n", "\n", "return", "y", "+", "m", "+", "d", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.getEmbeddings": [[67, 80], ["years.view.view.view", "months.view.view.view", "days.view.view.view", "de_transe.DE_TransE.get_time_embedd", "de_transe.DE_TransE.get_time_embedd", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "torch.cat", "de_transe.DE_TransE.ent_embs", "de_transe.DE_TransE.rel_embs", "de_transe.DE_TransE.ent_embs"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd", "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.get_time_embedd"], ["", "def", "getEmbeddings", "(", "self", ",", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ",", "intervals", "=", "None", ")", ":", "\n", "        ", "years", "=", "years", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "months", "=", "months", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "days", "=", "days", ".", "view", "(", "-", "1", ",", "1", ")", "\n", "\n", "h", ",", "r", ",", "t", "=", "self", ".", "ent_embs", "(", "heads", ")", ",", "self", ".", "rel_embs", "(", "rels", ")", ",", "self", ".", "ent_embs", "(", "tails", ")", "\n", "\n", "h_t", "=", "self", ".", "get_time_embedd", "(", "heads", ",", "years", ",", "months", ",", "days", ")", "\n", "t_t", "=", "self", ".", "get_time_embedd", "(", "tails", ",", "years", ",", "months", ",", "days", ")", "\n", "\n", "h", "=", "torch", ".", "cat", "(", "(", "h", ",", "h_t", ")", ",", "1", ")", "\n", "t", "=", "torch", ".", "cat", "(", "(", "t", ",", "t_t", ")", ",", "1", ")", "\n", "return", "h", ",", "r", ",", "t", "\n", "\n"]], "home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.forward": [[81, 88], ["de_transe.DE_TransE.getEmbeddings", "torch.dropout", "torch.dropout", "torch.dropout", "torch.norm", "torch.norm", "torch.norm", "torch.norm", "torch.norm", "torch.norm", "torch.norm", "torch.norm", "torch.norm"], "methods", ["home.repos.pwc.inspect_result.BorealisAI_DE-SimplE.None.de_transe.DE_TransE.getEmbeddings"], ["", "def", "forward", "(", "self", ",", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", ":", "\n", "        ", "h_embs", ",", "r_embs", ",", "t_embs", "=", "self", ".", "getEmbeddings", "(", "heads", ",", "rels", ",", "tails", ",", "years", ",", "months", ",", "days", ")", "\n", "\n", "scores", "=", "h_embs", "+", "r_embs", "-", "t_embs", "\n", "scores", "=", "F", ".", "dropout", "(", "scores", ",", "p", "=", "self", ".", "params", ".", "dropout", ",", "training", "=", "self", ".", "training", ")", "\n", "scores", "=", "-", "torch", ".", "norm", "(", "scores", ",", "dim", "=", "1", ")", "\n", "return", "scores", "\n", "", "", ""]]}